import{n as ra,_ as zu}from"./nprogress.dd8b8796.js";import{i as le,h as Ku,N as us,e as mt,a as na,b as ir,m as sr,E as Wu,c as ia,d as ps,P as sa,f as ds,g as oa,t as Yu,j as fs,k as aa,l as qu,n as Xu,o as Qu,p as Ju,q as Zu,r as or,s as ep,u as tp,_ as ar,v as $n,w as rp,x as np,y as ip,z as sp,A as la,B as op,C as ap,D as lp,F as ca,G as cp,H as Ut,I as $r,J as Fr,K as up,L as pp,M as dp,O as Fn,Q as fp,R as hp,S as ua}from"./Antd.cf4bd42d.js";import{o as Me,d as Br,c as z,p as hs,q as pa,G as da,B as Ye,F as me,g as At,r as Bn,s as nt,t as ms,u as qe,v as gt,M as Lt,w as mp,x as fa,y as gp,a as ce,V as Se,z as yp,H as vp,I as ha,P as lr,Q as gs,E as ma,n as Hr,m as bp,L as Hn,J as Ep,e as ga,O as it,K as cr,X as ys,j as ya,f as vs,Y as ur,Z as pr,_ as Gr,$ as va,i as Ur,a0 as ba,a1 as Gn,l as Ea,a2 as st,W as Cp,R as Un,a3 as Mp,a4 as bs,a5 as Sp,a6 as Ca,a7 as wp,a8 as Ma,a9 as Op,aa as _p,ab as Tp,ac as Rp,ad as Ap,ae as Sa,af as wa,ag as Lp,ah as Pp,ai as xp,aj as Ip,ak as Oa,al as Dp,k as Vn,am as _a,an as Np,ao as Ta,C as jp,ap as Vr,aq as dr,ar as Ra,b as kp,as as $p,at as Fp,au as Bp,h as Hp,av as Gp,aw as Es,ax as Up,ay as Vp,az as zp,aA as Kp,aB as Wp,S as Yp,aC as qp,aD as Aa,aE as La,aF as Xp}from"./three.510ba818.js";import{T as Qp,C as zn,E as Cs,R as Ms,a as Jp,S as Zp,b as ed,c as td,U as rd}from"./vis-three.af4e13f5.js";var nd=Object.defineProperty,Pa=Object.getOwnPropertySymbols,id=Object.prototype.hasOwnProperty,sd=Object.prototype.propertyIsEnumerable,Ss=(e,t,r)=>t in e?nd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,od=(e,t)=>{for(var r in t||(t={}))id.call(t,r)&&Ss(e,r,t[r]);if(Pa)for(var r of Pa(t))sd.call(t,r)&&Ss(e,r,t[r]);return e},d=(e,t,r)=>(Ss(e,typeof t!="symbol"?t+"":t,r),r);class ot{constructor(){d(this,"listeners",new Map)}addEventListener(t,r){const n=this.listeners;n.has(t)||n.set(t,new Set),n.get(t).add(r)}hasEventListener(t,r){const n=this.listeners;return n.has(t)?n.get(t).has(r):!1}removeEventListener(t,r){const n=this.listeners;!n.has(t)||!n.get(t).has(r)||n.get(t).delete(r)}dispatchEvent(t){var r;const n=t.type,i=this.listeners;if(i.has(n))try{(r=i.get(n))==null||r.forEach(s=>{s.call(this,t)})}catch(s){console.error(s)}}clear(){this.listeners=new Map}useful(){return Boolean([...this.listeners.keys()].length)}}class ad extends ot{constructor(t=0){super();d(this,"clock",new jp),d(this,"animationFrame",-1),d(this,"fps",0),d(this,"timer",null),d(this,"playFun",()=>{}),d(this,"render",()=>{this.dispatchEvent({type:"render",delta:this.clock.getDelta(),total:this.clock.getElapsedTime()})}),d(this,"play",()=>{if(this.hasRendering()){console.warn("render manager is rendering.");return}this.dispatchEvent({type:"play"}),this.playFun()}),d(this,"stop",()=>{this.animationFrame!==-1&&(cancelAnimationFrame(this.animationFrame),this.animationFrame=-1),this.timer&&(clearTimeout(this.timer),this.timer=null),this.dispatchEvent({type:"stop"})}),d(this,"hasRendering",()=>Boolean(this.animationFrame!==-1||this.timer)),d(this,"hasVaildRender",()=>this.useful()),this.setFPS(t)}setFPS(t){return this.animationFrame!==-1&&cancelAnimationFrame(this.animationFrame),this.timer&&clearTimeout(this.timer),this.fps=t,t<=0?(this.fps=0,this.playFun=()=>{this.render(),this.animationFrame=requestAnimationFrame(this.playFun)}):this.playFun=()=>{this.timer=setTimeout(()=>{this.playFun()},t),this.render()},this.playFun(),this}dispose(){this.hasRendering()&&this.stop(),this.clear()}}const ld=function(){return this.renderManager?(console.warn("has installed render manager plugin."),!1):(this.renderManager=new ad,this.render=function(){return this.renderManager.render(),this},this.play=function(){return this.renderManager.play(),this},this.stop=function(){return this.renderManager.stop(),this},this.addEventListener("dispose",()=>{this.renderManager.dispose()}),!0)};class cd extends ot{constructor(t,r){super();d(this,"object"),d(this,"domElement"),d(this,"enabled",!0),d(this,"target",new z),d(this,"minDistance",0),d(this,"maxDistance",1/0),d(this,"minZoom",0),d(this,"maxZoom",1/0),d(this,"minPolarAngle",0),d(this,"maxPolarAngle",Math.PI),d(this,"minAzimuthAngle",-1/0),d(this,"maxAzimuthAngle",1/0),d(this,"enableDamping",!1),d(this,"dampingFactor",.05),d(this,"enableZoom",!0),d(this,"zoomSpeed",1),d(this,"enableRotate",!0),d(this,"rotateSpeed",1),d(this,"enablePan",!0),d(this,"panSpeed",1),d(this,"screenSpacePanning",!0),d(this,"keyPanSpeed",7),d(this,"autoRotate",!1),d(this,"autoRotateSpeed",2),d(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),d(this,"mouseButtons",{LEFT:null,MIDDLE:Vr.DOLLY,RIGHT:Vr.ROTATE}),d(this,"touches",{ONE:dr.ROTATE,TWO:dr.DOLLY_PAN}),d(this,"target0"),d(this,"position0"),d(this,"zoom0"),d(this,"_domElementKeyEvents",null),d(this,"spherical"),d(this,"reset"),d(this,"update"),d(this,"onContextMenu"),d(this,"onPointerDown"),d(this,"onPointerCancel"),d(this,"onMouseWheel"),d(this,"onPointerMove"),d(this,"onPointerUp"),d(this,"onKeyDown"),this.object=t||new Me,this.domElement=r||document.createElement("div"),this.domElement.style.touchAction="none",this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.update=(()=>{const _=new z,N=new gs().setFromUnitVectors(this.object.up,new z(0,1,0)),se=N.clone().invert(),he=new z,Tt=new gs,Rt=2*Math.PI;return()=>{const ta=this.object.position;_.copy(ta).sub(this.target),_.applyQuaternion(N),o.setFromVector3(_),this.autoRotate&&i===n.NONE&&w(E()),this.enableDamping?(o.theta+=a.theta*this.dampingFactor,o.phi+=a.phi*this.dampingFactor):(o.theta+=a.theta,o.phi+=a.phi);let ft=this.minAzimuthAngle,ht=this.maxAzimuthAngle;return isFinite(ft)&&isFinite(ht)&&(ft<-Math.PI?ft+=Rt:ft>Math.PI&&(ft-=Rt),ht<-Math.PI?ht+=Rt:ht>Math.PI&&(ht-=Rt),ft<=ht?o.theta=Math.max(ft,Math.min(ht,o.theta)):o.theta=o.theta>(ft+ht)/2?Math.max(ft,o.theta):Math.min(ht,o.theta)),o.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,o.phi)),o.makeSafe(),o.radius*=c,o.radius=Math.max(this.minDistance,Math.min(this.maxDistance,o.radius)),this.enableDamping===!0?this.target.addScaledVector(l,this.dampingFactor):this.target.add(l),_.setFromSpherical(o),_.applyQuaternion(se),ta.copy(this.target).add(_),this.object.lookAt(this.target),this.enableDamping===!0?(a.theta*=1-this.dampingFactor,a.phi*=1-this.dampingFactor,l.multiplyScalar(1-this.dampingFactor)):(a.set(0,0,0),l.set(0,0,0)),c=1,u||he.distanceToSquared(this.object.position)>s||8*(1-Tt.dot(this.object.quaternion))>s?(this.dispatchEvent({type:"change"}),he.copy(this.object.position),Tt.copy(this.object.quaternion),u=!1,!0):!1}})();const n={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let i=n.NONE;const s=1e-6,o=new Ra,a=new Ra;let c=1;const l=new z;let u=!1;const p=new Se,f=new Se,g=new Se,C=new Se,O=new Se,T=new Se,m=new Se,M=new Se,h=new Se,y=[],b={},E=()=>2*Math.PI/60/60*this.autoRotateSpeed,S=()=>Math.pow(.95,this.zoomSpeed),w=_=>{a.theta-=_},A=_=>{a.phi-=_},I=function(){const _=new z;return function(se,he){_.setFromMatrixColumn(he,0),_.multiplyScalar(-se),l.add(_)}}(),F=(()=>{const _=new z;return(N,se)=>{this.screenSpacePanning===!0?_.setFromMatrixColumn(se,1):(_.setFromMatrixColumn(se,0),_.crossVectors(this.object.up,_)),_.multiplyScalar(N),l.add(_)}})(),H=(()=>{const _=new z;return(N,se)=>{const he=this.domElement;if(this.object instanceof Me){const Tt=this.object.position;_.copy(Tt).sub(this.target);let Rt=_.length();Rt*=Math.tan(this.object.fov/2*Math.PI/180),I(2*N*Rt/he.clientHeight,this.object.matrix),F(2*se*Rt/he.clientHeight,this.object.matrix)}else this.object instanceof it?(I(N*(this.object.right-this.object.left)/this.object.zoom/he.clientWidth,this.object.matrix),F(se*(this.object.top-this.object.bottom)/this.object.zoom/he.clientHeight,this.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),this.enablePan=!1)}})(),Z=_=>{this.object instanceof Me?c/=_:this.object instanceof it?(this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom*_)),this.object.updateProjectionMatrix(),u=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)},te=_=>{this.object instanceof Me?c*=_:this.object instanceof it?(this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/_)),this.object.updateProjectionMatrix(),u=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)};function Ke(_){p.set(_.clientX,_.clientY)}function fe(_){m.set(_.clientX,_.clientY)}function We(_){C.set(_.clientX,_.clientY)}const rt=_=>{f.set(_.clientX,_.clientY),g.subVectors(f,p).multiplyScalar(this.rotateSpeed);const N=this.domElement;w(2*Math.PI*g.x/N.clientHeight),A(2*Math.PI*g.y/N.clientHeight),p.copy(f),this.update()},Gt=_=>{M.set(_.clientX,_.clientY),h.subVectors(M,m),h.y>0?Z(S()):h.y<0&&te(S()),m.copy(M),this.update()},Dr=_=>{O.set(_.clientX,_.clientY),T.subVectors(O,C).multiplyScalar(this.panSpeed),H(T.x,T.y),C.copy(O),this.update()},rr=_=>{_.deltaY<0?te(S()):_.deltaY>0&&Z(S()),this.update()},Nr=_=>{let N=!1;switch(_.code){case this.keys.UP:H(0,this.keyPanSpeed),N=!0;break;case this.keys.BOTTOM:H(0,-this.keyPanSpeed),N=!0;break;case this.keys.LEFT:H(this.keyPanSpeed,0),N=!0;break;case this.keys.RIGHT:H(-this.keyPanSpeed,0),N=!0;break}N&&(_.preventDefault(),this.update())};function nr(){if(y.length===1)p.set(y[0].pageX,y[0].pageY);else{const _=.5*(y[0].pageX+y[1].pageX),N=.5*(y[0].pageY+y[1].pageY);p.set(_,N)}}function In(){if(y.length===1)C.set(y[0].pageX,y[0].pageY);else{const _=.5*(y[0].pageX+y[1].pageX),N=.5*(y[0].pageY+y[1].pageY);C.set(_,N)}}function _t(){const _=y[0].pageX-y[1].pageX,N=y[0].pageY-y[1].pageY,se=Math.sqrt(_*_+N*N);m.set(0,se)}const as=()=>{this.enableZoom&&_t(),this.enablePan&&In()},Dn=()=>{this.enableZoom&&_t(),this.enableRotate&&nr()},jr=_=>{if(y.length==1)f.set(_.pageX,_.pageY);else{const se=q(_),he=.5*(_.pageX+se.x),Tt=.5*(_.pageY+se.y);f.set(he,Tt)}g.subVectors(f,p).multiplyScalar(this.rotateSpeed);const N=this.domElement;w(2*Math.PI*g.x/N.clientHeight),A(2*Math.PI*g.y/N.clientHeight),p.copy(f)},Nn=_=>{if(y.length===1)O.set(_.pageX,_.pageY);else{const N=q(_),se=.5*(_.pageX+N.x),he=.5*(_.pageY+N.y);O.set(se,he)}T.subVectors(O,C).multiplyScalar(this.panSpeed),H(T.x,T.y),C.copy(O)},jn=_=>{const N=q(_),se=_.pageX-N.x,he=_.pageY-N.y,Tt=Math.sqrt(se*se+he*he);M.set(0,Tt),h.set(0,Math.pow(M.y/m.y,this.zoomSpeed)),Z(h.y),m.copy(M)},kn=_=>{this.enableZoom&&jn(_),this.enablePan&&Nn(_)},ls=_=>{this.enableZoom&&jn(_),this.enableRotate&&jr(_)};this.onPointerDown=_=>{this.enabled!==!1&&(y.length===0&&(this.domElement.addEventListener("pointermove",this.onPointerMove),this.domElement.addEventListener("pointerup",this.onPointerUp)),D(_),_.pointerType==="touch"?P(_):cs(_))};let kr=!1;this.onPointerMove=_=>{this.enabled!==!1&&(kr||(this.domElement.setPointerCapture(_.pointerId),kr=!0),_.pointerType==="touch"?j(_):x(_))},this.onPointerUp=_=>{this.enabled!==!1&&(kr=!1,_.pointerType==="touch"?k():R(_),U(_),y.length===0&&(this.domElement.releasePointerCapture(_.pointerId),this.domElement.removeEventListener("pointermove",this.onPointerMove),this.domElement.removeEventListener("pointerup",this.onPointerUp)))},this.onPointerCancel=_=>{U(_)};const cs=_=>{let N;switch(_.button){case 0:N=this.mouseButtons.LEFT;break;case 1:N=this.mouseButtons.MIDDLE;break;case 2:N=this.mouseButtons.RIGHT;break;default:N=-1}switch(N){case Vr.DOLLY:if(this.enableZoom===!1)return;fe(_),i=n.DOLLY;break;case Vr.ROTATE:if(_.ctrlKey||_.metaKey||_.shiftKey){if(this.enablePan===!1)return;We(_),i=n.PAN}else{if(this.enableRotate===!1)return;Ke(_),i=n.ROTATE}break;case Vr.PAN:if(_.ctrlKey||_.metaKey||_.shiftKey){if(this.enableRotate===!1)return;Ke(_),i=n.ROTATE}else{if(this.enablePan===!1)return;We(_),i=n.PAN}break;default:i=n.NONE}i!==n.NONE&&this.dispatchEvent({type:"start"})},x=_=>{if(this.enabled!==!1)switch(i){case n.ROTATE:if(this.enableRotate===!1)return;rt(_);break;case n.DOLLY:if(this.enableZoom===!1)return;Gt(_);break;case n.PAN:if(this.enablePan===!1)return;Dr(_);break}},R=_=>{this.dispatchEvent({type:"end"}),i=n.NONE};this.onMouseWheel=_=>{this.enabled===!1||this.enableZoom===!1||i!==n.NONE||(_.preventDefault(),this.dispatchEvent({type:"start"}),rr(_),this.dispatchEvent({type:"end"}))},this.onKeyDown=_=>{this.enabled===!1||this.enablePan===!1||Nr(_)};const P=_=>{switch(B(_),y.length){case 1:switch(this.touches.ONE){case dr.ROTATE:if(this.enableRotate===!1)return;nr(),i=n.TOUCH_ROTATE;break;case dr.PAN:if(this.enablePan===!1)return;In(),i=n.TOUCH_PAN;break;default:i=n.NONE}break;case 2:switch(this.touches.TWO){case dr.DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;as(),i=n.TOUCH_DOLLY_PAN;break;case dr.DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;Dn(),i=n.TOUCH_DOLLY_ROTATE;break;default:i=n.NONE}break;default:i=n.NONE}i!==n.NONE&&this.dispatchEvent({type:"start"})},j=_=>{switch(B(_),i){case n.TOUCH_ROTATE:if(this.enableRotate===!1)return;jr(_),this.update();break;case n.TOUCH_PAN:if(this.enablePan===!1)return;Nn(_),this.update();break;case n.TOUCH_DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;kn(_),this.update();break;case n.TOUCH_DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;ls(_),this.update();break;default:i=n.NONE}},k=_=>{this.dispatchEvent({type:"end"}),i=n.NONE};this.onContextMenu=_=>{this.enabled!==!1&&_.preventDefault()};function D(_){y.push(_)}const U=_=>{delete b[_.pointerId];for(let N=0;N<y.length;N++)if(y[N].pointerId==_.pointerId){y.splice(N,1);return}};function B(_){let N=b[_.pointerId];N===void 0&&(N=new Se,b[_.pointerId]=N),N.set(_.pageX,_.pageY)}function q(_){const N=_.pointerId===y[0].pointerId?y[1]:y[0];return b[N.pointerId]}this.spherical=o,this.domElement.addEventListener("contextmenu",this.onContextMenu),this.domElement.addEventListener("pointerdown",this.onPointerDown),this.domElement.addEventListener("pointercancel",this.onPointerCancel),this.domElement.addEventListener("wheel",this.onMouseWheel,{passive:!1}),this.reset=()=>{this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent({type:"change"}),this.update(),i=n.NONE},this.update()}getPolarAngle(){return this.spherical.phi}getAzimuthalAngle(){return this.spherical.theta}getDistance(){return this.object.position.distanceTo(this.target)}listenToKeyEvents(t){t.addEventListener("keydown",this.onKeyDown),this._domElementKeyEvents=t}saveState(){this.target0.copy(this.target),this.position0.copy(this.object.position),this.zoom0=this.object.zoom}setCamera(t){this.object=t}setDom(t){this.dispose(),this.domElement=t,this.domElement.addEventListener("contextmenu",this.onContextMenu),this.domElement.addEventListener("pointerdown",this.onPointerDown),this.domElement.addEventListener("pointercancel",this.onPointerCancel),this.domElement.addEventListener("wheel",this.onMouseWheel,{passive:!1})}dispose(){this.domElement.removeEventListener("contextmenu",this.onContextMenu),this.domElement.removeEventListener("pointerdown",this.onPointerDown),this.domElement.removeEventListener("pointercancel",this.onPointerCancel),this.domElement.removeEventListener("wheel",this.onMouseWheel),this.domElement.removeEventListener("pointermove",this.onPointerMove),this.domElement.removeEventListener("pointerup",this.onPointerUp),this._domElementKeyEvents!==null&&this._domElementKeyEvents.removeEventListener("keydown",this.onKeyDown)}}var Q;(function(e){e.DEFAULT="default",e.TOP="top",e.BOTTOM="bottom",e.LEFT="left",e.RIGHT="right",e.FRONT="front",e.BACK="back"})(Q||(Q={}));const ud=function(e={}){var t;if(!this.webGLRenderer)return console.error("must install some renderer before BasicViewpoint plugin."),!1;!e.viewpoint&&(e.viewpoint=Q.DEFAULT),!e.perspective&&(e.perspective={}),!e.perspective.position&&(e.perspective.position={x:60,y:60,z:60}),!e.perspective.lookAt&&(e.perspective.lookAt={x:0,y:0,z:0}),!e.perspective.up&&(e.perspective.up={x:0,y:1,z:0}),!e.orthograpbic&&(e.orthograpbic={}),!e.orthograpbic.up&&(e.orthograpbic.up={x:0,y:1,z:0});const r=new Me;r.position.set(e.perspective.position.x,e.perspective.position.y,e.perspective.position.z),r.lookAt(e.perspective.lookAt.x,e.perspective.lookAt.y,e.perspective.lookAt.z),r.up.set(e.perspective.up.x,e.perspective.up.y,e.perspective.up.z);const n=new it(-window.innerWidth/8,window.innerWidth/8,-window.innerHeight/8,window.innerHeight/8);n.up.set(e.perspective.up.x,e.perspective.up.y,e.perspective.up.z),this.setViewpoint=function(s){return this.dispatchEvent({type:"setViewpoint",viewpoint:s}),this},this.addEventListener("setSize",s=>{const o=s.width,a=s.height;r.aspect=o/a,r.updateProjectionMatrix(),n.left=-o/16,n.right=o/16,n.top=a/16,n.bottom=-a/16,n.updateProjectionMatrix()});const i=e.orthograpbic.distance||60;return(t=e.orthograpbic.allowRotate)!=null,this.addEventListener("setViewpoint",s=>{const o=s.viewpoint;if(o===Q.DEFAULT){this.setCamera(r);return}o===Q.TOP?n.position.set(0,i,0):o===Q.BOTTOM?n.position.set(0,-i,0):o===Q.RIGHT?n.position.set(i,0,0):o===Q.LEFT?n.position.set(-i,0,0):o===Q.FRONT?n.position.set(0,0,i):o===Q.BACK&&n.position.set(0,0,-i),this.setCamera(n)}),this.completeSet.add(()=>{e.viewpoint===Q.DEFAULT?this.setCamera(r):this.setCamera(n),this.objectHelperManager&&this.objectHelperManager.addFilteredObject(r,n)}),!0},pd=function(e){return this.orbitControls?(console.warn("this has installed orbitControls plugin."),!1):this.renderManager?(this.orbitControls=new cd(this.camera,this.dom),this.addEventListener("setCamera",t=>{this.orbitControls.setCamera(t.camera)}),this.addEventListener("setDom",t=>{this.orbitControls.setDom(t.dom)}),this.renderManager.addEventListener("render",()=>{this.orbitControls.update()}),this.completeSet.add(()=>{this.setViewpoint&&this.addEventListener("setViewpoint",t=>{const r=t.viewpoint;this.orbitControls.target.set(0,0,0),r===Q.DEFAULT?this.orbitControls.enableRotate=!0:r===Q.TOP?this.orbitControls.enableRotate=!1:r===Q.BOTTOM?this.orbitControls.enableRotate=!1:r===Q.RIGHT?this.orbitControls.enableRotate=!1:r===Q.LEFT?this.orbitControls.enableRotate=!1:r===Q.FRONT?this.orbitControls.enableRotate=!1:r===Q.BACK&&(this.orbitControls.enableRotate=!1)})}),!0):(console.warn("this must install renderManager before install orbitControls plugin."),!1)};class dd{constructor(t){d(this,"REVISION"),d(this,"dom"),d(this,"addPanel"),d(this,"showPanel"),d(this,"begin"),d(this,"end"),d(this,"update"),d(this,"domElement"),d(this,"setMode");const r=Zp();this.REVISION=r.REVISION,this.dom=r.dom,this.domElement=r.domElement,this.begin=r.begin.bind(r),this.end=r.end.bind(r),this.update=r.update.bind(r),this.addPanel=r.addPanel.bind(r),this.showPanel=r.showPanel.bind(r),this.setMode=r.setMode.bind(r);const n=this.domElement;n.style.position="absolute",n.style.top="0",n.style.left="35px",t&&(n.style.top=`${t.top}px`,n.style.left=`${t.left}px`,n.style.right=`${t.right}px`,n.style.bottom=`${t.bottom}px`)}}const fd=function(e){if(this.stats)return console.warn("this has installed stats plugin."),!1;if(!this.renderManager)return console.warn("this must install renderManager before install stats plugin."),!1;const t=new dd(e);this.stats=t;const r=()=>{this.stats.update()};return this.setStats=function(n){if(n)this.dom.appendChild(this.stats.domElement),this.renderManager.addEventListener("render",r);else try{this.dom.removeChild(this.stats.domElement),this.renderManager.removeEventListener("render",r)}catch{}return this},!0},hd=function(e={}){if(this.effectComposer)return console.warn("this has installed effect composer plugin."),!1;if(!this.webGLRenderer)return console.error("must install some renderer before this plugin."),!1;let t;if(e.WebGLMultisampleRenderTarget||e.MSAA){const n=this.webGLRenderer,i=n.getPixelRatio(),s=n.getDrawingBufferSize(new Se);Number(window.__THREE__)>137?t=new Cs(n,new Cp(s.width*i,s.height*i,{format:e.format||Un,samples:e.samples||4})):t=new Cs(n,new Mp(s.width*i,s.height*i,{format:e.format||Un}))}else t=new Cs(this.webGLRenderer);this.effectComposer=t;let r;return this.scene&&this.camera&&(r=new Ms(this.scene,this.camera),t.addPass(r)),this.addEventListener("setCamera",n=>{if(!r&&this.scene){r=new Ms(this.scene,n.camera),t.addPass(r);return}else r&&(r.camera=n.camera)}),this.addEventListener("setScene",n=>{if(!r&&this.camera){r=new Ms(n.scene,this.camera),t.addPass(r);return}else r&&(r.scene=n.scene)}),this.addEventListener("setSize",n=>{t.setSize(n.width,n.height)}),this.renderManager?(this.renderManager.removeEventListener("render",this.render),this.renderManager.addEventListener("render",n=>{this.effectComposer.render(n.delta)})):this.render=function(){return this.effectComposer.render(),this},!0};class md extends ot{constructor(t){super();d(this,"dom"),d(this,"mouse"),d(this,"canMouseMove"),d(this,"mouseEventTimer"),d(this,"throttleTime"),d(this,"pointerDownHandler"),d(this,"pointerMoveHandler"),d(this,"pointerUpHandler"),d(this,"mouseDownHandler"),d(this,"mouseUpHandler"),d(this,"clickHandler"),d(this,"dblclickHandler"),d(this,"contextmenuHandler"),this.dom=t.dom,this.mouse=new Se,this.canMouseMove=!0,this.mouseEventTimer=null,this.throttleTime=t.throttleTime||1e3/60;const r=i=>{const s={mouse:{x:this.mouse.x,y:this.mouse.y}};for(const o in i)s[o]=i[o];return s},n=i=>{this.dispatchEvent(r(i))};this.pointerMoveHandler=i=>{!this.canMouseMove||(this.canMouseMove=!1,this.mouseEventTimer=window.setTimeout(()=>{const s=this.mouse,o=this.dom,a=o.getBoundingClientRect();s.x=(i.clientX-a.left)/o.offsetWidth*2-1,s.y=-((i.clientY-a.top)/o.offsetHeight)*2+1,this.canMouseMove=!0,this.dispatchEvent(r(i))},this.throttleTime))},this.mouseDownHandler=n,this.mouseUpHandler=n,this.pointerDownHandler=n,this.pointerUpHandler=n,this.clickHandler=n,this.dblclickHandler=n,this.contextmenuHandler=n}setDom(t){if(this.dom){const r=this.dom;r.removeEventListener("mousedown",this.mouseDownHandler),r.removeEventListener("mouseup",this.mouseUpHandler),r.removeEventListener("pointerdown",this.pointerDownHandler),r.removeEventListener("pointermove",this.pointerMoveHandler),r.removeEventListener("pointerup",this.pointerUpHandler),r.removeEventListener("click",this.clickHandler),r.removeEventListener("dblclick",this.dblclickHandler),r.removeEventListener("contextmenu",this.contextmenuHandler)}return t.addEventListener("mousedown",this.mouseDownHandler),t.addEventListener("mouseup",this.mouseUpHandler),t.addEventListener("pointerdown",this.pointerDownHandler),t.addEventListener("pointermove",this.pointerMoveHandler),t.addEventListener("pointerup",this.pointerUpHandler),t.addEventListener("click",this.clickHandler),t.addEventListener("dblclick",this.dblclickHandler),t.addEventListener("contextmenu",this.contextmenuHandler),this.dom=t,this}getNormalMouse(){return this.mouse}}const gd=function(e){if(this.pointerManager)return console.warn("this has installed pointerManager plugin."),!1;const t=new md(Object.assign(e||{},{dom:this.dom}));return this.addEventListener("setDom",r=>{t.setDom(r.dom)}),this.pointerManager=t,!0};var zr;(function(e){e.POINTERDOWN="pointerdown",e.POINTERUP="pointerup",e.POINTERMOVE="pointermove",e.POINTERENTER="pointerenter",e.POINTERLEAVE="pointerleave",e.CLICK="click",e.DBLCLICK="dblclick",e.CONTEXTMENU="contextmenu"})(zr||(zr={}));class yd extends ot{constructor(t){super();d(this,"raycaster"),d(this,"scene"),d(this,"camera"),d(this,"filter",new Set),d(this,"recursive",!1),d(this,"penetrate",!1),d(this,"propagation",!1),d(this,"delegation",!1),this.raycaster=new kp,this.camera=t.camera,this.scene=t.scene,t.recursive&&(this.recursive=t.recursive),t.penetrate&&(this.penetrate=t.penetrate)}setScene(t){return this.scene=t,this}setCamera(t){return this.camera=t,this}addFilterObject(t){return this.filter.add(t),this}removeFilterObject(t){return this.filter.delete(t),this}intersectObject(t){this.raycaster.setFromCamera(t,this.camera);const r=this.filter,n=this.scene.children.filter(i=>!r.has(i));return this.raycaster.intersectObjects(n,this.recursive)}use(t){const r=function(a,c){return Object.assign({},a,c)},n=(a,c)=>{const l=this.intersectObject(a.mouse);if(l.length)if(this.penetrate)for(const u of l)u.object.dispatchEvent(r(a,{type:c,intersection:u}));else{const u=l[0];u.object.dispatchEvent(r(a,{type:c,intersection:u}))}this.dispatchEvent(r(a,{type:c,intersections:l}))},i=["pointerdown","pointerup","mousedown","mouseup","pointermove","click","dblclick","contextmenu"];for(const a of i)t.addEventListener(a,c=>{n(c,a)});const s=new Map;let o=null;return t.addEventListener("pointermove",a=>{const c=this.intersectObject(a.mouse);if(this.penetrate){if(!c.length){s.forEach(l=>{l.object.dispatchEvent(r(a,{type:"pointerleave",intersection:l})),l.object.dispatchEvent(r(a,{type:"mouseleave",intersection:l}))}),s.clear();return}for(const l of c)s.has(l.object)?(l.object.dispatchEvent(r(a,{type:"pointermove",intersection:l})),l.object.dispatchEvent(r(a,{type:"mousemove",intersection:l})),s.delete(l.object)):(l.object.dispatchEvent(r(a,{type:"pointerenter",intersection:l})),l.object.dispatchEvent(r(a,{type:"mouseenter",intersection:l})));for(const l of s.values())l.object.dispatchEvent(r(a,{type:"pointerleave",intersection:l})),l.object.dispatchEvent(r(a,{type:"mouseleave",intersection:l}));s.clear();for(const l of c)s.set(l.object,l)}else{if(!c.length){o&&(o.object.dispatchEvent(r(a,{type:"pointerleave",intersection:o})),o.object.dispatchEvent(r(a,{type:"mouseleave",intersection:o})),o=null);return}const l=c[0];if(!o){l.object.dispatchEvent(r(a,{type:"pointerenter",intersection:l})),l.object.dispatchEvent(r(a,{type:"mouseenter",intersection:l})),o=l;return}if(l.object!==o.object){o.object.dispatchEvent(r(a,{type:"pointerleave",intersection:l})),o.object.dispatchEvent(r(a,{type:"mouseleave",intersection:l})),l.object.dispatchEvent(r(a,{type:"pointerenter",intersection:l})),l.object.dispatchEvent(r(a,{type:"mouseenter",intersection:l})),o=l;return}l.object===o.object&&(l.object.dispatchEvent(r(a,{type:"pointermove",intersection:l})),l.object.dispatchEvent(r(a,{type:"mousemove",intersection:l})))}this.dispatchEvent(r(a,{type:"pointermove",intersections:c})),this.dispatchEvent(r(a,{type:"mousemove",intersections:c}))}),this}}const vd=function(e){if(this.eventManager)return console.warn("engine has installed eventManager plugin."),!1;if(!this.pointerManager)return console.error("must install pointerManager before this plugin."),!1;const t=new yd(Object.assign({scene:this.scene,camera:this.camera},e));return t.use(this.pointerManager),this.eventManager=t,this.addEventListener("setCamera",r=>{this.eventManager.setCamera(r.camera)}),this.addEventListener("setScene",r=>{this.eventManager.setScene(r.scene)}),!0};var Kn;(function(e){e.OBJECTCHANGED="objectChanged"})(Kn||(Kn={}));class bd extends Qp{constructor(t,r){!t&&(t=new Me),!r&&(r=document.body);super(t,r);d(this,"target"),d(this,"transObjectSet"),this.domElement.removeEventListener("pointerdown",this._onPointerDown),this._onPointerDown=c=>{var l;!this.enabled||!((l=this.object)==null?void 0:l.parent)||(this.domElement.addEventListener("pointermove",this._onPointerMove),this.pointerHover(this._getPointer(c)),this.pointerDown(this._getPointer(c)))},this.domElement.addEventListener("pointerdown",this._onPointerDown),this.target=new Br,this.transObjectSet=new Set;let n="";const i=this.target,s=this.transObjectSet,o={x:0,y:0,z:0},a=new WeakMap;this.addEventListener("mouseDown",c=>{n=c.target.mode,n==="translate"&&(n="position"),n==="rotate"&&(n="rotation"),o.x=i[n].x,o.y=i[n].y,o.z=i[n].z,s.forEach(l=>{a.set(l,l.matrixAutoUpdate),l.matrixAutoUpdate=!1})}),this.addEventListener("objectChange",c=>{const l=i[n].x-o.x,u=i[n].y-o.y,p=i[n].z-o.z;o.x=i[n].x,o.y=i[n].y,o.z=i[n].z,s.forEach(f=>{f[n].x+=l,f[n].y+=u,f[n].z+=p,f.updateMatrix(),f.updateMatrixWorld()}),this.dispatchEvent({type:Kn.OBJECTCHANGED,transObjectSet:s,mode:n,target:i})}),this.addEventListener("mouseUp",c=>{s.forEach(l=>{l.matrixAutoUpdate=a.get(l),a.delete(l)})})}setDom(t){return this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerHover),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),t.addEventListener("pointerdown",this._onPointerDown),t.addEventListener("pointermove",this._onPointerHover),t.addEventListener("pointerup",this._onPointerUp),this.domElement=t,this}setCamera(t){return this.camera=t,this}getTarget(){return this.target}getTransObjectSet(){return this.transObjectSet}setAttach(...t){if(this.transObjectSet.clear(),!t.length||!t[0])return this.detach(),this;this.attach(this.target);const r=this.target;if(t.length===1){const o=t[0];return r.position.copy(o.position),r.quaternion.copy(o.quaternion),r.scale.copy(o.scale),r.updateMatrix(),r.updateMatrixWorld(),this.transObjectSet.add(o),this}const n=[],i=[],s=[];return t.forEach(o=>{n.push(o.matrixWorld.elements[12]),i.push(o.matrixWorld.elements[13]),s.push(o.matrixWorld.elements[14])}),r.rotation.set(0,0,0),r.scale.set(0,0,0),r.position.x=(Math.max(...n)-Math.min(...n))/2+Math.min(...n),r.position.y=(Math.max(...i)-Math.min(...i))/2+Math.min(...i),r.position.z=(Math.max(...s)-Math.min(...s))/2+Math.min(...s),r.updateMatrix(),r.updateMatrixWorld(),t.forEach(o=>{this.transObjectSet.add(o)}),this}}const Ed=function(e){if(this.transformControls)return console.warn("this has installed transformControls plugin."),!1;if(!this.pointerManager)return console.warn("this must install pointerManager before install transformControls plugin."),!1;if(!this.eventManager)return console.warn("this must install eventManager before install transformControls plugin."),!1;const t=new bd(this.camera,this.dom);return t.detach(),this.transformControls=t,this.scene.add(this.transformControls),this.scene.add(this.transformControls.target),this.transformControls.addEventListener("mouseDown",()=>{this.transing=!0}),this.setTransformControls=function(r){return r?this.scene.add(this.transformControls):this.scene.remove(this.transformControls),this},this.addEventListener("setCamera",r=>{t.setCamera(r.camera)}),this.addEventListener("setDom",r=>{t.setDom(r.dom)}),this.addEventListener("setScene",r=>{const n=r.scene;n.add(this.transformControls.target),n.add(this.transformControls)}),this.selectionBox?this.addEventListener("selected",r=>{t.setAttach(...r.objects)}):this.eventManager.addEventListener("click",r=>{if(!this.transformControls.dragging&&r.button===0){const i=r.intersections.map(s=>s.object)[0]||null;i?t.setAttach(i):t.detach()}}),this.eventManager.addFilterObject(t),this.completeSet.add(()=>{if(this.IS_ENGINESUPPORT){const r=s=>{const o=this.compilerManager.getObjectSymbol(s);return o?this.dataSupportManager.getConfigBySymbol(o):null};let n=null,i;t.addEventListener(Kn.OBJECTCHANGED,s=>{const o=s;o.transObjectSet.forEach(a=>{n=r(a),i=o.mode,n&&(n[i].x=a[i].x,n[i].y=a[i].y,n[i].z=a[i].z)})})}}),!0},Cd=function(e={}){if(this.webGLRenderer)return console.warn("this has installed webglRenderer plugin."),!1;this.webGLRenderer=new bs(e);const t=this.webGLRenderer.domElement;return t.style.position="absolute",t.style.top="0",t.style.left="0",t.classList.add("vis-webgl"),this.getScreenshot=function(r={}){const n={width:this.dom.offsetWidth,height:this.dom.offsetHeight};!r.width&&(r.width=this.dom.offsetWidth),!r.height&&(r.height=this.dom.offsetHeight),!r.mine&&(r.mine="image/png");let i=!1;this.renderManager.hasRendering()&&(this.renderManager.stop(),i=!0),this.setSize(r.width,r.height),this.renderManager.render();const s=this.webGLRenderer.domElement.toDataURL(r.mine);return this.setSize(n.width,n.height),i&&this.renderManager.play(),s},this.addEventListener("setDom",r=>{r.dom.appendChild(this.webGLRenderer.domElement)}),this.addEventListener("setSize",r=>{this.webGLRenderer.setSize(r.width,r.height,!0)}),this.addEventListener("dispose",()=>{this.webGLRenderer.dispose()}),this.renderManager?(this.renderManager.removeEventListener("render",this.render),this.renderManager.addEventListener("render",r=>{this.webGLRenderer.render(this.scene,this.camera)})):this.render=function(){return this.webGLRenderer.render(this.scene,this.camera),this},!0},Md=/^[og]\s*(.+)?/,Sd=/^mtllib /,wd=/^usemtl /,Od=/^usemap /,xa=new z,ws=new z,Ia=new z,Da=new z,$e=new z;function _d(){const e={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materials:{},materialLibraries:[],startObject:function(t,r){if(this.object&&this.object.fromDeclaration===!1){this.object.name=t,this.object.fromDeclaration=r!==!1;return}const n=this.object&&typeof this.object.currentMaterial=="function"?this.object.currentMaterial():void 0;if(this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0),this.object={name:t||"",fromDeclaration:r!==!1,geometry:{vertices:[],normals:[],colors:[],uvs:[],hasUVIndices:!1},materials:[],smooth:!0,startMaterial:function(i,s){const o=this._finalize(!1);o&&(o.inherited||o.groupCount<=0)&&this.materials.splice(o.index,1);const a={index:this.materials.length,name:i||"",mtllib:Array.isArray(s)&&s.length>0?s[s.length-1]:"",smooth:o!==void 0?o.smooth:this.smooth,groupStart:o!==void 0?o.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(c){const l={index:typeof c=="number"?c:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return l.clone=this.clone.bind(l),l}};return this.materials.push(a),a},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(i){const s=this.currentMaterial();if(s&&s.groupEnd===-1&&(s.groupEnd=this.geometry.vertices.length/3,s.groupCount=s.groupEnd-s.groupStart,s.inherited=!1),i&&this.materials.length>1)for(let o=this.materials.length-1;o>=0;o--)this.materials[o].groupCount<=0&&this.materials.splice(o,1);return i&&this.materials.length===0&&this.materials.push({name:"",smooth:this.smooth}),s}},n&&n.name&&typeof n.clone=="function"){const i=n.clone(0);i.inherited=!0,this.object.materials.push(i)}this.objects.push(this.object)},finalize:function(){this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0)},parseVertexIndex:function(t,r){const n=parseInt(t,10);return(n>=0?n-1:n+r/3)*3},parseNormalIndex:function(t,r){const n=parseInt(t,10);return(n>=0?n-1:n+r/3)*3},parseUVIndex:function(t,r){const n=parseInt(t,10);return(n>=0?n-1:n+r/2)*2},addVertex:function(t,r,n){const i=this.vertices,s=this.object.geometry.vertices;s.push(i[t+0],i[t+1],i[t+2]),s.push(i[r+0],i[r+1],i[r+2]),s.push(i[n+0],i[n+1],i[n+2])},addVertexPoint:function(t){const r=this.vertices;this.object.geometry.vertices.push(r[t+0],r[t+1],r[t+2])},addVertexLine:function(t){const r=this.vertices;this.object.geometry.vertices.push(r[t+0],r[t+1],r[t+2])},addNormal:function(t,r,n){const i=this.normals,s=this.object.geometry.normals;s.push(i[t+0],i[t+1],i[t+2]),s.push(i[r+0],i[r+1],i[r+2]),s.push(i[n+0],i[n+1],i[n+2])},addFaceNormal:function(t,r,n){const i=this.vertices,s=this.object.geometry.normals;xa.fromArray(i,t),ws.fromArray(i,r),Ia.fromArray(i,n),$e.subVectors(Ia,ws),Da.subVectors(xa,ws),$e.cross(Da),$e.normalize(),s.push($e.x,$e.y,$e.z),s.push($e.x,$e.y,$e.z),s.push($e.x,$e.y,$e.z)},addColor:function(t,r,n){const i=this.colors,s=this.object.geometry.colors;i[t]!==void 0&&s.push(i[t+0],i[t+1],i[t+2]),i[r]!==void 0&&s.push(i[r+0],i[r+1],i[r+2]),i[n]!==void 0&&s.push(i[n+0],i[n+1],i[n+2])},addUV:function(t,r,n){const i=this.uvs,s=this.object.geometry.uvs;s.push(i[t+0],i[t+1]),s.push(i[r+0],i[r+1]),s.push(i[n+0],i[n+1])},addDefaultUV:function(){const t=this.object.geometry.uvs;t.push(0,0),t.push(0,0),t.push(0,0)},addUVLine:function(t){const r=this.uvs;this.object.geometry.uvs.push(r[t+0],r[t+1])},addFace:function(t,r,n,i,s,o,a,c,l){const u=this.vertices.length;let p=this.parseVertexIndex(t,u),f=this.parseVertexIndex(r,u),g=this.parseVertexIndex(n,u);if(this.addVertex(p,f,g),this.addColor(p,f,g),a!==void 0&&a!==""){const C=this.normals.length;p=this.parseNormalIndex(a,C),f=this.parseNormalIndex(c,C),g=this.parseNormalIndex(l,C),this.addNormal(p,f,g)}else this.addFaceNormal(p,f,g);if(i!==void 0&&i!==""){const C=this.uvs.length;p=this.parseUVIndex(i,C),f=this.parseUVIndex(s,C),g=this.parseUVIndex(o,C),this.addUV(p,f,g),this.object.geometry.hasUVIndices=!0}else this.addDefaultUV()},addPointGeometry:function(t){this.object.geometry.type="Points";const r=this.vertices.length;for(let n=0,i=t.length;n<i;n++){const s=this.parseVertexIndex(t[n],r);this.addVertexPoint(s),this.addColor(s)}},addLineGeometry:function(t,r){this.object.geometry.type="Line";const n=this.vertices.length,i=this.uvs.length;for(let s=0,o=t.length;s<o;s++)this.addVertexLine(this.parseVertexIndex(t[s],n));for(let s=0,o=r.length;s<o;s++)this.addUVLine(this.parseUVIndex(r[s],i))}};return e.startObject("",!1),e}class Td extends hs{constructor(t){super(t);this.materials=null}load(t,r,n,i){const s=this,o=new pa(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(t,function(a){try{r(s.parse(a))}catch(c){i?i(c):console.error(c),s.manager.itemError(t)}},n,i)}setMaterials(t){return this.materials=t,this}parse(t){const r=new _d;t.indexOf(`\r
`)!==-1&&(t=t.replace(/\r\n/g,`
`)),t.indexOf(`\\
`)!==-1&&(t=t.replace(/\\\n/g,""));const n=t.split(`
`);let i="",s="",o=0,a=[];const c=typeof"".trimLeft=="function";for(let p=0,f=n.length;p<f;p++)if(i=n[p],i=c?i.trimLeft():i.trim(),o=i.length,o!==0&&(s=i.charAt(0),s!=="#"))if(s==="v"){const g=i.split(/\s+/);switch(g[0]){case"v":r.vertices.push(parseFloat(g[1]),parseFloat(g[2]),parseFloat(g[3])),g.length>=7?r.colors.push(parseFloat(g[4]),parseFloat(g[5]),parseFloat(g[6])):r.colors.push(void 0,void 0,void 0);break;case"vn":r.normals.push(parseFloat(g[1]),parseFloat(g[2]),parseFloat(g[3]));break;case"vt":r.uvs.push(parseFloat(g[1]),parseFloat(g[2]));break}}else if(s==="f"){const C=i.substr(1).trim().split(/\s+/),O=[];for(let m=0,M=C.length;m<M;m++){const h=C[m];if(h.length>0){const y=h.split("/");O.push(y)}}const T=O[0];for(let m=1,M=O.length-1;m<M;m++){const h=O[m],y=O[m+1];r.addFace(T[0],h[0],y[0],T[1],h[1],y[1],T[2],h[2],y[2])}}else if(s==="l"){const g=i.substring(1).trim().split(" ");let C=[];const O=[];if(i.indexOf("/")===-1)C=g;else for(let T=0,m=g.length;T<m;T++){const M=g[T].split("/");M[0]!==""&&C.push(M[0]),M[1]!==""&&O.push(M[1])}r.addLineGeometry(C,O)}else if(s==="p"){const C=i.substr(1).trim().split(" ");r.addPointGeometry(C)}else if((a=Md.exec(i))!==null){const g=(" "+a[0].substr(1).trim()).substr(1);r.startObject(g)}else if(wd.test(i))r.object.startMaterial(i.substring(7).trim(),r.materialLibraries);else if(Sd.test(i))r.materialLibraries.push(i.substring(7).trim());else if(Od.test(i))console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.');else if(s==="s"){if(a=i.split(" "),a.length>1){const C=a[1].trim().toLowerCase();r.object.smooth=C!=="0"&&C!=="off"}else r.object.smooth=!0;const g=r.object.currentMaterial();g&&(g.smooth=r.object.smooth)}else{if(i==="\0")continue;console.warn('THREE.OBJLoader: Unexpected line: "'+i+'"')}r.finalize();const l=new da;if(l.materialLibraries=[].concat(r.materialLibraries),!(r.objects.length===1&&r.objects[0].geometry.vertices.length===0)===!0)for(let p=0,f=r.objects.length;p<f;p++){const g=r.objects[p],C=g.geometry,O=g.materials,T=C.type==="Line",m=C.type==="Points";let M=!1;if(C.vertices.length===0)continue;const h=new Ye;h.setAttribute("position",new me(C.vertices,3)),C.normals.length>0&&h.setAttribute("normal",new me(C.normals,3)),C.colors.length>0&&(M=!0,h.setAttribute("color",new me(C.colors,3))),C.hasUVIndices===!0&&h.setAttribute("uv",new me(C.uvs,2));const y=[];for(let E=0,S=O.length;E<S;E++){const w=O[E],A=w.name+"_"+w.smooth+"_"+M;let I=r.materials[A];if(this.materials!==null){if(I=this.materials.create(w.name),T&&I&&!(I instanceof At)){const F=new At;Bn.prototype.copy.call(F,I),F.color.copy(I.color),I=F}else if(m&&I&&!(I instanceof nt)){const F=new nt({size:10,sizeAttenuation:!1});Bn.prototype.copy.call(F,I),F.color.copy(I.color),F.map=I.map,I=F}}I===void 0&&(T?I=new At:m?I=new nt({size:1,sizeAttenuation:!1}):I=new ms,I.name=w.name,I.flatShading=!w.smooth,I.vertexColors=M,r.materials[A]=I),y.push(I)}let b;if(y.length>1){for(let E=0,S=O.length;E<S;E++){const w=O[E];h.addGroup(w.groupStart,w.groupCount,E)}T?b=new qe(h,y):m?b=new gt(h,y):b=new Lt(h,y)}else T?b=new qe(h,y[0]):m?b=new gt(h,y[0]):b=new Lt(h,y[0]);b.name=g.name,l.add(b)}else if(r.vertices.length>0){const p=new nt({size:1,sizeAttenuation:!1}),f=new Ye;f.setAttribute("position",new me(r.vertices,3)),r.colors.length>0&&r.colors[0]!==void 0&&(f.setAttribute("color",new me(r.colors,3)),p.vertexColors=!0);const g=new gt(f,p);l.add(g)}return l}}class Rd extends hs{constructor(t){super(t)}load(t,r,n,i){const s=this,o=this.path===""?mp.extractUrlBase(t):this.path,a=new pa(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(t,function(c){try{r(s.parse(c,o))}catch(l){i?i(l):console.error(l),s.manager.itemError(t)}},n,i)}setMaterialOptions(t){return this.materialOptions=t,this}parse(t,r){const n=t.split(`
`);let i={};const s=/\s+/,o={};for(let c=0;c<n.length;c++){let l=n[c];if(l=l.trim(),l.length===0||l.charAt(0)==="#")continue;const u=l.indexOf(" ");let p=u>=0?l.substring(0,u):l;p=p.toLowerCase();let f=u>=0?l.substring(u+1):"";if(f=f.trim(),p==="newmtl")i={name:f},o[f]=i;else if(p==="ka"||p==="kd"||p==="ks"||p==="ke"){const g=f.split(s,3);i[p]=[parseFloat(g[0]),parseFloat(g[1]),parseFloat(g[2])]}else i[p]=f}const a=new Ad(this.resourcePath||r,this.materialOptions);return a.setCrossOrigin(this.crossOrigin),a.setManager(this.manager),a.setMaterials(o),a}}class Ad{constructor(t="",r={}){this.baseUrl=t,this.options=r,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.crossOrigin="anonymous",this.side=this.options.side!==void 0?this.options.side:fa,this.wrap=this.options.wrap!==void 0?this.options.wrap:gp}setCrossOrigin(t){return this.crossOrigin=t,this}setManager(t){this.manager=t}setMaterials(t){this.materialsInfo=this.convert(t),this.materials={},this.materialsArray=[],this.nameLookup={}}convert(t){if(!this.options)return t;const r={};for(const n in t){const i=t[n],s={};r[n]=s;for(const o in i){let a=!0,c=i[o];const l=o.toLowerCase();switch(l){case"kd":case"ka":case"ks":this.options&&this.options.normalizeRGB&&(c=[c[0]/255,c[1]/255,c[2]/255]),this.options&&this.options.ignoreZeroRGBs&&c[0]===0&&c[1]===0&&c[2]===0&&(a=!1);break}a&&(s[l]=c)}}return r}preload(){for(const t in this.materialsInfo)this.create(t)}getIndex(t){return this.nameLookup[t]}getAsArray(){let t=0;for(const r in this.materialsInfo)this.materialsArray[t]=this.create(r),this.nameLookup[r]=t,t++;return this.materialsArray}create(t){return this.materials[t]===void 0&&this.createMaterial_(t),this.materials[t]}createMaterial_(t){const r=this,n=this.materialsInfo[t],i={name:t,side:this.side};function s(a,c){return typeof c!="string"||c===""?"":/^https?:\/\//i.test(c)?c:a+c}function o(a,c){if(i[a])return;const l=r.getTextureParams(c,i),u=r.loadTexture(s(r.baseUrl,l.url));u.repeat.copy(l.scale),u.offset.copy(l.offset),u.wrapS=r.wrap,u.wrapT=r.wrap,i[a]=u}for(const a in n){const c=n[a];let l;if(c!=="")switch(a.toLowerCase()){case"kd":i.color=new ce().fromArray(c);break;case"ks":i.specular=new ce().fromArray(c);break;case"ke":i.emissive=new ce().fromArray(c);break;case"map_kd":o("map",c);break;case"map_ks":o("specularMap",c);break;case"map_ke":o("emissiveMap",c);break;case"norm":o("normalMap",c);break;case"map_bump":case"bump":o("bumpMap",c);break;case"map_d":o("alphaMap",c),i.transparent=!0;break;case"ns":i.shininess=parseFloat(c);break;case"d":l=parseFloat(c),l<1&&(i.opacity=l,i.transparent=!0);break;case"tr":l=parseFloat(c),this.options&&this.options.invertTrProperty&&(l=1-l),l>0&&(i.opacity=1-l,i.transparent=!0);break}}return this.materials[t]=new ms(i),this.materials[t]}getTextureParams(t,r){const n={scale:new Se(1,1),offset:new Se(0,0)},i=t.split(/\s+/);let s;return s=i.indexOf("-bm"),s>=0&&(r.bumpScale=parseFloat(i[s+1]),i.splice(s,2)),s=i.indexOf("-s"),s>=0&&(n.scale.set(parseFloat(i[s+1]),parseFloat(i[s+2])),i.splice(s,4)),s=i.indexOf("-o"),s>=0&&(n.offset.set(parseFloat(i[s+1]),parseFloat(i[s+2])),i.splice(s,4)),n.url=i.join(" ").trim(),n}loadTexture(t,r,n,i,s){const o=this.manager!==void 0?this.manager:yp;let a=o.getHandler(t);a===null&&(a=new vp(o)),a.setCrossOrigin&&a.setCrossOrigin(this.crossOrigin);const c=a.load(t,n,i,s);return r!==void 0&&(c.mapping=r),c}}const Kr=class extends hs{constructor(e){super(e)}load(e,t,r,n){this.path!==void 0&&(e=this.path+e),this.manager.itemStart(e),e=this.manager.resolveURL(e);const i=ha.get(e);if(i!==void 0)return setTimeout(()=>{t&&t(i),this.manager.itemEnd(e)},0),i;const s=document.createElement("video");return s.preload=Kr.preload,s.autoplay=Kr.autoplay,s.loop=Kr.loop,s.muted=Kr.muted,s.src=e,s.style.position="fixed",s.style.top="0",s.style.left="0",s.style.zIndex="-1",document.body.appendChild(s),s.oncanplay=()=>{ha.add(e,s),this.manager.itemEnd(e),t&&t(s)},s.onerror=o=>{this.manager.itemEnd(e),n&&n(o)},s}};let Wr=Kr;d(Wr,"autoplay",!0);d(Wr,"preload","auto");d(Wr,"muted",!0);d(Wr,"loop",!0);var we;(function(e){e.BEFORELOAD="beforeLoad",e.LOADING="loading",e.DETAILLOADING="detailLoading",e.DETAILLOADED="detailLoaded",e.LOADED="loaded"})(we||(we={}));class Ld extends ot{constructor(t){super();d(this,"resourceMap"),d(this,"loaderMap"),d(this,"loadTotal"),d(this,"loadSuccess"),d(this,"loadError"),d(this,"isError"),d(this,"isLoading"),d(this,"isLoaded"),d(this,"loadDetailMap"),d(this,"path",""),this.resourceMap=new Map,this.loadTotal=0,this.loadSuccess=0,this.loadError=0,this.isError=!1,this.isLoading=!1,this.isLoaded=!1,this.loadDetailMap={};const r=new $p,n=new Wr;this.loaderMap={jpg:r,png:r,jpeg:r,obj:new Td,mtl:new Rd,mp4:n,webm:n,ogg:n},t&&(this.loaderMap=Object.assign(this.loaderMap,t.loaderExtends))}loaded(){return this.dispatchEvent({type:we.LOADED,loadTotal:this.loadTotal,loadSuccess:this.loadSuccess,loadError:this.loadError,resourceMap:this.resourceMap}),this}checkLoaded(){return this.loadTotal===this.loadSuccess+this.loadError&&(this.isError=!0,this.isLoaded=!0,this.isLoading=!1,this.loaded()),this}setPath(t){const r=this.loaderMap;return Object.keys(r).forEach(n=>{r[n].setPath(t)}),this.path=t,this}load(t){var r;if(this.reset(),this.isLoading=!0,this.dispatchEvent({type:we.BEFORELOAD,urlList:[...t]}),t.length<=0)return this.checkLoaded(),console.warn("url list is empty."),this;this.loadTotal+=t.length;const n=this.resourceMap,i=this.loaderMap,s=this.loadDetailMap;for(const o of t){let a,c;typeof o=="string"?(a=o,c=((r=a.split(".").pop())==null?void 0:r.toLocaleLowerCase())||""):(a=o.url,c=o.ext.toLocaleLowerCase());const l={url:a,progress:0,error:!1,message:a};if(s[a]=l,n.has(a)){l.progress=1,this.loadSuccess+=1,this.dispatchEvent({type:we.DETAILLOADED,detail:l}),this.dispatchEvent({type:we.LOADING,loadTotal:this.loadTotal,loadSuccess:this.loadSuccess,loadError:this.loadError}),this.checkLoaded();continue}if(!c){l.message=`url: ${a} \u5730\u5740\u6709\u8BEF\uFF0C\u65E0\u6CD5\u83B7\u53D6\u6587\u4EF6\u683C\u5F0F\u3002`,console.warn(l.message),l.error=!0,this.isError=!0,this.loadError+=1,this.dispatchEvent({type:we.DETAILLOADED,detail:l}),this.dispatchEvent({type:we.LOADING,loadTotal:this.loadTotal,loadSuccess:this.loadSuccess,loadError:this.loadError});continue}const u=i[c];if(!u){l.message=`url: ${a} \u4E0D\u652F\u6301\u6B64\u6587\u4EF6\u683C\u5F0F\u52A0\u8F7D\u3002`,console.warn(l.message),l.error=!0,this.isError=!0,this.loadError+=1,this.dispatchEvent({type:we.DETAILLOADED,detail:l}),this.dispatchEvent({type:we.LOADING,loadTotal:this.loadTotal,loadSuccess:this.loadSuccess,loadError:this.loadError});continue}u.loadAsync(a,p=>{l.progress=Number((p.loaded/p.total).toFixed(2)),this.dispatchEvent({type:we.DETAILLOADING,detail:l})}).then(p=>{l.progress=1,this.loadSuccess+=1,this.resourceMap.set(a,p),this.dispatchEvent({type:we.DETAILLOADED,detail:l}),this.dispatchEvent({type:we.LOADING,loadTotal:this.loadTotal,loadSuccess:this.loadSuccess,loadError:this.loadError}),this.checkLoaded()}).catch(p=>{l.error=!0,l.message=JSON.stringify(p),this.loadError+=1,this.dispatchEvent({type:we.DETAILLOADED,detail:l}),this.dispatchEvent({type:we.LOADING,loadTotal:this.loadTotal,loadSuccess:this.loadSuccess,loadError:this.loadError}),this.checkLoaded()})}return this}reset(){return this.loadTotal=0,this.loadSuccess=0,this.loadError=0,this.isError=!1,this.isLoading=!1,this.isLoaded=!1,this.loadDetailMap={},this}register(t,r){return this.loaderMap[t]=r,this}hasLoaded(t){return this.resourceMap.has(t)}getResource(t){return this.resourceMap.get(t)}getLoadDetailMap(){return this.loadDetailMap}setLoadDetailMap(t){return this.loadDetailMap=t,this}remove(t){}toJSON(){const t=[];return this.resourceMap.forEach((r,n)=>{t.push(n)}),JSON.stringify(t)}exportConfig(){const t=[];return this.resourceMap.forEach((r,n)=>{t.push(n)}),t}dispose(){return this.resourceMap.clear(),this}}const Pd=function(e){if(this.loaderManager)return console.warn("engine has installed loaderManager plugin."),!1;const t=new Ld(e);return this.loaderManager=t,this.loadResources=(r,n)=>{if(this.resourceManager){const i=s=>{n(void 0,s),this.resourceManager.removeEventListener("mapped",i)};try{this.resourceManager.addEventListener("mapped",i)}catch(s){n(s)}}else{const i=s=>{n(void 0,s),this.loaderManager.removeEventListener("loaded",i)};try{this.loaderManager.addEventListener("loaded",i)}catch(s){n(s)}}return this.loaderManager.load(r),this},this.loadResourcesAsync=r=>new Promise((n,i)=>{if(this.resourceManager){const s=o=>{n(o),this.resourceManager.removeEventListener("mapped",s)};try{this.resourceManager.addEventListener("mapped",s)}catch(o){i(o)}}else{const s=o=>{n(o),this.loaderManager.removeEventListener("loaded",s)};try{this.loaderManager.addEventListener("loaded",s)}catch(o){i(o)}}this.loaderManager.load(r)}),!0};var Wn,xd=new Uint8Array(16);function Id(){if(!Wn&&(Wn=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Wn))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Wn(xd)}var Dd=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function X(e){return typeof e=="string"&&Dd.test(e)}var pe=[];for(var Os=0;Os<256;++Os)pe.push((Os+256).toString(16).substr(1));function Nd(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(pe[e[t+0]]+pe[e[t+1]]+pe[e[t+2]]+pe[e[t+3]]+"-"+pe[e[t+4]]+pe[e[t+5]]+"-"+pe[e[t+6]]+pe[e[t+7]]+"-"+pe[e[t+8]]+pe[e[t+9]]+"-"+pe[e[t+10]]+pe[e[t+11]]+pe[e[t+12]]+pe[e[t+13]]+pe[e[t+14]]+pe[e[t+15]]).toLowerCase();if(!X(r))throw TypeError("Stringified UUID is invalid");return r}function jd(e,t,r){e=e||{};var n=e.random||(e.rng||Id)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return Nd(n)}const kd={name:"uvPulseShader",uniforms:{uTime:{value:0},uWidth:{value:.5},uColor:{value:{r:1,g:0,b:0}},uCenter:{value:{x:.5,y:.5}}},vertexShader:`
    uniform float uWidth;
    uniform float uTime;
    
    varying vec2 vUv;

    void main () {

      vUv = uv;

      gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
    }`,fragmentShader:`
    uniform float uWidth;
    uniform float uTime;
    uniform vec3 uColor;
    uniform vec2 uCenter;

    varying vec2 vUv;

    void main () {
      // \u6839\u636EuTime\u6C42\u51FA\u767E\u5206\u6BD4
      float deg = mod(degrees(uTime), 360.0);
      if (deg > 0.0 && deg < 90.0) {
        discard;
      }

      float percent = sin(uTime);
      float distancePercent = distance(uCenter, vUv);

      // \u4ECE\u5916\u5411\u91CC
      if (distancePercent > 0.5) {
        discard;
      }
      if (distancePercent < percent) {
        discard;
      }

      if (distancePercent - percent > uWidth) {
        discard;
      }

      float opacity =  (uWidth - (distancePercent - percent)) / uWidth;

      // float opacity = distancePercent;
      gl_FragColor = vec4(uColor, opacity);
    }`},Pt=class{static getShader(e){return Pt.library.has(e)?Pt.cloneShader(Pt.library.get(e)):(console.warn(`con not found shader in shader library: ${e}`),null)}static generateConfig(e){if(!Pt.library.has(e))return console.warn(`con not found shader in shader library: ${e}`),{};const t=Pt.library.get(e),r={shader:e,uniforms:{}};return t.uniforms&&(r.uniforms=JSON.parse(JSON.stringify(t.uniforms))),r}static cloneShader(e){const t={name:e.name};return e.vertexShader&&(t.vertexShader=e.vertexShader),e.fragmentShader&&(t.fragmentShader=e.fragmentShader),e.uniforms&&(t.uniforms=JSON.parse(JSON.stringify(e.uniforms))),t}};let fr=Pt;d(fr,"library",new Map);d(fr,"reigster",function(e){Pt.library.has(e.name)&&console.warn(`shader library has exist shader: ${e.name} that will be cover.`),Pt.library.set(e.name,e)});const $d={name:"defaultShader"};fr.reigster($d);fr.reigster(kd);var v;(function(e){e.BOXGEOMETRY="BoxGeometry",e.SPHEREGEOMETRY="SphereGeometry",e.LOADGEOMETRY="LoadGeometry",e.PLANEGEOMETRY="PlaneGeometry",e.CIRCLEGEOMETRY="CircleGeometry",e.CONEGEOMETRY="ConeGeometry",e.CYLINDERGEOMETRY="CylinderGeometry",e.DODECAHEDRONGEOMETRY="DodecahedronGeometry",e.EDGESGEOMETRY="EdgesGeometry",e.LINECURVEGEOMETRY="LineCurveGeometry",e.SPLINECURVEGEOMETRY="SplineCurveGeometry",e.CUBICBEZIERCURVEGEOMETRY="CubicBezierCurveGeometry",e.QUADRATICBEZIERCURVEGEOMETRY="QuadraticBezierCurveGeometry",e.CUSTOMGEOMETRY="CustomGeometry",e.MESH="Mesh",e.LINE="Line",e.POINTS="Points",e.SPRITE="Sprite",e.GROUP="Group",e.CSS3DOBJECT="CSS3DObject",e.CSS3DSPRITE="CSS3DSprite",e.CSS3DPLANE="CSS3DPlane",e.IMAGETEXTURE="ImageTexture",e.CUBETEXTURE="CubeTexture",e.CANVASTEXTURE="CanvasTexture",e.VIDEOTEXTURE="VideoTexture",e.MESHBASICMATERIAL="MeshBasicMaterial",e.MESHSTANDARDMATERIAL="MeshStandardMaterial",e.MESHPHONGMATERIAL="MeshPhongMaterial",e.SPRITEMATERIAL="SpriteMaterial",e.LINEBASICMATERIAL="LineBasicMaterial",e.POINTSMATERIAL="PointsMaterial",e.SHADERMATERIAL="ShaderMaterial",e.AMBIENTLIGHT="AmbientLight",e.SPOTLIGHT="SpotLight",e.POINTLIGHT="PointLight",e.DIRECTIONALLIGHT="DirectionalLight",e.PERSPECTIVECAMERA="PerspectiveCamera",e.ORTHOGRAPHICCAMERA="OrthographicCamera",e.WEBGLRENDERER="WebGLRenderer",e.CSS3DRENDERER="CSS3DRenderer",e.SCENE="Scene",e.TRNASFORMCONTROLS="TransformControls",e.ORBITCONTROLS="OrbitControls",e.SMAAPASS="SMAAPass",e.UNREALBLOOMPASS="UnrealBloomPass",e.SCRIPTANIMATION="ScriptAnimation",e.KEYFRAMEANIMATION="KeyframeAnimation"})(v||(v={}));const xt=()=>({vid:"",name:"",type:"Object3D",castShadow:!0,receiveShadow:!0,lookAt:"",visible:!0,matrixAutoUpdate:!0,renderOrder:0,position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},scale:{x:1,y:1,z:1},up:{x:0,y:1,z:0},parent:"",children:[],pointerdown:[],pointermove:[],pointerup:[],pointerenter:[],pointerleave:[],click:[],dblclick:[],contextmenu:[]}),_s=function(){return Object.assign(xt(),{type:"Light",color:"rgb(255, 255, 255)",intensity:1})},Fd=function(){return Object.assign(xt(),{type:v.AMBIENTLIGHT,color:"rgb(255, 255, 255)",intensity:1})},Bd=function(){return Object.assign(_s(),{type:v.POINTLIGHT,distance:30,decay:.01})},Hd=function(){return Object.assign(_s(),{type:v.SPOTLIGHT,distance:30,angle:Math.PI/180*45,penumbra:.01,decay:.01})},Gd=function(){return Object.assign(_s(),{type:v.DIRECTIONALLIGHT,shadow:{mapSize:{width:512,height:512},camera:{near:.5,far:500}}})},Xe=function(){return{vid:"",type:"Geometry",position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},scale:{x:1,y:1,z:1},groups:[]}},Ud=function(){return Object.assign(Xe(),{type:v.BOXGEOMETRY,width:5,height:5,depth:5,widthSegments:1,heightSegments:1,depthSegments:1})},Vd=function(){return Object.assign(Xe(),{type:v.SPHEREGEOMETRY,radius:3,widthSegments:32,heightSegments:32,phiStart:0,phiLength:Math.PI*2,thetaStart:0,thetaLength:Math.PI})},zd=function(){return Object.assign(Xe(),{type:v.PLANEGEOMETRY,width:5,height:5,widthSegments:1,heightSegments:1})},Kd=function(){return Object.assign(Xe(),{type:v.CIRCLEGEOMETRY,radius:3,segments:8,thetaStart:0,thetaLength:Math.PI*2})},Wd=function(){return Object.assign(Xe(),{type:v.CONEGEOMETRY,radius:3,height:5,radialSegments:8,heightSegments:1,openEnded:!1,thetaStart:0,thetaLength:Math.PI*2})},Yd=function(){return Object.assign(Xe(),{type:v.LOADGEOMETRY,url:""})},qd=function(){return Object.assign(Xe(),{type:v.CUSTOMGEOMETRY,attribute:{position:[],color:[],index:[],normal:[],uv:[],uv2:[]}})},Xd=function(){return Object.assign(Xe(),{type:v.CYLINDERGEOMETRY,radiusTop:3,radiusBottom:3,height:5,radialSegments:8,heightSegments:1,openEnded:!1,thetaStart:0,thetaLength:Math.PI*2})},Qd=function(){return Object.assign(Xe(),{type:"",radius:3,detail:0})},Jd=function(){return Object.assign(Xe(),{type:v.LOADGEOMETRY,url:"",thresholdAngle:1})},Yn=function(){return Object.assign(Xe(),{path:[],divisions:36,space:!0})},Zd=function(){return Object.assign(Yn(),{type:v.LINECURVEGEOMETRY})},ef=function(){return Object.assign(Yn(),{type:v.SPLINECURVEGEOMETRY})},tf=function(){return Object.assign(Yn(),{type:v.CUBICBEZIERCURVEGEOMETRY})},rf=function(){return Object.assign(Yn(),{type:v.QUADRATICBEZIERCURVEGEOMETRY})},qn=function(){return{vid:"",type:"Texture",name:"",mapping:Sp,wrapS:Ca,wrapT:Ca,magFilter:Hn,minFilter:wp,anisotropy:1,format:Un,offset:{x:0,y:0},repeat:{x:1,y:1},rotation:0,center:{x:0,y:0},matrixAutoUpdate:!0,encoding:Ma,needsUpdate:!1}},nf=function(){return Object.assign(qn(),{type:v.IMAGETEXTURE,url:""})},sf=function(){return Object.assign(qn(),{type:v.VIDEOTEXTURE,url:"",minFilter:Hn})},of=function(){return Object.assign(qn(),{type:v.CUBETEXTURE,cube:{nx:"",ny:"",nz:"",px:"",py:"",pz:""},mapping:Op,flipY:!1})},af=function(){return Object.assign(qn(),{type:v.CANVASTEXTURE,url:"",needsUpdate:!1})},Vt=function(){return{vid:"",type:"Material",alphaTest:0,colorWrite:!0,depthTest:!0,depthWrite:!0,format:Un,fog:!0,name:"",needsUpdate:!1,opacity:1,dithering:!1,shadowSide:null,side:fa,toneMapped:!0,transparent:!1,visible:!0,blendDst:_p,blendDstAlpha:null,blendEquation:Tp,blendEquationAlpha:null,blending:Rp,blendSrc:Ap,blendSrcAlpha:null}},lf=function(){return Object.assign(Vt(),{type:v.MESHBASICMATERIAL,color:"rgb(255, 255, 255)",combine:Sa,aoMapIntensity:1,fog:!0,lightMapIntensity:1,reflectivity:1,refractionRatio:.98,wireframe:!1,wireframeLinecap:"round",wireframeLinejoin:"round",wireframeLinewidth:1,map:"",envMap:"",alphaMap:"",aoMap:"",lightMap:"",specularMap:""})},cf=function(){return Object.assign(Vt(),{type:v.MESHSTANDARDMATERIAL,aoMapIntensity:1,bumpScale:1,color:"rgb(255, 255, 255)",displacementScale:1,displacementBias:0,emissive:"rgb(0, 0, 0)",emissiveIntensity:1,envMapIntensity:1,flatShading:!1,lightMapIntensity:1,metalness:0,normalMapType:wa,refractionRatio:.98,roughness:1,wireframe:!1,wireframeLinecap:"round",wireframeLinejoin:"round",roughnessMap:"",normalMap:"",metalnessMap:"",map:"",lightMap:"",envMap:"",emissiveMap:"",displacementMap:"",bumpMap:"",alphaMap:"",aoMap:""})},uf=function(){return Object.assign(Vt(),{type:v.MESHPHONGMATERIAL,aoMapIntensity:1,bumpScale:1,color:"rgb(255, 255, 255)",displacementScale:1,displacementBias:0,emissive:"rgb(0, 0, 0)",emissiveIntensity:1,envMapIntensity:1,flatShading:!1,lightMapIntensity:1,normalMapType:wa,refractionRatio:.98,wireframe:!1,wireframeLinecap:"round",wireframeLinejoin:"round",specular:"rgb(17, 17, 17)",shininess:30,combine:Sa,normalMap:"",map:"",lightMap:"",envMap:"",emissiveMap:"",displacementMap:"",bumpMap:"",alphaMap:"",aoMap:"",specularMap:""})},pf=function(){return Object.assign(Vt(),{type:v.SPRITEMATERIAL,color:"rgb(255, 255, 255)",rotation:0,map:"",alphaMap:"",sizeAttenuation:!0})},df=function(){return Object.assign(Vt(),{type:v.LINEBASICMATERIAL,color:"rgb(255, 255, 255)",linecap:"round",linejoin:"round",linewidth:1})},ff=function(){return Object.assign(Vt(),{type:v.POINTSMATERIAL,map:"",alphaMap:"",color:"rgb(255, 255, 255)",sizeAttenuation:!0,size:1})},hf=function(){return Object.assign(Vt(),{type:v.SHADERMATERIAL,shader:"defaultShader",uniforms:{}})},mf=function(){return Object.assign(xt(),{type:v.PERSPECTIVECAMERA,adaptiveWindow:!1,fov:45,aspect:1920/1080,near:5,far:50})},gf=function(){return Object.assign(xt(),{type:v.ORTHOGRAPHICCAMERA,adaptiveWindow:!1,left:-1920/32,right:1920/32,top:1080/32,bottom:-1080/32,near:5,far:50,zoom:1})},Na=function(){return{vid:"",type:"Renderer",size:null}},yf=function(){return Object.assign(Na(),{vid:v.WEBGLRENDERER,type:v.WEBGLRENDERER,clearColor:"rgba(0, 0, 0, 0)",outputEncoding:Ma,physicallyCorrectLights:!1,shadowMap:{enabled:!1,autoUpdate:!0,type:Lp},toneMapping:Pp,toneMappingExposure:1,pixelRatio:window.devicePixelRatio,adaptiveCamera:!1,viewport:null,scissor:null})},vf=function(){return Object.assign(Na(),{vid:v.CSS3DRENDERER,type:v.CSS3DRENDERER})},bf=function(){return Object.assign(xt(),{vid:v.SCENE,type:v.SCENE,background:"",environment:"",fog:{type:"",color:"rgb(150, 150, 150)",near:1,far:200,density:.003}})},Ef=function(){return{vid:v.TRNASFORMCONTROLS,type:v.TRNASFORMCONTROLS,axis:"XYZ",enabled:!0,mode:"translate",snapAllow:!1,rotationSnap:Math.PI/180*10,translationSnap:5,scaleSnap:.1,showX:!0,showY:!0,showZ:!0,size:1,space:"world"}},Cf=function(){return{vid:v.ORBITCONTROLS,type:v.ORBITCONTROLS,autoRotate:!1,autoRotateSpeed:2,enableDamping:!1,dampingFactor:.05,enabled:!0,enablePan:!0,enableRotate:!0,enableZoom:!0,maxAzimuthAngle:1/0,maxDistance:1/0,maxPolarAngle:Math.PI,maxZoom:1/0,minAzimuthAngle:-1/0,minDistance:0,minPolarAngle:0,minZoom:0,panSpeed:1,rotateSpeed:1,zoomSpeed:1,screenSpacePanning:!0,target:null}},Xn=function(){return Object.assign(xt(),{material:"",geometry:""})},Mf=function(){return Object.assign(Xn(),{type:"Sprite",material:"",center:{x:.5,y:.5}})},Sf=function(){return Object.assign(Xn(),{type:v.MESH,geometry:"",material:""})},wf=function(){return Object.assign(Xn(),{type:v.POINTS,geometry:"",material:""})},Of=function(){return Object.assign(Xn(),{type:v.LINE,geometry:"",material:""})},_f=function(){return Object.assign(xt(),{type:v.GROUP,children:[]})},ja=function(){return{vid:"",type:"Pass"}},Tf=function(){return Object.assign(ja(),{type:v.SMAAPASS})},Rf=function(){return Object.assign(ja(),{type:v.UNREALBLOOMPASS,strength:1.5,threshold:0,radius:0})},Af=function(){return{vid:"",type:v.SCRIPTANIMATION,target:"",attribute:"",script:{name:""}}},Lf=function(){return{vid:"",type:v.KEYFRAMEANIMATION,target:"",attribute:""}},Ts=function(){return Object.assign(xt(),{type:v.CSS3DOBJECT,element:""})},Pf=function(){return Object.assign(Ts(),{type:v.CSS3DPLANE})},xf=function(){return Object.assign(Ts(),{type:v.CSS3DSPRITE,rotation2D:0})},hr={[v.IMAGETEXTURE]:nf,[v.CUBETEXTURE]:of,[v.CANVASTEXTURE]:af,[v.VIDEOTEXTURE]:sf,[v.MESHBASICMATERIAL]:lf,[v.MESHSTANDARDMATERIAL]:cf,[v.MESHPHONGMATERIAL]:uf,[v.SPRITEMATERIAL]:pf,[v.LINEBASICMATERIAL]:df,[v.POINTSMATERIAL]:ff,[v.SHADERMATERIAL]:hf,[v.AMBIENTLIGHT]:Fd,[v.SPOTLIGHT]:Hd,[v.POINTLIGHT]:Bd,[v.DIRECTIONALLIGHT]:Gd,[v.BOXGEOMETRY]:Ud,[v.SPHEREGEOMETRY]:Vd,[v.LOADGEOMETRY]:Yd,[v.CUSTOMGEOMETRY]:qd,[v.PLANEGEOMETRY]:zd,[v.CIRCLEGEOMETRY]:Kd,[v.CONEGEOMETRY]:Wd,[v.CYLINDERGEOMETRY]:Xd,[v.EDGESGEOMETRY]:Jd,[v.LINECURVEGEOMETRY]:Zd,[v.SPLINECURVEGEOMETRY]:ef,[v.CUBICBEZIERCURVEGEOMETRY]:tf,[v.QUADRATICBEZIERCURVEGEOMETRY]:rf,[v.DODECAHEDRONGEOMETRY]:Qd,[v.SPRITE]:Mf,[v.LINE]:Of,[v.MESH]:Sf,[v.POINTS]:wf,[v.GROUP]:_f,[v.CSS3DOBJECT]:Ts,[v.CSS3DSPRITE]:xf,[v.CSS3DPLANE]:Pf,[v.PERSPECTIVECAMERA]:mf,[v.ORTHOGRAPHICCAMERA]:gf,[v.WEBGLRENDERER]:yf,[v.CSS3DRENDERER]:vf,[v.SCENE]:bf,[v.TRNASFORMCONTROLS]:Ef,[v.ORBITCONTROLS]:Cf,[v.SMAAPASS]:Tf,[v.UNREALBLOOMPASS]:Rf,[v.SCRIPTANIMATION]:Af,[v.KEYFRAMEANIMATION]:Lf};var L;(function(e){e.CAMERA="camera",e.LIGHT="light",e.GEOMETRY="geometry",e.TEXTURE="texture",e.MATERIAL="material",e.RENDERER="renderer",e.SCENE="scene",e.SPRITE="sprite",e.CONTROLS="controls",e.LINE="line",e.MESH="mesh",e.POINTS="points",e.GROUP="group",e.CSS3D="css3D",e.PASS="pass",e.MODIFIER="modifier",e.ANIMATION="animation"})(L||(L={}));var Rs;(function(e){e[e.CAMERA=L.CAMERA]="CAMERA",e[e.LIGHT=L.LIGHT]="LIGHT",e[e.SCENE=L.SCENE]="SCENE",e[e.SPRITE=L.SPRITE]="SPRITE",e[e.LINE=L.LINE]="LINE",e[e.MESH=L.MESH]="MESH",e[e.POINTS=L.POINTS]="POINTS",e[e.GROUP=L.GROUP]="GROUP",e[e.CSS3D=L.CSS3D]="CSS3D"})(Rs||(Rs={}));const Qn={[v.IMAGETEXTURE]:L.TEXTURE,[v.CUBETEXTURE]:L.TEXTURE,[v.CANVASTEXTURE]:L.TEXTURE,[v.VIDEOTEXTURE]:L.TEXTURE,[v.MESHBASICMATERIAL]:L.MATERIAL,[v.MESHSTANDARDMATERIAL]:L.MATERIAL,[v.MESHPHONGMATERIAL]:L.MATERIAL,[v.SPRITEMATERIAL]:L.MATERIAL,[v.LINEBASICMATERIAL]:L.MATERIAL,[v.POINTSMATERIAL]:L.MATERIAL,[v.SHADERMATERIAL]:L.MATERIAL,[v.AMBIENTLIGHT]:L.LIGHT,[v.SPOTLIGHT]:L.LIGHT,[v.POINTLIGHT]:L.LIGHT,[v.DIRECTIONALLIGHT]:L.LIGHT,[v.BOXGEOMETRY]:L.GEOMETRY,[v.SPHEREGEOMETRY]:L.GEOMETRY,[v.LOADGEOMETRY]:L.GEOMETRY,[v.CUSTOMGEOMETRY]:L.GEOMETRY,[v.PLANEGEOMETRY]:L.GEOMETRY,[v.CIRCLEGEOMETRY]:L.GEOMETRY,[v.CONEGEOMETRY]:L.GEOMETRY,[v.CIRCLEGEOMETRY]:L.GEOMETRY,[v.EDGESGEOMETRY]:L.GEOMETRY,[v.CYLINDERGEOMETRY]:L.GEOMETRY,[v.LINECURVEGEOMETRY]:L.GEOMETRY,[v.SPLINECURVEGEOMETRY]:L.GEOMETRY,[v.CUBICBEZIERCURVEGEOMETRY]:L.GEOMETRY,[v.QUADRATICBEZIERCURVEGEOMETRY]:L.GEOMETRY,[v.SPRITE]:L.SPRITE,[v.LINE]:L.LINE,[v.MESH]:L.MESH,[v.POINTS]:L.POINTS,[v.GROUP]:L.GROUP,[v.CSS3DOBJECT]:L.CSS3D,[v.CSS3DSPRITE]:L.CSS3D,[v.CSS3DPLANE]:L.CSS3D,[v.PERSPECTIVECAMERA]:L.CAMERA,[v.ORTHOGRAPHICCAMERA]:L.CAMERA,[v.WEBGLRENDERER]:L.RENDERER,[v.SCENE]:L.SCENE,[v.TRNASFORMCONTROLS]:L.CONTROLS,[v.ORBITCONTROLS]:L.CONTROLS,[v.SMAAPASS]:L.PASS,[v.UNREALBLOOMPASS]:L.PASS,[v.SCRIPTANIMATION]:L.ANIMATION,[v.KEYFRAMEANIMATION]:L.ANIMATION},$=function(e,t,r=!0,n=!0){if(!hr[e])return console.error(`type: ${e} can not be found in configList.`),{vid:"",type:e};const i=(o,a)=>{for(const c in a){if(o[c]===void 0){!r&&(o[c]=a[c]),r&&n&&console.warn(`'${e}' config can not set key: ${c}`);continue}typeof a[c]=="object"&&a[c]!==null&&!Array.isArray(a[c])?(o[c]===null&&(o[c]=od({},a[c])),i(o[c],a[c])):o[c]=a[c]}},s=hr[e]();if([v.SHADERMATERIAL].includes(e)){const o=fr.generateConfig((t==null?void 0:t.shader)||"defaultShader"),a=r;r=!1,i(s,o),r=a}if([v.SCRIPTANIMATION,v.KEYFRAMEANIMATION].includes(e)&&(r=!1),s.vid===""&&(s.vid=jd()),t&&i(s,t),$.autoInject&&$.injectEngine){const o=$.injectEngine,a=o.reactiveConfig(s);if($.injectScene&&Qn[s.type]in Rs&&s.type!==v.SCENE){let c=null;typeof $.injectScene=="boolean"?c=o.getObjectConfig(o.scene):typeof $.injectScene=="string"&&(c=o.getConfigBySymbol($.injectScene)),c?c.children.push(s.vid):console.warn("current engine scene can not found it config",o,o.scene)}return a}return s};$.autoInject=!0;$.injectScene=!1;$.injectEngine=null;const Yr=(e,t)=>t===1/0?"Infinity":t===-1/0?"-Infinity":t,ka=(e,t)=>t==="Infinity"?1/0:t==="-Infinity"?-1/0:t,Jn=e=>JSON.parse(JSON.stringify(e,Yr),ka);var $a;(function(e){e.MAPPED="mapped"})($a||($a={}));class If extends ot{constructor(t={}){super();d(this,"structureMap",new Map),d(this,"configMap",new Map),d(this,"resourceMap",new Map),d(this,"configModuleMap",Qn),d(this,"mappingHandler",new Map);const r=this.mappingHandler;r.set(HTMLImageElement,this.HTMLImageElementHandler),r.set(HTMLCanvasElement,this.HTMLCanvasElementHandler),r.set(HTMLVideoElement,this.HTMLVideoElementHandler),r.set(Br,this.Object3DHandler),r.set(HTMLDivElement,this.HTMLDivElementHandler),r.set(HTMLSpanElement,this.HTMLSpanElementHandler);const n=new Map;for(const i in t)n.has(i)&&console.warn(`resourceManager construct params rescource already exist: ${i}, that will be cover.`),n.set(i,t[i]);this.mappingResource(n)}Object3DHandler(t,r){const n=this.structureMap,i=this.configMap,s=this.resourceMap,o=function(a,c){let l=a;s.set(l,c);const u=$(c.type,c,!0,!1);i.set(l,u);const p={type:`${c.type}`,url:l};if(c.geometry){const f=c.geometry;f.computeBoundingBox();const g=f.boundingBox,C=g.getCenter(new z);l=`${a}.geometry`,s.set(l,f);const O=$(v.LOADGEOMETRY,{url:l,position:{x:C.x/(g.max.x-g.min.x)*2,y:C.y/(g.max.y-g.min.y)*2,z:C.z/(g.max.z-g.min.z)*2}});i.set(l,O),p.geometry=l,u.geometry=O.vid}if(c.material){const f=c.material;if(f instanceof Array)p.material=[],u.material=[],f.forEach((g,C,O)=>{l=`${a}.material.${C}`,s.set(l,g);const T=$(g.type,g,!0,!1);i.set(l,T),p.material[C]=l,u.material.push(T.vid)});else{l=`${a}.material`,s.set(l,f);const g=$(f.type,f,!0,!1);i.set(l,g),p.material=l,u.material=g.vid}}if([v.GROUP,v.SCENE].includes(c.type)&&(i.get(p.url).children=[]),c.children.length)if(p.children=[],[v.GROUP,v.SCENE].includes(c.type)){const f=i.get(p.url);c.children.forEach((g,C,O)=>{l=`${a}.children.${C}`,f.children.push(l),p.children[C]=o(l,g)})}else c.children.forEach((f,g,C)=>{l=`${a}.children.${g}`,p.children[g]=o(l,f)});return p};return n.set(t,o(t,r)),this}HTMLImageElementHandler(t,r){return this.resourceMap.set(t,r),this.configMap.set(t,$(v.IMAGETEXTURE,{url:t})),this.structureMap.set(t,t),this}HTMLCanvasElementHandler(t,r){return this.resourceMap.set(t,r),this.configMap.set(t,$(v.CANVASTEXTURE,{url:t})),this.structureMap.set(t,t),this}HTMLVideoElementHandler(t,r){return this.resourceMap.set(t,r),this.configMap.set(t,$(v.VIDEOTEXTURE,{url:t})),this.structureMap.set(t,t),this}HTMLDivElementHandler(t,r){return this.resourceMap.set(t,r),this.configMap.set(t,$(v.CSS3DOBJECT,{element:t})),this.structureMap.set(t,t),this}HTMLSpanElementHandler(t,r){return this.resourceMap.set(t,r),this.configMap.set(t,$(v.CSS3DSPRITE,{element:t})),this.structureMap.set(t,t),this}mappingResource(t){const r=this.structureMap,n=this.configMap,i=this.resourceMap,s=this.mappingHandler,o=(l,u,p)=>Object.getPrototypeOf(p)?s.has(Object.getPrototypeOf(p).constructor)?(s.get(Object.getPrototypeOf(p).constructor).call(this,l,u),!0):o(l,u,Object.getPrototypeOf(p)):!1,a=$.autoInject;$.autoInject=!1;const c={};return t.forEach((l,u)=>{o(u,l,l)?c[u]=this.getResourceConfig(u):(i.set(u,l),r.set(u,u),console.warn("resource manager can not support this resource to generate config",l))}),$.autoInject=a,this.dispatchEvent({type:"mapped",structureMap:r,configMap:n,resourceMap:i,resourceConfig:c}),this}getResourceConfig(t){if(this.structureMap.has(t))if(this.structureMap.get(t)===t){const r=this.configMap.get(t);return r?{[this.configModuleMap[r.type]]:{[r.vid]:Jn(r)}}:{}}else{const r={},n=this.configMap,i=this.configModuleMap,s=this.structureMap.get(t),o=a=>{let c=n.get(a.url),l=i[c.type];if(r[l]||(r[l]={}),r[l][c.vid]=Jn(c),a.geometry&&(c=n.get(a.geometry),l=i[c.type],r[l]||(r[l]={}),r[l][c.vid]=Jn(c)),a.material&&(c=n.get(a.material),l=i[c.type],r[l]||(r[l]={}),r[l][c.vid]=Jn(c)),a.children&&a.children.length)for(const u of a.children)o(u)};return o(s),r}else return console.warn(`resource manager can not found this url resource: ${t}`),{}}hasResource(t){return this.resourceMap.has(t)}remove(t){if(this.structureMap.has(t))if(this.structureMap.get(t)===t){this.structureMap.delete(t),this.configMap.delete(t);const r=this.resourceMap.get(t);return(r==null?void 0:r.dispose)&&r.dispose(),this.resourceMap.delete(t),this}else{const r=this.configMap,n=this.resourceMap,i=this.structureMap.get(t),s=o=>{if(r.delete(o.url),n.delete(o.url),o.geometry&&(r.delete(o.geometry),n.delete(o.geometry)),o.material&&(r.delete(o.material),n.delete(o.material)),o.children&&o.children.length)for(const a of o.children)s(a)};return s(i),this}else return console.warn(`resource manager can not found this url resource: ${t}`),this}dispose(){this.resourceMap.forEach((t,r)=>{t.dispose&&t.dispose()}),this.resourceMap.clear(),this.configMap.clear(),this.structureMap.clear()}}const Df=function(e){if(this.resourceManager)return console.warn("engine has installed resourceManager plugin."),!1;const t=new If(e.resources);return this.resourceManager=t,this.loaderManager&&this.loaderManager.addEventListener("loaded",r=>{this.resourceManager.mappingResource(r.resourceMap)}),this.registerResources=r=>{const n=new Map;return Object.keys(r).forEach(i=>{n.set(i,r[i])}),this.resourceManager.mappingResource(n),this},this.addEventListener("dispose",()=>{this.resourceManager.dispose()}),!0};function Zn(e,t){return e in t}const at=class extends ot{constructor(e){super();d(this,"ignoreAttribute"),this.ignoreAttribute=e||{}}static proxyGetter(e,t,r){return Reflect.get(e,t,r)}static proxySetter(e,t,r,n,i,s){if(typeof t=="symbol")return Reflect.set(e,t,r,n);let o;if(e[t]===void 0){if(typeof r=="object"&&r!==null&&!at.proxyWeakSet.has(r)&&!i.ignoreAttribute[t]){const a=s.concat([t]);r=i.proxyExtends(r,a)}o=Reflect.set(e,t,r),i.broadcast({operate:"add",path:s.concat([]),key:t,value:r})}else{if(typeof r=="object"&&r!==null&&!at.proxyWeakSet.has(r)&&!i.ignoreAttribute[t]){const a=s.concat([t]);r=i.proxyExtends(r,a)}if(o=Reflect.set(e,t,r),Array.isArray(e)&&t==="length"){const a=e[Symbol.for(at.arraySymobl)],c=a.length-e.length;if(c>0){let l=0,u=0;for(const p of a)if(!e.includes(p)&&(i.broadcast({operate:"delete",path:s.concat([]),key:u.toString(),value:p}),l+=1,u+=1,l===c))break}return e[Symbol.for(this.arraySymobl)]=e.concat([]),o}i.broadcast({operate:"set",path:s.concat([]),key:t,value:r})}return o}static proxyDeleter(e,t,r,n){const i=e[t],s=Reflect.deleteProperty(e,t);return Array.isArray(e)||typeof t=="symbol"||r.broadcast({operate:"delete",path:n.concat([]),key:t,value:i}),s}proxyExtends(e,t=[]){if(at.proxyWeakSet.has(e)||typeof e!="object")return e;const r={get:at.proxyGetter,set:(i,s,o,a)=>at.proxySetter(i,s,o,a,this,t),deleteProperty:(i,s)=>at.proxyDeleter(i,s,this,t)};if(typeof e=="object"&&e!==null)for(const i in e){const s=t.concat([i]);let o=this.ignoreAttribute,a=!1;for(const c of s.slice(1)){if(o[c]===!0){a=!0;break}o[c]&&(o=o[c])}a||Zn(i,e)&&typeof e[i]=="object"&&e[i]!==null&&(Array.isArray(e[i])&&(e[i][Symbol.for(at.arraySymobl)]=e[i].concat([])),e[i]=this.proxyExtends(e[i],s))}const n=new Proxy(e,r);return at.proxyWeakSet.add(n),n}broadcast({operate:e,path:t,key:r,value:n}){return{__poto__:!0,length:!0}[r]?this:(this.dispatchEvent({type:"broadcast",notice:{operate:e,path:t,key:r,value:n}}),this)}};let As=at;d(As,"proxyWeakSet",new WeakSet);d(As,"arraySymobl","vis.array");class Nf{constructor(){d(this,"rule"),d(this,"memberSet"),this.rule=function(){},this.memberSet=new Set}apply(t){return this.memberSet.add(t),this}cancel(t){return this.memberSet.delete(t),this}setRule(t){return this.rule=t,this}translate(t){const r=this.rule;return this.memberSet.forEach(n=>{r(t,n)}),this}}class lt{constructor(t,r,n){d(this,"data"),d(this,"broadcast"),d(this,"translater"),this.translater=new Nf().setRule(t),this.broadcast=new As(n),this.data=this.broadcast.proxyExtends(r),this.broadcast.addEventListener("broadcast",i=>{this.translater.translate(i.notice)})}getData(){return this.data}setData(t){return this.data=t,this}proxyData(t){return this.data=this.broadcast.proxyExtends(t),this.data}existSymbol(t){return Boolean(this.data[t])}addConfig(t){return this.data[t.vid]=t,this}getConfig(t){return this.data[t]}removeConfig(t){const r=this.data;r[t]!==void 0&&delete r[t]}addCompiler(t){return t.setTarget(this.data),t.compileAll(),this.translater.apply(t),this}toJSON(t=!0){return t?JSON.stringify(this.exportConfig(),Yr):JSON.stringify(this.data,Yr)}exportConfig(t=!0){if(t){const r=this.data,n={},i={},s=(o,a,c={})=>{for(const l in o){if(["vid","type"].includes(l)){c[l]=o[l];continue}if(typeof o[l]=="object"&&o[l]!==null){if(Array.isArray(o[l])){if(!o[l].length)continue;c[l]=o[l].map(u=>typeof u=="object"&&u!==null?JSON.parse(JSON.stringify(u)):u);continue}c[l]={},a[l]?(s(o[l],a[l],c[l]),Object.keys(c[l]).length===0&&delete c[l]):c[l]=JSON.parse(JSON.stringify(o[l]))}else a[l]!==o[l]&&(c[l]=o[l])}};for(const o of Object.values(r)){if(!i[o.type]){if(!hr[o.type]){console.error(`can not font some config with: ${o.type}`);continue}i[o.type]=hr[o.type]()}n[o.vid]={},s(o,i[o.type],n[o.vid])}return n}else return JSON.parse(JSON.stringify(this.data,Yr),ka)}load(t){const r=this.data,n={},i=(s,o)=>{for(const a in o)typeof s[a]=="object"&&s[a]!==null&&typeof o[a]=="object"&&o[a]!==null?i(s[a],o[a]):s[a]===void 0&&(s[a]=o[a])};for(const s in t){const o=t[s];if(!n[o.type]){if(!hr[o.type]){console.error(`can not font some config with: ${o.type}`);continue}n[o.type]=hr[o.type]()}i(o,n[o.type]),r[s]=o}return this}remove(t){const r=this.data;for(const n in t)r[n]!==void 0&&delete r[n];return this}getModule(){return this.MODULE}}const jf=function(e,t){const{operate:r,key:n,path:i,value:s}=e;if(r==="add"){X(n)&&t.add(n,s);return}if(r==="set"){const o=i.concat([]),a=o.shift()||n;a&&X(a)?t.set(a,o,n,s):console.warn(`texture rule vid is illeage: '${a}'`);return}if(r==="delete"){const o=i[0]||n;X(o)?t.remove(o):console.warn(`texture rule vid is illeage: '${o}'`);return}};class kf extends lt{constructor(t,r){!t&&(t={});super(jf,t,r);d(this,"MODULE",L.TEXTURE)}}const $f=function(e,t){const{operate:r,key:n,path:i,value:s}=e;if(r==="add"){X(n)&&t.add(n,s);return}if(r==="set"){if(X(n)&&!i.length&&typeof s=="object"){t.cover(n,s);return}const o=i.concat([]),a=o.shift();a&&X(a)?t.set(a,o,n,s):console.warn(`material rule vid is illeage: '${a}'`);return}if(r==="delete"){const o=i[0]||n;X(o)?t.remove(o):console.warn(`texture rule vid is illeage: '${o}'`);return}};class Ff extends lt{constructor(t,r){!t&&(t={});super($f,t,r);d(this,"MODULE",L.MATERIAL)}}class qr extends lt{constructor(t,r,n){!r&&(r=Object.create(Object.prototype));super(t,r,n);d(this,"MODULE",L.GROUP)}}const ei={[v.WEBGLRENDERER]:!0,[v.CSS3DRENDERER]:!0,[v.SCENE]:!0},yt=function(e,t){const{operate:r,key:n,path:i,value:s}=e;if(n==="parent")return;const o=i.concat([]);let a=n,c=n;if(o.length&&(a=o.shift(),o.length&&(c=o[0])),c==="children"){if(r==="add"){t.addChildren(a,s);return}if(r==="delete"){t.removeChildren(a,s);return}}if(c.toLocaleUpperCase()in zr){const l=Number(o.length>2?o[1]:n);if(r==="add"){if(Number.isInteger(Number(n))&&o.length===1){t.addEvent(a,c,s);return}if(!Number.isInteger(l)){console.error(`${t.MODULE} rule: event analysis error.`,e);return}t.updateEvent(a,c,l);return}if(r==="set"){if(!Number.isInteger(l)){console.error(`${t.MODULE} rule: event analysis error.`,e);return}t.updateEvent(a,c,l);return}if(r==="delete"){if(!Number.isInteger(l)){console.error(`${t.MODULE} rule: event analysis error.`,e);return}t.removeEvent(a,c,s);return}}if(r==="add"&&(X(n)||ei[n])){t.add(n,s);return}if(r==="set"){if((a&&X(n)||ei[a])&&!i.length&&typeof s=="object"){t.cover(a,s);return}a&&X(a)||ei[a]?t.set(a,o,n,s):console.warn(`${t.MODULE} rule vid is illeage: '${a}'`);return}if(r==="delete"){(X(n)||ei[n])&&t.remove(n,s);return}},Bf=function(e,t){yt(e,t)};class Hf extends qr{constructor(t,r){!t&&(t={});super(Bf,t,r);d(this,"MODULE",L.LIGHT)}}const Gf=function(e,t){const{operate:r,key:n,path:i,value:s}=e,o=i.length?i[0]:n,a=i.length>=2?i[1]:n,c=i.length?i.concat([]).slice(1):[];if(r==="add"){if(X(o)){if(a==="groups")if(Number.isInteger(Number(n))){t.addGroup(o,s);return}else{console.warn(`geometry rule illeage groups index: ${n}`);return}c.length>0?t.set(o,c,s):t.add(o,s)}else console.warn(`geometry rule vid is illeage: '${n}'`);return}if(r==="set"){if(o&&X(o)){if(a==="groups"){const l=Number(i[2]||n);if(!Number.isInteger(l)){console.warn(`geometry rule illeage groups index: ${l}`);return}t.updateGroup(o,l);return}t.set(o,c,s)}else console.warn(`geometry rule vid is illeage: '${o}'`);return}if(r==="delete"){if(X(o)){if(a==="groups"){const l=Number(i[2]||n);if(!Number.isInteger(l)){console.warn(`geometry rule illeage groups index: ${l}`);return}t.removeGroup(o,l)}t.remove(o)}else console.warn(`geometry rule vid is illeage: '${o}'`);return}};class Uf extends lt{constructor(t,r){!t&&(t={});super(Gf,t,r);d(this,"MODULE",L.GEOMETRY)}}const Vf=function(e,t){yt(e,t)};class zf extends qr{constructor(t,r){!t&&(t={});super(Vf,t,r);d(this,"MODULE",L.CAMERA)}}const Kf=function(e,t){const{operate:r,key:n,value:i}=e,s=e.path.concat([]);if(r==="add"){t.add(i);return}if(r==="set"){if(X(n)||n===v.WEBGLRENDERER){t.add(i);return}let o=n;s.length&&(o=s.shift()),X(o)||o===v.WEBGLRENDERER?t.assembly(o,a=>{a.process({path:s.concat([]),key:n,value:i})}):console.warn(`renderer rule can not support this vid: ${o}`);return}};class Wf extends lt{constructor(t,r){!t&&(t={});super(Kf,t,r);d(this,"MODULE",L.RENDERER)}}const Yf=function(e,t){yt(e,t)};class qf extends qr{constructor(t,r){!t&&(t={});super(Yf,t,r);d(this,"MODULE",L.SCENE)}}const Xf=function(e,t){const{operate:r,key:n,path:i,value:s}=e;if(r==="set"){const o=i.concat([]),a=o.shift();a?t.set(a,o,n,s):n?t.setAll(n):console.warn(`controls rule can not found controls type in set operate: ${a}`)}};class Qf extends lt{constructor(t,r){!t&&(t={});super(Xf,t,r);d(this,"MODULE",L.CONTROLS)}}class ti extends lt{constructor(t,r,n){!r&&(r=Object.create(Object.prototype));super(t,r,n);d(this,"MODULE",L.MESH)}}const Jf=function(e,t){e.key!=="geometry"&&yt(e,t)};class Zf extends ti{constructor(t,r){!t&&(t={});super(Jf,t,r);d(this,"MODULE",L.SPRITE)}}const eh=function(e,t){yt(e,t)};class th extends ti{constructor(t,r){!t&&(t={});super(eh,t,r);d(this,"MODULE",L.LINE)}}const rh=function(e,t){yt(e,t)};class nh extends ti{constructor(t,r){!t&&(t={});super(rh,t,r);d(this,"MODULE",L.MESH)}}const ih=function(e,t){yt(e,t)};class sh extends ti{constructor(t,r){!t&&(t={});super(ih,t,r);d(this,"MODULE",L.POINTS)}}const oh=function(e,t){yt(e,t)};class ah extends qr{constructor(t,r){!t&&(t={});super(oh,t,r);d(this,"MODULE",L.GROUP)}}const lh=function(e,t){const{operate:r,key:n,value:i}=e;if(r==="add"){t.add(i);return}r==="delete"&&t.remove(i.vid)};class ch extends lt{constructor(t,r){!t&&(t={});super(lh,t,r);d(this,"MODULE",L.PASS)}}const uh=function(e,t){const{operate:r,key:n,path:i,value:s}=e;if(r==="add"){X(n)?t.add(n,s):console.warn(`animation rule vid is illeage: '${n}'`);return}if(r==="set"){const a=i.concat([]).shift();a&&X(a)?t.update(a):console.warn(`animation rule vid is illeage: '${a}'`);return}if(r==="delete"){X(n)?t.remove(s):console.warn(`animation rule vid is illeage: '${n}'`);return}};class ph extends lt{constructor(t,r){!t&&(t={});super(uh,t,r);d(this,"MODULE",L.ANIMATION)}}const dh=function(e,t){yt(e,t)};class fh extends qr{constructor(t,r){!t&&(t={});super(dh,t,r);d(this,"MODULE",L.CSS3D)}}const Ls=class{constructor(e){d(this,"cameraDataSupport",new zf),d(this,"lightDataSupport",new Hf),d(this,"geometryDataSupport",new Uf),d(this,"textureDataSupport",new kf),d(this,"materialDataSupport",new Ff),d(this,"rendererDataSupport",new Wf),d(this,"sceneDataSupport",new qf),d(this,"controlsDataSupport",new Qf),d(this,"spriteDataSupport",new Zf),d(this,"lineDataSupport",new th),d(this,"meshDataSupport",new nh),d(this,"pointsDataSupport",new sh),d(this,"groupDataSupport",new ah),d(this,"css3DDataSupport",new fh),d(this,"passDataSupport",new ch),d(this,"animationDataSupport",new ph),d(this,"dataSupportMap"),e&&Object.keys(e).forEach(r=>{this[r]!==void 0&&(this[r]=e[r])});const t=new Map;Object.keys(this).forEach(r=>{const n=this[r];n instanceof lt&&t.set(n.MODULE,n)}),this.dataSupportMap=t}getDataSupport(e){return this.dataSupportMap.has(e)?this.dataSupportMap.get(e):(console.warn(`can not found this type in dataSupportManager: ${e}`),null)}getSupportData(e){return this.dataSupportMap.has(e)?this.dataSupportMap.get(e).getData():(console.warn(`can not found this type in dataSupportManager: ${e}`),null)}setSupportData(e,t){return this.dataSupportMap.has(e)?this.dataSupportMap.get(e).setData(t):console.warn(`can not found this type in dataSupportManager: ${e}`),this}getConfigBySymbol(e){const t=this.dataSupportMap.values();for(const r of t){const n=r.getConfig(e);if(n)return n}return null}removeConfigBySymbol(...e){const t=this.dataSupportMap.values();for(const r of e)for(const n of t)if(n.existSymbol(r)){n.removeConfig(r);break}return this}getModuleBySymbol(e){const t=this.dataSupportMap.values();for(const r of t)if(r.existSymbol(e))return r.MODULE;return null}applyConfig(...e){for(const t of e){const r=Ls.configModuleMap[t.type];r?this.dataSupportMap.get(r).addConfig(t):console.warn(`dataSupportManager can not found this config module: ${t.type}`)}return this}reactiveConfig(e){const t=Ls.configModuleMap[e.type];return t?this.dataSupportMap.get(t).addConfig(e).getConfig(e.vid):(console.warn(`dataSupportManager can not found this config module: ${e.type}`),e)}load(e){return this.dataSupportMap.forEach((r,n)=>{e[n]&&r.load(e[n])}),this}remove(e){return this.dataSupportMap.forEach((r,n)=>{e[n]&&r.remove(e[n])}),this}toJSON(e={},t=!0){return JSON.stringify(this.exportConfig(e,t),Yr)}exportConfig(e={},t=!0){return this.dataSupportMap.forEach((n,i)=>{e[i]=n.exportConfig(t)}),e}};let Fa=Ls;d(Fa,"configModuleMap",Qn);const hh=function(e){if(this.dataSupportManager)return console.warn("engine has installed dataSupportManager plugin."),!1;const t=new Fa(e);return this.dataSupportManager=t,this.applyConfig=function(...r){return this.dataSupportManager.applyConfig(...r),this},this.reactiveConfig=function(r){return this.dataSupportManager.reactiveConfig(r)},this.getConfigBySymbol=function(r){return this.dataSupportManager.getConfigBySymbol(r)},this.removeConfigBySymbol=function(...r){return this.dataSupportManager.removeConfigBySymbol(...r),this},this.toJSON=function(){if(this.loaderManager){const r={assets:JSON.parse(this.loaderManager.toJSON())};return this.dataSupportManager.toJSON(r)}return this.dataSupportManager.toJSON()},this.exportConfig=function(){let r={};return this.loaderManager&&(r={assets:this.loaderManager.exportConfig()}),this.dataSupportManager.exportConfig(r)},this.completeSet.add(()=>{const r=this.dataSupportManager.getDataSupport(L.RENDERER).getData();r.WebGLRenderer||(r.WebGLRenderer=$(v.WEBGLRENDERER));const n=this.dataSupportManager.getDataSupport(L.CONTROLS).getData();this.transformControls&&(n[v.TRNASFORMCONTROLS]||(n[v.TRNASFORMCONTROLS]=$(v.TRNASFORMCONTROLS))),this.orbitControls&&(n[v.ORBITCONTROLS]||(n[v.ORBITCONTROLS]=$(v.ORBITCONTROLS)))}),!0};class De{static applyConfig(t,r,n={},i){const s=Object.assign({vid:!0,type:!0},n),o=(a,c)=>{for(const l in a)if(!s[l]){if(typeof a[l]=="object"&&typeof a[l]!==null&&Zn(l,c)){o(a[l],c[l]);continue}Zn(l,c)&&(c[l]=a[l])}};o(t,r),i&&i()}constructor(){}}const mh={name:"linearTime",multiply:1},gh=function(e,t,r,n){return t[r]===void 0?(console.error(`object not exist attribute: ${r}`,t),i=>{}):typeof t[r]!="number"?(console.error("object attribute is not typeof number.",t,r),i=>{}):i=>{t[r]+=i.delta*n.multiply}},vt=class{static generateConfig(e,t){if(!vt.configLibrary.has(e))return console.warn(`event library can not found config by name: ${e}`),{name:""};const r=(i,s)=>{for(const o in s)i[o]!==void 0&&(typeof s[o]=="object"&&s[o]!==null&&!Array.isArray(s[o])?r(i[o],s[o]):i[o]=s[o])},n=JSON.parse(JSON.stringify(vt.configLibrary.get(e)));return r(n,t),n}static generateScript(e,t,r,n){return vt.generatorLibrary.has(n.name)?vt.generatorLibrary.get(n.name)(e,t,r,n):(console.error(`event library can not found generator by name: ${n.name}`),()=>{})}static has(e){return vt.configLibrary.has(e)}};let zt=vt;d(zt,"configLibrary",new Map);d(zt,"generatorLibrary",new Map);d(zt,"register",function(e,t){vt.configLibrary.has(e.name)&&console.warn(`EventLibrary has already exist this event generator: ${e.name}, that will be cover.`),vt.configLibrary.set(e.name,JSON.parse(JSON.stringify(e))),vt.generatorLibrary.set(e.name,t)});zt.register(mh,gh);class yh extends De{constructor(){super();d(this,"MODULE",L.ANIMATION),d(this,"target",{}),d(this,"engine"),d(this,"objectMapSet",new Set),d(this,"scriptAniSymbol","vis.scriptAni")}linkObjectMap(...t){for(const r of t)this.objectMapSet.has(r)||this.objectMapSet.add(r);return this}linkTextureMap(t){return this.objectMapSet.add(t),this}linkMaterialMap(t){return this.objectMapSet.add(t),this}getObject(t){for(const r of this.objectMapSet)if(r.has(t))return r.get(t);return console.error(`animation compiler can not found object which vid: ${t}`),{}}add(t,r){const n=this.engine.renderManager;let i=this.getObject(r.target);const s=r.attribute.split(".");s.shift();const o=s.pop();for(const a of s){if(i[a]===void 0){console.error(`animaton compiler: target object can not found key: ${a}`,i);break}i=i[a]}if(r.type===v.SCRIPTANIMATION){const a=zt.generateScript(this.engine,i,o,r.script);r[Symbol.for(this.scriptAniSymbol)]=a,n.addEventListener("render",a)}else console.warn(`animation compiler can not support this type config: ${r.type}`);return this}update(t){return this.remove(this.target[t]).add(t,this.target[t])}remove(t){return t.type===v.SCRIPTANIMATION&&this.engine.renderManager.removeEventListener("render",t[Symbol.for(this.scriptAniSymbol)]),this}setTarget(t){return this.target=t,this}useEngine(t){return this.engine=t,this}compileAll(){for(const t of Object.values(this.target))this.add(t.vid,t);return this}dispose(t){for(const r of Object.values(this.target))this.remove(r);return this}getObjectSymbol(t){return null}getObjectBySymbol(t){return null}}const vh={name:"openWindow",params:{url:""}},bh=function(e,t){return()=>{window.open(t.params.url)}},Eh={name:"visibleObject",params:{target:"",visible:!0,delay:0}},Ch=function(e,t){const r=t.params,n=e.getObjectBySymbol(r.target);return n?()=>{setTimeout(()=>{n.visible=r.visible},r.delay)}:(console.warn(`basic event visibleObject: can not found vid object: ${r.target}`),()=>{})},Mh={name:"addClass",params:{target:"",className:"",delay:0}},Sh=function(e,t){const r=t.params,n=[];if(r.target==="all")e.scene.traverse(i=>{i instanceof zn&&n.push(i)});else if(Array.isArray(r.target))r.target.forEach(i=>{const s=e.getObjectBySymbol(i);s?n.push(s):console.warn(`basic event AddClass: can not found vid object: ${r.target}`)});else{const i=e.getObjectBySymbol(r.target);if(!i)return console.warn(`basic event AddClass: can not found vid object: ${r.target}`),()=>{};if(!(i instanceof zn))return console.warn("basic event AddClass: object is not a CSS3DObject."),()=>{};n.push(i)}return n.length?()=>{setTimeout(()=>{n.forEach(i=>{i.element.classList.add(r.className)})},r.delay)}:(console.warn(`basic event AddClass: can not found vid object: ${r.target}`),()=>{})};var Ae={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return .5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return e===0?0:Math.pow(1024,e-1)},Out:function(e){return e===1?1:1-Math.pow(2,-10*e)},InOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){return e===0?0:e===1?1:-Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI)},Out:function(e){return e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e-.1)*5*Math.PI)+1},InOut:function(e){return e===0?0:e===1?1:(e*=2,e<1?-.5*Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin((e-1.1)*5*Math.PI)+1)}},Back:{In:function(e){var t=1.70158;return e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},InOut:function(e){var t=1.70158*1.525;return(e*=2)<1?.5*(e*e*((t+1)*e-t)):.5*((e-=2)*e*((t+1)*e+t)+2)}},Bounce:{In:function(e){return 1-Ae.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?Ae.Bounce.In(e*2)*.5:Ae.Bounce.Out(e*2-1)*.5+.5}}},Xr;typeof self=="undefined"&&typeof process!="undefined"&&process.hrtime?Xr=function(){var e=process.hrtime();return e[0]*1e3+e[1]/1e6}:typeof self!="undefined"&&self.performance!==void 0&&self.performance.now!==void 0?Xr=self.performance.now.bind(self.performance):Date.now!==void 0?Xr=Date.now:Xr=function(){return new Date().getTime()};var mr=Xr,wh=function(){function e(){this._tweens={},this._tweensAddedDuringUpdate={}}return e.prototype.getAll=function(){var t=this;return Object.keys(this._tweens).map(function(r){return t._tweens[r]})},e.prototype.removeAll=function(){this._tweens={}},e.prototype.add=function(t){this._tweens[t.getId()]=t,this._tweensAddedDuringUpdate[t.getId()]=t},e.prototype.remove=function(t){delete this._tweens[t.getId()],delete this._tweensAddedDuringUpdate[t.getId()]},e.prototype.update=function(t,r){t===void 0&&(t=mr()),r===void 0&&(r=!1);var n=Object.keys(this._tweens);if(n.length===0)return!1;for(;n.length>0;){this._tweensAddedDuringUpdate={};for(var i=0;i<n.length;i++){var s=this._tweens[n[i]],o=!r;s&&s.update(t,o)===!1&&!r&&delete this._tweens[n[i]]}n=Object.keys(this._tweensAddedDuringUpdate)}return!0},e}(),Qr={Linear:function(e,t){var r=e.length-1,n=r*t,i=Math.floor(n),s=Qr.Utils.Linear;return t<0?s(e[0],e[1],n):t>1?s(e[r],e[r-1],r-n):s(e[i],e[i+1>r?r:i+1],n-i)},Bezier:function(e,t){for(var r=0,n=e.length-1,i=Math.pow,s=Qr.Utils.Bernstein,o=0;o<=n;o++)r+=i(1-t,n-o)*i(t,o)*e[o]*s(n,o);return r},CatmullRom:function(e,t){var r=e.length-1,n=r*t,i=Math.floor(n),s=Qr.Utils.CatmullRom;return e[0]===e[r]?(t<0&&(i=Math.floor(n=r*(1+t))),s(e[(i-1+r)%r],e[i],e[(i+1)%r],e[(i+2)%r],n-i)):t<0?e[0]-(s(e[0],e[0],e[1],e[1],-n)-e[0]):t>1?e[r]-(s(e[r],e[r],e[r-1],e[r-1],n-r)-e[r]):s(e[i?i-1:0],e[i],e[r<i+1?r:i+1],e[r<i+2?r:i+2],n-i)},Utils:{Linear:function(e,t,r){return(t-e)*r+e},Bernstein:function(e,t){var r=Qr.Utils.Factorial;return r(e)/r(t)/r(e-t)},Factorial:function(){var e=[1];return function(t){var r=1;if(e[t])return e[t];for(var n=t;n>1;n--)r*=n;return e[t]=r,r}}(),CatmullRom:function(e,t,r,n,i){var s=(r-e)*.5,o=(n-t)*.5,a=i*i,c=i*a;return(2*t-2*r+s+o)*c+(-3*t+3*r-2*s-o)*a+s*i+t}}},Oh=function(){function e(){}return e.nextId=function(){return e._nextId++},e._nextId=0,e}(),Ba=new wh,Oe=function(){function e(t,r){r===void 0&&(r=Ba),this._object=t,this._group=r,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=Ae.Linear.None,this._interpolationFunction=Qr.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=Oh.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return e.prototype.getId=function(){return this._id},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isPaused=function(){return this._isPaused},e.prototype.to=function(t,r){return this._valuesEnd=Object.create(t),r!==void 0&&(this._duration=r),this},e.prototype.duration=function(t){return this._duration=t,this},e.prototype.start=function(t){if(this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var r in this._valuesStartRepeat)this._swapEndStartRepeatValues(r),this._valuesStart[r]=this._valuesStartRepeat[r]}return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=t!==void 0?typeof t=="string"?mr()+parseFloat(t):t:mr(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},e.prototype._setupProperties=function(t,r,n,i){for(var s in n){var o=t[s],a=Array.isArray(o),c=a?"array":typeof o,l=!a&&Array.isArray(n[s]);if(!(c==="undefined"||c==="function")){if(l){var u=n[s];if(u.length===0)continue;u=u.map(this._handleRelativeValue.bind(this,o)),n[s]=[o].concat(u)}if((c==="object"||a)&&o&&!l){r[s]=a?[]:{};for(var p in o)r[s][p]=o[p];i[s]=a?[]:{},this._setupProperties(o,r[s],n[s],i[s])}else typeof r[s]=="undefined"&&(r[s]=o),a||(r[s]*=1),l?i[s]=n[s].slice().reverse():i[s]=r[s]||0}}},e.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},e.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},e.prototype.pause=function(t){return t===void 0&&(t=mr()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=t,this._group&&this._group.remove(this),this)},e.prototype.resume=function(t){return t===void 0&&(t=mr()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=t-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this)},e.prototype.stopChainedTweens=function(){for(var t=0,r=this._chainedTweens.length;t<r;t++)this._chainedTweens[t].stop();return this},e.prototype.group=function(t){return this._group=t,this},e.prototype.delay=function(t){return this._delayTime=t,this},e.prototype.repeat=function(t){return this._initialRepeat=t,this._repeat=t,this},e.prototype.repeatDelay=function(t){return this._repeatDelayTime=t,this},e.prototype.yoyo=function(t){return this._yoyo=t,this},e.prototype.easing=function(t){return this._easingFunction=t,this},e.prototype.interpolation=function(t){return this._interpolationFunction=t,this},e.prototype.chain=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return this._chainedTweens=t,this},e.prototype.onStart=function(t){return this._onStartCallback=t,this},e.prototype.onUpdate=function(t){return this._onUpdateCallback=t,this},e.prototype.onRepeat=function(t){return this._onRepeatCallback=t,this},e.prototype.onComplete=function(t){return this._onCompleteCallback=t,this},e.prototype.onStop=function(t){return this._onStopCallback=t,this},e.prototype.update=function(t,r){if(t===void 0&&(t=mr()),r===void 0&&(r=!0),this._isPaused)return!0;var n,i,s=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(t>s)return!1;r&&this.start(t)}if(this._goToEnd=!1,t<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),i=(t-this._startTime)/this._duration,i=this._duration===0||i>1?1:i;var o=this._easingFunction(i);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,o),this._onUpdateCallback&&this._onUpdateCallback(this._object,i),i===1)if(this._repeat>0){isFinite(this._repeat)&&this._repeat--;for(n in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[n]=="string"&&(this._valuesStartRepeat[n]=this._valuesStartRepeat[n]+parseFloat(this._valuesEnd[n])),this._yoyo&&this._swapEndStartRepeatValues(n),this._valuesStart[n]=this._valuesStartRepeat[n];return this._yoyo&&(this._reversed=!this._reversed),this._repeatDelayTime!==void 0?this._startTime=t+this._repeatDelayTime:this._startTime=t+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var a=0,c=this._chainedTweens.length;a<c;a++)this._chainedTweens[a].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},e.prototype._updateProperties=function(t,r,n,i){for(var s in n)if(r[s]!==void 0){var o=r[s]||0,a=n[s],c=Array.isArray(t[s]),l=Array.isArray(a),u=!c&&l;u?t[s]=this._interpolationFunction(a,i):typeof a=="object"&&a?this._updateProperties(t[s],o,a,i):(a=this._handleRelativeValue(o,a),typeof a=="number"&&(t[s]=o+(a-o)*i))}},e.prototype._handleRelativeValue=function(t,r){return typeof r!="string"?r:r.charAt(0)==="+"||r.charAt(0)==="-"?t+parseFloat(r):parseFloat(r)},e.prototype._swapEndStartRepeatValues=function(t){var r=this._valuesStartRepeat[t],n=this._valuesEnd[t];typeof n=="string"?this._valuesStartRepeat[t]=this._valuesStartRepeat[t]+parseFloat(n):this._valuesStartRepeat[t]=this._valuesEnd[t],this._valuesEnd[t]=r},e}(),ct=Ba;ct.getAll.bind(ct);ct.removeAll.bind(ct);ct.add.bind(ct);ct.remove.bind(ct);ct.update.bind(ct);var bt;(function(e){e.ELN="ELN",e.EQI="EQI",e.EQO="EQO",e.EASING_LINEAR_NONE="EASING_LINEAR_NONE",e.EASING_QUARTIC_IN="EASING_QUARTIC_IN",e.EASING_QUARTIC_OUT="EASING_QUARTIC_OUT",e.EASING_QUARTIC_INOUT="EASING_QUARTIC_INOUT",e.EASING_QUADRATIC_IN="EASING_QUADRATIC_IN",e.EASING_QUADRATIC_OUT="EASING_QUADRATIC_OUT",e.EASING_QUADRATIC_INOUT="EASING_QUADRATIC_INOUT"})(bt||(bt={}));const _e={ELN:Ae.Linear.None,EQI:Ae.Quartic.In,EQO:Ae.Quartic.Out,EASING_LINEAR_NONE:Ae.Linear.None,EASING_QUARTIC_IN:Ae.Quartic.In,EASING_QUARTIC_OUT:Ae.Quartic.Out,EASING_QUARTIC_INOUT:Ae.Quartic.InOut,EASING_QUADRATIC_IN:Ae.Quadratic.In,EASING_QUADRATIC_OUT:Ae.Quadratic.Out,EASING_QUADRATIC_INOUT:Ae.Quadratic.InOut},_h={name:"moveTo",params:{target:"",position:{x:0,y:0,z:0},delay:0,duration:1e3,timingFunction:bt.EASING_QUADRATIC_INOUT}},Th=function(e,t){const r=t.params,i=e.compilerManager.getObjectBySymbol(r.target);if(!i)return console.warn(`real time animation moveTO: can not found vid object: ${r.target}`),()=>{};const s=e.renderManager,o=e.dataSupportManager.getConfigBySymbol(r.target);return o?()=>{const a=new Oe(i.position).to(r.position).duration(r.duration).delay(r.delay).easing(_e[r.timingFunction]).start(),c=l=>{a.update()};s.addEventListener("render",c),a.onComplete(()=>{s.removeEventListener("render",c),o.position.x=r.position.x,o.position.y=r.position.y,o.position.z=r.position.z})}:(console.warn(`can not found object config: ${r.target}`),()=>{})},Rh={name:"moveFromTo",params:{target:"",from:{x:0,y:0,z:0},to:{x:10,y:10,z:10},delay:0,duration:1e3,timingFunction:bt.EASING_QUADRATIC_INOUT}},Ah=function(e,t){const r=t.params,i=e.compilerManager.getObjectBySymbol(r.target);if(!i)return console.warn(`real time animation moveTO: can not found vid object: ${r.target}`),()=>{};const s=e.renderManager,o=e.dataSupportManager.getConfigBySymbol(r.target);return o?()=>{i.position.set(r.from.x,r.from.y,r.from.z),i.updateMatrix(),i.updateMatrixWorld();const a=new Oe(i.position).to(r.to).duration(r.duration).delay(r.delay).easing(_e[r.timingFunction]).start(),c=l=>{a.update()};s.addEventListener("render",c),a.onComplete(()=>{s.removeEventListener("render",c),o.position.x=r.to.x,o.position.y=r.to.y,o.position.z=r.to.z})}:(console.warn(`can not found object config: ${r.target}`),()=>{})},Lh={name:"moveSpacing",params:{target:"",spacing:{x:10,y:10,z:10},delay:0,duration:1e3,timingFunction:bt.EASING_QUADRATIC_INOUT}},Ph=function(e,t){const r=t.params,n=e.getObjectBySymbol(r.target);if(!n)return console.warn(`can not found vid object: ${r.target}`),()=>{};const i=e.renderManager,s=e.getConfigBySymbol(r.target);return()=>{const o={x:n.position.x+r.spacing.x,y:n.position.y+r.spacing.y,z:n.position.z+r.spacing.z},a=new Oe(n.position).to(o).duration(r.duration).delay(r.delay).easing(_e[r.timingFunction]).start(),c=l=>{a.update()};i.addEventListener("render",c),a.onComplete(()=>{i.removeEventListener("render",c),s.position.x=o.x,s.position.y=o.y,s.position.z=o.z})}},xh={name:"vector3To",params:{target:"",attribute:".position",props:{x:"x",y:"y",z:"z"},delay:0,duration:500,to:{},timingFunction:bt.EASING_QUADRATIC_INOUT}},Ih=function(e,t){var r,n,i;const s=t.params,o=e.compilerManager.getObjectBySymbol(s.target);if(!o)return console.warn(`real time animation vector3To: can not found vid object: ${s.target}`),()=>{};const a=e.renderManager;let c=e.dataSupportManager.getConfigBySymbol(s.target);if(!c)return console.warn(`real time animation vector3To: can not found object config: ${s.target}`),()=>{};const l=s.attribute.split(".");l.shift();let u=o;for(const g of l){if(u[g]===void 0)return console.error(`real time animation vector3To: object can not support key: ${g}`,o),()=>{};u=u[g],c=c[g]}const p=s.props;if(!(p.x in u)||!(p.y in u)||!(p.z in u))return console.error("real time animation vector3To: object can not support props:",u,p),()=>{};if(!(p.x in c)||!(p.y in c)||!(p.z in c))return console.error("real time animation vector3To: config can not support props:",c,p),()=>{};const f={x:(r=s.to.x)!=null?r:u[p.x],y:(n=s.to.y)!=null?n:u[p.y],z:(i=s.to.z)!=null?i:u[p.z]};return()=>{const g=new Oe(u).to(f).duration(s.duration).delay(s.delay).easing(_e[s.timingFunction]).start(),C=O=>{g.update()};a.addEventListener("render",C),g.onComplete(()=>{a.removeEventListener("render",C),c[p.x]=f.x,c[p.y]=f.y,c[p.z]=f.z})}},Dh={name:"focusObject",params:{target:"",space:"world",offset:{x:0,y:0,z:20},delay:0,duration:1e3,timingFunction:bt.EASING_QUADRATIC_INOUT,back:!0}},Nh=function(e,t){const r=t.params,n=e.getObjectBySymbol(r.target),i=e.camera,s=e.getObjectConfig(i),o=e.orbitControls&&e.orbitControls.object===i,a=e.orbitControls.target;return n?n instanceof Br?(s||console.warn("engine current camera can not found config."),()=>{const c=e.renderManager;let l={x:n.position.x+r.offset.x,y:n.position.y+r.offset.y,z:n.position.z+r.offset.z};const u={x:i.position.x,y:i.position.y,z:i.position.z};if(r.space==="local"){const m=new z(r.offset.x,r.offset.y,r.offset.z).applyEuler(n.rotation);l={x:n.position.x+m.x,y:n.position.y+m.y,z:n.position.z+m.z}}const p=new Oe(i.position).to(l).duration(r.duration).delay(r.delay).easing(_e[r.timingFunction]).start();let f;const g={x:i.up.x,y:i.up.y,z:i.up.z};if(r.space==="local"){const m=new z(0,1,0).applyEuler(n.rotation);f=new Oe(i.up).to({x:m.x,y:m.y,z:m.z}).duration(r.duration).delay(r.delay).easing(_e[r.timingFunction]).start()}let C;const O={x:a.x,y:a.y,z:a.z};o&&(C=new Oe(a).to(n.position).duration(r.duration).delay(r.delay).easing(_e[r.timingFunction]).start());let T;o&&r.space==="local"?T=m=>{p.update(),f.update(),C.update()}:o?T=m=>{p.update(),C.update()}:r.space==="local"?T=m=>{p.update(),f.update()}:T=m=>{p.update()},c.addEventListener("render",T),p.onComplete(()=>{if(c.removeEventListener("render",T),s&&(s.position.x=l.x,s.position.y=l.y,s.position.z=l.z),r.back){const m=()=>{const M=new Oe(i.position).to(u).duration(r.duration).delay(r.delay).easing(_e[r.timingFunction]).start();let h;r.space==="local"&&(h=new Oe(i.up).to(g).duration(r.duration).delay(r.delay).easing(_e[r.timingFunction]).start());let y;o&&(y=new Oe(a).to(O).duration(r.duration).delay(r.delay).easing(_e[r.timingFunction]).start());const b=E=>{M.update(),h&&h.update(),y&&y.update()};M.onComplete(()=>{c.removeEventListener("render",b)}),c.addEventListener("render",b),document.removeEventListener("dblclick",m)};document.addEventListener("dblclick",m)}})}):(console.warn(`real time animation focusObject: vid object is not a class of THREE.Object3D: ${r.target}`),()=>{}):(console.warn(`real time animation focusObject: can not found vid object: ${r.target}`),()=>{})},jh={name:"fadeObject",params:{target:"",direction:"out",delay:0,duration:1e3,timingFunction:bt.EASING_QUADRATIC_INOUT,visible:!0}},kh=function(e,t){const r=t.params,n=e.getObjectBySymbol(r.target);if(!n)return console.warn(`real time animation fadeObject: can not found vid object: ${r.target}`),()=>{};const i=e.getObjectConfig(n);if(!i.material)return console.warn(`real time animation fadeObject: target can not support fade: ${r.target}`),()=>{};const s=[],o=[],a=Array.isArray(i.material)?[].concat(i.material):[i.material];for(const c of a){const l=e.getObjectBySymbol(c),u=e.getConfigBySymbol(c);if(!(l instanceof Bn)){console.error(`real time animation fadeObject: object config material is not instanceof Material: ${c}`);continue}if(!u){console.error(`real time animation fadeObject: object config material can not found config: ${c}`);continue}s.push(l),o.push(u)}return()=>{const c=e.renderManager;i.visible=!0,s.forEach((l,u,p)=>{l.transparent=!0,l.opacity=r.direction==="in"?0:1,l.needsUpdate=!0;const f=new Oe(l).to({opacity:r.direction==="in"?1:0}).duration(r.duration).delay(r.delay).easing(_e[r.timingFunction]).start(),g=C=>{f.update()};c.addEventListener("render",g),f.onComplete(()=>{c.removeEventListener("render",g),r.direction==="out"&&r.visible?o[u].visible=!1:r.direction==="in"&&r.visible&&(o[u].visible=!0),o[u].opacity=r.direction==="in"?1:0})})}},$h={name:"showToCamera",params:{target:"",offset:{x:0,y:0,z:-30},delay:0,duration:1e3,timingFunction:bt.EASING_QUADRATIC_INOUT,back:!0}},Fh=function(e,t){const r=t.params,n=e.getObjectBySymbol(r.target),i=e.getConfigBySymbol(r.target),s=e.camera;if(!n)return console.warn(`real time animation showToCamera: can not found vid object: ${r.target}`),()=>{};if(!n)return console.warn(`real time animation showToCamera: can not found vid config: ${r.target}`),()=>{};if(!(n instanceof Br))return console.warn(`real time animation showToCamera: vid object is not a class of THREE.Object3D: ${r.target}`),()=>{};const o=new ga,a=new ma,c=new z;return()=>{const l=e.renderManager;c.set(r.offset.x,r.offset.y,r.offset.z).applyEuler(s.rotation),c.set(s.position.x+c.x,s.position.y+c.y,s.position.z+c.z),o.lookAt(s.position,c,s.up),a.setFromRotationMatrix(o);const u={x:n.position.x,y:n.position.y,z:n.position.z},p={x:n.rotation.x,y:n.rotation.y,z:n.rotation.z},f=new Oe(n.position).to({x:c.x,y:c.y,z:c.z}).duration(r.duration).delay(r.delay).easing(_e[r.timingFunction]).start(),g=new Oe(n.rotation).to({x:a.x,y:a.y,z:a.z}).duration(r.duration).delay(r.delay).easing(_e[r.timingFunction]).start(),C=O=>{f.update(),g.update()};l.addEventListener("render",C),f.onComplete(()=>{if(l.removeEventListener("render",C),i.position.x=c.x,i.position.y=c.y,i.position.z=c.z,i.rotation.x=a.x,i.rotation.y=a.y,i.rotation.z=a.z,r.back){const O=()=>{const T=new Oe(n.position).to(u).duration(r.duration).delay(r.delay).easing(_e[r.timingFunction]).start(),m=new Oe(n.rotation).to(p).duration(r.duration).delay(r.delay).easing(_e[r.timingFunction]).start(),M=h=>{T.update(),m.update()};T.onComplete(()=>{l.removeEventListener("render",M),i.position.x=u.x,i.position.y=u.y,i.position.z=u.z,i.rotation.x=p.x,i.rotation.y=p.y,i.rotation.z=p.z}),l.addEventListener("render",M),document.removeEventListener("dblclick",O)};document.addEventListener("dblclick",O)}})}},Et=class{static generateConfig(e,t){if(!Et.configLibrary.has(e))return console.warn(`event library can not found config by name: ${e}`),{name:""};const r=(i,s)=>{for(const o in s)typeof s[o]=="object"&&s[o]!==null&&!Array.isArray(s[o])?r(i[o],s[o]):i[o]=s[o]},n=JSON.parse(JSON.stringify(Et.configLibrary.get(e)));return r(n,t),n}static generateEvent(e,t){return Et.generatorLibrary.has(e.name)?Et.generatorLibrary.get(e.name)(t,e):(console.error(`event library can not found generator by name: ${e.name}`),()=>{})}static has(e){return Et.configLibrary.has(e)}};let ge=Et;d(ge,"configLibrary",new Map);d(ge,"generatorLibrary",new Map);d(ge,"register",function(e,t){Et.configLibrary.has(e.name)&&console.warn(`EventLibrary has already exist this event generator: ${e.name}, that will be cover.`),Et.configLibrary.set(e.name,JSON.parse(JSON.stringify(e))),Et.generatorLibrary.set(e.name,t)});ge.register(vh,bh);ge.register(Eh,Ch);ge.register(Mh,Sh);ge.register(_h,Th);ge.register(Rh,Ah);ge.register(Lh,Ph);ge.register(xh,Ih);ge.register(Dh,Nh);ge.register(jh,kh);ge.register($h,Fh);const Jr=class extends De{constructor(){super();d(this,"IS_OBJECTCOMPILER",!0),d(this,"target"),d(this,"map"),d(this,"weakMap"),d(this,"objectCacheMap"),d(this,"objectMapSet"),d(this,"filterAttribute",{lookAt:!0,parent:!0,children:!0,pointerdown:!0,pointermove:!0,pointerup:!0,pointerenter:!0,pointerleave:!0,click:!0,dblclick:!0,contextmenu:!0}),d(this,"engine"),this.map=new Map,this.weakMap=new WeakMap,this.objectMapSet=new Set,this.objectCacheMap=new WeakMap}getObject(e){for(const t of this.objectMapSet)if(t.has(e))return t.get(e);return null}mergeFilterAttribute(e){const t=(r,n)=>{for(const i in n){if(r[i]===void 0){r[i]=n[i];continue}typeof n[i]=="object"?t(r[i],n[i]):r[i]=n[i]}};return t(this.filterAttribute,e),this}setLookAt(e,t){if(e===t)return console.error("can not set object lookAt itself."),this;if(!this.map.has(e))return console.error(`${this.MODULE}Compiler: can not found object which vid: ${e}.`),this;const r=this.map.get(e);let n=this.objectCacheMap.get(r);if(n||(n={lookAtTarget:null,updateMatrixWorldFun:null},this.objectCacheMap.set(r,n)),!t)return n.updateMatrixWorldFun?(r.updateMatrixWorld=n.updateMatrixWorldFun,n.lookAtTarget=null,n.updateMatrixWorldFun=null,this):this;const i=this.getObject(t);if(!i)return console.warn(`${this.MODULE}Compiler: can not found this vid mapping object: '${e}'`),this;const s=r.updateMatrixWorld;return n.updateMatrixWorldFun=s,n.lookAtTarget=i.position,r.updateMatrixWorld=o=>{s.bind(r)(o),r.lookAt(n.lookAtTarget)},this}addEvent(e,t,r){if(!this.map.has(e))return console.warn(`${this.MODULE} compiler : No matching vid found: ${e}`),this;if(!ge.has(r.name))return console.warn(`${this.MODULE} compiler: can not support this event: ${r.name}`),this;const n=this.map.get(e),i=ge.generateEvent(r,this.engine),s=Symbol.for(Jr.eventSymbol);return r[s]=i,n.addEventListener(t,i),this}removeEvent(e,t,r){if(!this.map.has(e))return console.warn(`${this.MODULE} compiler: No matching vid found: ${e}`),this;const n=this.map.get(e),i=r[Symbol.for(Jr.eventSymbol)];return i?(n.removeEventListener(t,i),delete r[Symbol.for(Jr.eventSymbol)],this):(console.warn(`${this.MODULE} compiler: event remove can not fun found event in config`,r),this)}updateEvent(e,t,r){if(!this.map.has(e))return console.warn(`${this.MODULE} compiler: No matching vid found: ${e}`),this;const n=this.map.get(e),i=Symbol.for(Jr.eventSymbol),s=this.target[e][t][r],o=s[i];if(!o)return console.warn(`${this.MODULE} compiler: can not fun found event: ${e}, ${t}, ${r}`),this;n.removeEventListener(t,o);const a=ge.generateEvent(s,this.engine);return s[i]=a,n.addEventListener(t,a),this}addChildren(e,t){if(!this.map.has(e))return console.warn(`${this.MODULE} compiler: can not found this vid in compiler: ${e}.`),this;const r=this.map.get(e),n=this.getObject(t);if(!n)return console.warn(`${this.MODULE} compiler: can not found this vid in compiler: ${t}.`),this;r.add(n);const i=this.engine.getConfigBySymbol(t);return i?(i.parent=e,this):(console.warn(`${this.MODULE} compiler: can not foud object config: ${t}`),this)}removeChildren(e,t){if(!this.map.has(e))return console.warn(`${this.MODULE} compiler: can not found this vid in compiler: ${e}.`),this;const r=this.map.get(e),n=this.getObject(t);if(!n)return console.warn(`${this.MODULE} compiler: can not found this vid in compiler: ${t}.`),this;r.remove(n);const i=this.engine.getConfigBySymbol(t);return i?(i.parent="",this):(console.warn(`${this.MODULE} compiler: remove children function can not foud object config: ${t}`),this)}linkObjectMap(...e){for(const t of e)this.objectMapSet.has(t)||this.objectMapSet.add(t);return this}useEngine(e){return this.engine=e,this}setTarget(e){return this.target=e,this}getMap(){return this.map}getObjectSymbol(e){return this.weakMap.get(e)||null}getObjectBySymbol(e){return this.map.get(e)||null}compileAll(){const e=this.target;for(const t in e)this.add(t,e[t]);return this}add(e,t){const r=this.map.get(e);return r?(Promise.resolve().then(()=>{if(this.setLookAt(e,t.lookAt),t.children.length)for(const i of t.children)this.addChildren(e,i);for(const i of Object.values(zr)){const s=t[i];if(s.length)for(const o of s)this.addEvent(e,i,o)}}),De.applyConfig(t,r,this.filterAttribute),r.updateMatrix(),r.updateMatrixWorld(),this):(console.error(`${this.MODULE} compiler can not finish add method.`),this)}set(e,t,r,n){if(!this.map.has(e))return console.warn(`${this.MODULE} compiler can not found this vid mapping object: '${e}'`),this;if(r==="lookAt")return this.setLookAt(e,n);let i=this.map.get(e),s=this.filterAttribute;for(const o of t){if(s[o]){if(s[o]===!0)return this;s=s[o]}i=i[o]}return i[r]=n,this}cover(e,t){const r=this.map.get(e);return r?(Promise.resolve().then(()=>{if(this.setLookAt(e,t.lookAt),t.children.length)for(const i of t.children)this.addChildren(e,i);for(const i of Object.values(zr)){r._listeners&&r._listeners[i]&&(r._listeners[i]=[]);const s=t[i];if(s.length)for(const o of s)this.addEvent(e,i,o)}}),De.applyConfig(t,r,this.filterAttribute),this):(console.error(`${this.MODULE} compiler can not found object: ${e}.`),this)}remove(e,t){if(!this.map.has(e))return console.warn(`${this.MODULE}Compiler: can not found object which vid: ${e}.`),this;if(t.parent){const n=this.engine.getConfigBySymbol(t.parent);n?n.children.includes(e)?n.children.splice(n.children.indexOf(e),1):console.warn(`${this.MODULE} compiler: can not found vid in its parent config: ${e}`):console.warn(`${this.MODULE} compiler: can not found parent object config: ${t.parent}`)}const r=this.map.get(e);return this.weakMap.delete(r),this.objectCacheMap.delete(this.map.get(e)),this.map.delete(e),this}dispose(){return this.map.clear(),this.objectMapSet.clear(),this}};let It=Jr;d(It,"eventSymbol","vis.event");class Bh extends It{constructor(){super();d(this,"MODULE",L.CAMERA),d(this,"constructMap"),d(this,"cacheCameraMap");const t=new Map;t.set("PerspectiveCamera",()=>new Me),t.set("OrthographicCamera",()=>new it(-50,50,50,-50)),this.constructMap=t,this.mergeFilterAttribute({scale:!0,adaptiveWindow:!0}),this.cacheCameraMap=new WeakMap}setAdaptiveWindow(t,r){if(!this.map.has(t))return console.warn(`camera compiler can not found this vid camera: '${t}'`),this;const n=this.map.get(t);let i=this.cacheCameraMap.get(n);if(i||(i={},this.cacheCameraMap.set(n,i)),!r){if(i.setSizeFun&&this.engine.hasEventListener("setSize",i.setSizeFun))return this.engine.removeEventListener("setSize",i.setSizeFun),i.setSizeFun=void 0,this;if(i.setSizeFun&&!this.engine.hasEventListener("setSize",i.setSizeFun))return i.setSizeFun=void 0,this}if(r){if(i.setSizeFun&&this.engine.hasEventListener("setSize",i.setSizeFun))return this;if(i.setSizeFun&&!this.engine.hasEventListener("setSize",i.setSizeFun))return this.engine.addEventListener("setSize",i.setSizeFun),this;let s=a=>{};n instanceof Me?s=a=>{n.aspect=a.width/a.height,n.updateProjectionMatrix()}:n instanceof it?s=a=>{const c=a.width,l=a.height;n.left=-c/2,n.right=c/2,n.top=l/2,n.bottom=-l/2,n.updateProjectionMatrix()}:console.warn("camera compiler can not support this class camera:",n),this.engine.addEventListener("setSize",s),i.setSizeFun=s;const o=this.engine.dom;s({type:"setSize",width:o.offsetWidth,height:o.offsetHeight})}return this}add(t,r){if(r.type&&this.constructMap.has(r.type)){const n=this.constructMap.get(r.type)();this.map.set(t,n),this.weakMap.set(n,t),this.setLookAt(r.vid,r.lookAt),this.setAdaptiveWindow(r.vid,r.adaptiveWindow),super.add(t,r),(n instanceof Me||n instanceof it)&&n.updateProjectionMatrix()}else console.warn(`CameraCompiler: can not support this config type: ${r.type}`);return this}cover(t,r){return this.setLookAt(r.vid,r.lookAt),this.setAdaptiveWindow(r.vid,r.adaptiveWindow),super.cover(t,r)}set(t,r,n,i){if(n==="adaptiveWindow")return this.setAdaptiveWindow(t,i);super.set(t,r,n,i);const s=this.map.get(t);return s&&(s instanceof Me||s instanceof it)&&s.updateProjectionMatrix(),this}dispose(){return super.dispose(),this}}class Ps{constructor(){d(this,"filterMap",{}),d(this,"assembly",!1),this.filterMap=Object.assign({vid:!0,type:!0},this.filterMap)}mergeAttribute(t,r,n){if(this.filterMap[t.concat([r]).join(".")])return;let i=this.target;if(t.length)for(const s of t)i=i[s];i[r]=n}mergeObject(t){const r=(n,i)=>{for(const s in n)if(!this.filterMap[s]){if(typeof n[s]=="object"&&typeof n[s]!==null){r(n[s],i[s]);continue}i[s]=n[s]}};r(this.config,this.target),t&&t()}processAll(){const t=(r,n)=>{for(const i in r)if(!this.filterMap[n.concat([i]).join(".")]){if(typeof r[i]=="object"&&typeof r[i]!==null){t(r[i],n.concat([i]));continue}this.process({path:n,key:i,value:r[i]})}};return t(this.config,[]),this}}class Hh extends Ps{constructor(){super();d(this,"config"),d(this,"target"),d(this,"engine")}assemble(t){return this.config=t.config,this.target=t.control,this.engine=t.engine,this.assembly=!0,this}process(t){return this.assembly?t.key==="target"||t.path.length&&t.path[0]==="target"?(this.setTarget(this.config.target),this):(this.mergeAttribute([],t.key,t.value),this):(console.warn("OrbitControls Processor unassembled"),this)}setTarget(t){typeof t=="object"&&t!==null&&(this.target.target=new z(t.x,t.y,t.z))}dispose(){return this.config=void 0,this.target=void 0,this.assembly=!1,this}}class Gh extends Ps{constructor(){super();d(this,"config"),d(this,"target"),d(this,"filterMap",{translationSnap:!0,rotationSnap:!0,scaleSnap:!0})}assemble(t){return this.config=t.config,this.target=t.control,this.assembly=!0,this}process(t){return this.assembly?this.filterMap[t.key]?this:this[t.key]?(this[t.key](t.value),this):(this.mergeAttribute([],t.key,t.value),this):(console.warn("transformControls Processor unassembled"),this)}dispose(){return this.config=void 0,this.target=void 0,this}snapAllow(t){const r=this.config,n=this.target;return t?(n.translationSnap=r.translationSnap,n.rotationSnap=r.rotationSnap,n.scaleSnap=r.scaleSnap):(n.translationSnap=null,n.rotationSnap=null,n.scaleSnap=null),!0}}class Uh extends De{constructor(){super();d(this,"MODULE",L.CONTROLS),d(this,"target",{}),d(this,"map",new Map),d(this,"weakMap",new Map),d(this,"engine"),d(this,"processorMap",{[v.TRNASFORMCONTROLS]:new Gh,[v.ORBITCONTROLS]:new Hh})}getAssembly(t){const r=this.target[t];if(!r)return console.warn(`controls compiler can not found this config: '${t}'`),null;const n=this.processorMap[r.type];if(!n)return console.warn(`controls compiler can not support this controls: '${t}'`),null;const i=this.map.get(r.type);return i?{config:r,processer:n,control:i}:(console.warn(`controls compiler can not found type of control: '${r.type}'`),null)}set(t,r,n,i){const s=this.getAssembly(t);return s?(s.processer.assemble({config:s.config,control:s.control,engine:this.engine}).process({key:n,path:r,value:i}),this):this}setAll(t){const r=this.getAssembly(t);return r?(r.processer.assemble({config:r.config,control:r.control,engine:this.engine}).processAll().dispose(),this):this}setTarget(t){return this.target=t,this}useEngine(t){return t.transformControls&&(this.map.set(v.TRNASFORMCONTROLS,t.transformControls),this.weakMap.set(t.transformControls,v.TRNASFORMCONTROLS)),t.orbitControls&&(this.map.set(v.ORBITCONTROLS,t.orbitControls),this.weakMap.set(t.orbitControls,v.ORBITCONTROLS)),this.engine=t,this}compileAll(){for(const t of Object.keys(this.target)){const r=this.getAssembly(t);!r||r.processer.assemble({config:r.config,control:r.control,engine:this.engine}).processAll().dispose()}return this}dispose(){return this.map.forEach(t=>{t.dispose&&t.dispose()}),this.map.clear(),this}getObjectSymbol(t){return this.weakMap.get(t)||null}getObjectBySymbol(t){return this.map.get(t)||null}}class Vh extends zn{constructor(t=document.createElement("div")){super(t);d(this,"geometry");const r=t.getBoundingClientRect();this.geometry=new lr(r.width,r.height),this.geometry.computeBoundingBox()}raycast(t,r){const n=this.matrixWorld,i=this.geometry.boundingBox.clone();i.applyMatrix4(n),t.ray.intersectsBox(i)&&r.push({distance:t.ray.origin.distanceTo(this.position),object:this,point:this.position})}}class zh extends It{constructor(){super();d(this,"MODULE",L.CSS3D),d(this,"resourceMap"),d(this,"constructMap"),this.constructMap=new Map,this.resourceMap=new Map,this.constructMap.set(v.CSS3DOBJECT,t=>new zn(this.getElement(t.element))),this.constructMap.set(v.CSS3DPLANE,t=>new Vh(this.getElement(t.element))),this.constructMap.set(v.CSS3DSPRITE,t=>new ed(this.getElement(t.element))),this.mergeFilterAttribute({element:!0,interactive:!0})}getElement(t){if(!this.resourceMap.has(t))return console.warn(`css3D compiler: can not found resource element: ${t}`),document.createElement("div");const r=this.resourceMap.get(t);return r instanceof HTMLElement?r:(console.warn("css3D compiler can not suport render this resource type.",r.constructor,t),document.createElement("div"))}linkRescourceMap(t){return this.resourceMap=t,this}add(t,r){if(r.type&&this.constructMap.has(r.type)){const n=this.constructMap.get(r.type)(r);n.type=r.type,this.map.set(t,n),this.weakMap.set(n,t),super.add(t,r)}else console.warn(`css3D compiler can not support this type: ${r.type}`);return this}set(t,r,n,i){if(!this.map.has(t))return console.warn(`css3D compiler: can not found this vid mapping object: '${t}'`),this;const s=this.map.get(t);return n==="element"?(s.element=this.getElement(i),this):(super.set(t,r,n,i),this)}}class Kh extends Ye{constructor(t){super();d(this,"type","LoadBufferGeometry"),t&&this.copy(t)}}class ri extends Ye{constructor(t,r=36,n=!0){super();d(this,"parameters"),this.type="CurveGeometry",this.parameters={path:t.map(i=>i.clone()),space:n,divisions:r}}}class Wh extends ri{constructor(t,r=36,n=!0){super(t,r,n);this.type="LineCurveGeometry";const i=new Es;for(let o=1;o<t.length;o+=1)i.add(new Up(t[o-1],t[o]));const s=i.curves.reduce((o,a)=>o+=a.arcLengthDivisions,0);if(r>s){const o=Math.ceil((r-s)/i.curves.length);i.curves.forEach(a=>{a.arcLengthDivisions=a.arcLengthDivisions*(o+1),a.updateArcLengths()})}this.setFromPoints(n?i.getSpacedPoints(r):i.getPoints(r))}}class Yh extends ri{constructor(t,r=36,n=!0){super(t,r,n);this.type="SplineCurveGeometry";const i=new Vp(t);this.setFromPoints(n?i.getSpacedPoints(r):i.getPoints(r))}}class qh extends ri{constructor(t,r=36,n=!0){super(t,r,n);this.type="CubicBezierCurveGeometry";const i=new Es;t.length<4&&console.error("CubicBezierCurveGeometry path length at least 4.");const s=4+(t.length-4)-(t.length-4)%3;for(let a=2;a<s;a+=3)i.add(new zp(t[a-2],t[a-1],t[a],t[a+1]));const o=i.curves.reduce((a,c)=>a+=c.arcLengthDivisions,0);if(r>o){const a=Math.ceil((r-o)/i.curves.length);i.curves.forEach(c=>{c.arcLengthDivisions=c.arcLengthDivisions*(a+1),c.updateArcLengths()})}this.setFromPoints(n?i.getSpacedPoints(r):i.getPoints(r))}}class Xh extends ri{constructor(t,r=36,n=!0){super(t,r,n);this.type="QuadraticBezierCurveGeometry";const i=new Es;t.length<3&&console.error("QuadraticBezierCurveGeometry path length at least 3.");const s=3+(t.length-3)-(t.length-3)%2;for(let a=1;a<s;a+=2)i.add(new Kp(t[a-1],t[a],t[a+1]));const o=i.curves.reduce((a,c)=>a+=c.arcLengthDivisions,0);if(r>o){const a=Math.ceil((r-o)/i.curves.length);i.curves.forEach(c=>{c.arcLengthDivisions=c.arcLengthDivisions*(a+1),c.updateArcLengths()})}this.setFromPoints(n?i.getSpacedPoints(r):i.getPoints(r))}}const Le=class extends De{constructor(){super();d(this,"MODULE",L.GEOMETRY),d(this,"target",{}),d(this,"map",new Map),d(this,"weakMap",new WeakMap),d(this,"constructMap"),d(this,"resourceMap",new Map),d(this,"replaceGeometry",new Ur(5,5,5));const e=new Map;e.set(v.BOXGEOMETRY,t=>Le.transfromAnchor(new Ur(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments),t)),e.set(v.SPHEREGEOMETRY,t=>Le.transfromAnchor(new Ea(t.radius,t.widthSegments,t.heightSegments,t.phiStart,t.phiLength,t.thetaStart,t.thetaLength),t)),e.set(v.PLANEGEOMETRY,t=>Le.transfromAnchor(new lr(t.width,t.height,t.widthSegments,t.heightSegments),t)),e.set(v.LOADGEOMETRY,t=>Le.transfromAnchor(new Kh(this.getGeometry(t.url)),t)),e.set(v.CUSTOMGEOMETRY,t=>Le.transfromAnchor(this.generateGeometry(t.attribute),t)),e.set(v.CIRCLEGEOMETRY,t=>Le.transfromAnchor(new Fp(t.radius,t.segments,t.thetaStart,t.thetaLength),t)),e.set(v.CONEGEOMETRY,t=>Le.transfromAnchor(new Bp(t.radius,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength),t)),e.set(v.CYLINDERGEOMETRY,t=>Le.transfromAnchor(new Hp(t.radiusTop,t.radiusBottom,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength),t)),e.set(v.EDGESGEOMETRY,t=>Le.transfromAnchor(new cr(this.map.get(t.url),t.thresholdAngle),t)),e.set(v.LINECURVEGEOMETRY,t=>Le.transfromAnchor(new Wh(t.path.map(r=>new z(r.x,r.y,r.z)),t.divisions,t.space),t)),e.set(v.SPLINECURVEGEOMETRY,t=>Le.transfromAnchor(new Yh(t.path.map(r=>new z(r.x,r.y,r.z)),t.divisions,t.space),t)),e.set(v.CUBICBEZIERCURVEGEOMETRY,t=>Le.transfromAnchor(new qh(t.path.map(r=>new z(r.x,r.y,r.z)),t.divisions,t.space),t)),e.set(v.QUADRATICBEZIERCURVEGEOMETRY,t=>Le.transfromAnchor(new Xh(t.path.map(r=>new z(r.x,r.y,r.z)),t.divisions,t.space),t)),this.constructMap=e}linkRescourceMap(e){return this.resourceMap=e,this}getRescource(e){return this.resourceMap.has(e)?this.resourceMap.has(e)&&this.resourceMap.get(e)instanceof Ye?this.resourceMap.get(e).clone():(console.error(`url mapping rescource is not class with BufferGeometry: ${e}`),this.replaceGeometry.clone()):(console.error(`rescoure can not found url: ${e}`),this.replaceGeometry.clone())}getGeometry(e){return this.map.has(e)?this.map.get(e):this.getRescource(e)}generateGeometry(e){const t=new Ye;return e.position.length&&t.setAttribute("position",new me(e.position,3)),e.color.length&&t.setAttribute("color",new me(e.color,3)),e.normal.length&&t.setAttribute("normal",new me(e.normal,3)),e.uv.length&&t.setAttribute("uv",new me(e.uv,2)),e.uv2.length&&t.setAttribute("uv2",new me(e.uv2,2)),e.index.length&&t.setIndex(e.index),t}getMap(){return this.map}useEngine(e){return this}setTarget(e){return this.target=e,this}add(e,t){if(t.type&&this.constructMap.has(t.type)){const r=this.constructMap.get(t.type)(t);r.clearGroups();for(const n of t.groups)r.addGroup(n.start,n.count,n.materialIndex);this.map.set(e,r),this.weakMap.set(r,e)}return this}addGroup(e,t){return this.map.has(e)?(this.map.get(e).addGroup(t.start,t.count,t.materialIndex),this):(console.warn(`geometry compiler can not found object with vid: ${e}`),this)}updateGroup(e,t){return this.removeGroup(e,t).addGroup(e,this.target[e].groups[t])}removeGroup(e,t){return this.map.has(e)?(this.map.get(e).groups.splice(t,1),this):(console.warn(`geometry compiler can not found object with vid: ${e}`),this)}set(e,t,r){if(!X(e))return console.warn(`geometry compiler set function vid parameters is illeage: '${e}'`),this;if(!this.map.has(e))return console.warn(`geometry compiler set function can not found vid geometry: '${e}'`),this;const n=this.map.get(e),i=this.target[e],s=this.constructMap.get(i.type)(i);return n.copy(s),n.dispatchEvent({type:"update"}),n.uuid=s.uuid,s.dispose(),this}remove(e){if(!this.map.has(e))return console.warn(`Geometry Compiler: can not found vid in compiler: ${e}`),this;const t=this.map.get(e);return t.dispose(),this.map.delete(e),this.weakMap.delete(t),this}compileAll(){const e=this.target;for(const t in e)this.add(t,e[t]);return this}dispose(){return this.map.forEach((e,t)=>{e.dispose()}),this}getObjectSymbol(e){return this.weakMap.get(e)||null}getObjectBySymbol(e){return this.map.get(e)||null}};let Ha=Le;d(Ha,"transfromAnchor",function(e,t){e.center(),e.computeBoundingBox();const r=e.boundingBox,n=t.position,i=t.rotation,s=t.scale,o=new gs().setFromEuler(new ma(i.x,i.y,i.z,"XYZ"));return e.applyQuaternion(o),e.scale(s.x,s.y,s.z),e.center(),e.computeBoundingBox(),e.translate((r.max.x-r.min.x)/2*n.x,(r.max.y-r.min.y)/2*n.y,(r.max.z-r.min.z)/2*n.z),e});class Qh extends It{constructor(){super();d(this,"MODULE",L.GROUP)}add(t,r){const n=new da;return this.map.set(t,n),this.weakMap.set(n,t),super.add(t,r),this}dispose(){return super.dispose(),this}}class Jh extends It{constructor(){super();d(this,"MODULE",L.LIGHT),d(this,"constructMap"),this.constructMap=new Map,this.constructMap.set(v.POINTLIGHT,()=>new va),this.constructMap.set(v.SPOTLIGHT,()=>new Wp),this.constructMap.set(v.AMBIENTLIGHT,()=>new Gn),this.constructMap.set(v.DIRECTIONALLIGHT,()=>new Oa),this.mergeFilterAttribute({color:!0,scale:!0,rotation:!0})}setLookAt(t,r){return this}add(t,r){if(r.type&&this.constructMap.has(r.type)){const n=this.constructMap.get(r.type)();n.color=new ce(r.color),this.map.set(t,n),this.weakMap.set(n,t),super.add(t,r)}else console.warn(`LightCompiler: can not support Light type: ${r.type}.`);return this}cover(t,r){const n=this.map.get(t);return n?(n.color=new ce(r.color),super.cover(t,r)):(console.warn(`light compiler can not found light: ${t}`),this)}set(t,r,n,i){if(!this.map.has(t))return console.warn(`LightCompiler: can not found this vid mapping object: '${t}'`),this;const s=this.map.get(t);return n==="color"?(s.color=new ce(i),this):(super.set(t,r,n,i),this)}dispose(){return super.dispose(),this}}class ni extends It{constructor(){super();d(this,"IS_SOLIDOBJECTCOMPILER",!0),d(this,"geometryMap"),d(this,"materialMap"),this.geometryMap=new Map,this.materialMap=new Map,this.mergeFilterAttribute({geometry:!0,material:!0})}getMaterial(t){return X(t)?this.materialMap.has(t)?this.materialMap.get(t):(console.warn(`${this.MODULE}Compiler: can not found material which vid: ${t}`),this.getReplaceMaterial()):(console.warn(`${this.MODULE}Compiler: material vid parameter is illegal: ${t}`),this.getReplaceMaterial())}getGeometry(t){return X(t)?this.geometryMap.has(t)?this.geometryMap.get(t):(console.warn(`${this.MODULE}Compiler: can not found geometry which vid: ${t}`),this.getReplaceGeometry()):(console.warn(`${this.MODULE}Compiler: geometry vid parameter is illegal: ${t}`),this.getReplaceGeometry())}linkGeometryMap(t){return this.geometryMap=t,this}linkMaterialMap(t){return this.materialMap=t,this}add(t,r){const n=this.map.get(t);if(!n)return console.error(`${this.MODULE} compiler can not finish add method.`),this;if(Array.isArray(n.material))for(const s of n.material)s.dispose();else n.material.dispose();let i;return typeof r.material=="string"?i=this.getMaterial(r.material):i=r.material.map(s=>this.getMaterial(s)),n.material=i,n.isSprite||(n.geometry.dispose(),n.geometry=this.getGeometry(r.geometry)),super.add(t,r),this}set(t,r,n,i){if(!this.map.has(t))return console.warn(`${this.MODULE} compiler can not found this vid mapping object: '${t}'`),this;const s=this.map.get(t);return n==="geometry"&&!s.isSprite?(s.geometry=this.getGeometry(i),this):n==="material"?(s.material=this.getMaterial(i),this):(super.set(t,r,n,i),this)}}class Zh extends ni{constructor(){super();d(this,"MODULE",L.LINE),d(this,"replaceMaterial",new At({color:"rgb(150, 150, 150)"})),d(this,"replaceGeometry",new Ur(10,10,10))}getReplaceMaterial(){return this.replaceMaterial}getReplaceGeometry(){return this.replaceGeometry}add(t,r){const n=new Vn;return this.map.set(t,n),this.weakMap.set(n,t),super.add(t,r),this}dispose(){return super.dispose(),this.replaceGeometry.dispose(),this.replaceMaterial.dispose(),this}}class em extends De{constructor(){super();d(this,"MODULE",L.MATERIAL),d(this,"target",{}),d(this,"map",new Map),d(this,"weakMap",new WeakMap),d(this,"constructMap",new Map),d(this,"mapAttribute",{roughnessMap:!0,normalMap:!0,metalnessMap:!0,map:!0,lightMap:!0,envMap:!0,emissiveMap:!0,displacementMap:!0,bumpMap:!0,alphaMap:!0,aoMap:!0,specularMap:!0}),d(this,"colorAttribute",{color:!0,emissive:!0,specular:!0}),d(this,"shaderAttribute",{shader:!0}),d(this,"texturelMap",new Map),d(this,"resourceMap",new Map),d(this,"cachaColor",new ce);const t=new Map;t.set(v.MESHBASICMATERIAL,()=>new vs),t.set(v.MESHSTANDARDMATERIAL,()=>new ba),t.set(v.MESHPHONGMATERIAL,()=>new ms),t.set(v.SPRITEMATERIAL,()=>new pr),t.set(v.LINEBASICMATERIAL,()=>new At),t.set(v.POINTSMATERIAL,()=>new nt),t.set(v.SHADERMATERIAL,r=>{const n=fr.getShader(r.shader),i=new Yp;return(n==null?void 0:n.vertexShader)&&(i.vertexShader=n.vertexShader),(n==null?void 0:n.fragmentShader)&&(i.fragmentShader=n.fragmentShader),(n==null?void 0:n.uniforms)&&(i.uniforms=n.uniforms),i}),this.constructMap=t}mergeMaterial(t,r){const n=JSON.parse(JSON.stringify(r)),i={},s=this.colorAttribute;for(const a in s)n[a]&&(t[a]=new ce(n[a]),i[a]=!0);const o=this.mapAttribute;for(const a in o)n[a]&&(t[a]=this.getTexture(n[a]),i[a]=!0);return De.applyConfig(r,t,Object.assign(i,this.shaderAttribute)),t.needsUpdate=!0,this}getTexture(t){if(this.texturelMap.has(t)){const r=this.texturelMap.get(t);return r instanceof Hr?r:(console.error(`this object which mapped by vid is not instance of Texture: ${t}`),null)}else return console.error(`texture map can not found this vid: ${t}`),null}linkRescourceMap(t){return this.resourceMap=t,this}linkTextureMap(t){return this.texturelMap=t,this}add(t,r){if(r.type&&this.constructMap.has(r.type)){const n=this.constructMap.get(r.type)(r);this.mergeMaterial(n,r),this.map.set(t,n),this.weakMap.set(n,t)}else console.warn(`material compiler can not support this type: ${r.type}`);return this}set(t,r,n,i){if(!this.map.has(t))return console.warn(`material compiler set function: can not found material which vid is: '${t}'`),this;const s=this.map.get(t);if(this.colorAttribute[n])return s[n]=new ce(i),this;if(this.mapAttribute[n])return s[n]=this.getTexture(i),s.needsUpdate=!0,this;let o=s;return r.forEach((a,c,l)=>{o=o[a]}),o[n]=i,this}cover(t,r){return this.map.has(t)?this.mergeMaterial(this.map.get(t),r):(console.warn(`material compiler set function: can not found material which vid is: '${t}'`),this)}remove(t){if(!this.map.has(t))return console.warn(`material compiler set function: can not found material which vid is: '${t}'`),this;const r=this.map.get(t);return r.dispose(),this.map.delete(t),this.weakMap.delete(r),this}getMap(){return this.map}setTarget(t){return this.target=t,this}useEngine(t){return this}compileAll(){const t=this.target;for(const r in t)this.add(r,t[r]);return this}dispose(){return this.map.forEach((t,r)=>{t.dispose()}),this}getObjectSymbol(t){return this.weakMap.get(t)||null}getObjectBySymbol(t){return this.map.get(t)||null}}class tm extends ni{constructor(){super();d(this,"MODULE",L.MESH),d(this,"replaceMaterial",new vs({color:"rgb(150, 150, 150)"})),d(this,"replaceGeometry",new Ur(10,10,10))}getReplaceMaterial(){return this.replaceMaterial}getReplaceGeometry(){return this.replaceGeometry}add(t,r){const n=new Lt;return this.map.set(t,n),this.weakMap.set(n,t),super.add(t,r),this}dispose(){return super.dispose(),this.replaceGeometry.dispose(),this.replaceMaterial.dispose(),this}}class rm extends De{constructor(){super();d(this,"MODULE",L.PASS),d(this,"target"),d(this,"map"),d(this,"weakMap"),d(this,"constructMap"),d(this,"composer"),d(this,"width",window.innerWidth*window.devicePixelRatio),d(this,"height",window.innerHeight*window.devicePixelRatio),this.map=new Map,this.weakMap=new WeakMap;const t=new Map;t.set(v.SMAAPASS,()=>new td(this.width,this.height)),t.set(v.UNREALBLOOMPASS,r=>new rd(new Se(this.width,this.height),r.strength,r.radius,r.threshold)),this.constructMap=t}setTarget(t){return this.target=t,this}useEngine(t){if(!t.effectComposer)return console.warn("engine need install effectComposer plugin that can use pass compiler."),this;this.composer=t.effectComposer;const r=this.composer.renderer.getPixelRatio();return this.width=Number(this.composer.renderer.domElement.getAttribute("width"))*r,this.height=Number(this.composer.renderer.domElement.getAttribute("height"))*r,this}add(t){if(this.constructMap.has(t.type)){const r=this.constructMap.get(t.type)(t);this.composer.addPass(r),this.map.set(t.vid,r),this.weakMap.set(r,t.vid)}else console.warn(`pass compiler can not support this type pass: ${t.type}.`)}set(){}remove(t){if(!this.map.has(t))return console.warn(`pass compiler can not found this vid pass: ${t}.`),this;const r=this.map.get(t);return this.composer.removePass(r),this.map.delete(t),this.weakMap.delete(r),this}compileAll(){const t=this.target;for(const r of Object.values(t))this.add(r);return this}dispose(){return this.map.clear(),this}getObjectSymbol(t){return this.weakMap.get(t)||null}getObjectBySymbol(t){return this.map.get(t)||null}}class nm extends ni{constructor(){super();d(this,"MODULE",L.POINTS),d(this,"replaceMaterial",new nt({color:"rgb(150, 150, 150)"})),d(this,"replaceGeometry",new qp(5))}getReplaceMaterial(){return this.replaceMaterial}getReplaceGeometry(){return this.replaceGeometry}add(t,r){const n=new gt;return this.map.set(t,n),this.weakMap.set(n,t),super.add(t,r),this}dispose(){return super.dispose(),this.replaceGeometry.dispose(),this.replaceMaterial.dispose(),this}}class im extends Ps{constructor(){super();d(this,"target"),d(this,"config"),d(this,"engine"),d(this,"rendererCacheData"),this.rendererCacheData={}}assemble(t){return this.target=t.renderer,this.config=t.config,this.engine=t.engine,this.assembly=!0,this}process(t){return this.assembly?this[t.key]?(this[t.key](t.value),this):t.path.length&&this[t.path[0]]?(this[t.path[0]](t.value),this):(this.mergeAttribute(t.path,t.key,t.value),this):(console.warn("webGLRenderer Processor unassembled"),this)}dispose(){return this.target=void 0,this.config=void 0,this.engine=void 0,this.assembly=!1,this}clearColor(t){const r=Number(t.slice(0,-1).split(",").pop().trim());return this.target.setClearColor(t,r),this.target.clear(),this}pixelRatio(t){return this.target.setPixelRatio(t),this.target.clear(),this}size(){const t=this.target,r=this.config.size;if(r)t.setSize(r.x,r.y);else{const n=t.domElement;t.setSize(n.offsetWidth,n.offsetHeight)}return this}viewport(){const t=this.target,r=this.config.viewport;if(r)t.setViewport(r.x,r.y,r.width,r.height);else{const n=t.domElement;t.setViewport(0,0,n.offsetWidth,n.offsetHeight)}return this}scissor(){const t=this.target,r=this.config.scissor;if(r)t.setScissorTest(!0),t.setScissor(r.x,r.y,r.width,r.height);else{t.setScissorTest(!1);const n=t.domElement;t.setScissor(0,0,n.offsetWidth,n.offsetHeight)}return this}adaptiveCamera(t){if(!this.engine)return console.warn("renderer compiler is not set engine."),this;const r=this.target,n=this.engine,i=n.renderManager;if(!t){if(!this.rendererCacheData.adaptiveCameraFun)return this;if(this.rendererCacheData.adaptiveCameraFun)return i.removeEventListener("render",this.rendererCacheData.adaptiveCameraFun),this.rendererCacheData.adaptiveCameraFun=void 0,this}if(t){if(this.rendererCacheData.adaptiveCameraFun)return i.addEventListener("render",this.rendererCacheData.adaptiveCameraFun),this;const s=o=>{const a=n.camera,c=r.domElement.offsetWidth,l=r.domElement.offsetHeight;let u=0,p=0,f=0,g=0,C=0;if(a instanceof Me)C=a.aspect;else if(a instanceof it)u=a.right-a.left,p=a.top-a.bottom,C=u/p;else{console.warn("renderer compiler can not support this camera",a);return}C>=1?(u=c,p=u/C,g=l/2-p/2):(p=l,u=p*C,f=c/2-u/2),r.setScissor(f,g,u,p),r.setViewport(f,g,u,p),r.setScissorTest(!0)};this.rendererCacheData.adaptiveCameraFun=s,i.addEventListener("render",this.rendererCacheData.adaptiveCameraFun)}return this}}class sm extends De{constructor(t){super();d(this,"MODULE",L.RENDERER),d(this,"target"),d(this,"engine"),d(this,"processorMap",{[v.WEBGLRENDERER]:new im}),d(this,"map",new Map),t?(t.target&&(this.target=t.target),t.engine&&(this.engine=t.engine)):(this.target={},this.engine=new J)}assembly(t,r){const n=this.target[t];if(!n){console.warn(`controls compiler can not found this config: '${t}'`);return}const i=this.processorMap[n.type];if(!i){console.warn(`renderer compiler can not support this renderer: '${t}'`);return}const s=this.map.get(t);if(!s){console.warn(`renderer compiler can not found type of renderer: '${n.type}'`);return}i.dispose().assemble({config:n,renderer:s,processer:i,engine:this.engine}),r(i)}add(t){t.type===v.WEBGLRENDERER&&this.map.set(t.vid,this.engine.webGLRenderer),this.assembly(t.vid,r=>{r.processAll().dispose()})}setTarget(t){return this.target=t,this}useEngine(t){return t.webGLRenderer&&this.map.set(v.WEBGLRENDERER,t.webGLRenderer),this.engine=t,this}compileAll(){const t=this.target;for(const r of Object.values(t))this.add(r);return this}dispose(){return this.map.forEach((t,r)=>{t.dispose&&t.dispose()}),this}getObjectSymbol(t){let r=null;return this.map.forEach((n,i)=>{n===t&&(r=i)}),r}getObjectBySymbol(t){return this.map.get(t)||null}}class om extends It{constructor(){super();d(this,"MODULE",L.SCENE),d(this,"textureMap"),d(this,"fogCache"),this.textureMap=new Map,this.fogCache=null,this.mergeFilterAttribute({background:!0,environment:!0,fog:!0})}setLookAt(t,r){return this}background(t,r){if(!this.map.has(t)){console.warn(`${this.MODULE} compiler can not found this vid mapping object: '${t}'`);return}const n=this.map.get(t);if(!r){n.background=null;return}X(r)?this.textureMap.has(r)?n.background=this.textureMap.get(r):console.warn(`scene compiler can not found this vid texture : '${r}'`):n.background=new ce(r)}environment(t,r){if(!this.map.has(t)){console.warn(`${this.MODULE} compiler can not found this vid mapping object: '${t}'`);return}const n=this.map.get(t);if(!r){n.environment=null;return}X(r)?this.textureMap.has(r)?n.environment=this.textureMap.get(r):console.warn(`scene compiler can not found this vid texture : '${r}'`):console.warn(`this vid is illegal: '${r}'`)}fog(t,r){if(!this.map.has(t)){console.warn(`${this.MODULE} compiler can not found this vid mapping object: '${t}'`);return}const n=this.map.get(t);if(r.type===""){this.fogCache=null,n.fog=null;return}if(r.type==="Fog"){if(this.fogCache instanceof Aa){const i=this.fogCache;i.color=new ce(r.color),i.near=r.near,i.far=r.far}else n.fog=new Aa(r.color,r.near,r.far),this.fogCache=n.fog;return}if(r.type==="FogExp2"){if(this.fogCache instanceof La){const i=this.fogCache;i.color=new ce(r.color),i.density=r.density}else n.fog=new La(r.color,r.density),this.fogCache=n.fog;return}console.warn(`scene compiler can not support this type fog:'${r.type}'`)}linkTextureMap(t){return this.textureMap=t,this}add(t,r){const n=new st;return this.map.set(t,n),this.weakMap.set(n,t),this.background(t,r.background),this.environment(t,r.environment),this.fog(t,r.fog),super.add(t,r),this}cover(t,r){return this.background(t,r.background),this.environment(t,r.environment),this.fog(t,r.fog),super.cover(t,r)}set(t,r,n,i){if(!this.map.has(t))return console.warn(`sceneCompiler: can not found this vid mapping object: '${t}'`),this;const s=r.length?r[0]:n,o={background:()=>this.background(t,i),environment:()=>this.environment(t,i),fog:()=>this.fog(t,this.target[t].fog)};return o[s]?(o[s](),this):(super.set(t,r,n,i),this)}setTarget(t){return this.target=t,this}dispose(){return super.dispose(),this}}class am extends ni{constructor(){super();d(this,"MODULE",L.SPRITE),d(this,"replaceMaterial",new pr({color:"rgb(150, 150, 150)"})),d(this,"replaceGeometry",new lr(1,1)),this.mergeFilterAttribute({geometry:!0})}getReplaceMaterial(){return this.replaceMaterial}getReplaceGeometry(){return console.warn("SpriteCompiler: can not use geometry in SpriteCompiler."),this.replaceGeometry}setLookAt(t,r){return this}getMaterial(t){const r=super.getMaterial(t);return r instanceof pr?r:(console.warn(`SpriteCompiler: sprite object can not support this type material: ${r.type}, vid: ${t}.`),this.getReplaceMaterial())}add(t,r){const n=new ur;return this.map.set(t,n),this.weakMap.set(n,t),super.add(t,r),this}dispose(){return this.map.forEach((t,r)=>{t.geometry.dispose()}),super.dispose(),this.replaceGeometry.dispose(),this.replaceMaterial.dispose(),this}}class lm extends Hr{constructor(t,r,n,i,s,o,a,c,l,u){super(t,r,n,i,s,o,a,c,l,u)}}class cm extends Hr{constructor(t,r,n,i,s,o,a,c,l){super(t,r,n,i,s,o,a,c,l);d(this,"isVideoTexture",!0),this.format=a!==void 0?a:bp,this.minFilter=o!==void 0?o:Hn,this.magFilter=s!==void 0?s:Hn,this.generateMipmaps=!1}clone(){return new this.constructor(this.image).copy(this)}update(){const t=this.image,r="requestVideoFrameCallback"in t;r?this.needsUpdate=!0:r===!1&&t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Zr{constructor(t){d(this,"canvas"),this.canvas=document.createElement("canvas");const r=window.devicePixelRatio;this.canvas.width=((t==null?void 0:t.width)||512)*r,this.canvas.height=((t==null?void 0:t.height)||512)*r,this.canvas.style.backgroundColor=(t==null?void 0:t.bgColor)||"rgb(255, 255, 255)";const n=this.canvas.getContext("2d");n&&n.scale(window.devicePixelRatio,window.devicePixelRatio)}get(){return this.canvas}getDom(){return this.canvas}clear(t=0,r=0,n,i){!n&&(n=this.canvas.width),!i&&(i=this.canvas.height);const s=this.canvas.getContext("2d");return s?(s.clearRect(t,r,n,i),this):(console.warn("you browser can not support canvas 2d"),this)}draw(t){const r=this.canvas.getContext("2d");return r?(t(r),this):(console.warn("you browser can not support canvas 2d"),this)}preview(t){const r=this.canvas;return r.style.position="fixed",r.style.top=(t==null?void 0:t.top)||"5%",r.style.left=(t==null?void 0:t.left)||"5%",r.style.right=(t==null?void 0:t.right)||"unset",r.style.bottom=(t==null?void 0:t.bottom)||"unset",(t==null?void 0:t.scale)&&(r.style.transform=`scale(${t.scale})`),document.body.appendChild(this.canvas),this}}const ii=class extends De{constructor(){super();d(this,"MODULE",L.TEXTURE),d(this,"target",{}),d(this,"map"),d(this,"weakMap"),d(this,"constructMap"),d(this,"resourceMap"),this.map=new Map,this.weakMap=new WeakMap,this.resourceMap=new Map;const e=new Map;e.set(v.IMAGETEXTURE,()=>new lm),e.set(v.CUBETEXTURE,()=>new Gp),e.set(v.CANVASTEXTURE,()=>new Gr(document.createElement("canvas"))),e.set(v.VIDEOTEXTURE,()=>new cm(document.createElement("video"))),this.constructMap=e}getResource(e){if(!e)return ii.replaceImage;const t=this.resourceMap;if(t.has(e)){const r=t.get(e);return r instanceof HTMLImageElement||r instanceof HTMLCanvasElement||r instanceof HTMLVideoElement?r:(console.error(`this url mapping resource is not a texture image class: ${e}`),ii.replaceImage)}else return console.warn(`resource can not font url: ${e}`),ii.replaceImage}linkRescourceMap(e){return this.resourceMap=e,this}add(e,t){if(X(e))if(t.type&&this.constructMap.has(t.type)){const r=this.constructMap.get(t.type)(),n=JSON.parse(JSON.stringify(t));if(delete n.type,delete n.vid,[v.IMAGETEXTURE,v.CANVASTEXTURE,v.VIDEOTEXTURE].includes(t.type))r.image=this.getResource(n.url),delete n.url;else if(t.type===v.CUBETEXTURE){const i=t.cube,s=[this.getResource(i.px),this.getResource(i.nx),this.getResource(i.py),this.getResource(i.ny),this.getResource(i.pz),this.getResource(i.nz)];r.image=s,delete n.cube}De.applyConfig(n,r),r.needsUpdate=!0,this.map.set(e,r),this.weakMap.set(r,e)}else console.warn(`texture compiler can not support this type: ${t.type}`);else console.error(`texture vid parameter is illegal: ${e}`);return this}set(e,t,r,n){if(!X(e))return console.warn(`texture compiler set function: vid is illeage: '${e}'`),this;if(!this.map.has(e))return console.warn(`texture compiler set function: can not found texture which vid is: '${e}'`),this;const i=this.map.get(e);if(!t.length&&r==="url"){const o=this.target[e];return[v.IMAGETEXTURE,v.CANVASTEXTURE,v.VIDEOTEXTURE].includes(o.type)?i.image=this.getResource(n):console.warn(`texture compiler can not support this type config set url: ${o.type}`),this}if(r==="needsUpdate"){if(n){i.needsUpdate=!0;const o=this.target[e];o.needsUpdate=!1}return this}let s=i;for(const o of t){if(s[o]===void 0)return console.warn(`texture compiler set function: can not found key:${o} in object.`),this;s=s[o]}return s[r]=n,i.needsUpdate=!0,this}remove(e){if(!this.map.has(e))return console.warn(`texture compiler can not found vid match object: ${e}`),this;const t=this.map.get(e);return t.dispose(),this.map.delete(e),this.weakMap.delete(t),this}getMap(){return this.map}setTarget(e){return this.target=e,this}useEngine(e){return this}compileAll(){const e=this.target;for(const t in e)this.add(t,e[t]);return this}dispose(){return this.map.forEach((e,t)=>{e.dispose()}),this.map.clear(),this}getObjectSymbol(e){return this.weakMap.get(e)||null}getObjectBySymbol(e){return this.map.get(e)||null}};let Ga=ii;d(Ga,"replaceImage",new Zr({width:512,height:512}).draw(e=>{e.translate(256,256),e.font="52px",e.fillStyle="white",e.fillText("\u6682\u65E0\u56FE\u7247",0,0)}).get());class um{constructor(t){d(this,"cameraCompiler",new Bh),d(this,"lightCompiler",new Jh),d(this,"geometryCompiler",new Ha),d(this,"textureCompiler",new Ga),d(this,"materialCompiler",new em),d(this,"rendererCompiler",new sm),d(this,"sceneCompiler",new om),d(this,"controlsCompiler",new Uh),d(this,"spriteCompiler",new am),d(this,"lineCompiler",new Zh),d(this,"meshCompiler",new tm),d(this,"pointsCompiler",new nm),d(this,"groupCompiler",new Qh),d(this,"css3DCompiler",new zh),d(this,"passCompiler",new rm),d(this,"animationCompiler",new yh),d(this,"compilerMap"),t&&Object.keys(t).forEach(c=>{this[c]=t[c]});const r=this.textureCompiler.getMap();this.sceneCompiler.linkTextureMap(r),this.materialCompiler.linkTextureMap(r),this.animationCompiler.linkTextureMap(r);const n=this.geometryCompiler.getMap(),i=this.materialCompiler.getMap(),s=Object.values(this).filter(c=>c instanceof It),o=s.map(c=>c.getMap());for(const c of s)Zn("IS_SOLIDOBJECTCOMPILER",c)&&c.linkGeometryMap(n).linkMaterialMap(i),c.linkObjectMap(...o);this.animationCompiler.linkObjectMap(...o).linkMaterialMap(i);const a=new Map;Object.keys(this).forEach(c=>{const l=this[c];l instanceof De&&a.set(l.MODULE,l)}),this.compilerMap=a}support(t){if(this.compilerMap.forEach(n=>{n.useEngine(t)}),t.resourceManager){const n=t.resourceManager.resourceMap;this.textureCompiler.linkRescourceMap(n),this.geometryCompiler.linkRescourceMap(n),this.css3DCompiler.linkRescourceMap(n)}const r=t.dataSupportManager;return r.textureDataSupport.addCompiler(this.textureCompiler),r.materialDataSupport.addCompiler(this.materialCompiler),r.geometryDataSupport.addCompiler(this.geometryCompiler),r.rendererDataSupport.addCompiler(this.rendererCompiler),r.controlsDataSupport.addCompiler(this.controlsCompiler),r.passDataSupport.addCompiler(this.passCompiler),r.cameraDataSupport.addCompiler(this.cameraCompiler),r.lightDataSupport.addCompiler(this.lightCompiler),r.spriteDataSupport.addCompiler(this.spriteCompiler),r.lineDataSupport.addCompiler(this.lineCompiler),r.meshDataSupport.addCompiler(this.meshCompiler),r.pointsDataSupport.addCompiler(this.pointsCompiler),r.css3DDataSupport.addCompiler(this.css3DCompiler),r.groupDataSupport.addCompiler(this.groupCompiler),r.sceneDataSupport.addCompiler(this.sceneCompiler),r.animationDataSupport.addCompiler(this.animationCompiler),this}getObjectSymbol(t){for(const r of this.compilerMap.values()){const n=r.getObjectSymbol(t);if(n)return n}return null}getObjectBySymbol(t){for(const r of this.compilerMap.values()){const n=r.getObjectBySymbol(t);if(n)return n}return null}dispose(){for(const t of this.compilerMap.values())t.dispose({});return this.compilerMap.clear(),this}}const pm=function(e){if(this.compilerManager)return console.warn("engine has installed compilerManager plugin."),!1;if(!this.dataSupportManager)return console.warn("must install dataSupportManager before compilerManager plugin."),!1;if(!this.renderManager)return console.warn("must install renderManager before compilerManager plugin."),!1;const t=new um;return this.compilerManager=t,this.getObjectSymbol=function(r){return this.compilerManager.getObjectSymbol(r)},this.getObjectBySymbol=function(r){return this.compilerManager.getObjectBySymbol(r)},this.addEventListener("dispose",()=>{this.compilerManager.dispose()}),this.completeSet.add(()=>{this.compilerManager.support(this)}),!0};var xs=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Ua={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(xs,function(){function r(m){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?r=function(M){return typeof M}:r=function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},r(m)}function n(m,M){if(!(m instanceof M))throw new TypeError("Cannot call a class as a function")}function i(m,M){for(var h=0;h<M.length;h++){var y=M[h];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(m,y.key,y)}}function s(m,M,h){return M&&i(m.prototype,M),h&&i(m,h),m}function o(m){return a(m)||c(m)||l(m)||p()}function a(m){if(Array.isArray(m))return u(m)}function c(m){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(m))return Array.from(m)}function l(m,M){if(!!m){if(typeof m=="string")return u(m,M);var h=Object.prototype.toString.call(m).slice(8,-1);if(h==="Object"&&m.constructor&&(h=m.constructor.name),h==="Map"||h==="Set")return Array.from(m);if(h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return u(m,M)}}function u(m,M){(M==null||M>m.length)&&(M=m.length);for(var h=0,y=new Array(M);h<M;h++)y[h]=m[h];return y}function p(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var f=function(){function m(M){n(this,m),this.sourceStr=M,this.subCombos=m.parseComboStr(M),this.keyNames=this.subCombos.reduce(function(h,y){return h.concat(y)},[])}return s(m,[{key:"check",value:function(h){for(var y=0,b=0;b<this.subCombos.length;b+=1)if(y=this._checkSubCombo(this.subCombos[b],y,h),y===-1)return!1;return!0}},{key:"isEqual",value:function(h){if(!h||typeof h!="string"&&r(h)!=="object"||(typeof h=="string"&&(h=new m(h)),this.subCombos.length!==h.subCombos.length))return!1;for(var y=0;y<this.subCombos.length;y+=1)if(this.subCombos[y].length!==h.subCombos[y].length)return!1;for(var b=0;b<this.subCombos.length;b+=1){for(var E=this.subCombos[b],S=h.subCombos[b].slice(0),w=0;w<E.length;w+=1){var A=E[w],I=S.indexOf(A);I>-1&&S.splice(I,1)}if(S.length!==0)return!1}return!0}},{key:"_checkSubCombo",value:function(h,y,b){h=h.slice(0),b=b.slice(y);for(var E=y,S=0;S<h.length;S+=1){var w=h[S];if(w[0]==="\\"){var A=w.slice(1);(A===m.comboDeliminator||A===m.keyDeliminator)&&(w=A)}var I=b.indexOf(w);if(I>-1&&(h.splice(S,1),S-=1,I>E&&(E=I),h.length===0))return E}return-1}}]),m}();f.comboDeliminator=">",f.keyDeliminator="+",f.parseComboStr=function(m){for(var M=f._splitStr(m,f.comboDeliminator),h=[],y=0;y<M.length;y+=1)h.push(f._splitStr(M[y],f.keyDeliminator));return h},f._splitStr=function(m,M){for(var h=m,y=M,b="",E=[],S=0;S<h.length;S+=1)S>0&&h[S]===y&&h[S-1]!=="\\"&&(E.push(b.trim()),b="",S+=1),b+=h[S];return b&&E.push(b.trim()),E};var g=function(){function m(M){n(this,m),this.localeName=M,this.activeTargetKeys=[],this.pressedKeys=[],this._appliedMacros=[],this._keyMap={},this._killKeyCodes=[],this._macros=[]}return s(m,[{key:"bindKeyCode",value:function(h,y){typeof y=="string"&&(y=[y]),this._keyMap[h]=y}},{key:"bindMacro",value:function(h,y){typeof y=="string"&&(y=[y]);var b=null;typeof y=="function"&&(b=y,y=null);var E={keyCombo:new f(h),keyNames:y,handler:b};this._macros.push(E)}},{key:"getKeyCodes",value:function(h){var y=[];for(var b in this._keyMap){var E=this._keyMap[b].indexOf(h);E>-1&&y.push(b|0)}return y}},{key:"getKeyNames",value:function(h){return this._keyMap[h]||[]}},{key:"setKillKey",value:function(h){if(typeof h=="string"){for(var y=this.getKeyCodes(h),b=0;b<y.length;b+=1)this.setKillKey(y[b]);return}this._killKeyCodes.push(h)}},{key:"pressKey",value:function(h){if(typeof h=="string"){for(var y=this.getKeyCodes(h),b=0;b<y.length;b+=1)this.pressKey(y[b]);return}this.activeTargetKeys.length=0;for(var E=this.getKeyNames(h),S=0;S<E.length;S+=1)this.activeTargetKeys.push(E[S]),this.pressedKeys.indexOf(E[S])===-1&&this.pressedKeys.push(E[S]);this._applyMacros()}},{key:"releaseKey",value:function(h){if(typeof h=="string")for(var y=this.getKeyCodes(h),b=0;b<y.length;b+=1)this.releaseKey(y[b]);else{var E=this.getKeyNames(h),S=this._killKeyCodes.indexOf(h);if(S!==-1)this.pressedKeys.length=0;else for(var w=0;w<E.length;w+=1){var A=this.pressedKeys.indexOf(E[w]);A>-1&&this.pressedKeys.splice(A,1)}this.activeTargetKeys.length=0,this._clearMacros()}}},{key:"_applyMacros",value:function(){for(var h=this._macros.slice(0),y=0;y<h.length;y+=1){var b=h[y];if(b.keyCombo.check(this.pressedKeys)){b.handler&&(b.keyNames=b.handler(this.pressedKeys));for(var E=0;E<b.keyNames.length;E+=1)this.pressedKeys.indexOf(b.keyNames[E])===-1&&this.pressedKeys.push(b.keyNames[E]);this._appliedMacros.push(b)}}}},{key:"_clearMacros",value:function(){for(var h=0;h<this._appliedMacros.length;h+=1){var y=this._appliedMacros[h];if(!y.keyCombo.check(this.pressedKeys)){for(var b=0;b<y.keyNames.length;b+=1){var E=this.pressedKeys.indexOf(y.keyNames[b]);E>-1&&this.pressedKeys.splice(E,1)}y.handler&&(y.keyNames=null),this._appliedMacros.splice(h,1),h-=1}}}}]),m}(),C=function(){function m(M,h,y,b){n(this,m),this._locale=null,this._currentContext="",this._contexts={},this._listeners=[],this._appliedListeners=[],this._locales={},this._targetElement=null,this._targetWindow=null,this._targetPlatform="",this._targetUserAgent="",this._isModernBrowser=!1,this._targetKeyDownBinding=null,this._targetKeyUpBinding=null,this._targetResetBinding=null,this._paused=!1,this._contexts.global={listeners:this._listeners,targetWindow:M,targetElement:h,targetPlatform:y,targetUserAgent:b},this.setContext("global")}return s(m,[{key:"setLocale",value:function(h,y){var b=null;return typeof h=="string"?y?(b=new g(h),y(b,this._targetPlatform,this._targetUserAgent)):b=this._locales[h]||null:(b=h,h=b._localeName),this._locale=b,this._locales[h]=b,b&&(this._locale.pressedKeys=b.pressedKeys),this}},{key:"getLocale",value:function(h){return h||(h=this._locale.localeName),this._locales[h]||null}},{key:"bind",value:function(h,y,b,E){if((h===null||typeof h=="function")&&(E=b,b=y,y=h,h=null),h&&r(h)==="object"&&typeof h.length=="number"){for(var S=0;S<h.length;S+=1)this.bind(h[S],y,b);return this}return this._listeners.push({keyCombo:h?new f(h):null,pressHandler:y||null,releaseHandler:b||null,preventRepeat:E||!1,preventRepeatByDefault:E||!1,executingHandler:!1}),this}},{key:"addListener",value:function(h,y,b,E){return this.bind(h,y,b,E)}},{key:"on",value:function(h,y,b,E){return this.bind(h,y,b,E)}},{key:"bindPress",value:function(h,y,b){return this.bind(h,y,null,b)}},{key:"bindRelease",value:function(h,y){return this.bind(h,null,y,preventRepeatByDefault)}},{key:"unbind",value:function(h,y,b){if((h===null||typeof h=="function")&&(b=y,y=h,h=null),h&&r(h)==="object"&&typeof h.length=="number"){for(var E=0;E<h.length;E+=1)this.unbind(h[E],y,b);return this}for(var S=0;S<this._listeners.length;S+=1){var w=this._listeners[S],A=!h&&!w.keyCombo||w.keyCombo&&w.keyCombo.isEqual(h),I=!y&&!b||!y&&!w.pressHandler||y===w.pressHandler,F=!y&&!b||!b&&!w.releaseHandler||b===w.releaseHandler;A&&I&&F&&(this._listeners.splice(S,1),S-=1)}return this}},{key:"removeListener",value:function(h,y,b){return this.unbind(h,y,b)}},{key:"off",value:function(h,y,b){return this.unbind(h,y,b)}},{key:"setContext",value:function(h){if(this._locale&&this.releaseAllKeys(),!this._contexts[h]){var y=this._contexts.global;this._contexts[h]={listeners:[],targetWindow:y.targetWindow,targetElement:y.targetElement,targetPlatform:y.targetPlatform,targetUserAgent:y.targetUserAgent}}var b=this._contexts[h];return this._currentContext=h,this._listeners=b.listeners,this.stop(),this.watch(b.targetWindow,b.targetElement,b.targetPlatform,b.targetUserAgent),this}},{key:"getContext",value:function(){return this._currentContext}},{key:"withContext",value:function(h,y){var b=this.getContext();return this.setContext(h),y(),this.setContext(b),this}},{key:"watch",value:function(h,y,b,E){var S=this;this.stop();var w=typeof globalThis!="undefined"?globalThis:typeof xs!="undefined"?xs:typeof window!="undefined"?window:{};if(!h){if(!w.addEventListener&&!w.attachEvent)throw new Error("Cannot find window functions addEventListener or attachEvent.");h=w}if(typeof h.nodeType=="number"&&(E=b,b=y,y=h,h=w),!h.addEventListener&&!h.attachEvent)throw new Error("Cannot find addEventListener or attachEvent methods on targetWindow.");this._isModernBrowser=!!h.addEventListener;var A=h.navigator&&h.navigator.userAgent||"",I=h.navigator&&h.navigator.platform||"";y&&y!==null||(y=h.document),b&&b!==null||(b=I),E&&E!==null||(E=A),this._targetKeyDownBinding=function(H){S.pressKey(H.keyCode,H),S._handleCommandBug(H,I)},this._targetKeyUpBinding=function(H){S.releaseKey(H.keyCode,H)},this._targetResetBinding=function(H){S.releaseAllKeys(H)},this._bindEvent(y,"keydown",this._targetKeyDownBinding),this._bindEvent(y,"keyup",this._targetKeyUpBinding),this._bindEvent(h,"focus",this._targetResetBinding),this._bindEvent(h,"blur",this._targetResetBinding),this._targetElement=y,this._targetWindow=h,this._targetPlatform=b,this._targetUserAgent=E;var F=this._contexts[this._currentContext];return F.targetWindow=this._targetWindow,F.targetElement=this._targetElement,F.targetPlatform=this._targetPlatform,F.targetUserAgent=this._targetUserAgent,this}},{key:"stop",value:function(){if(!(!this._targetElement||!this._targetWindow))return this._unbindEvent(this._targetElement,"keydown",this._targetKeyDownBinding),this._unbindEvent(this._targetElement,"keyup",this._targetKeyUpBinding),this._unbindEvent(this._targetWindow,"focus",this._targetResetBinding),this._unbindEvent(this._targetWindow,"blur",this._targetResetBinding),this._targetWindow=null,this._targetElement=null,this}},{key:"pressKey",value:function(h,y){if(this._paused)return this;if(!this._locale)throw new Error("Locale not set");return this._locale.pressKey(h),this._applyBindings(y),this}},{key:"releaseKey",value:function(h,y){if(this._paused)return this;if(!this._locale)throw new Error("Locale not set");return this._locale.releaseKey(h),this._clearBindings(y),this}},{key:"releaseAllKeys",value:function(h){if(this._paused)return this;if(!this._locale)throw new Error("Locale not set");return this._locale.pressedKeys.length=0,this._clearBindings(h),this}},{key:"pause",value:function(){return this._paused?this:(this._locale&&this.releaseAllKeys(),this._paused=!0,this)}},{key:"resume",value:function(){return this._paused=!1,this}},{key:"reset",value:function(){return this.releaseAllKeys(),this._listeners.length=0,this}},{key:"_bindEvent",value:function(h,y,b){return this._isModernBrowser?h.addEventListener(y,b,!1):h.attachEvent("on"+y,b)}},{key:"_unbindEvent",value:function(h,y,b){return this._isModernBrowser?h.removeEventListener(y,b,!1):h.detachEvent("on"+y,b)}},{key:"_getGroupedListeners",value:function(){var h=[],y=[],b=this._listeners;return this._currentContext!=="global"&&(b=[].concat(o(b),o(this._contexts.global.listeners))),b.sort(function(E,S){return(S.keyCombo?S.keyCombo.keyNames.length:0)-(E.keyCombo?E.keyCombo.keyNames.length:0)}).forEach(function(E){for(var S=-1,w=0;w<y.length;w+=1)(y[w]===null&&E.keyCombo===null||y[w]!==null&&y[w].isEqual(E.keyCombo))&&(S=w);S===-1&&(S=y.length,y.push(E.keyCombo)),h[S]||(h[S]=[]),h[S].push(E)}),h}},{key:"_applyBindings",value:function(h){var y=this,b=!1;h||(h={}),h.preventRepeat=function(){b=!0},h.pressedKeys=this._locale.pressedKeys.slice(0);for(var E=this._locale.activeTargetKeys,S=this._locale.pressedKeys.slice(0),w=this._getGroupedListeners(),A=function(H){var Z=w[H],te=Z[0].keyCombo;if(te===null||te.check(S)&&E.some(function(Gt){return te.keyNames.includes(Gt)})){for(var Ke=0;Ke<Z.length;Ke+=1){var fe=Z[Ke];!fe.executingHandler&&fe.pressHandler&&!fe.preventRepeat&&(fe.executingHandler=!0,fe.pressHandler.call(y,h),fe.executingHandler=!1,(b||fe.preventRepeatByDefault)&&(fe.preventRepeat=!0,b=!1)),y._appliedListeners.indexOf(fe)===-1&&y._appliedListeners.push(fe)}if(te)for(var We=0;We<te.keyNames.length;We+=1){var rt=S.indexOf(te.keyNames[We]);rt!==-1&&(S.splice(rt,1),We-=1)}}},I=0;I<w.length;I+=1)A(I)}},{key:"_clearBindings",value:function(h){h||(h={}),h.pressedKeys=this._locale.pressedKeys.slice(0);for(var y=0;y<this._appliedListeners.length;y+=1){var b=this._appliedListeners[y],E=b.keyCombo;(E===null||!E.check(this._locale.pressedKeys))&&(b.preventRepeat=!1,(E!==null||h.pressedKeys.length===0)&&(this._appliedListeners.splice(y,1),y-=1),!b.executingHandler&&b.releaseHandler&&(b.executingHandler=!0,b.releaseHandler.call(this,h),b.executingHandler=!1))}}},{key:"_handleCommandBug",value:function(h,y){var b=["shift","ctrl","alt","capslock","tab","command"];y.match("Mac")&&this._locale.pressedKeys.includes("command")&&!b.includes(this._locale.getKeyNames(h.keyCode)[0])&&this._targetKeyUpBinding(h)}}]),m}();function O(m,M,h){m.bindKeyCode(3,["cancel"]),m.bindKeyCode(8,["backspace"]),m.bindKeyCode(9,["tab"]),m.bindKeyCode(12,["clear"]),m.bindKeyCode(13,["enter"]),m.bindKeyCode(16,["shift"]),m.bindKeyCode(17,["ctrl"]),m.bindKeyCode(18,["alt","menu"]),m.bindKeyCode(19,["pause","break"]),m.bindKeyCode(20,["capslock"]),m.bindKeyCode(27,["escape","esc"]),m.bindKeyCode(32,["space","spacebar"]),m.bindKeyCode(33,["pageup"]),m.bindKeyCode(34,["pagedown"]),m.bindKeyCode(35,["end"]),m.bindKeyCode(36,["home"]),m.bindKeyCode(37,["left"]),m.bindKeyCode(38,["up"]),m.bindKeyCode(39,["right"]),m.bindKeyCode(40,["down"]),m.bindKeyCode(41,["select"]),m.bindKeyCode(42,["printscreen"]),m.bindKeyCode(43,["execute"]),m.bindKeyCode(44,["snapshot"]),m.bindKeyCode(45,["insert","ins"]),m.bindKeyCode(46,["delete","del"]),m.bindKeyCode(47,["help"]),m.bindKeyCode(145,["scrolllock","scroll"]),m.bindKeyCode(188,["comma",","]),m.bindKeyCode(190,["period","."]),m.bindKeyCode(191,["slash","forwardslash","/"]),m.bindKeyCode(192,["graveaccent","`"]),m.bindKeyCode(219,["openbracket","["]),m.bindKeyCode(220,["backslash","\\"]),m.bindKeyCode(221,["closebracket","]"]),m.bindKeyCode(222,["apostrophe","'"]),m.bindKeyCode(48,["zero","0"]),m.bindKeyCode(49,["one","1"]),m.bindKeyCode(50,["two","2"]),m.bindKeyCode(51,["three","3"]),m.bindKeyCode(52,["four","4"]),m.bindKeyCode(53,["five","5"]),m.bindKeyCode(54,["six","6"]),m.bindKeyCode(55,["seven","7"]),m.bindKeyCode(56,["eight","8"]),m.bindKeyCode(57,["nine","9"]),m.bindKeyCode(96,["numzero","num0"]),m.bindKeyCode(97,["numone","num1"]),m.bindKeyCode(98,["numtwo","num2"]),m.bindKeyCode(99,["numthree","num3"]),m.bindKeyCode(100,["numfour","num4"]),m.bindKeyCode(101,["numfive","num5"]),m.bindKeyCode(102,["numsix","num6"]),m.bindKeyCode(103,["numseven","num7"]),m.bindKeyCode(104,["numeight","num8"]),m.bindKeyCode(105,["numnine","num9"]),m.bindKeyCode(106,["nummultiply","num*"]),m.bindKeyCode(107,["numadd","num+"]),m.bindKeyCode(108,["numenter"]),m.bindKeyCode(109,["numsubtract","num-"]),m.bindKeyCode(110,["numdecimal","num."]),m.bindKeyCode(111,["numdivide","num/"]),m.bindKeyCode(144,["numlock","num"]),m.bindKeyCode(112,["f1"]),m.bindKeyCode(113,["f2"]),m.bindKeyCode(114,["f3"]),m.bindKeyCode(115,["f4"]),m.bindKeyCode(116,["f5"]),m.bindKeyCode(117,["f6"]),m.bindKeyCode(118,["f7"]),m.bindKeyCode(119,["f8"]),m.bindKeyCode(120,["f9"]),m.bindKeyCode(121,["f10"]),m.bindKeyCode(122,["f11"]),m.bindKeyCode(123,["f12"]),m.bindKeyCode(124,["f13"]),m.bindKeyCode(125,["f14"]),m.bindKeyCode(126,["f15"]),m.bindKeyCode(127,["f16"]),m.bindKeyCode(128,["f17"]),m.bindKeyCode(129,["f18"]),m.bindKeyCode(130,["f19"]),m.bindKeyCode(131,["f20"]),m.bindKeyCode(132,["f21"]),m.bindKeyCode(133,["f22"]),m.bindKeyCode(134,["f23"]),m.bindKeyCode(135,["f24"]),m.bindMacro("shift + `",["tilde","~"]),m.bindMacro("shift + 1",["exclamation","exclamationpoint","!"]),m.bindMacro("shift + 2",["at","@"]),m.bindMacro("shift + 3",["number","#"]),m.bindMacro("shift + 4",["dollar","dollars","dollarsign","$"]),m.bindMacro("shift + 5",["percent","%"]),m.bindMacro("shift + 6",["caret","^"]),m.bindMacro("shift + 7",["ampersand","and","&"]),m.bindMacro("shift + 8",["asterisk","*"]),m.bindMacro("shift + 9",["openparen","("]),m.bindMacro("shift + 0",["closeparen",")"]),m.bindMacro("shift + -",["underscore","_"]),m.bindMacro("shift + =",["plus","+"]),m.bindMacro("shift + [",["opencurlybrace","opencurlybracket","{"]),m.bindMacro("shift + ]",["closecurlybrace","closecurlybracket","}"]),m.bindMacro("shift + \\",["verticalbar","|"]),m.bindMacro("shift + ;",["colon",":"]),m.bindMacro("shift + '",["quotationmark","'"]),m.bindMacro("shift + !,",["openanglebracket","<"]),m.bindMacro("shift + .",["closeanglebracket",">"]),m.bindMacro("shift + /",["questionmark","?"]),M.match("Mac")?m.bindMacro("command",["mod","modifier"]):m.bindMacro("ctrl",["mod","modifier"]);for(var y=65;y<=90;y+=1){var b=String.fromCharCode(y+32),E=String.fromCharCode(y);m.bindKeyCode(y,b),m.bindMacro("shift + "+b,E),m.bindMacro("capslock + "+b,E)}var S=h.match("Firefox")?59:186,w=h.match("Firefox")?173:189,A=h.match("Firefox")?61:187,I,F;M.match("Mac")&&(h.match("Safari")||h.match("Chrome"))?(I=91,F=93):M.match("Mac")&&h.match("Opera")?(I=17,F=17):M.match("Mac")&&h.match("Firefox")&&(I=224,F=224),m.bindKeyCode(S,["semicolon",";"]),m.bindKeyCode(w,["dash","-"]),m.bindKeyCode(A,["equal","equalsign","="]),m.bindKeyCode(I,["command","windows","win","super","leftcommand","leftwindows","leftwin","leftsuper"]),m.bindKeyCode(F,["command","windows","win","super","rightcommand","rightwindows","rightwin","rightsuper"]),m.setKillKey("command")}var T=new C;return T.setLocale("us",O),T.Keyboard=C,T.Locale=g,T.KeyCombo=f,T})})(Ua);var Va=Ua.exports;class dm extends ot{constructor(){super();d(this,"map",new Map)}generateSymbol(t){return Array.isArray(t)?t.join(" + "):t.shortcutKey.join(" + ")}register(t){const r=this.generateSymbol(t);return this.map.has(r)?(console.warn(`KeyboardManager: shortcutKey already exist: ${r}. desp: ${this.map.get(r).desp}`),this):(Va.bind(r,t.keydown||null,t.keyup),this.map.set(r,t),this)}update(t){const r=this.generateSymbol(t);return this.map.has(r)?(this.cancel(t.shortcutKey),this.register(t),this):(console.warn("KeyboardManager: shortcutKey unregister then exec register function"),this.register(t),this)}cancel(t){const r=this.generateSymbol(t);if(this.map.has(r)){const n=this.map.get(r);Va.unbind(r,n.keydown||null,n.keyup),this.map.delete(r)}return this}checkRepeat(t){const r=this.generateSymbol(t);return this.map.has(r)}}const fm=function(e){if(this.keyboardManager)return console.warn("engine has installed keyboardManager plugin."),!1;const t=new dm;return this.keyboardManager=t,this.completeSet.add(()=>{if(this.transformControls)if(this.IS_ENGINESUPPORT){const r=this.dataSupportManager.controlsDataSupport.getData()[v.TRNASFORMCONTROLS];t.register({shortcutKey:["r"],desp:"tranformControls rotate mode",keyup:n=>{n==null||n.preventDefault(),r.mode="rotate"}}).register({shortcutKey:["t"],desp:"tranformControls translate mode",keyup:n=>{n==null||n.preventDefault(),r.mode="translate"}}).register({shortcutKey:["e"],desp:"tranformControls scale mode",keyup:n=>{n==null||n.preventDefault(),r.mode="scale"}}).register({shortcutKey:["x"],desp:"tranformControls switch x axis",keyup:n=>{n==null||n.preventDefault(),r.showX=!r.showX}}).register({shortcutKey:["y"],desp:"tranformControls switch y axis",keyup:n=>{n==null||n.preventDefault(),!(n==null?void 0:n.ctrlKey)&&(r.showY=!r.showY)}}).register({shortcutKey:["z"],desp:"tranformControls switch z axis",keyup:n=>{n==null||n.preventDefault(),!(n==null?void 0:n.ctrlKey)&&(r.showZ=!r.showZ)}}).register({shortcutKey:["space"],desp:"tranformControls switch coordinate space",keyup:n=>{n==null||n.preventDefault(),r.space=r.space==="local"?"world":"local"}}).register({shortcutKey:["shift"],desp:"tranformControls switch tranform numeric value",keyup:n=>{n==null||n.preventDefault(),r.snapAllow=!1},keydown:n=>{n==null||n.preventDefault(),n==null||n.preventRepeat(),r.snapAllow=!0}})}else{const r=this.transformControls;t.register({shortcutKey:["r"],desp:"tranformControls rotate mode",keyup:n=>{n==null||n.preventDefault(),r.mode="rotate"}}).register({shortcutKey:["t"],desp:"tranformControls translate mode",keyup:n=>{n==null||n.preventDefault(),r.mode="translate"}}).register({shortcutKey:["e"],desp:"tranformControls scale mode",keyup:n=>{n==null||n.preventDefault(),r.mode="scale"}}).register({shortcutKey:["x"],desp:"tranformControls switch x axis",keyup:n=>{n==null||n.preventDefault(),r.showX=!r.showX}}).register({shortcutKey:["y"],desp:"tranformControls switch y axis",keyup:n=>{n==null||n.preventDefault(),!(n==null?void 0:n.ctrlKey)&&(r.showY=!r.showY)}}).register({shortcutKey:["z"],desp:"tranformControls switch z axis",keyup:n=>{n==null||n.preventDefault(),!(n==null?void 0:n.ctrlKey)&&(r.showZ=!r.showZ)}}).register({shortcutKey:["space"],desp:"tranformControls switch coordinate space",keyup:n=>{n==null||n.preventDefault(),r.space=r.space==="local"?"world":"local"}}).register({shortcutKey:["shift"],desp:"tranformControls switch tranform numeric value",keyup:n=>{n==null||n.preventDefault(),r.translationSnap=null,r.rotationSnap=null,r.scaleSnap=null},keydown:n=>{n==null||n.preventDefault(),n==null||n.preventRepeat(),r.translationSnap=5,r.rotationSnap=Math.PI/180*10,r.scaleSnap=.1}})}}),!0},hm=function(e={}){if(!this.scene)return console.error("must install some scene plugin before BasicViewpoint plugin."),!1;const t=new xp(e.length||500);return t.matrixAutoUpdate=!1,t.raycast=()=>{},this.scene.add(t),this.setAxesHelper=function(r){return r.show?this.scene.add(t):this.scene.remove(t),this},this.addEventListener("setScene",r=>{r.scene.add(t)}),!0},mm=function(e={}){if(!this.scene)return console.error("must install some scene before BasicViewpoint plugin."),!1;const t=new Ip(e.range||500,e.spacing||50,e.axesColor||"rgb(130, 130, 130)",e.cellColor||"rgb(70, 70, 70)");if(e.opacity!==1){const r=t.material;r.transparent=!0,r.opacity=e.opacity||.5,r.needsUpdate=!0}return t.matrixAutoUpdate=!1,t.raycast=()=>{},this.scene.add(t),this.setGridHelper=function(r){return r.show?this.scene.add(t):this.scene.remove(t),this},this.addEventListener("setScene",r=>{r.scene.add(t)}),this.completeSet.add(()=>{this.setViewpoint&&this.addEventListener("setViewpoint",r=>{const n=r.viewpoint;n===Q.DEFAULT||n===Q.TOP||n===Q.BOTTOM?t.rotation.set(0,0,0):n===Q.RIGHT||n===Q.LEFT?t.rotation.set(0,0,Math.PI/2):(n===Q.FRONT||n===Q.BACK)&&t.rotation.set(Math.PI/2,0,0),t.updateMatrix(),t.updateMatrixWorld()})}),!0};var Pe;(function(e){e.GEOMETRY="geometry",e.MATERIAL="material",e.LIGHT="light",e.ENV="env"})(Pe||(Pe={}));const gm=function(e={}){if(!this.webGLRenderer)return console.error("must install some renderer before DisplayModel plugin."),!1;if(!this.scene)return console.error("must install some scene before DisplayModel plugin."),!1;!e.overrideColor&&(e.overrideColor="rgb(250, 250, 250)"),!e.defaultAmbientLightSetting&&(e.defaultAmbientLightSetting={}),!e.defaultAmbientLightSetting.color&&(e.defaultAmbientLightSetting.color="rgb(255, 255, 255)"),!e.defaultAmbientLightSetting.intensity&&(e.defaultAmbientLightSetting.intensity=.5);const t=new Gn(e.defaultAmbientLightSetting.color,e.defaultAmbientLightSetting.intensity);t.matrixAutoUpdate=!1,!e.defaultDirectionalLightSetting&&(e.defaultDirectionalLightSetting={}),!e.defaultDirectionalLightSetting.color&&(e.defaultDirectionalLightSetting.color="rgb(255, 255, 255)"),!e.defaultDirectionalLightSetting.intensity&&(e.defaultDirectionalLightSetting.intensity=.5),!e.defaultDirectionalLightSetting.position&&(e.defaultDirectionalLightSetting.position={x:-100,y:100,z:100});const r=new Oa(e.defaultDirectionalLightSetting.color,e.defaultDirectionalLightSetting.intensity);r.castShadow=!1,r.position.set(e.defaultDirectionalLightSetting.position.x,e.defaultDirectionalLightSetting.position.y,e.defaultDirectionalLightSetting.position.z),r.updateMatrix(),r.updateMatrixWorld(),r.matrixAutoUpdate=!1,!e.mode&&(e.mode=Pe.ENV),this.displayMode=e.mode;const n=new Dp({color:e.overrideColor}),i=new At({color:e.overrideColor}),s=new nt({color:e.overrideColor,size:5,sizeAttenuation:!1}),o=new pr({color:e.overrideColor}),a=new WeakMap,c=new Set,l=new Set,u=new Set,p=new Set,f=new Set;let g,C;const O={Object3D:!0,Group:!0};this.scene.addEventListener("afterAdd",E=>{const S=this.displayMode,w=E.objects;for(const A of w)if(!O[A.type])if(A instanceof Lt&&A.type==="Mesh")l.add(A),S===Pe.GEOMETRY&&(a.set(A,A.material),A.material=n);else if(A instanceof Vn&&A.type.includes("Line"))u.add(A),S===Pe.GEOMETRY&&(a.set(A,A.material),A.material=i);else if(A instanceof _a&&A.type.includes("Light")){if(A===t||A===r)continue;c.has(A)||c.add(A),S!==Pe.ENV&&S!==Pe.LIGHT&&this.scene.remove(A)}else A instanceof gt&&A.type==="Points"?(p.add(A),S===Pe.GEOMETRY&&(a.set(A,A.material),A.material=s)):A instanceof ur&&A.type==="Sprite"&&(f.add(A),S===Pe.GEOMETRY&&(a.set(A,A.material),A.material=o))}),this.scene.addEventListener("afterRemove",E=>{const S=E.objects;for(const w of S)if(!O[w.type])if(w instanceof Lt&&w.type==="Mesh")l.delete(w),a.has(w)&&a.delete(w);else if(w instanceof Vn&&w.type.includes("Line"))u.delete(w),a.has(w)&&a.delete(w);else if(w instanceof _a&&w.type.includes("Light")){if(w===t||w===r)continue;c.delete(w)}else w instanceof gt&&w.type==="Points"?(p.delete(w),a.has(w)&&a.delete(w)):w instanceof ur&&w.type==="Sprite"&&(f.delete(w),a.has(w)&&a.delete(w))});const T=()=>{for(const E of l)E.material!==n&&(a.set(E,E.material),E.material=n);for(const E of u)E.material!==i&&(a.set(E,E.material),E.material=i);for(const E of p)E.material!==s&&(a.set(E,E.material),E.material=s);for(const E of f)E.material!==o&&(a.set(E,E.material),E.material=o)},m=()=>{l.forEach(E=>{a.has(E)&&(E.material=a.get(E),a.delete(E))}),u.forEach(E=>{a.has(E)&&(E.material=a.get(E),a.delete(E))}),p.forEach(E=>{a.has(E)&&(E.material=a.get(E),a.delete(E))}),f.forEach(E=>{a.has(E)&&(E.material=a.get(E),a.delete(E))})},M=()=>{c.forEach(E=>{E.visible=!1}),this.scene.add(t),this.scene.add(r)},h=()=>{c.forEach(E=>{E.visible=!0}),this.scene.remove(t),this.scene.remove(r)},y=()=>{this.scene.background instanceof Hr&&(g=this.scene.background,this.scene.background=null),this.scene.environment instanceof Hr&&(C=this.scene.environment,this.scene.environment=null)},b=()=>{g&&(this.scene.background=g,g=void 0),C&&(this.scene.environment=C,C=void 0)};return this.setDisplayMode=function(E){return this.displayMode=E||Pe.ENV,E===Pe.GEOMETRY?(T(),y(),M()):E===Pe.MATERIAL?(m(),y(),M()):E===Pe.LIGHT?(m(),y(),h()):E===Pe.ENV?(m(),b(),h()):console.warn(`displayMode plugin can not set this mode: ${E}`),this},this.completeSet.add(()=>{this.objectHelperManager&&this.objectHelperManager.addFilteredObject(r)}),!0},Dt=()=>new At({color:"rgb(255, 255, 255)"});class za extends qe{constructor(t){super();d(this,"shape"),d(this,"target"),d(this,"type","CameraHelper"),d(this,"cachaData");const r=new Ye,n=[0,0,0,-1,1,-1,0,0,0,-1,1,1,0,0,0,-1,-1,-1,0,0,0,-1,-1,1,-1,-1,1,-1,-1,-1,-1,-1,-1,-1,1,-1,-1,1,-1,-1,1,1,-1,1,1,-1,-1,1,0,0,0,0,1,1,0,0,0,0,1,-1,0,0,0,0,-1,-1,0,0,0,0,-1,1,0,1,1,0,1,-1,0,1,-1,0,-1,-1,0,-1,-1,0,-1,1,0,-1,1,0,1,1,0,-1,1,2,-1,1,0,1,-1,2,1,-1,0,-1,-1,2,-1,-1,0,1,1,2,1,1,2,1,1,2,-1,1,2,-1,1,2,-1,-1,2,-1,-1,2,1,-1,2,1,-1,2,1,1];r.setAttribute("position",new me(n,3)),r.rotateY(-90*Math.PI/180),r.computeBoundingBox();const i=new Ep(t);i.matrix=new ga,i.matrixAutoUpdate=!0,i.raycast=()=>{},this.add(i),this.shape=i,this.geometry=r,this.material=Dt(),this.target=t,this.matrixAutoUpdate=!1,this.matrix=t.matrix,t instanceof Me?this.cachaData={fov:t.fov,aspect:t.aspect,near:t.near,far:t.far}:t instanceof it?this.cachaData={left:t.left,right:t.right,top:t.top,bottom:t.bottom,near:t.near,far:t.far}:this.cachaData={},this.onBeforeRender=()=>{let s=!1;const o=this.cachaData;Object.keys(o).forEach(a=>{o[a]!==t[a]&&(o[a]=t[a],s=!0)}),s&&this.shape.update()}}raycast(t,r){const n=this.matrixWorld,i=this.geometry.boundingBox.clone();if(i.applyMatrix4(n),t.ray.intersectsBox(i)){const s=this.target;r.push({distance:t.ray.origin.distanceTo(s.position),object:s,point:s.position})}}}class ym extends qe{constructor(t){super();d(this,"sphere"),d(this,"target"),d(this,"shape"),d(this,"type","VisDirectionalLightHelper"),d(this,"cacheColor"),d(this,"cacheVector3"),this.geometry=new Ye;const r=[-1,0,0,1,0,0,0,-1,0,0,1,0,0,0,-1,0,0,1,-.707,-.707,0,.707,.707,0,.707,-.707,0,-.707,.707,0,0,-.707,-.707,0,.707,.707,0,.707,-.707,0,-.707,.707,-.707,0,-.707,.707,0,.707,.707,0,-.707,-.707,0,.707];this.geometry.setAttribute("position",new me(r,3)),this.material=Dt(),this.geometry.boundingSphere;const n=new ce().copy(t.color).multiplyScalar(t.intensity),i=new lr(20,20);i.dispose();const s=new qe(new cr(i),new At({color:n}));s.raycast=()=>{},this.shape=s,this.target=t,this.sphere=new ys(new z(0,0,0),1),this.cacheColor=t.color.getHex(),this.cacheVector3=new z,this.add(this.shape),this.matrixAutoUpdate=!1,this.matrix=t.matrix,this.matrixWorldNeedsUpdate=!1,this.matrixWorld=t.matrixWorld,this.onBeforeRender=()=>{const o=this.target,a=this.shape;o.color.getHex()!==this.cacheColor&&(a.material.color.copy(o.color).multiplyScalar(o.intensity),this.cacheColor=o.color.getHex()),a.lookAt(o.target.position)}}raycast(t,r){const n=this.target,i=n.matrixWorld,s=this.sphere;s.set(this.cacheVector3.set(0,0,0),1),s.applyMatrix4(i),t.ray.intersectsSphere(s)&&r.push({distance:t.ray.origin.distanceTo(n.position),object:n,point:n.position})}}class vm extends qe{constructor(t){super();d(this,"sphere"),d(this,"target"),d(this,"shape"),d(this,"type","VisPointLightHelper"),d(this,"cacheColor"),d(this,"cacheDistance"),d(this,"cacheVector3"),this.geometry=new Ye;const r=[-1,0,0,1,0,0,0,-1,0,0,1,0,0,0,-1,0,0,1,-.707,-.707,0,.707,.707,0,.707,-.707,0,-.707,.707,0,0,-.707,-.707,0,.707,.707,0,.707,-.707,0,-.707,.707,-.707,0,-.707,.707,0,.707,.707,0,-.707,-.707,0,.707];this.geometry.setAttribute("position",new me(r,3)),this.material=Dt(),this.geometry.boundingSphere;const n=new ce().copy(t.color).multiplyScalar(t.intensity),i=new Lt(new ya(t.distance,0),new vs({color:n,wireframe:!0}));i.raycast=()=>{},i.matrixAutoUpdate=!1,this.shape=i,this.target=t,this.sphere=new ys(new z(0,0,0),1),this.cacheColor=t.color.getHex(),this.cacheDistance=t.distance,this.cacheVector3=new z,this.add(this.shape),this.matrixAutoUpdate=!1,this.matrix=t.matrix,this.matrixWorldNeedsUpdate=!1,this.matrixWorld=t.matrixWorld,this.onBeforeRender=()=>{const s=this.target,o=this.shape;s.distance!==this.cacheDistance&&(o.geometry.dispose(),o.geometry=new ya(s.distance,0),this.cacheDistance=s.distance),s.color.getHex()!==this.cacheColor&&(o.material.color.copy(s.color).multiplyScalar(s.intensity),this.cacheColor=s.color.getHex())}}raycast(t,r){const n=this.target,i=n.matrixWorld,s=this.sphere;s.set(this.cacheVector3.set(0,0,0),1),s.applyMatrix4(i),t.ray.intersectsSphere(s)&&r.push({distance:t.ray.origin.distanceTo(n.position),object:n,point:n.position})}}class bm extends qe{constructor(t){super();d(this,"sphere"),d(this,"target"),d(this,"shape"),d(this,"type","VisSpotLightHelper"),d(this,"cacheVector3"),d(this,"cacheColor"),d(this,"cacheAngle"),d(this,"cacheDistance"),this.geometry=new Ye;const r=[-1,0,0,1,0,0,0,-1,0,0,1,0,0,0,-1,0,0,1,-.707,-.707,0,.707,.707,0,.707,-.707,0,-.707,.707,0,0,-.707,-.707,0,.707,.707,0,.707,-.707,0,-.707,.707,-.707,0,-.707,.707,0,.707,.707,0,-.707,-.707,0,.707];this.geometry.setAttribute("position",new me(r,3)),this.material=Dt(),this.geometry.boundingSphere;const n=new Ye,i=[0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let l=0,u=1,p=32;l<p;l++,u++){const f=l/p*Math.PI*2,g=u/p*Math.PI*2;i.push(Math.cos(f),Math.sin(f),1,Math.cos(g),Math.sin(g),1)}n.setAttribute("position",new me(i,3));const s=Dt(),o=new qe(n,s);o.material.color.copy(t.color).multiplyScalar(t.intensity);const a=t.distance?t.distance:1e3,c=a*Math.tan(t.angle);o.scale.set(c,c,a),o.raycast=()=>{},this.add(o),this.matrixAutoUpdate=!1,this.matrix=t.matrix,this.matrixWorldNeedsUpdate=!1,this.matrixWorld=t.matrixWorld,this.target=t,this.shape=o,this.sphere=new ys(new z(0,0,0),1),this.cacheColor=t.color.getHex(),this.cacheDistance=t.distance,this.cacheAngle=t.angle,this.cacheVector3=new z,this.onBeforeRender=()=>{const l=this.target,u=this.shape;let p=!1;if(l.distance!==this.cacheDistance&&(this.cacheDistance=l.distance,u.scale.z=l.distance,p=!0),l.angle!==this.cacheAngle&&(this.cacheAngle=l.angle,p=!0),p){const f=l.distance*Math.tan(l.angle);u.scale.set(f,f,l.distance)}l.color.getHex()!==this.cacheColor&&(u.material.color.copy(l.color).multiplyScalar(l.intensity),this.cacheColor=l.color.getHex()),u.lookAt(l.target.position)}}raycast(t,r){const n=this.target,i=n.matrixWorld,s=this.sphere;s.set(this.cacheVector3.set(0,0,0),1),s.applyMatrix4(i),t.ray.intersectsSphere(s)&&r.push({distance:t.ray.origin.distanceTo(n.position),object:n,point:n.position})}}class Em extends qe{constructor(t){super();d(this,"target"),d(this,"type","VisCSS3DHelper");const n=t.element.getBoundingClientRect(),i=n.width,s=n.height;this.geometry=new cr(new lr(i,s)),this.geometry.computeBoundingBox(),this.material=Dt(),this.matrixAutoUpdate=!1,this.matrix=t.matrix,this.matrixWorldNeedsUpdate=!1,this.matrixWorld=t.matrixWorld,this.target=t}raycast(t,r){const n=this.target,i=n.matrixWorld,s=this.geometry.boundingBox.clone();s.applyMatrix4(i),t.ray.intersectsBox(s)&&r.push({distance:t.ray.origin.distanceTo(n.position),object:n,point:n.position})}}class Cm extends qe{constructor(t){super();d(this,"target"),d(this,"type","VisCSS3DPlaneHelper");const n=t.element.getBoundingClientRect(),i=n.width,s=n.height;this.geometry=new cr(new lr(i,s)),this.geometry.computeBoundingBox(),this.material=Dt(),this.matrixAutoUpdate=!1,this.matrix=t.matrix,this.matrixWorldNeedsUpdate=!1,this.matrixWorld=t.matrixWorld,this.target=t}}const Ka=class extends ur{constructor(e){super();d(this,"target"),d(this,"type","VisGroupHelper"),this.target=e,this.geometry.computeBoundingBox(),this.material=new pr({map:Ka.colorTexture}),this.material.depthTest=!1,this.material.depthWrite=!1,this.scale.set(5,5,5);const t=this.updateMatrixWorld.bind(this);this.updateMatrixWorld=r=>{const n=this.position,i=this.target.position;n.x=i.x,n.y=i.y,n.z=i.z,t(r)}}raycast(e,t){const r=this.matrixWorld,n=this.geometry.boundingBox.clone();if(n.applyMatrix4(r),e.ray.intersectsBox(n)){const i=this.target;t.push({distance:e.ray.origin.distanceTo(i.position),object:i,point:i.position})}}};let Wa=Ka;d(Wa,"colorTexture",new Gr(new Zr({width:512,height:512}).draw(e=>{e.beginPath(),e.fillStyle="rgba(0, 0, 0, 0)",e.fillRect(0,0,512,512),e.closePath(),e.translate(256,200),e.beginPath(),e.fillStyle="yellow",e.fillRect(-200,0,400,200),e.closePath(),e.beginPath(),e.fillStyle="yellow",e.fillRect(-200,-70,200,70),e.closePath()}).get()));const Ya=class extends gt{constructor(e){super();d(this,"target"),d(this,"type","VisLineHelper"),this.target=e,this.geometry.dispose(),this.geometry.copy(e.geometry),this.material=new nt({color:"rgb(255, 255, 255)",alphaMap:Ya.alphaTexture,transparent:!0,size:5,sizeAttenuation:!1}),this.matrixAutoUpdate=!1,this.matrixWorldNeedsUpdate=!1,this.matrix=e.matrix,this.matrixWorld=e.matrixWorld,this.renderOrder=-1,this.raycast=()=>{}}};let Is=Ya;d(Is,"alphaTexture",new Gr(new Zr({width:512,height:512,bgColor:"rgb(0, 0, 0)"}).draw(e=>{e.beginPath(),e.fillStyle="rgb(255, 255, 255)",e.arc(256,256,200,0,Math.PI*2),e.fill(),e.closePath()}).get()));class Mm extends qe{constructor(t){super();d(this,"target"),d(this,"type","VisMeshHelper"),d(this,"cachaGeometryUUid");const r=1;this.target=t,this.geometry=new cr(t.geometry,r),this.cachaGeometryUUid=t.geometry.uuid,this.material=Dt(),this.raycast=()=>{},this.matrixAutoUpdate=!1,this.matrixWorldNeedsUpdate=!1,this.matrix=t.matrix,this.matrixWorld=t.matrixWorld,this.onBeforeRender=()=>{const n=this.target;n.geometry.uuid!==this.cachaGeometryUUid&&(this.geometry.dispose(),this.geometry=new cr(n.geometry,r),this.cachaGeometryUUid=n.geometry.uuid)}}}const qa=class extends gt{constructor(e){super();d(this,"target"),d(this,"type","VisPointsHelper"),this.target=e,this.geometry.dispose(),this.geometry.copy(e.geometry),this.material.dispose(),this.material=new nt({color:"rgb(255, 255, 255)",alphaMap:qa.alphaTexture,transparent:!0});const t=Array.isArray(e.material)?e.material[0]:e.material;t instanceof nt&&(this.material.size=t.size,this.material.sizeAttenuation=t.sizeAttenuation),this.matrixAutoUpdate=!1,this.matrixWorldNeedsUpdate=!1,this.matrix=e.matrix,this.matrixWorld=e.matrixWorld,this.raycast=()=>{}}};let Xa=qa;d(Xa,"alphaTexture",new Gr(new Zr({width:512,height:512,bgColor:"rgb(0, 0, 0)"}).draw(e=>{e.beginPath(),e.strokeStyle="rgb(255, 255, 255)",e.lineWidth=4,e.strokeRect(0,0,512,512),e.closePath()}).get()));const Qa=class extends ur{constructor(e){super();d(this,"target"),d(this,"type","VisSpriteHelper"),this.target=e,this.material.dispose(),this.material=new pr({color:"rgb(255, 255, 255)",alphaMap:Qa.alphaTexture,transparent:!0,depthWrite:!1}),this.matrixAutoUpdate=!1,this.matrixWorldNeedsUpdate=!1,this.matrix=e.matrix,this.matrixWorld=e.matrixWorld,this.raycast=()=>{}}};let Ja=Qa;d(Ja,"alphaTexture",new Gr(new Zr({width:512,height:512,bgColor:"rgb(0, 0, 0)"}).draw(e=>{e.beginPath(),e.strokeStyle="rgb(255, 255, 255)",e.lineWidth=4,e.strokeRect(0,0,512,512),e.closePath()}).get()));class Sm extends ot{constructor(t={}){super();d(this,"helperGenerator",{[v.POINTLIGHT]:vm,[v.SPOTLIGHT]:bm,[v.DIRECTIONALLIGHT]:ym,[v.PERSPECTIVECAMERA]:za,[v.ORTHOGRAPHICCAMERA]:za,[v.MESH]:Mm,[v.GROUP]:Wa,[v.SPRITE]:Ja,[v.POINTS]:Xa,[v.LINE]:Is,[v.LINESEGMENTS]:Is,[v.CSS3DOBJECT]:Em,[v.CSS3DPLANE]:Cm}),d(this,"helperFilter",{AmbientLight:!0,Object3D:!0,TransformControls:!0,Scene:!0}),d(this,"objectFilter",new Set),d(this,"helperMap",new Map),t.helperGenerator&&(this.helperGenerator=Object.assign(this.helperGenerator,t.helperGenerator)),t.helperFilter&&(this.helperFilter=Object.assign(this.helperFilter,t.helperFilter)),t.objectFilter&&(this.objectFilter=new Set(t.objectFilter.concat(Array.from(this.objectFilter))))}addFilteredObject(...t){for(const r of t)this.objectFilter.add(r);return this}addObjectHelper(t){if(this.objectFilter.has(t)||this.helperMap.has(t)||this.helperFilter[t.type]||t.type.toLocaleLowerCase().includes("helper"))return null;if(!this.helperGenerator[t.type])return console.warn(`object helper can not support this type object: '${t.type}'`),null;const r=new this.helperGenerator[t.type](t);return this.helperMap.set(t,r),r}disposeObjectHelper(t){if(this.objectFilter.has(t)||this.helperFilter[t.type]||t.type.toLocaleLowerCase().includes("helper"))return null;if(!this.helperMap.has(t))return console.warn("object helper manager can not found this object`s helper: ",t),null;const r=this.helperMap.get(t);return r.geometry&&r.geometry.dispose(),r.material&&(r.material instanceof Bn?r.material.dispose():r.material.forEach(n=>{n.dispose()})),this.helperMap.delete(t),r}}const wm=function(e={}){if(!this.scene)return console.error("must install some scene plugin before ObjectHelper plugin."),!1;e.interact===void 0&&(e.interact=!0),e.interact&&(this.eventManager||(console.warn("must install eventManager plugin that can use interact function."),e.interact=!1));const t=new Sm,r=new Map,n=new Map,i=new Map,s=t.helperMap;this.objectHelperManager=t,!e.activeColor&&(e.activeColor="rgb(230, 20, 240)"),!e.hoverColor&&(e.hoverColor="rgb(255, 158, 240)"),!e.defaultColor&&(e.defaultColor="rgb(255, 255, 255)"),!e.selectedColor&&(e.selectedColor=e.activeColor);const o=new ce(e.defaultColor).getHex(),a=new ce(e.activeColor).getHex(),c=new ce(e.hoverColor).getHex(),l=new ce(e.selectedColor).getHex(),u=new WeakSet,p=O=>{const T=O.objects;for(const m of T){const M=t.addObjectHelper(m);if(!!M&&(M.material.color.setHex(o),this.scene.add(M),e.interact)){const h=()=>{var E;((E=this.transformControls)==null?void 0:E.dragging)||this.selectionBox&&this.selectionBox.has(m)||M.material.color.setHex(c)},y=()=>{var E;((E=this.transformControls)==null?void 0:E.dragging)||this.selectionBox&&this.selectionBox.has(m)||M.material.color.setHex(o)},b=()=>{var E;((E=this.transformControls)==null?void 0:E.dragging)||this.selectionBox&&this.selectionBox.has(m)||M.material.color.setHex(a)};m.addEventListener("pointerenter",h),m.addEventListener("pointerleave",y),m.addEventListener("click",b),r.set(m,h),n.set(m,y),i.set(m,b)}}},f=O=>{const T=O.objects;for(const m of T){const M=t.disposeObjectHelper(m);!M||(this.scene.remove(M),e.interact&&(m.removeEventListener("pointerenter",r.get(m)),m.removeEventListener("pointerleave",n.get(m)),m.removeEventListener("click",i.get(m)),r.delete(m),n.delete(m),i.delete(m)))}},g=O=>{u.has(O)||(O.traverse(T=>{const m=t.addObjectHelper(T);m&&O.add(m)}),u.add(O))};this.scene.addEventListener("afterAdd",p),this.scene.addEventListener("afterRemove",f),this.setObjectHelper=function(O){return O.show?s.forEach(T=>{this.scene.add(T)}):s.forEach(T=>{this.scene.remove(T)}),this},this.addEventListener("setScene",O=>{const T=O.scene;!u.has(T)&&g(T),T.hasEventListener("afterAdd",p)||T.addEventListener("afterAdd",p),T.hasEventListener("afterRemove",f)||T.addEventListener("afterRemove",f)});const C=new Set;return this.completeSet.add(()=>{this.selectionBox&&this.addEventListener("selected",O=>{C.forEach(T=>{T.material.color.setHex(o)}),C.clear();for(const T of O.objects)if(s.has(T)){const m=s.get(T);m.material.color.setHex(l),C.add(m)}})}),!0},Om=function(e={}){if(this.selectionBox)return console.warn("engine has installed selection plugin."),!1;if(!this.eventManager)return console.warn("must install eventManager plugin before Selection plugin."),!1;this.selectionBox=new Set;const t=()=>{const r=[];this.IS_ENGINESUPPORT&&this.selectionBox.forEach(n=>{const i=this.compilerManager.getObjectSymbol(n);i?r.push(i):console.warn("selection plugin can not font vid in compilerManager.",n)}),this.dispatchEvent({type:"selected",objects:[...this.selectionBox],objectSymbols:r})};return this.setSelectionBox=function(r){this.selectionBox.clear();for(const n of r.objects)this.selectionBox.add(n);return t(),this},this.eventManager.addEventListener("click",r=>{var n,i,s;if(this.transing){this.transing=!1;return}const o=r.intersections;if(r.ctrlKey||this.selectionBox.clear(),this.eventManager.penetrate)for(const a of o){if(r.ctrlKey&&((n=this.selectionBox)==null?void 0:n.has(a.object))){this.selectionBox.delete(a.object);continue}this.selectionBox.add(a.object)}else if(o.length){const a=o[0].object;if(r.ctrlKey&&((i=this.selectionBox)==null?void 0:i.has(a))){this.selectionBox.delete(a);return}(s=this.selectionBox)==null||s.add(a)}t()}),!0},_m=function(e={}){if(this.css3DRenderer)return console.warn("this has installed css3DRenderer plugin."),!1;this.css3DRenderer=new Jp;const t=this.css3DRenderer.domElement;if(t.classList.add("vis-css3D"),t.style.position="absolute",t.style.top="0",t.style.left="0",this.addEventListener("setDom",r=>{r.dom.appendChild(this.css3DRenderer.domElement)}),this.addEventListener("setSize",r=>{this.css3DRenderer.setSize(r.width,r.height)}),this.renderManager)this.renderManager.removeEventListener("render",this.render),this.renderManager.addEventListener("render",r=>{this.css3DRenderer.render(this.scene,this.camera)});else if(this.webGLRenderer){const r=this.render.bind(this);this.render=function(){return r(),this.webGLRenderer.render(this.scene,this.camera),this}}else this.render=function(){return this.webGLRenderer.render(this.scene,this.camera),this};return!0};var V;(function(e){e.WEBGLRENDERER="WebGLRenderer",e.CSS3DRENDERER="CSS3DRenderer",e.SCENE="Scene",e.MODELINGSCENE="ModelingScene",e.RENDERMANAGER="RenderManager",e.ORBITCONTROLS="OrbitControls",e.STATS="Stats",e.EFFECTCOMPOSER="EffectComposer",e.POINTERMANAGER="PointerManager",e.EVENTMANAGER="EventManager",e.TRANSFORMCONTROLS="TransformControls",e.LOADERMANAGER="LoaderManager",e.RESOURCEMANAGER="ResourceManager",e.DATASUPPORTMANAGER="DataSupportManager",e.COMPILERMANAGER="CompilerManager",e.KEYBOARDMANAGER="KeyboardManager",e.AXESHELPER="AxesHelper",e.GRIDHELPER="GridHelper",e.VIEWPOINT="Viewpoint",e.DISPLAYMODE="DisplayMode",e.OBJECTHELPER="ObjectHelper",e.SELECTION="Selection"})(V||(V={}));const Kt=class extends ot{constructor(){super();d(this,"completeSet"),d(this,"camera",new Me),d(this,"scene",new st),d(this,"IS_ENGINESUPPORT",!1),d(this,"dom"),d(this,"webGLRenderer"),d(this,"css3DRenderer"),d(this,"orbitControls"),d(this,"transformControls"),d(this,"effectComposer"),d(this,"renderManager"),d(this,"pointerManager"),d(this,"eventManager"),d(this,"loaderManager"),d(this,"resourceManager"),d(this,"dataSupportManager"),d(this,"compilerManager"),d(this,"keyboardManager"),d(this,"objectHelperManager"),d(this,"transing"),d(this,"stats"),d(this,"displayMode"),d(this,"selectionBox"),d(this,"getScreenshot"),d(this,"setStats"),d(this,"setTransformControls"),d(this,"setViewpoint"),d(this,"setDisplayMode"),d(this,"setAxesHelper"),d(this,"setGridHelper"),d(this,"setObjectHelper"),d(this,"setSelectionBox"),d(this,"loadResources"),d(this,"loadResourcesAsync"),d(this,"registerResources"),d(this,"toJSON"),d(this,"exportConfig"),d(this,"applyConfig"),d(this,"reactiveConfig"),d(this,"getConfigBySymbol"),d(this,"removeConfigBySymbol"),d(this,"getObjectSymbol"),d(this,"getObjectBySymbol"),d(this,"play"),d(this,"stop"),d(this,"render"),this.completeSet=new Set,this.render=function(){return console.warn("can not install some plugin"),this},this.camera.position.set(50,50,50),this.addEventListener("setSize",e=>{this.camera.aspect=e.width/e.height,this.camera.updateProjectionMatrix()})}optimizeMemory(){Object.keys(this).forEach(e=>{this[e]===void 0&&delete this[e]})}install(e,t){return Kt.pluginHandler.has(e)?Kt.pluginHandler.get(e).call(this,t):console.error(`engine can not support ${e} plugin.`),this}complete(){return this.completeSet.forEach(e=>{e(this)}),this.completeSet.clear(),this}dispose(){return this.dispatchEvent({type:"dispose"}),this}setDom(e){return this.dom=e,this.dispatchEvent({type:"setDom",dom:e}),this}setSize(e,t){var r,n;return e&&e<=0||t&&t<=0?(console.warn(`you must be input width and height bigger then zero, width: ${e}, height: ${t}`),this):(!e&&(e=((r=this.dom)==null?void 0:r.offsetWidth)||window.innerWidth),!t&&(t=((n=this.dom)==null?void 0:n.offsetHeight)||window.innerHeight),this.dispatchEvent({type:"setSize",width:e,height:t}),this)}setCamera(e){if(typeof e=="object"&&e instanceof Np)this.camera=e,this.dispatchEvent({type:"setCamera",camera:e});else if(this.IS_ENGINESUPPORT){const t=this.compilerManager.getObjectBySymbol(e);t?(this.camera=t,this.dispatchEvent({type:"setCamera",camera:t})):console.warn(`can not found camera in compilerManager: ${e}`)}else console.warn("engine is not a Engine support but use symbol to found camera.");return this}setScene(e){if(typeof e=="object"&&e instanceof st)this.scene=e,this.dispatchEvent({type:"setScene",scene:e});else if(this.IS_ENGINESUPPORT){const t=this.compilerManager.getObjectBySymbol(e);t?(this.scene=t,this.dispatchEvent({type:"setScene",scene:t})):console.warn(`can not found camera in compilerManager: ${e}`)}else console.warn("engine is not a Engine support but use symbol to found camera.");return this}};let J=Kt;d(J,"pluginHandler",new Map);d(J,"register",function(e,t){return Kt.pluginHandler&&Kt.pluginHandler.set(e,t),Kt});d(J,"dispose",function(){Kt.pluginHandler=void 0});J.register(V.WEBGLRENDERER,Cd);J.register(V.CSS3DRENDERER,_m);J.register(V.EFFECTCOMPOSER,hd);J.register(V.RENDERMANAGER,ld);J.register(V.POINTERMANAGER,gd);J.register(V.EVENTMANAGER,vd);J.register(V.LOADERMANAGER,Pd);J.register(V.RESOURCEMANAGER,Df);J.register(V.DATASUPPORTMANAGER,hh);J.register(V.COMPILERMANAGER,pm);J.register(V.KEYBOARDMANAGER,fm);J.register(V.ORBITCONTROLS,pd);J.register(V.TRANSFORMCONTROLS,Ed);J.register(V.AXESHELPER,hm);J.register(V.GRIDHELPER,mm);J.register(V.OBJECTHELPER,wm);J.register(V.DISPLAYMODE,gm);J.register(V.VIEWPOINT,ud);J.register(V.STATS,fd);J.register(V.SELECTION,Om);const Za=class{constructor(){d(this,"supportData"),d(this,"supportDataType")}create(e){return e?(this.supportData={},this.supportDataType=e,this):(console.warn("you must give a module type in create params"),this)}add(e){return!this.supportData||!this.supportDataType?(console.warn("you must call 'create' method before the 'add' method"),this):e.type?Za.configModelMap[e.type]!==this.supportDataType?(console.warn(`current generator create config which module is in: ${this.supportDataType}, but you provide type is '${e.type}'`),this):(this.supportData[e.vid]=$(e.type,e),this):(console.warn("config can not found attribute 'type'"),this)}get(){return this.supportDataType=void 0,this.supportData?this.supportData:{}}};let Tm=Za;d(Tm,"configModelMap",Qn);const Ds=new va("rgb(255, 255, 255)",.5,200,1);Ds.position.set(-30,5,20);Ds.castShadow=!0;const si=new Lt(new Ur(80,2,80),new ba({color:"rgb(255, 255, 255)"}));si.position.set(0,-11,0);si.receiveShadow=!0;si.castShadow=!0;const Ct=class{constructor(e){d(this,"material"),d(this,"dom"),d(this,"renderer"),d(this,"scene"),d(this,"camera"),d(this,"object");const t=new bs({antialias:!0,preserveDrawingBuffer:!0});t.setPixelRatio(window.devicePixelRatio),t.setClearColor("rgb(150, 150, 150)"),t.shadowMap.enabled=!0,t.shadowMap.type=Ta;const r=new st,n=new Me(45,window.innerWidth/window.innerHeight,1,500);n.position.set(0,0,35),n.up.x=0,n.up.y=1,n.up.z=0,n.lookAt(new z(0,0,0)),r.add(Ct.ambientLight),r.add(Ct.pointLight),r.add(Ct.plane),this.scene=r,this.renderer=t,this.camera=n,this.object=new Br,(e==null?void 0:e.material)&&this.setMaterial(e.material),(e==null?void 0:e.dom)&&this.setDom(e.dom)}setMaterial(e){if(this.scene.remove(this.object),this.material=e,e.type.includes("Mesh"))this.object=new Lt(Ct.geometry,e);else if(e.type.includes("Line"))this.object=new Vn(Ct.geometry,e);else if(e.type.includes("Ponits"))this.object=new gt(Ct.geometry,e);else if(e.type.includes("Sprite"))this.object=new ur(e);else return console.warn(`material displayer can not support this type material: '${e.type}'`),this;return this.object.castShadow=!0,this.object.receiveShadow=!0,this.scene.add(this.object),this}setDom(e){return this.dom=e,this.setSize(),e.appendChild(this.renderer.domElement),this}setSize(e,t){if(e&&t)this.camera.aspect=e/t,this.camera.updateProjectionMatrix(),this.renderer.setSize(e,t,!0);else{if(!this.dom)return console.warn("material displayer must set dom before setSize with empty parameters"),this;const r=this.dom;this.camera.aspect=r.offsetWidth/r.offsetHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(r.offsetWidth,r.offsetHeight,!0)}return this}render(){this.renderer.render(this.scene,this.camera)}dispose(){this.renderer.dispose()}};let en=Ct;d(en,"ambientLight",new Gn("rgb(255, 255, 255)",.7));d(en,"pointLight",Ds);d(en,"geometry",new Ea(10,12,12));d(en,"plane",si);d(en,"dispose",()=>{Ct.geometry.dispose(),Ct.plane.geometry.dispose()});const el=class{constructor(e){d(this,"dom"),d(this,"texture"),d(this,"renderer"),d(this,"scene"),d(this,"camera");const t=new bs({antialias:!0,preserveDrawingBuffer:!0});t.setPixelRatio(window.devicePixelRatio),t.setClearColor("rgb(150, 150, 150)"),t.shadowMap.enabled=!0,t.shadowMap.type=Ta;const r=new st,n=new Me(45,window.innerWidth/window.innerHeight,1,500);n.position.set(0,0,35),n.up.x=0,n.up.y=1,n.up.z=0,n.lookAt(new z(0,0,0)),r.add(el.ambientLight),this.scene=r,this.renderer=t,this.camera=n,(e==null?void 0:e.texture)&&this.setTexture(e.texture),(e==null?void 0:e.dom)&&this.setDom(e.dom)}setTexture(e){return this.scene.background=e,this}setDom(e){return this.dom=e,this.setSize(),e.appendChild(this.renderer.domElement),this}setSize(e,t){if(e&&t)this.camera.aspect=e/t,this.camera.updateProjectionMatrix(),this.renderer.setSize(e,t,!0);else{if(!this.dom)return console.warn("texture displayer must set dom before setSize with empty parameters"),this;const r=this.dom;this.camera.aspect=r.offsetWidth/r.offsetHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(r.offsetWidth,r.offsetHeight,!0)}return this}render(){this.renderer.render(this.scene,this.camera)}dispose(){this.renderer.dispose()}};let Rm=el;d(Rm,"ambientLight",new Gn("rgb(255, 255, 255)",1));class Am extends J{constructor(t={},r={}){super();d(this,"IS_ENGINESUPPORT",!0),this.install(V.LOADERMANAGER).install(V.RESOURCEMANAGER,{resources:r}).install(V.POINTERMANAGER).install(V.EVENTMANAGER).install(V.RENDERMANAGER).install(V.DATASUPPORTMANAGER,t).install(V.COMPILERMANAGER)}loadLifeCycle(t){const r=this.dataSupportManager;t.texture&&r.load({texture:t.texture}),t.material&&r.load({material:t.material}),delete t.texture,delete t.material,r.load(t)}removeLifeCycle(t){const r=this.dataSupportManager,n=t[L.TEXTURE]||{},i=t[L.MATERIAL]||{},s=t.assets||[];delete t.texture,delete t.material,delete t.assets,r.remove(t),r.remove({[L.MATERIAL]:i}),r.remove({[L.TEXTURE]:n});const o=this.resourceManager,a=this.loaderManager;s.forEach(c=>{o.remove(c),a.remove(c)})}loadConfig(t,r){const n=this.renderManager.hasRendering();if(n&&this.renderManager.stop(),t.assets&&t.assets.length){const i=s=>{delete t.assets,this.loadLifeCycle(t),this.resourceManager.removeEventListener("mapped",i),r&&r(s),n?this.renderManager.play():this.renderManager.render()};this.resourceManager.addEventListener("mapped",i),this.loaderManager.reset().load(t.assets)}else this.loadLifeCycle(t),r&&r(),n?this.renderManager.play():this.renderManager.render();return this}loadConfigAsync(t){return new Promise((r,n)=>{const i=this.renderManager.hasRendering();if(i&&this.renderManager.stop(),t.assets&&t.assets.length){const s=o=>{delete t.assets,this.loadLifeCycle(t),this.resourceManager.removeEventListener("mapped",s),i?this.renderManager.play():this.renderManager.render(),r(o)};this.resourceManager.addEventListener("mapped",s),this.loaderManager.reset().load(t.assets)}else this.loadLifeCycle(t),i?this.renderManager.play():this.renderManager.render(),r(void 0)})}removeConfig(t){this.removeLifeCycle(t)}getObjectConfig(t){const r=this.getObjectSymbol(t);return r?this.getConfigBySymbol(r):null}}class Lm extends Am{constructor(t){super(t);this.install(V.WEBGLRENDERER,{antialias:!0,alpha:!0}).install(V.EFFECTCOMPOSER,{WebGLMultisampleRenderTarget:!0}).install(V.ORBITCONTROLS).complete()}}const Pm="0.1.3-2";window.__THREE__||console.error("vis-three dependent on three.js module, pleace run 'npm i three' first.");window.__VIS__?console.warn("Duplicate vis-three frames are introduced"):window.__VIS__=Pm;st.prototype.add=function(...e){if(!arguments.length)return this;if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.add(arguments[r]);return this}const t=e[0];if(t===this)return console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this;if(t&&t.isObject3D){if(t.parent!==null){const r=this.children.indexOf(t);r!==-1&&(t.parent=null,this.children.splice(r,1),t.dispatchEvent({type:"removed"}))}t.parent=this,this.children.push(t),t.dispatchEvent({type:"added"})}else console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e);return this};const xm=st.prototype.add,Im=st.prototype.remove;st.prototype.add=function(...e){return xm.call(this,...e),this.dispatchEvent({type:"afterAdd",objects:e}),this};st.prototype.remove=function(...e){return Im.call(this,...e),this.dispatchEvent({type:"afterRemove",objects:e}),this};var Nt={},re={exports:{}};(function(e){function t(r){return r&&r.__esModule?r:{default:r}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(re);var Y={exports:{}},tl={};function Ns(e){throw e}function rl(e){}function ee(e,t,r,n){const i=e,s=new SyntaxError(String(i));return s.code=e,s.loc=t,s}const gr=Symbol(""),yr=Symbol(""),oi=Symbol(""),tn=Symbol(""),js=Symbol(""),jt=Symbol(""),ks=Symbol(""),$s=Symbol(""),ai=Symbol(""),li=Symbol(""),vr=Symbol(""),ci=Symbol(""),Fs=Symbol(""),ui=Symbol(""),rn=Symbol(""),pi=Symbol(""),di=Symbol(""),fi=Symbol(""),hi=Symbol(""),Bs=Symbol(""),Hs=Symbol(""),nn=Symbol(""),sn=Symbol(""),mi=Symbol(""),gi=Symbol(""),br=Symbol(""),Er=Symbol(""),yi=Symbol(""),vi=Symbol(""),nl=Symbol(""),bi=Symbol(""),on=Symbol(""),il=Symbol(""),sl=Symbol(""),Ei=Symbol(""),ol=Symbol(""),al=Symbol(""),Ci=Symbol(""),Gs=Symbol(""),Mt={[gr]:"Fragment",[yr]:"Teleport",[oi]:"Suspense",[tn]:"KeepAlive",[js]:"BaseTransition",[jt]:"openBlock",[ks]:"createBlock",[$s]:"createElementBlock",[ai]:"createVNode",[li]:"createElementVNode",[vr]:"createCommentVNode",[ci]:"createTextVNode",[Fs]:"createStaticVNode",[ui]:"resolveComponent",[rn]:"resolveDynamicComponent",[pi]:"resolveDirective",[di]:"resolveFilter",[fi]:"withDirectives",[hi]:"renderList",[Bs]:"renderSlot",[Hs]:"createSlots",[nn]:"toDisplayString",[sn]:"mergeProps",[mi]:"normalizeClass",[gi]:"normalizeStyle",[br]:"normalizeProps",[Er]:"guardReactiveProps",[yi]:"toHandlers",[vi]:"camelize",[nl]:"capitalize",[bi]:"toHandlerKey",[on]:"setBlockTracking",[il]:"pushScopeId",[sl]:"popScopeId",[Ei]:"withCtx",[ol]:"unref",[al]:"isRef",[Ci]:"withMemo",[Gs]:"isMemoSame"};function ll(e){Object.getOwnPropertySymbols(e).forEach(t=>{Mt[t]=e[t]})}const oe={source:"",start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0}};function cl(e,t=oe){return{type:0,children:e,helpers:[],components:[],directives:[],hoists:[],imports:[],cached:0,temps:0,codegenNode:void 0,loc:t}}function Cr(e,t,r,n,i,s,o,a=!1,c=!1,l=!1,u=oe){return e&&(a?(e.helper(jt),e.helper(Xt(e.inSSR,l))):e.helper(qt(e.inSSR,l)),o&&e.helper(fi)),{type:13,tag:t,props:r,children:n,patchFlag:i,dynamicProps:s,directives:o,isBlock:a,disableTracking:c,isComponent:l,loc:u}}function Mr(e,t=oe){return{type:17,loc:t,elements:e}}function Ne(e,t=oe){return{type:15,loc:t,properties:e}}function ne(e,t){return{type:16,loc:oe,key:le(e)?G(e,!0):e,value:t}}function G(e,t=!1,r=oe,n=0){return{type:4,loc:r,content:e,isStatic:t,constType:t?3:n}}function Dm(e,t){return{type:5,loc:t,content:le(e)?G(e,!1,t):e}}function Qe(e,t=oe){return{type:8,loc:t,children:e}}function ie(e,t=[],r=oe){return{type:14,loc:r,callee:e,arguments:t}}function Wt(e,t=void 0,r=!1,n=!1,i=oe){return{type:18,params:e,returns:t,newline:r,isSlot:n,loc:i}}function Mi(e,t,r,n=!0){return{type:19,test:e,consequent:t,alternate:r,newline:n,loc:oe}}function ul(e,t,r=!1){return{type:20,index:e,value:t,isVNode:r,loc:oe}}function pl(e){return{type:21,body:e,loc:oe}}function Nm(e){return{type:22,elements:e,loc:oe}}function jm(e,t,r){return{type:23,test:e,consequent:t,alternate:r,loc:oe}}function km(e,t){return{type:24,left:e,right:t,loc:oe}}function $m(e){return{type:25,expressions:e,loc:oe}}function Fm(e){return{type:26,returns:e,loc:oe}}const Te=e=>e.type===4&&e.isStatic,Yt=(e,t)=>e===t||e===Ku(t);function Us(e){if(Yt(e,"Teleport"))return yr;if(Yt(e,"Suspense"))return oi;if(Yt(e,"KeepAlive"))return tn;if(Yt(e,"BaseTransition"))return js}const Bm=/^\d|[^\$\w]/,an=e=>!Bm.test(e),Hm=/[A-Za-z_$\xA0-\uFFFF]/,Gm=/[\.\?\w$\xA0-\uFFFF]/,Um=/\s+[.[]\s*|\s*[.[]\s+/g,dl=e=>{e=e.trim().replace(Um,o=>o.trim());let t=0,r=[],n=0,i=0,s=null;for(let o=0;o<e.length;o++){const a=e.charAt(o);switch(t){case 0:if(a==="[")r.push(t),t=1,n++;else if(a==="(")r.push(t),t=2,i++;else if(!(o===0?Hm:Gm).test(a))return!1;break;case 1:a==="'"||a==='"'||a==="`"?(r.push(t),t=3,s=a):a==="["?n++:a==="]"&&(--n||(t=r.pop()));break;case 2:if(a==="'"||a==='"'||a==="`")r.push(t),t=3,s=a;else if(a==="(")i++;else if(a===")"){if(o===e.length-1)return!1;--i||(t=r.pop())}break;case 3:a===s&&(t=r.pop(),s=null);break}}return!n&&!i},Vm=us,Vs=dl;function zs(e,t,r){const i={source:e.source.slice(t,t+r),start:ln(e.start,e.source,t),end:e.end};return r!=null&&(i.end=ln(e.start,e.source,t+r)),i}function ln(e,t,r=t.length){return cn(mt({},e),t,r)}function cn(e,t,r=t.length){let n=0,i=-1;for(let s=0;s<r;s++)t.charCodeAt(s)===10&&(n++,i=s);return e.offset+=r,e.line+=n,e.column=i===-1?e.column+r:r-i,e}function zm(e,t){if(!e)throw new Error(t||"unexpected compiler condition")}function xe(e,t,r=!1){for(let n=0;n<e.props.length;n++){const i=e.props[n];if(i.type===7&&(r||i.exp)&&(le(t)?i.name===t:t.test(i.name)))return i}}function Sr(e,t,r=!1,n=!1){for(let i=0;i<e.props.length;i++){const s=e.props[i];if(s.type===6){if(r)continue;if(s.name===t&&(s.value||n))return s}else if(s.name==="bind"&&(s.exp||n)&&un(s.arg,t))return s}}function un(e,t){return!!(e&&Te(e)&&e.content===t)}function fl(e){return e.props.some(t=>t.type===7&&t.name==="bind"&&(!t.arg||t.arg.type!==4||!t.arg.isStatic))}function Si(e){return e.type===5||e.type===2}function Ks(e){return e.type===7&&e.name==="slot"}function wr(e){return e.type===1&&e.tagType===3}function pn(e){return e.type===1&&e.tagType===2}function qt(e,t){return e||t?ai:li}function Xt(e,t){return e||t?ks:$s}const Km=new Set([br,Er]);function hl(e,t=[]){if(e&&!le(e)&&e.type===14){const r=e.callee;if(!le(r)&&Km.has(r))return hl(e.arguments[0],t.concat(e))}return[e,t]}function dn(e,t,r){let n,s=e.type===13?e.props:e.arguments[2],o=[],a;if(s&&!le(s)&&s.type===14){const c=hl(s);s=c[0],o=c[1],a=o[o.length-1]}if(s==null||le(s))n=Ne([t]);else if(s.type===14){const c=s.arguments[0];!le(c)&&c.type===15?c.properties.unshift(t):s.callee===yi?n=ie(r.helper(sn),[Ne([t]),s]):s.arguments.unshift(Ne([t])),!n&&(n=s)}else if(s.type===15){let c=!1;if(t.key.type===4){const l=t.key.content;c=s.properties.some(u=>u.key.type===4&&u.key.content===l)}c||s.properties.unshift(t),n=s}else n=ie(r.helper(sn),[Ne([t]),s]),a&&a.callee===Er&&(a=o[o.length-2]);e.type===13?a?a.arguments[0]=n:e.props=n:a?a.arguments[0]=n:e.arguments[2]=n}function Or(e,t){return`_${t}_${e.replace(/[^\w]/g,(r,n)=>r==="-"?"_":e.charCodeAt(n).toString())}`}function Je(e,t){if(!e||Object.keys(t).length===0)return!1;switch(e.type){case 1:for(let r=0;r<e.props.length;r++){const n=e.props[r];if(n.type===7&&(Je(n.arg,t)||Je(n.exp,t)))return!0}return e.children.some(r=>Je(r,t));case 11:return Je(e.source,t)?!0:e.children.some(r=>Je(r,t));case 9:return e.branches.some(r=>Je(r,t));case 10:return Je(e.condition,t)?!0:e.children.some(r=>Je(r,t));case 4:return!e.isStatic&&an(e.content)&&!!t[e.content];case 8:return e.children.some(r=>na(r)&&Je(r,t));case 5:case 12:return Je(e.content,t);case 2:case 3:return!1;default:return!1}}function ml(e){return e.type===14&&e.callee===Ci?e.arguments[1].returns:e}function wi(e,{helper:t,removeHelper:r,inSSR:n}){e.isBlock||(e.isBlock=!0,r(qt(n,e.isComponent)),t(jt),t(Xt(n,e.isComponent)))}const Wm={COMPILER_IS_ON_ELEMENT:{message:'Platform-native elements with "is" prop will no longer be treated as components in Vue 3 unless the "is" value is explicitly prefixed with "vue:".',link:"https://v3.vuejs.org/guide/migration/custom-elements-interop.html"},COMPILER_V_BIND_SYNC:{message:e=>`.sync modifier for v-bind has been removed. Use v-model with argument instead. \`v-bind:${e}.sync\` should be changed to \`v-model:${e}\`.`,link:"https://v3.vuejs.org/guide/migration/v-model.html"},COMPILER_V_BIND_PROP:{message:".prop modifier for v-bind has been removed and no longer necessary. Vue 3 will automatically set a binding as DOM property when appropriate."},COMPILER_V_BIND_OBJECT_ORDER:{message:'v-bind="obj" usage is now order sensitive and behaves like JavaScript object spread: it will now overwrite an existing non-mergeable attribute that appears before v-bind in the case of conflict. To retain 2.x behavior, move v-bind to make it the first attribute. You can also suppress this warning if the usage is intended.',link:"https://v3.vuejs.org/guide/migration/v-bind.html"},COMPILER_V_ON_NATIVE:{message:".native modifier for v-on has been removed as is no longer necessary.",link:"https://v3.vuejs.org/guide/migration/v-on-native-modifier-removed.html"},COMPILER_V_IF_V_FOR_PRECEDENCE:{message:"v-if / v-for precedence when used on the same element has changed in Vue 3: v-if now takes higher precedence and will no longer have access to v-for scope variables. It is best to avoid the ambiguity with <template> tags or use a computed property that filters v-for data source.",link:"https://v3.vuejs.org/guide/migration/v-if-v-for.html"},COMPILER_V_FOR_REF:{message:"Ref usage on v-for no longer creates array ref values in Vue 3. Consider using function refs or refactor to avoid ref usage altogether.",link:"https://v3.vuejs.org/guide/migration/array-refs.html"},COMPILER_NATIVE_TEMPLATE:{message:"<template> with no special directives will render as a native template element instead of its inner content in Vue 3."},COMPILER_INLINE_TEMPLATE:{message:'"inline-template" has been removed in Vue 3.',link:"https://v3.vuejs.org/guide/migration/inline-template-attribute.html"},COMPILER_FILTER:{message:'filters have been removed in Vue 3. The "|" symbol will be treated as native JavaScript bitwise OR operator. Use method calls or computed properties instead.',link:"https://v3.vuejs.org/guide/migration/filters.html"}};function Ws(e,t){const r=t.options?t.options.compatConfig:t.compatConfig,n=r&&r[e];return e==="MODE"?n||3:n}function Qt(e,t){const r=Ws("MODE",t),n=Ws(e,t);return r===3?n===!0:n!==!1}function Jt(e,t,r,...n){return Qt(e,t)}function Ym(e,t,r,...n){if(Ws(e,t)==="suppress-warning")return;const{message:s,link:o}=Wm[e],a=`(deprecation ${e}) ${typeof s=="function"?s(...n):s}${o?`
  Details: ${o}`:""}`,c=new SyntaxError(a);c.code=e,r&&(c.loc=r),t.onWarn(c)}const qm=/&(gt|lt|amp|apos|quot);/g,Xm={gt:">",lt:"<",amp:"&",apos:"'",quot:'"'},gl={delimiters:["{{","}}"],getNamespace:()=>0,getTextMode:()=>0,isVoidTag:fs,isPreTag:fs,isCustomElement:fs,decodeEntities:e=>e.replace(qm,(t,r)=>Xm[r]),onError:Ns,onWarn:rl,comments:!1};function Ys(e,t={}){const r=Qm(e,t),n=je(r);return cl(qs(r,0,[]),Fe(r,n))}function Qm(e,t){const r=mt({},gl);let n;for(n in t)r[n]=t[n]===void 0?gl[n]:t[n];return{options:r,column:1,line:1,offset:0,originalSource:e,source:e,inPre:!1,inVPre:!1,onWarn:r.onWarn}}function qs(e,t,r){const n=Oi(r),i=n?n.ns:0,s=[];for(;!og(e,t,r);){const a=e.source;let c;if(t===0||t===1){if(!e.inVPre&&ye(a,e.options.delimiters[0]))c=ig(e,t);else if(t===0&&a[0]==="<")if(a.length===1)W(e,5,1);else if(a[1]==="!")ye(a,"<!--")?c=Zm(e):ye(a,"<!DOCTYPE")?c=fn(e):ye(a,"<![CDATA[")?i!==0?c=Jm(e,r):(W(e,1),c=fn(e)):(W(e,11),c=fn(e));else if(a[1]==="/")if(a.length===2)W(e,5,2);else if(a[2]===">"){W(e,14,2),ae(e,3);continue}else if(/[a-z]/i.test(a[2])){W(e,23),Xs(e,1,n);continue}else W(e,12,2),c=fn(e);else/[a-z]/i.test(a[1])?(c=eg(e,r),Qt("COMPILER_NATIVE_TEMPLATE",e)&&c&&c.tag==="template"&&!c.props.some(l=>l.type===7&&vl(l.name))&&(c=c.children)):a[1]==="?"?(W(e,21,1),c=fn(e)):W(e,12,1)}if(c||(c=sg(e,t)),ir(c))for(let l=0;l<c.length;l++)yl(s,c[l]);else yl(s,c)}let o=!1;if(t!==2&&t!==1){const a=e.options.whitespace!=="preserve";for(let c=0;c<s.length;c++){const l=s[c];if(!e.inPre&&l.type===2)if(/[^\t\r\n\f ]/.test(l.content))a&&(l.content=l.content.replace(/[\t\r\n\f ]+/g," "));else{const u=s[c-1],p=s[c+1];!u||!p||a&&(u.type===3||p.type===3||u.type===1&&p.type===1&&/[\r\n]/.test(l.content))?(o=!0,s[c]=null):l.content=" "}else l.type===3&&!e.options.comments&&(o=!0,s[c]=null)}if(e.inPre&&n&&e.options.isPreTag(n.tag)){const c=s[0];c&&c.type===2&&(c.content=c.content.replace(/^\r?\n/,""))}}return o?s.filter(Boolean):s}function yl(e,t){if(t.type===2){const r=Oi(e);if(r&&r.type===2&&r.loc.end.offset===t.loc.start.offset){r.content+=t.content,r.loc.end=t.loc.end,r.loc.source+=t.loc.source;return}}e.push(t)}function Jm(e,t){ae(e,9);const r=qs(e,3,t);return e.source.length===0?W(e,6):ae(e,3),r}function Zm(e){const t=je(e);let r;const n=/--(\!)?>/.exec(e.source);if(!n)r=e.source.slice(4),ae(e,e.source.length),W(e,7);else{n.index<=3&&W(e,0),n[1]&&W(e,10),r=e.source.slice(4,n.index);const i=e.source.slice(0,n.index);let s=1,o=0;for(;(o=i.indexOf("<!--",s))!==-1;)ae(e,o-s+1),o+4<i.length&&W(e,16),s=o+1;ae(e,n.index+n[0].length-s+1)}return{type:3,content:r,loc:Fe(e,t)}}function fn(e){const t=je(e),r=e.source[1]==="?"?1:2;let n;const i=e.source.indexOf(">");return i===-1?(n=e.source.slice(r),ae(e,e.source.length)):(n=e.source.slice(r,i),ae(e,i+1)),{type:3,content:n,loc:Fe(e,t)}}function eg(e,t){const r=e.inPre,n=e.inVPre,i=Oi(t),s=Xs(e,0,i),o=e.inPre&&!r,a=e.inVPre&&!n;if(s.isSelfClosing||e.options.isVoidTag(s.tag))return o&&(e.inPre=!1),a&&(e.inVPre=!1),s;t.push(s);const c=e.options.getTextMode(s,i),l=qs(e,c,t);t.pop();{const u=s.props.find(p=>p.type===6&&p.name==="inline-template");if(u&&Jt("COMPILER_INLINE_TEMPLATE",e,u.loc)){const p=Fe(e,s.loc.end);u.value={type:2,content:p.source,loc:p}}}if(s.children=l,Qs(e.source,s.tag))Xs(e,1,i);else if(W(e,24,0,s.loc.start),e.source.length===0&&s.tag.toLowerCase()==="script"){const u=l[0];u&&ye(u.loc.source,"<!--")&&W(e,8)}return s.loc=Fe(e,s.loc.start),o&&(e.inPre=!1),a&&(e.inVPre=!1),s}const vl=sr("if,else,else-if,for,slot");function Xs(e,t,r){const n=je(e),i=/^<\/?([a-z][^\t\r\n\f />]*)/i.exec(e.source),s=i[1],o=e.options.getNamespace(s,r);ae(e,i[0].length),mn(e);const a=je(e),c=e.source;e.options.isPreTag(s)&&(e.inPre=!0);let l=bl(e,t);t===0&&!e.inVPre&&l.some(f=>f.type===7&&f.name==="pre")&&(e.inVPre=!0,mt(e,a),e.source=c,l=bl(e,t).filter(f=>f.name!=="v-pre"));let u=!1;if(e.source.length===0?W(e,9):(u=ye(e.source,"/>"),t===1&&u&&W(e,4),ae(e,u?2:1)),t===1)return;let p=0;return e.inVPre||(s==="slot"?p=2:s==="template"?l.some(f=>f.type===7&&vl(f.name))&&(p=3):tg(s,l,e)&&(p=1)),{type:1,ns:o,tag:s,tagType:p,props:l,isSelfClosing:u,children:[],loc:Fe(e,n),codegenNode:void 0}}function tg(e,t,r){const n=r.options;if(n.isCustomElement(e))return!1;if(e==="component"||/^[A-Z]/.test(e)||Us(e)||n.isBuiltInComponent&&n.isBuiltInComponent(e)||n.isNativeTag&&!n.isNativeTag(e))return!0;for(let i=0;i<t.length;i++){const s=t[i];if(s.type===6){if(s.name==="is"&&s.value){if(s.value.content.startsWith("vue:"))return!0;if(Jt("COMPILER_IS_ON_ELEMENT",r,s.loc))return!0}}else{if(s.name==="is")return!0;if(s.name==="bind"&&un(s.arg,"is")&&!0&&Jt("COMPILER_IS_ON_ELEMENT",r,s.loc))return!0}}}function bl(e,t){const r=[],n=new Set;for(;e.source.length>0&&!ye(e.source,">")&&!ye(e.source,"/>");){if(ye(e.source,"/")){W(e,22),ae(e,1),mn(e);continue}t===1&&W(e,3);const i=rg(e,n);i.type===6&&i.value&&i.name==="class"&&(i.value.content=i.value.content.replace(/\s+/g," ").trim()),t===0&&r.push(i),/^[^\t\r\n\f />]/.test(e.source)&&W(e,15),mn(e)}return r}function rg(e,t){const r=je(e),i=/^[^\t\r\n\f />][^\t\r\n\f />=]*/.exec(e.source)[0];t.has(i)&&W(e,2),t.add(i),i[0]==="="&&W(e,19);{const a=/["'<]/g;let c;for(;c=a.exec(i);)W(e,17,c.index)}ae(e,i.length);let s;/^[\t\r\n\f ]*=/.test(e.source)&&(mn(e),ae(e,1),mn(e),s=ng(e),s||W(e,13));const o=Fe(e,r);if(!e.inVPre&&/^(v-[A-Za-z0-9-]|:|\.|@|#)/.test(i)){const a=/(?:^v-([a-z0-9-]+))?(?:(?::|^\.|^@|^#)(\[[^\]]+\]|[^\.]+))?(.+)?$/i.exec(i);let c=ye(i,"."),l=a[1]||(c||ye(i,":")?"bind":ye(i,"@")?"on":"slot"),u;if(a[2]){const f=l==="slot",g=i.lastIndexOf(a[2]),C=Fe(e,El(e,r,g),El(e,r,g+a[2].length+(f&&a[3]||"").length));let O=a[2],T=!0;O.startsWith("[")?(T=!1,O.endsWith("]")?O=O.slice(1,O.length-1):(W(e,27),O=O.slice(1))):f&&(O+=a[3]||""),u={type:4,content:O,isStatic:T,constType:T?3:0,loc:C}}if(s&&s.isQuoted){const f=s.loc;f.start.offset++,f.start.column++,f.end=ln(f.start,s.content),f.source=f.source.slice(1,-1)}const p=a[3]?a[3].slice(1).split("."):[];return c&&p.push("prop"),l==="bind"&&u&&p.includes("sync")&&Jt("COMPILER_V_BIND_SYNC",e,o,u.loc.source)&&(l="model",p.splice(p.indexOf("sync"),1)),{type:7,name:l,exp:s&&{type:4,content:s.content,isStatic:!1,constType:0,loc:s.loc},arg:u,modifiers:p,loc:o}}return!e.inVPre&&ye(i,"v-")&&W(e,26),{type:6,name:i,value:s&&{type:2,content:s.content,loc:s.loc},loc:o}}function ng(e){const t=je(e);let r;const n=e.source[0],i=n==='"'||n==="'";if(i){ae(e,1);const s=e.source.indexOf(n);s===-1?r=hn(e,e.source.length,4):(r=hn(e,s,4),ae(e,1))}else{const s=/^[^\t\r\n\f >]+/.exec(e.source);if(!s)return;const o=/["'<=`]/g;let a;for(;a=o.exec(s[0]);)W(e,18,a.index);r=hn(e,s[0].length,4)}return{content:r,isQuoted:i,loc:Fe(e,t)}}function ig(e,t){const[r,n]=e.options.delimiters,i=e.source.indexOf(n,r.length);if(i===-1){W(e,25);return}const s=je(e);ae(e,r.length);const o=je(e),a=je(e),c=i-r.length,l=e.source.slice(0,c),u=hn(e,c,t),p=u.trim(),f=u.indexOf(p);f>0&&cn(o,l,f);const g=c-(u.length-p.length-f);return cn(a,l,g),ae(e,n.length),{type:5,content:{type:4,isStatic:!1,constType:0,content:p,loc:Fe(e,o,a)},loc:Fe(e,s)}}function sg(e,t){const r=t===3?["]]>"]:["<",e.options.delimiters[0]];let n=e.source.length;for(let o=0;o<r.length;o++){const a=e.source.indexOf(r[o],1);a!==-1&&n>a&&(n=a)}const i=je(e),s=hn(e,n,t);return{type:2,content:s,loc:Fe(e,i)}}function hn(e,t,r){const n=e.source.slice(0,t);return ae(e,t),r===2||r===3||n.indexOf("&")===-1?n:e.options.decodeEntities(n,r===4)}function je(e){const{column:t,line:r,offset:n}=e;return{column:t,line:r,offset:n}}function Fe(e,t,r){return r=r||je(e),{start:t,end:r,source:e.originalSource.slice(t.offset,r.offset)}}function Oi(e){return e[e.length-1]}function ye(e,t){return e.startsWith(t)}function ae(e,t){const{source:r}=e;cn(e,r,t),e.source=r.slice(t)}function mn(e){const t=/^[\t\r\n\f ]+/.exec(e.source);t&&ae(e,t[0].length)}function El(e,t,r){return ln(t,e.originalSource.slice(t.offset,r),r)}function W(e,t,r,n=je(e)){r&&(n.offset+=r,n.column+=r),e.options.onError(ee(t,{start:n,end:n,source:""}))}function og(e,t,r){const n=e.source;switch(t){case 0:if(ye(n,"</")){for(let i=r.length-1;i>=0;--i)if(Qs(n,r[i].tag))return!0}break;case 1:case 2:{const i=Oi(r);if(i&&Qs(n,i.tag))return!0;break}case 3:if(ye(n,"]]>"))return!0;break}return!n}function Qs(e,t){return ye(e,"</")&&e.slice(2,2+t.length).toLowerCase()===t.toLowerCase()&&/[\t\r\n\f />]/.test(e[2+t.length]||">")}function ag(e,t){_i(e,t,Cl(e,e.children[0]))}function Cl(e,t){const{children:r}=e;return r.length===1&&t.type===1&&!pn(t)}function _i(e,t,r=!1){let n=!0;const{children:i}=e,s=i.length;let o=0;for(let a=0;a<i.length;a++){const c=i[a];if(c.type===1&&c.tagType===0){const l=r?0:Be(c,t);if(l>0){if(l<3&&(n=!1),l>=2){c.codegenNode.patchFlag=-1+"",c.codegenNode=t.hoist(c.codegenNode),o++;continue}}else{const u=c.codegenNode;if(u.type===13){const p=Ol(u);if((!p||p===512||p===1)&&Sl(c,t)>=2){const f=wl(c);f&&(u.props=t.hoist(f))}u.dynamicProps&&(u.dynamicProps=t.hoist(u.dynamicProps))}}}else if(c.type===12){const l=Be(c.content,t);l>0&&(l<3&&(n=!1),l>=2&&(c.codegenNode=t.hoist(c.codegenNode),o++))}if(c.type===1){const l=c.tagType===1;l&&t.scopes.vSlot++,_i(c,t),l&&t.scopes.vSlot--}else if(c.type===11)_i(c,t,c.children.length===1);else if(c.type===9)for(let l=0;l<c.branches.length;l++)_i(c.branches[l],t,c.branches[l].children.length===1)}n&&o&&t.transformHoist&&t.transformHoist(i,t,e),o&&o===s&&e.type===1&&e.tagType===0&&e.codegenNode&&e.codegenNode.type===13&&ir(e.codegenNode.children)&&(e.codegenNode.children=t.hoist(Mr(e.codegenNode.children)))}function Be(e,t){const{constantCache:r}=t;switch(e.type){case 1:if(e.tagType!==0)return 0;const n=r.get(e);if(n!==void 0)return n;const i=e.codegenNode;if(i.type!==13)return 0;if(Ol(i))return r.set(e,0),0;{let a=3;const c=Sl(e,t);if(c===0)return r.set(e,0),0;c<a&&(a=c);for(let l=0;l<e.children.length;l++){const u=Be(e.children[l],t);if(u===0)return r.set(e,0),0;u<a&&(a=u)}if(a>1)for(let l=0;l<e.props.length;l++){const u=e.props[l];if(u.type===7&&u.name==="bind"&&u.exp){const p=Be(u.exp,t);if(p===0)return r.set(e,0),0;p<a&&(a=p)}}return i.isBlock&&(t.removeHelper(jt),t.removeHelper(Xt(t.inSSR,i.isComponent)),i.isBlock=!1,t.helper(qt(t.inSSR,i.isComponent))),r.set(e,a),a}case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return Be(e.content,t);case 4:return e.constType;case 8:let o=3;for(let a=0;a<e.children.length;a++){const c=e.children[a];if(le(c)||ds(c))continue;const l=Be(c,t);if(l===0)return 0;l<o&&(o=l)}return o;default:return 0}}const lg=new Set([mi,gi,br,Er]);function Ml(e,t){if(e.type===14&&!le(e.callee)&&lg.has(e.callee)){const r=e.arguments[0];if(r.type===4)return Be(r,t);if(r.type===14)return Ml(r,t)}return 0}function Sl(e,t){let r=3;const n=wl(e);if(n&&n.type===15){const{properties:i}=n;for(let s=0;s<i.length;s++){const{key:o,value:a}=i[s],c=Be(o,t);if(c===0)return c;c<r&&(r=c);let l;if(a.type===4?l=Be(a,t):a.type===14?l=Ml(a,t):l=0,l===0)return l;l<r&&(r=l)}}return r}function wl(e){const t=e.codegenNode;if(t.type===13)return t.props}function Ol(e){const t=e.patchFlag;return t?parseInt(t,10):void 0}function _l(e,{filename:t="",prefixIdentifiers:r=!1,hoistStatic:n=!1,cacheHandlers:i=!1,nodeTransforms:s=[],directiveTransforms:o={},transformHoist:a=null,isBuiltInComponent:c=us,isCustomElement:l=us,expressionPlugins:u=[],scopeId:p=null,slotted:f=!0,ssr:g=!1,inSSR:C=!1,ssrCssVars:O="",bindingMetadata:T=Wu,inline:m=!1,isTS:M=!1,onError:h=Ns,onWarn:y=rl,compatConfig:b}){const E=t.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),S={selfName:E&&ia(ps(E[1])),prefixIdentifiers:r,hoistStatic:n,cacheHandlers:i,nodeTransforms:s,directiveTransforms:o,transformHoist:a,isBuiltInComponent:c,isCustomElement:l,expressionPlugins:u,scopeId:p,slotted:f,ssr:g,inSSR:C,ssrCssVars:O,bindingMetadata:T,inline:m,isTS:M,onError:h,onWarn:y,compatConfig:b,root:e,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],constantCache:new Map,temps:0,cached:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,currentNode:e,childIndex:0,inVOnce:!1,helper(w){const A=S.helpers.get(w)||0;return S.helpers.set(w,A+1),w},removeHelper(w){const A=S.helpers.get(w);if(A){const I=A-1;I?S.helpers.set(w,I):S.helpers.delete(w)}},helperString(w){return`_${Mt[S.helper(w)]}`},replaceNode(w){S.parent.children[S.childIndex]=S.currentNode=w},removeNode(w){const A=S.parent.children,I=w?A.indexOf(w):S.currentNode?S.childIndex:-1;!w||w===S.currentNode?(S.currentNode=null,S.onNodeRemoved()):S.childIndex>I&&(S.childIndex--,S.onNodeRemoved()),S.parent.children.splice(I,1)},onNodeRemoved:()=>{},addIdentifiers(w){},removeIdentifiers(w){},hoist(w){le(w)&&(w=G(w)),S.hoists.push(w);const A=G(`_hoisted_${S.hoists.length}`,!1,w.loc,2);return A.hoisted=w,A},cache(w,A=!1){return ul(S.cached++,w,A)}};return S.filters=new Set,S}function Tl(e,t){const r=_l(e,t);gn(e,r),t.hoistStatic&&ag(e,r),t.ssr||cg(e,r),e.helpers=[...r.helpers.keys()],e.components=[...r.components],e.directives=[...r.directives],e.imports=r.imports,e.hoists=r.hoists,e.temps=r.temps,e.cached=r.cached,e.filters=[...r.filters]}function cg(e,t){const{helper:r}=t,{children:n}=e;if(n.length===1){const i=n[0];if(Cl(e,i)&&i.codegenNode){const s=i.codegenNode;s.type===13&&wi(s,t),e.codegenNode=s}else e.codegenNode=i}else if(n.length>1){let i=64;sa[64],e.codegenNode=Cr(t,r(gr),void 0,e.children,i+"",void 0,void 0,!0,void 0,!1)}}function ug(e,t){let r=0;const n=()=>{r--};for(;r<e.children.length;r++){const i=e.children[r];le(i)||(t.parent=e,t.childIndex=r,t.onNodeRemoved=n,gn(i,t))}}function gn(e,t){t.currentNode=e;const{nodeTransforms:r}=t,n=[];for(let s=0;s<r.length;s++){const o=r[s](e,t);if(o&&(ir(o)?n.push(...o):n.push(o)),t.currentNode)e=t.currentNode;else return}switch(e.type){case 3:t.ssr||t.helper(vr);break;case 5:t.ssr||t.helper(nn);break;case 9:for(let s=0;s<e.branches.length;s++)gn(e.branches[s],t);break;case 10:case 11:case 1:case 0:ug(e,t);break}t.currentNode=e;let i=n.length;for(;i--;)n[i]()}function Js(e,t){const r=le(e)?n=>n===e:n=>e.test(n);return(n,i)=>{if(n.type===1){const{props:s}=n;if(n.tagType===3&&s.some(Ks))return;const o=[];for(let a=0;a<s.length;a++){const c=s[a];if(c.type===7&&r(c.name)){s.splice(a,1),a--;const l=t(n,c,i);l&&o.push(l)}}return o}}}const Ti="/*#__PURE__*/";function pg(e,{mode:t="function",prefixIdentifiers:r=t==="module",sourceMap:n=!1,filename:i="template.vue.html",scopeId:s=null,optimizeImports:o=!1,runtimeGlobalName:a="Vue",runtimeModuleName:c="vue",ssrRuntimeModuleName:l="vue/server-renderer",ssr:u=!1,isTS:p=!1,inSSR:f=!1}){const g={mode:t,prefixIdentifiers:r,sourceMap:n,filename:i,scopeId:s,optimizeImports:o,runtimeGlobalName:a,runtimeModuleName:c,ssrRuntimeModuleName:l,ssr:u,isTS:p,inSSR:f,source:e.loc.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(O){return`_${Mt[O]}`},push(O,T){g.code+=O},indent(){C(++g.indentLevel)},deindent(O=!1){O?--g.indentLevel:C(--g.indentLevel)},newline(){C(g.indentLevel)}};function C(O){g.push(`
`+"  ".repeat(O))}return g}function Rl(e,t={}){const r=pg(e,t);t.onContextCreated&&t.onContextCreated(r);const{mode:n,push:i,prefixIdentifiers:s,indent:o,deindent:a,newline:c,scopeId:l,ssr:u}=r,p=e.helpers.length>0,f=!s&&n!=="module";dg(e,r);const C=u?"ssrRender":"render",T=(u?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(i(`function ${C}(${T}) {`),o(),f&&(i("with (_ctx) {"),o(),p&&(i(`const { ${e.helpers.map(m=>`${Mt[m]}: _${Mt[m]}`).join(", ")} } = _Vue`),i(`
`),c())),e.components.length&&(Zs(e.components,"component",r),(e.directives.length||e.temps>0)&&c()),e.directives.length&&(Zs(e.directives,"directive",r),e.temps>0&&c()),e.filters&&e.filters.length&&(c(),Zs(e.filters,"filter",r),c()),e.temps>0){i("let ");for(let m=0;m<e.temps;m++)i(`${m>0?", ":""}_temp${m}`)}return(e.components.length||e.directives.length||e.temps)&&(i(`
`),c()),u||i("return "),e.codegenNode?ve(e.codegenNode,r):i("null"),f&&(a(),i("}")),a(),i("}"),{ast:e,code:r.code,preamble:"",map:r.map?r.map.toJSON():void 0}}function dg(e,t){const{ssr:r,prefixIdentifiers:n,push:i,newline:s,runtimeModuleName:o,runtimeGlobalName:a,ssrRuntimeModuleName:c}=t,l=a,u=p=>`${Mt[p]}: _${Mt[p]}`;if(e.helpers.length>0&&(i(`const _Vue = ${l}
`),e.hoists.length)){const p=[ai,li,vr,ci,Fs].filter(f=>e.helpers.includes(f)).map(u).join(", ");i(`const { ${p} } = _Vue
`)}fg(e.hoists,t),s(),i("return ")}function Zs(e,t,{helper:r,push:n,newline:i,isTS:s}){const o=r(t==="filter"?di:t==="component"?ui:pi);for(let a=0;a<e.length;a++){let c=e[a];const l=c.endsWith("__self");l&&(c=c.slice(0,-6)),n(`const ${Or(c,t)} = ${o}(${JSON.stringify(c)}${l?", true":""})${s?"!":""}`),a<e.length-1&&i()}}function fg(e,t){if(!e.length)return;t.pure=!0;const{push:r,newline:n,helper:i,scopeId:s,mode:o}=t;n();for(let a=0;a<e.length;a++){const c=e[a];c&&(r(`const _hoisted_${a+1} = `),ve(c,t),n())}t.pure=!1}function eo(e,t){const r=e.length>3||!1;t.push("["),r&&t.indent(),yn(e,t,r),r&&t.deindent(),t.push("]")}function yn(e,t,r=!1,n=!0){const{push:i,newline:s}=t;for(let o=0;o<e.length;o++){const a=e[o];le(a)?i(a):ir(a)?eo(a,t):ve(a,t),o<e.length-1&&(r?(n&&i(","),s()):n&&i(", "))}}function ve(e,t){if(le(e)){t.push(e);return}if(ds(e)){t.push(t.helper(e));return}switch(e.type){case 1:case 9:case 11:ve(e.codegenNode,t);break;case 2:hg(e,t);break;case 4:Al(e,t);break;case 5:mg(e,t);break;case 12:ve(e.codegenNode,t);break;case 8:Ll(e,t);break;case 3:yg(e,t);break;case 13:vg(e,t);break;case 14:Eg(e,t);break;case 15:Cg(e,t);break;case 17:Mg(e,t);break;case 18:Sg(e,t);break;case 19:wg(e,t);break;case 20:Og(e,t);break;case 21:yn(e.body,t,!0,!1);break}}function hg(e,t){t.push(JSON.stringify(e.content),e)}function Al(e,t){const{content:r,isStatic:n}=e;t.push(n?JSON.stringify(r):r,e)}function mg(e,t){const{push:r,helper:n,pure:i}=t;i&&r(Ti),r(`${n(nn)}(`),ve(e.content,t),r(")")}function Ll(e,t){for(let r=0;r<e.children.length;r++){const n=e.children[r];le(n)?t.push(n):ve(n,t)}}function gg(e,t){const{push:r}=t;if(e.type===8)r("["),Ll(e,t),r("]");else if(e.isStatic){const n=an(e.content)?e.content:JSON.stringify(e.content);r(n,e)}else r(`[${e.content}]`,e)}function yg(e,t){const{push:r,helper:n,pure:i}=t;i&&r(Ti),r(`${n(vr)}(${JSON.stringify(e.content)})`,e)}function vg(e,t){const{push:r,helper:n,pure:i}=t,{tag:s,props:o,children:a,patchFlag:c,dynamicProps:l,directives:u,isBlock:p,disableTracking:f,isComponent:g}=e;u&&r(n(fi)+"("),p&&r(`(${n(jt)}(${f?"true":""}), `),i&&r(Ti);const C=p?Xt(t.inSSR,g):qt(t.inSSR,g);r(n(C)+"(",e),yn(bg([s,o,a,c,l]),t),r(")"),p&&r(")"),u&&(r(", "),ve(u,t),r(")"))}function bg(e){let t=e.length;for(;t--&&e[t]==null;);return e.slice(0,t+1).map(r=>r||"null")}function Eg(e,t){const{push:r,helper:n,pure:i}=t,s=le(e.callee)?e.callee:n(e.callee);i&&r(Ti),r(s+"(",e),yn(e.arguments,t),r(")")}function Cg(e,t){const{push:r,indent:n,deindent:i,newline:s}=t,{properties:o}=e;if(!o.length){r("{}",e);return}const a=o.length>1||!1;r(a?"{":"{ "),a&&n();for(let c=0;c<o.length;c++){const{key:l,value:u}=o[c];gg(l,t),r(": "),ve(u,t),c<o.length-1&&(r(","),s())}a&&i(),r(a?"}":" }")}function Mg(e,t){eo(e.elements,t)}function Sg(e,t){const{push:r,indent:n,deindent:i}=t,{params:s,returns:o,body:a,newline:c,isSlot:l}=e;l&&r(`_${Mt[Ei]}(`),r("(",e),ir(s)?yn(s,t):s&&ve(s,t),r(") => "),(c||a)&&(r("{"),n()),o?(c&&r("return "),ir(o)?eo(o,t):ve(o,t)):a&&ve(a,t),(c||a)&&(i(),r("}")),l&&(e.isNonScopedSlot&&r(", undefined, true"),r(")"))}function wg(e,t){const{test:r,consequent:n,alternate:i,newline:s}=e,{push:o,indent:a,deindent:c,newline:l}=t;if(r.type===4){const p=!an(r.content);p&&o("("),Al(r,t),p&&o(")")}else o("("),ve(r,t),o(")");s&&a(),t.indentLevel++,s||o(" "),o("? "),ve(n,t),t.indentLevel--,s&&l(),s||o(" "),o(": ");const u=i.type===19;u||t.indentLevel++,ve(i,t),u||t.indentLevel--,s&&c(!0)}function Og(e,t){const{push:r,helper:n,indent:i,deindent:s,newline:o}=t;r(`_cache[${e.index}] || (`),e.isVNode&&(i(),r(`${n(on)}(-1),`),o()),r(`_cache[${e.index}] = `),ve(e.value,t),e.isVNode&&(r(","),o(),r(`${n(on)}(1),`),o(),r(`_cache[${e.index}]`),s()),r(")")}function _g(e,t,r=!1,n=[],i=Object.create(null)){}function Tg(e,t,r){return!1}function Rg(e,t){if(e&&(e.type==="ObjectProperty"||e.type==="ArrayPattern")){let r=t.length;for(;r--;){const n=t[r];if(n.type==="AssignmentExpression")return!0;if(n.type!=="ObjectProperty"&&!n.type.endsWith("Pattern"))break}}return!1}function Ag(e,t){for(const r of e.params)for(const n of kt(r))t(n)}function Lg(e,t){for(const r of e.body)if(r.type==="VariableDeclaration"){if(r.declare)continue;for(const n of r.declarations)for(const i of kt(n.id))t(i)}else if(r.type==="FunctionDeclaration"||r.type==="ClassDeclaration"){if(r.declare||!r.id)continue;t(r.id)}}function kt(e,t=[]){switch(e.type){case"Identifier":t.push(e);break;case"MemberExpression":let r=e;for(;r.type==="MemberExpression";)r=r.object;t.push(r);break;case"ObjectPattern":for(const n of e.properties)n.type==="RestElement"?kt(n.argument,t):kt(n.value,t);break;case"ArrayPattern":e.elements.forEach(n=>{n&&kt(n,t)});break;case"RestElement":kt(e.argument,t);break;case"AssignmentPattern":kt(e.left,t);break}return t}const Pg=e=>/Function(?:Expression|Declaration)$|Method$/.test(e.type),Pl=e=>e&&(e.type==="ObjectProperty"||e.type==="ObjectMethod")&&!e.computed,xg=(e,t)=>Pl(t)&&t.key===e;new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments,typeof,void".split(",").join("\\b|\\b")+"\\b");const Ig=(e,t)=>{if(e.type===5)e.content=Ri(e.content,t);else if(e.type===1)for(let r=0;r<e.props.length;r++){const n=e.props[r];if(n.type===7&&n.name!=="for"){const i=n.exp,s=n.arg;i&&i.type===4&&!(n.name==="on"&&s)&&(n.exp=Ri(i,t,n.name==="slot")),s&&s.type===4&&!s.isStatic&&(n.arg=Ri(s,t))}}};function Ri(e,t,r=!1,n=!1,i=Object.create(t.identifiers)){return e}const Dg=Js(/^(if|else|else-if)$/,(e,t,r)=>xl(e,t,r,(n,i,s)=>{const o=r.parent.children;let a=o.indexOf(n),c=0;for(;a-->=0;){const l=o[a];l&&l.type===9&&(c+=l.branches.length)}return()=>{if(s)n.codegenNode=Dl(i,c,r);else{const l=Ng(n.codegenNode);l.alternate=Dl(i,c+n.branches.length-1,r)}}}));function xl(e,t,r,n){if(t.name!=="else"&&(!t.exp||!t.exp.content.trim())){const i=t.exp?t.exp.loc:e.loc;r.onError(ee(28,t.loc)),t.exp=G("true",!1,i)}if(t.name==="if"){const i=Il(e,t),s={type:9,loc:e.loc,branches:[i]};if(r.replaceNode(s),n)return n(s,i,!0)}else{const i=r.parent.children;let s=i.indexOf(e);for(;s-->=-1;){const o=i[s];if(o&&o.type===2&&!o.content.trim().length){r.removeNode(o);continue}if(o&&o.type===9){t.name==="else-if"&&o.branches[o.branches.length-1].condition===void 0&&r.onError(ee(30,e.loc)),r.removeNode();const a=Il(e,t);o.branches.push(a);const c=n&&n(o,a,!1);gn(a,r),c&&c(),r.currentNode=null}else r.onError(ee(30,e.loc));break}}}function Il(e,t){return{type:10,loc:e.loc,condition:t.name==="else"?void 0:t.exp,children:e.tagType===3&&!xe(e,"for")?e.children:[e],userKey:Sr(e,"key")}}function Dl(e,t,r){return e.condition?Mi(e.condition,Nl(e,t,r),ie(r.helper(vr),['""',"true"])):Nl(e,t,r)}function Nl(e,t,r){const{helper:n}=r,i=ne("key",G(`${t}`,!1,oe,2)),{children:s}=e,o=s[0];if(s.length!==1||o.type!==1)if(s.length===1&&o.type===11){const c=o.codegenNode;return dn(c,i,r),c}else{let c=64;return sa[64],Cr(r,n(gr),Ne([i]),s,c+"",void 0,void 0,!0,!1,!1,e.loc)}else{const c=o.codegenNode,l=ml(c);return l.type===13&&wi(l,r),dn(l,i,r),c}}function Ng(e){for(;;)if(e.type===19)if(e.alternate.type===19)e=e.alternate;else return e;else e.type===20&&(e=e.value)}const jg=Js("for",(e,t,r)=>{const{helper:n,removeHelper:i}=r;return jl(e,t,r,s=>{const o=ie(n(hi),[s.source]),a=xe(e,"memo"),c=Sr(e,"key"),l=c&&(c.type===6?G(c.value.content,!0):c.exp),u=c?ne("key",l):null,p=s.source.type===4&&s.source.constType>0,f=p?64:c?128:256;return s.codegenNode=Cr(r,n(gr),void 0,o,f+"",void 0,void 0,!0,!p,!1,e.loc),()=>{let g;const C=wr(e),{children:O}=s,T=O.length!==1||O[0].type!==1,m=pn(e)?e:C&&e.children.length===1&&pn(e.children[0])?e.children[0]:null;if(m?(g=m.codegenNode,C&&u&&dn(g,u,r)):T?g=Cr(r,n(gr),u?Ne([u]):void 0,e.children,64+"",void 0,void 0,!0,void 0,!1):(g=O[0].codegenNode,C&&u&&dn(g,u,r),g.isBlock!==!p&&(g.isBlock?(i(jt),i(Xt(r.inSSR,g.isComponent))):i(qt(r.inSSR,g.isComponent))),g.isBlock=!p,g.isBlock?(n(jt),n(Xt(r.inSSR,g.isComponent))):n(qt(r.inSSR,g.isComponent))),a){const M=Wt(Li(s.parseResult,[G("_cached")]));M.body=pl([Qe(["const _memo = (",a.exp,")"]),Qe(["if (_cached",...l?[" && _cached.key === ",l]:[],` && ${r.helperString(Gs)}(_cached, _memo)) return _cached`]),Qe(["const _item = ",g]),G("_item.memo = _memo"),G("return _item")]),o.arguments.push(M,G("_cache"),G(String(r.cached++)))}else o.arguments.push(Wt(Li(s.parseResult),g,!0))}})});function jl(e,t,r,n){if(!t.exp){r.onError(ee(31,t.loc));return}const i=to(t.exp);if(!i){r.onError(ee(32,t.loc));return}const{addIdentifiers:s,removeIdentifiers:o,scopes:a}=r,{source:c,value:l,key:u,index:p}=i,f={type:11,loc:t.loc,source:c,valueAlias:l,keyAlias:u,objectIndexAlias:p,parseResult:i,children:wr(e)?e.children:[e]};r.replaceNode(f),a.vFor++;const g=n&&n(f);return()=>{a.vFor--,g&&g()}}const kg=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,kl=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,$g=/^\(|\)$/g;function to(e,t){const r=e.loc,n=e.content,i=n.match(kg);if(!i)return;const[,s,o]=i,a={source:Ai(r,o.trim(),n.indexOf(o,s.length)),value:void 0,key:void 0,index:void 0};let c=s.trim().replace($g,"").trim();const l=s.indexOf(c),u=c.match(kl);if(u){c=c.replace(kl,"").trim();const p=u[1].trim();let f;if(p&&(f=n.indexOf(p,l+c.length),a.key=Ai(r,p,f)),u[2]){const g=u[2].trim();g&&(a.index=Ai(r,g,n.indexOf(g,a.key?f+p.length:l+c.length)))}}return c&&(a.value=Ai(r,c,l)),a}function Ai(e,t,r){return G(t,!1,zs(e,r,t.length))}function Li({value:e,key:t,index:r},n=[]){return Fg([e,t,r,...n])}function Fg(e){let t=e.length;for(;t--&&!e[t];);return e.slice(0,t+1).map((r,n)=>r||G("_".repeat(n+1),!1))}const $l=G("undefined",!1),Fl=(e,t)=>{if(e.type===1&&(e.tagType===1||e.tagType===3)){const r=xe(e,"slot");if(r)return r.exp,t.scopes.vSlot++,()=>{t.scopes.vSlot--}}},Bg=(e,t)=>{let r;if(wr(e)&&e.props.some(Ks)&&(r=xe(e,"for"))){const n=r.parseResult=to(r.exp);if(n){const{value:i,key:s,index:o}=n,{addIdentifiers:a,removeIdentifiers:c}=t;return i&&a(i),s&&a(s),o&&a(o),()=>{i&&c(i),s&&c(s),o&&c(o)}}}},Hg=(e,t,r)=>Wt(e,t,!1,!0,t.length?t[0].loc:r);function Bl(e,t,r=Hg){t.helper(Ei);const{children:n,loc:i}=e,s=[],o=[];let a=t.scopes.vSlot>0||t.scopes.vFor>0;const c=xe(e,"slot",!0);if(c){const{arg:O,exp:T}=c;O&&!Te(O)&&(a=!0),s.push(ne(O||G("default",!0),r(T,n,i)))}let l=!1,u=!1;const p=[],f=new Set;for(let O=0;O<n.length;O++){const T=n[O];let m;if(!wr(T)||!(m=xe(T,"slot",!0))){T.type!==3&&p.push(T);continue}if(c){t.onError(ee(37,m.loc));break}l=!0;const{children:M,loc:h}=T,{arg:y=G("default",!0),exp:b,loc:E}=m;let S;Te(y)?S=y?y.content:"default":a=!0;const w=r(b,M,h);let A,I,F;if(A=xe(T,"if"))a=!0,o.push(Mi(A.exp,Pi(y,w),$l));else if(I=xe(T,/^else(-if)?$/,!0)){let H=O,Z;for(;H--&&(Z=n[H],Z.type===3););if(Z&&wr(Z)&&xe(Z,"if")){n.splice(O,1),O--;let te=o[o.length-1];for(;te.alternate.type===19;)te=te.alternate;te.alternate=I.exp?Mi(I.exp,Pi(y,w),$l):Pi(y,w)}else t.onError(ee(30,I.loc))}else if(F=xe(T,"for")){a=!0;const H=F.parseResult||to(F.exp);H?o.push(ie(t.helper(hi),[H.source,Wt(Li(H),Pi(y,w),!0)])):t.onError(ee(32,F.loc))}else{if(S){if(f.has(S)){t.onError(ee(38,E));continue}f.add(S),S==="default"&&(u=!0)}s.push(ne(y,w))}}if(!c){const O=(T,m)=>{const M=r(T,m,i);return t.compatConfig&&(M.isNonScopedSlot=!0),ne("default",M)};l?p.length&&p.some(T=>Hl(T))&&(u?t.onError(ee(39,p[0].loc)):s.push(O(void 0,p))):s.push(O(void 0,n))}const g=a?2:xi(e.children)?3:1;let C=Ne(s.concat(ne("_",G(g+"",!1))),i);return o.length&&(C=ie(t.helper(Hs),[C,Mr(o)])),{slots:C,hasDynamicSlots:a}}function Pi(e,t){return Ne([ne("name",e),ne("fn",t)])}function xi(e){for(let t=0;t<e.length;t++){const r=e[t];switch(r.type){case 1:if(r.tagType===2||xi(r.children))return!0;break;case 9:if(xi(r.branches))return!0;break;case 10:case 11:if(xi(r.children))return!0;break}}return!1}function Hl(e){return e.type!==2&&e.type!==12?!0:e.type===2?!!e.content.trim():Hl(e.content)}const Gl=new WeakMap,Ul=(e,t)=>function(){if(e=t.currentNode,!(e.type===1&&(e.tagType===0||e.tagType===1)))return;const{tag:n,props:i}=e,s=e.tagType===1;let o=s?Vl(e,t):`"${n}"`;const a=na(o)&&o.callee===rn;let c,l,u,p=0,f,g,C,O=a||o===yr||o===oi||!s&&(n==="svg"||n==="foreignObject"||Sr(e,"key",!0));if(i.length>0){const T=ro(e,t);c=T.props,p=T.patchFlag,g=T.dynamicPropNames;const m=T.directives;C=m&&m.length?Mr(m.map(M=>Ug(M,t))):void 0}if(e.children.length>0)if(o===tn&&(O=!0,p|=1024),s&&o!==yr&&o!==tn){const{slots:m,hasDynamicSlots:M}=Bl(e,t);l=m,M&&(p|=1024)}else if(e.children.length===1&&o!==yr){const m=e.children[0],M=m.type,h=M===5||M===8;h&&Be(m,t)===0&&(p|=1),h||M===2?l=m:l=e.children}else l=e.children;p!==0&&(u=String(p),g&&g.length&&(f=Vg(g))),e.codegenNode=Cr(t,o,c,l,u,f,C,!!O,!1,s,e.loc)};function Vl(e,t,r=!1){let{tag:n}=e;const i=io(n),s=Sr(e,"is");if(s)if(i||Qt("COMPILER_IS_ON_ELEMENT",t)){const c=s.type===6?s.value&&G(s.value.content,!0):s.exp;if(c)return ie(t.helper(rn),[c])}else s.type===6&&s.value.content.startsWith("vue:")&&(n=s.value.content.slice(4));const o=!i&&xe(e,"is");if(o&&o.exp)return ie(t.helper(rn),[o.exp]);const a=Us(n)||t.isBuiltInComponent(n);return a?(r||t.helper(a),a):(t.helper(ui),t.components.add(n),Or(n,"component"))}function ro(e,t,r=e.props,n=!1){const{tag:i,loc:s}=e,o=e.tagType===1;let a=[];const c=[],l=[];let u=0,p=!1,f=!1,g=!1,C=!1,O=!1,T=!1;const m=[],M=({key:y,value:b})=>{if(Te(y)){const E=y.content,S=oa(E);if(!o&&S&&E.toLowerCase()!=="onclick"&&E!=="onUpdate:modelValue"&&!aa(E)&&(C=!0),S&&aa(E)&&(T=!0),b.type===20||(b.type===4||b.type===8)&&Be(b,t)>0)return;E==="ref"?p=!0:E==="class"?f=!0:E==="style"?g=!0:E!=="key"&&!m.includes(E)&&m.push(E),o&&(E==="class"||E==="style")&&!m.includes(E)&&m.push(E)}else O=!0};for(let y=0;y<r.length;y++){const b=r[y];if(b.type===6){const{loc:E,name:S,value:w}=b;let A=G(w?w.content:"",!0,w?w.loc:E);if(S==="ref"&&(p=!0),S==="is"&&(io(i)||w&&w.content.startsWith("vue:")||Qt("COMPILER_IS_ON_ELEMENT",t)))continue;a.push(ne(G(S,!0,zs(E,0,S.length)),A))}else{const{name:E,arg:S,exp:w,loc:A}=b,I=E==="bind",F=E==="on";if(E==="slot"){o||t.onError(ee(40,A));continue}if(E==="once"||E==="memo"||E==="is"||I&&un(S,"is")&&(io(i)||Qt("COMPILER_IS_ON_ELEMENT",t))||F&&n)continue;if(!S&&(I||F)){if(O=!0,w)if(a.length&&(c.push(Ne(no(a),s)),a=[]),I){if(Qt("COMPILER_V_BIND_OBJECT_ORDER",t)){c.unshift(w);continue}c.push(w)}else c.push({type:14,loc:A,callee:t.helper(yi),arguments:[w]});else t.onError(ee(I?34:35,A));continue}const H=t.directiveTransforms[E];if(H){const{props:Z,needRuntime:te}=H(b,e,t);!n&&Z.forEach(M),a.push(...Z),te&&(l.push(b),ds(te)&&Gl.set(b,te))}else l.push(b)}b.type===6&&b.name==="ref"&&t.scopes.vFor>0&&Jt("COMPILER_V_FOR_REF",t,b.loc)&&a.push(ne(G("refInFor",!0),G("true",!1)))}let h;if(c.length?(a.length&&c.push(Ne(no(a),s)),c.length>1?h=ie(t.helper(sn),c,s):h=c[0]):a.length&&(h=Ne(no(a),s)),O?u|=16:(f&&!o&&(u|=2),g&&!o&&(u|=4),m.length&&(u|=8),C&&(u|=32)),(u===0||u===32)&&(p||T||l.length>0)&&(u|=512),!t.inSSR&&h)switch(h.type){case 15:let y=-1,b=-1,E=!1;for(let A=0;A<h.properties.length;A++){const I=h.properties[A].key;Te(I)?I.content==="class"?y=A:I.content==="style"&&(b=A):I.isHandlerKey||(E=!0)}const S=h.properties[y],w=h.properties[b];E?h=ie(t.helper(br),[h]):(S&&!Te(S.value)&&(S.value=ie(t.helper(mi),[S.value])),w&&!Te(w.value)&&(g||w.value.type===17)&&(w.value=ie(t.helper(gi),[w.value])));break;case 14:break;default:h=ie(t.helper(br),[ie(t.helper(Er),[h])]);break}return{props:h,directives:l,patchFlag:u,dynamicPropNames:m}}function no(e){const t=new Map,r=[];for(let n=0;n<e.length;n++){const i=e[n];if(i.key.type===8||!i.key.isStatic){r.push(i);continue}const s=i.key.content,o=t.get(s);o?(s==="style"||s==="class"||oa(s))&&Gg(o,i):(t.set(s,i),r.push(i))}return r}function Gg(e,t){e.value.type===17?e.value.elements.push(t.value):e.value=Mr([e.value,t.value],e.loc)}function Ug(e,t){const r=[],n=Gl.get(e);n?r.push(t.helperString(n)):(t.helper(pi),t.directives.add(e.name),r.push(Or(e.name,"directive")));const{loc:i}=e;if(e.exp&&r.push(e.exp),e.arg&&(e.exp||r.push("void 0"),r.push(e.arg)),Object.keys(e.modifiers).length){e.arg||(e.exp||r.push("void 0"),r.push("void 0"));const s=G("true",!1,i);r.push(Ne(e.modifiers.map(o=>ne(o,s)),i))}return Mr(r,e.loc)}function Vg(e){let t="[";for(let r=0,n=e.length;r<n;r++)t+=JSON.stringify(e[r]),r<n-1&&(t+=", ");return t+"]"}function io(e){return e[0].toLowerCase()+e.slice(1)==="component"}const zg=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},Kg=/-(\w)/g,zl=zg(e=>e.replace(Kg,(t,r)=>r?r.toUpperCase():"")),Wg=(e,t)=>{if(pn(e)){const{children:r,loc:n}=e,{slotName:i,slotProps:s}=Kl(e,t),o=[t.prefixIdentifiers?"_ctx.$slots":"$slots",i,"{}","undefined","true"];let a=2;s&&(o[2]=s,a=3),r.length&&(o[3]=Wt([],r,!1,!1,n),a=4),t.scopeId&&!t.slotted&&(a=5),o.splice(a),e.codegenNode=ie(t.helper(Bs),o,n)}};function Kl(e,t){let r='"default"',n;const i=[];for(let s=0;s<e.props.length;s++){const o=e.props[s];o.type===6?o.value&&(o.name==="name"?r=JSON.stringify(o.value.content):(o.name=zl(o.name),i.push(o))):o.name==="bind"&&un(o.arg,"name")?o.exp&&(r=o.exp):(o.name==="bind"&&o.arg&&Te(o.arg)&&(o.arg.content=zl(o.arg.content)),i.push(o))}if(i.length>0){const{props:s,directives:o}=ro(e,t,i);n=s,o.length&&t.onError(ee(36,o[0].loc))}return{slotName:r,slotProps:n}}const Yg=/^\s*([\w$_]+|(async\s*)?\([^)]*?\))\s*=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,so=(e,t,r,n)=>{const{loc:i,modifiers:s,arg:o}=e;!e.exp&&!s.length&&r.onError(ee(35,i));let a;if(o.type===4)if(o.isStatic){const p=o.content;a=G(Yu(ps(p)),!0,o.loc)}else a=Qe([`${r.helperString(bi)}(`,o,")"]);else a=o,a.children.unshift(`${r.helperString(bi)}(`),a.children.push(")");let c=e.exp;c&&!c.content.trim()&&(c=void 0);let l=r.cacheHandlers&&!c&&!r.inVOnce;if(c){const p=Vs(c.content),f=!(p||Yg.test(c.content)),g=c.content.includes(";");(f||l&&p)&&(c=Qe([`${f?"$event":"(...args)"} => ${g?"{":"("}`,c,g?"}":")"]))}let u={props:[ne(a,c||G("() => {}",!1,i))]};return n&&(u=n(u)),l&&(u.props[0].value=r.cache(u.props[0].value)),u.props.forEach(p=>p.key.isHandlerKey=!0),u},Wl=(e,t,r)=>{const{exp:n,modifiers:i,loc:s}=e,o=e.arg;return o.type!==4?(o.children.unshift("("),o.children.push(') || ""')):o.isStatic||(o.content=`${o.content} || ""`),i.includes("camel")&&(o.type===4?o.isStatic?o.content=ps(o.content):o.content=`${r.helperString(vi)}(${o.content})`:(o.children.unshift(`${r.helperString(vi)}(`),o.children.push(")"))),r.inSSR||(i.includes("prop")&&Yl(o,"."),i.includes("attr")&&Yl(o,"^")),!n||n.type===4&&!n.content.trim()?(r.onError(ee(34,s)),{props:[ne(o,G("",!0,s))]}):{props:[ne(o,n)]}},Yl=(e,t)=>{e.type===4?e.isStatic?e.content=t+e.content:e.content=`\`${t}\${${e.content}}\``:(e.children.unshift(`'${t}' + (`),e.children.push(")"))},qg=(e,t)=>{if(e.type===0||e.type===1||e.type===11||e.type===10)return()=>{const r=e.children;let n,i=!1;for(let s=0;s<r.length;s++){const o=r[s];if(Si(o)){i=!0;for(let a=s+1;a<r.length;a++){const c=r[a];if(Si(c))n||(n=r[s]={type:8,loc:o.loc,children:[o]}),n.children.push(" + ",c),r.splice(a,1),a--;else{n=void 0;break}}}}if(!(!i||r.length===1&&(e.type===0||e.type===1&&e.tagType===0&&!e.props.find(s=>s.type===7&&!t.directiveTransforms[s.name])&&e.tag!=="template")))for(let s=0;s<r.length;s++){const o=r[s];if(Si(o)||o.type===8){const a=[];(o.type!==2||o.content!==" ")&&a.push(o),!t.ssr&&Be(o,t)===0&&a.push(1+""),r[s]={type:12,content:o,loc:o.loc,codegenNode:ie(t.helper(ci),a)}}}}},ql=new WeakSet,Xg=(e,t)=>{if(e.type===1&&xe(e,"once",!0))return ql.has(e)||t.inVOnce?void 0:(ql.add(e),t.inVOnce=!0,t.helper(on),()=>{t.inVOnce=!1;const r=t.currentNode;r.codegenNode&&(r.codegenNode=t.cache(r.codegenNode,!0))})},oo=(e,t,r)=>{const{exp:n,arg:i}=e;if(!n)return r.onError(ee(41,e.loc)),ao();const s=n.loc.source,o=n.type===4?n.content:s;r.bindingMetadata[s];const a=!1;if(!o.trim()||!Vs(o)&&!a)return r.onError(ee(42,n.loc)),ao();const c=i||G("modelValue",!0),l=i?Te(i)?`onUpdate:${i.content}`:Qe(['"onUpdate:" + ',i]):"onUpdate:modelValue";let u;const p=r.isTS?"($event: any)":"$event";u=Qe([`${p} => ((`,n,") = $event)"]);const f=[ne(c,e.exp),ne(l,u)];if(e.modifiers.length&&t.tagType===1){const g=e.modifiers.map(O=>(an(O)?O:JSON.stringify(O))+": true").join(", "),C=i?Te(i)?`${i.content}Modifiers`:Qe([i,' + "Modifiers"']):"modelModifiers";f.push(ne(C,G(`{ ${g} }`,!1,e.loc,2)))}return ao(f)};function ao(e=[]){return{props:e}}const Qg=/[\w).+\-_$\]]/,Jg=(e,t)=>{!Qt("COMPILER_FILTER",t)||(e.type===5&&Ii(e.content,t),e.type===1&&e.props.forEach(r=>{r.type===7&&r.name!=="for"&&r.exp&&Ii(r.exp,t)}))};function Ii(e,t){if(e.type===4)Xl(e,t);else for(let r=0;r<e.children.length;r++){const n=e.children[r];typeof n=="object"&&(n.type===4?Xl(n,t):n.type===8?Ii(e,t):n.type===5&&Ii(n.content,t))}}function Xl(e,t){const r=e.content;let n=!1,i=!1,s=!1,o=!1,a=0,c=0,l=0,u=0,p,f,g,C,O=[];for(g=0;g<r.length;g++)if(f=p,p=r.charCodeAt(g),n)p===39&&f!==92&&(n=!1);else if(i)p===34&&f!==92&&(i=!1);else if(s)p===96&&f!==92&&(s=!1);else if(o)p===47&&f!==92&&(o=!1);else if(p===124&&r.charCodeAt(g+1)!==124&&r.charCodeAt(g-1)!==124&&!a&&!c&&!l)C===void 0?(u=g+1,C=r.slice(0,g).trim()):T();else{switch(p){case 34:i=!0;break;case 39:n=!0;break;case 96:s=!0;break;case 40:l++;break;case 41:l--;break;case 91:c++;break;case 93:c--;break;case 123:a++;break;case 125:a--;break}if(p===47){let m=g-1,M;for(;m>=0&&(M=r.charAt(m),M===" ");m--);(!M||!Qg.test(M))&&(o=!0)}}C===void 0?C=r.slice(0,g).trim():u!==0&&T();function T(){O.push(r.slice(u,g).trim()),u=g+1}if(O.length){for(g=0;g<O.length;g++)C=Zg(C,O[g],t);e.content=C}}function Zg(e,t,r){r.helper(di);const n=t.indexOf("(");if(n<0)return r.filters.add(t),`${Or(t,"filter")}(${e})`;{const i=t.slice(0,n),s=t.slice(n+1);return r.filters.add(i),`${Or(i,"filter")}(${e}${s!==")"?","+s:s}`}}const Ql=new WeakSet,ey=(e,t)=>{if(e.type===1){const r=xe(e,"memo");return!r||Ql.has(e)?void 0:(Ql.add(e),()=>{const n=e.codegenNode||t.currentNode.codegenNode;n&&n.type===13&&(e.tagType!==1&&wi(n,t),e.codegenNode=ie(t.helper(Ci),[r.exp,Wt(void 0,n),"_cache",String(t.cached++)]))})}};function Jl(e){return[[Xg,Dg,ey,jg,Jg,Wg,Ul,Fl,qg],{on:so,bind:Wl,model:oo}]}function Zl(e,t={}){const r=t.onError||Ns,n=t.mode==="module";t.prefixIdentifiers===!0?r(ee(46)):n&&r(ee(47));const i=!1;t.cacheHandlers&&r(ee(48)),t.scopeId&&!n&&r(ee(49));const s=le(e)?Ys(e,t):e,[o,a]=Jl();return Tl(s,mt({},t,{prefixIdentifiers:i,nodeTransforms:[...o,...t.nodeTransforms||[]],directiveTransforms:mt({},a,t.directiveTransforms||{})})),Rl(s,mt({},t,{prefixIdentifiers:i}))}const ec=()=>({props:[]}),lo=Symbol(""),co=Symbol(""),uo=Symbol(""),po=Symbol(""),Di=Symbol(""),fo=Symbol(""),ho=Symbol(""),mo=Symbol(""),go=Symbol(""),yo=Symbol("");ll({[lo]:"vModelRadio",[co]:"vModelCheckbox",[uo]:"vModelText",[po]:"vModelSelect",[Di]:"vModelDynamic",[fo]:"withModifiers",[ho]:"withKeys",[mo]:"vShow",[go]:"Transition",[yo]:"TransitionGroup"});let _r;function ty(e,t=!1){return _r||(_r=document.createElement("div")),t?(_r.innerHTML=`<div foo="${e.replace(/"/g,"&quot;")}">`,_r.children[0].getAttribute("foo")):(_r.innerHTML=e,_r.textContent)}const ry=sr("style,iframe,script,noscript",!0),vo={isVoidTag:qu,isNativeTag:e=>Xu(e)||Qu(e),isPreTag:e=>e==="pre",decodeEntities:ty,isBuiltInComponent:e=>{if(Yt(e,"Transition"))return go;if(Yt(e,"TransitionGroup"))return yo},getNamespace(e,t){let r=t?t.ns:0;if(t&&r===2)if(t.tag==="annotation-xml"){if(e==="svg")return 1;t.props.some(n=>n.type===6&&n.name==="encoding"&&n.value!=null&&(n.value.content==="text/html"||n.value.content==="application/xhtml+xml"))&&(r=0)}else/^m(?:[ions]|text)$/.test(t.tag)&&e!=="mglyph"&&e!=="malignmark"&&(r=0);else t&&r===1&&(t.tag==="foreignObject"||t.tag==="desc"||t.tag==="title")&&(r=0);if(r===0){if(e==="svg")return 1;if(e==="math")return 2}return r},getTextMode({tag:e,ns:t}){if(t===0){if(e==="textarea"||e==="title")return 1;if(ry(e))return 2}return 0}},tc=e=>{e.type===1&&e.props.forEach((t,r)=>{t.type===6&&t.name==="style"&&t.value&&(e.props[r]={type:7,name:"bind",arg:G("style",!0,t.loc),exp:ny(t.value.content,t.loc),modifiers:[],loc:t.loc})})},ny=(e,t)=>{const r=Ju(e);return G(JSON.stringify(r),!1,t,3)};function ut(e,t){return ee(e,t)}const iy=(e,t,r)=>{const{exp:n,loc:i}=e;return n||r.onError(ut(50,i)),t.children.length&&(r.onError(ut(51,i)),t.children.length=0),{props:[ne(G("innerHTML",!0,i),n||G("",!0))]}},sy=(e,t,r)=>{const{exp:n,loc:i}=e;return n||r.onError(ut(52,i)),t.children.length&&(r.onError(ut(53,i)),t.children.length=0),{props:[ne(G("textContent",!0),n?ie(r.helperString(nn),[n],i):G("",!0))]}},oy=(e,t,r)=>{const n=oo(e,t,r);if(!n.props.length||t.tagType===1)return n;e.arg&&r.onError(ut(55,e.arg.loc));const{tag:i}=t,s=r.isCustomElement(i);if(i==="input"||i==="textarea"||i==="select"||s){let o=uo,a=!1;if(i==="input"||s){const c=Sr(t,"type");if(c){if(c.type===7)o=Di;else if(c.value)switch(c.value.content){case"radio":o=lo;break;case"checkbox":o=co;break;case"file":a=!0,r.onError(ut(56,e.loc));break}}else fl(t)&&(o=Di)}else i==="select"&&(o=po);a||(n.needRuntime=r.helper(o))}else r.onError(ut(54,e.loc));return n.props=n.props.filter(o=>!(o.key.type===4&&o.key.content==="modelValue")),n},ay=sr("passive,once,capture"),ly=sr("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),cy=sr("left,right"),rc=sr("onkeyup,onkeydown,onkeypress",!0),uy=(e,t,r,n)=>{const i=[],s=[],o=[];for(let a=0;a<t.length;a++){const c=t[a];c==="native"&&Jt("COMPILER_V_ON_NATIVE",r)||ay(c)?o.push(c):cy(c)?Te(e)?rc(e.content)?i.push(c):s.push(c):(i.push(c),s.push(c)):ly(c)?s.push(c):i.push(c)}return{keyModifiers:i,nonKeyModifiers:s,eventOptionModifiers:o}},nc=(e,t)=>Te(e)&&e.content.toLowerCase()==="onclick"?G(t,!0):e.type!==4?Qe(["(",e,`) === "onClick" ? "${t}" : (`,e,")"]):e,py=(e,t,r)=>so(e,t,r,n=>{const{modifiers:i}=e;if(!i.length)return n;let{key:s,value:o}=n.props[0];const{keyModifiers:a,nonKeyModifiers:c,eventOptionModifiers:l}=uy(s,i,r,e.loc);if(c.includes("right")&&(s=nc(s,"onContextmenu")),c.includes("middle")&&(s=nc(s,"onMouseup")),c.length&&(o=ie(r.helper(fo),[o,JSON.stringify(c)])),a.length&&(!Te(s)||rc(s.content))&&(o=ie(r.helper(ho),[o,JSON.stringify(a)])),l.length){const u=l.map(ia).join("");s=Te(s)?G(`${s.content}${u}`,!0):Qe(["(",s,`) + "${u}"`])}return{props:[ne(s,o)]}}),dy=(e,t,r)=>{const{exp:n,loc:i}=e;return n||r.onError(ut(58,i)),{props:[],needRuntime:r.helper(mo)}},fy=(e,t)=>{e.type===1&&e.tagType===0&&(e.tag==="script"||e.tag==="style")&&(t.onError(ut(60,e.loc)),t.removeNode())},ic=[tc],sc={cloak:ec,html:iy,text:sy,model:oy,on:py,show:dy};function hy(e,t={}){return Zl(e,mt({},vo,t,{nodeTransforms:[fy,...ic,...t.nodeTransforms||[]],directiveTransforms:mt({},sc,t.directiveTransforms||{}),transformHoist:null}))}function my(e,t={}){return Ys(e,mt({},vo,t))}var gy=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",DOMDirectiveTransforms:sc,DOMNodeTransforms:ic,TRANSITION:go,TRANSITION_GROUP:yo,V_MODEL_CHECKBOX:co,V_MODEL_DYNAMIC:Di,V_MODEL_RADIO:lo,V_MODEL_SELECT:po,V_MODEL_TEXT:uo,V_ON_WITH_KEYS:ho,V_ON_WITH_MODIFIERS:fo,V_SHOW:mo,compile:hy,createDOMCompilerError:ut,parse:my,parserOptions:vo,transformStyle:tc,generateCodeFrame:Zu,BASE_TRANSITION:js,CAMELIZE:vi,CAPITALIZE:nl,CREATE_BLOCK:ks,CREATE_COMMENT:vr,CREATE_ELEMENT_BLOCK:$s,CREATE_ELEMENT_VNODE:li,CREATE_SLOTS:Hs,CREATE_STATIC:Fs,CREATE_TEXT:ci,CREATE_VNODE:ai,FRAGMENT:gr,GUARD_REACTIVE_PROPS:Er,IS_MEMO_SAME:Gs,IS_REF:al,KEEP_ALIVE:tn,MERGE_PROPS:sn,NORMALIZE_CLASS:mi,NORMALIZE_PROPS:br,NORMALIZE_STYLE:gi,OPEN_BLOCK:jt,POP_SCOPE_ID:sl,PUSH_SCOPE_ID:il,RENDER_LIST:hi,RENDER_SLOT:Bs,RESOLVE_COMPONENT:ui,RESOLVE_DIRECTIVE:pi,RESOLVE_DYNAMIC_COMPONENT:rn,RESOLVE_FILTER:di,SET_BLOCK_TRACKING:on,SUSPENSE:oi,TELEPORT:yr,TO_DISPLAY_STRING:nn,TO_HANDLERS:yi,TO_HANDLER_KEY:bi,UNREF:ol,WITH_CTX:Ei,WITH_DIRECTIVES:fi,WITH_MEMO:Ci,advancePositionWithClone:ln,advancePositionWithMutation:cn,assert:zm,baseCompile:Zl,baseParse:Ys,buildProps:ro,buildSlots:Bl,checkCompatEnabled:Jt,createArrayExpression:Mr,createAssignmentExpression:km,createBlockStatement:pl,createCacheExpression:ul,createCallExpression:ie,createCompilerError:ee,createCompoundExpression:Qe,createConditionalExpression:Mi,createForLoopParams:Li,createFunctionExpression:Wt,createIfStatement:jm,createInterpolation:Dm,createObjectExpression:Ne,createObjectProperty:ne,createReturnStatement:Fm,createRoot:cl,createSequenceExpression:$m,createSimpleExpression:G,createStructuralDirectiveTransform:Js,createTemplateLiteral:Nm,createTransformContext:_l,createVNodeCall:Cr,extractIdentifiers:kt,findDir:xe,findProp:Sr,generate:Rl,getBaseTransformPreset:Jl,getInnerRange:zs,getMemoedVNodeCall:ml,getVNodeBlockHelper:Xt,getVNodeHelper:qt,hasDynamicKeyVBind:fl,hasScopeRef:Je,helperNameMap:Mt,injectProp:dn,isBindKey:un,isBuiltInType:Yt,isCoreComponent:Us,isFunctionType:Pg,isInDestructureAssignment:Rg,isMemberExpression:Vs,isMemberExpressionBrowser:dl,isMemberExpressionNode:Vm,isReferencedIdentifier:Tg,isSimpleIdentifier:an,isSlotOutlet:pn,isStaticExp:Te,isStaticProperty:Pl,isStaticPropertyKey:xg,isTemplateNode:wr,isText:Si,isVSlot:Ks,locStub:oe,makeBlock:wi,noopDirectiveTransform:ec,processExpression:Ri,processFor:jl,processIf:xl,processSlotOutlet:Kl,registerRuntimeHelpers:ll,resolveComponentType:Vl,toValidAssetId:Or,trackSlotScopes:Fl,trackVForSlotScopes:Bg,transform:Tl,transformBind:Wl,transformElement:Ul,transformExpression:Ig,transformModel:oo,transformOn:so,traverseNode:gn,walkBlockDeclarations:Lg,walkFunctionParams:Ag,walkIdentifiers:_g,warnDeprecation:Ym}),yy=or(gy),vy=or(ep),by=or(tp);(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=yy,r=vy,n=by;function i(c){if(c&&c.__esModule)return c;var l=Object.create(null);return c&&Object.keys(c).forEach(function(u){l[u]=c[u]}),l.default=c,Object.freeze(l)}var s=i(r);const o=Object.create(null);function a(c,l){if(!n.isString(c))if(c.nodeType)c=c.innerHTML;else return n.NOOP;const u=c,p=o[u];if(p)return p;if(c[0]==="#"){const C=document.querySelector(c);c=C?C.innerHTML:""}const{code:f}=t.compile(c,n.extend({hoistStatic:!0,onError:void 0,onWarn:n.NOOP},l)),g=new Function("Vue",f)(s);return g._rc=!0,o[u]=g}r.registerRuntimeCompiler(a),Object.keys(r).forEach(function(c){c!=="default"&&(e[c]=r[c])}),e.compile=a})(tl);Y.exports=tl;var He={exports:{}};(function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])}return r},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(He);var Zt={exports:{}};(function(e){function t(r,n,i){return n in r?Object.defineProperty(r,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[n]=i,r}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(Zt);var vn={},Ni={},ji={exports:{}};(function(e){var t=Zt.exports;function r(i,s){var o=Object.keys(i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);s&&(a=a.filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable})),o.push.apply(o,a)}return o}function n(i){for(var s=1;s<arguments.length;s++){var o=arguments[s]!=null?arguments[s]:{};s%2?r(Object(o),!0).forEach(function(a){t(i,a,o[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach(function(a){Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(o,a))})}return i}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports})(ji);var ue={},pt={};Object.defineProperty(pt,"__esModule",{value:!0});pt.withInstall=pt.tupleNum=pt.tuple=void 0;var Ey=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r};pt.tuple=Ey;var Cy=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r};pt.tupleNum=Cy;var My=function(t){var r=t;return r.install=function(n){n.component(r.displayName||r.name,t)},t};pt.withInstall=My;var Sy=re.exports;Object.defineProperty(ue,"__esModule",{value:!0});ue.getTransitionProps=ue.getTransitionName=ue.getTransitionGroupProps=ue.getTransitionDirection=ue.default=ue.collapseMotion=ue.TransitionGroup=ue.Transition=void 0;var bo=Y.exports,ki=Sy(He.exports),wy=pt;(0,wy.tuple)("bottomLeft","bottomRight","topLeft","topRight");var Oy=function(t){return t!==void 0&&(t==="topLeft"||t==="topRight")?"slide-down":"slide-up"};ue.getTransitionDirection=Oy;var _y=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t?(0,ki.default)({name:t,appear:!0,enterFromClass:"".concat(t,"-enter ").concat(t,"-enter-prepare"),enterActiveClass:"".concat(t,"-enter ").concat(t,"-enter-prepare"),enterToClass:"".concat(t,"-enter ").concat(t,"-enter-active"),leaveFromClass:" ".concat(t,"-leave"),leaveActiveClass:"".concat(t,"-leave"),leaveToClass:"".concat(t,"-leave ").concat(t,"-leave-active")},r):(0,ki.default)({css:!1},r);return n};ue.getTransitionProps=_y;var Ty=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t?(0,ki.default)({name:t,appear:!0,appearActiveClass:"".concat(t),appearToClass:"".concat(t,"-appear ").concat(t,"-appear-active"),enterFromClass:"".concat(t,"-appear ").concat(t,"-enter ").concat(t,"-appear-prepare ").concat(t,"-enter-prepare"),enterActiveClass:"".concat(t),enterToClass:"".concat(t,"-enter ").concat(t,"-appear ").concat(t,"-appear-active ").concat(t,"-enter-active"),leaveActiveClass:"".concat(t," ").concat(t,"-leave"),leaveToClass:"".concat(t,"-leave-active")},r):(0,ki.default)({css:!1},r);return n};ue.getTransitionGroupProps=Ty;var oc=bo.Transition;ue.Transition=oc;var Ry=bo.TransitionGroup;ue.TransitionGroup=Ry;var ac=function(){return{height:0,opacity:0}},Ay=function(t){return{height:"".concat(t.scrollHeight,"px"),opacity:1}},Ly=function(t){return{height:"".concat(t.offsetHeight,"px")}},Py=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ant-motion-collapse",r=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return{name:t,appear:!0,css:!0,onBeforeEnter:function(s){n.value=t,r.value=ac()},onEnter:function(s){(0,bo.nextTick)(function(){r.value=Ay(s)})},onAfterEnter:function(){n.value="",r.value={}},onBeforeLeave:function(s){n.value=t,r.value=Ly(s)},onLeave:function(s){setTimeout(function(){r.value=ac()})},onAfterLeave:function(){n.value="",r.value={}}}};ue.collapseMotion=Py;var xy=function(t,r,n){return n!==void 0?n:"".concat(t,"-").concat(r)};ue.getTransitionName=xy;var Iy=oc;ue.default=Iy;var $i={},Eo={exports:{}},lc={exports:{}};(function(e){function t(r){if(Array.isArray(r))return r}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(lc);var cc={exports:{}};(function(e){function t(r,n){var i=r==null?null:typeof Symbol!="undefined"&&r[Symbol.iterator]||r["@@iterator"];if(i!=null){var s=[],o=!0,a=!1,c,l;try{for(i=i.call(r);!(o=(c=i.next()).done)&&(s.push(c.value),!(n&&s.length===n));o=!0);}catch(u){a=!0,l=u}finally{try{!o&&i.return!=null&&i.return()}finally{if(a)throw l}}return s}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(cc);var Co={exports:{}},Mo={exports:{}};(function(e){function t(r,n){(n==null||n>r.length)&&(n=r.length);for(var i=0,s=new Array(n);i<n;i++)s[i]=r[i];return s}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(Mo);(function(e){var t=Mo.exports;function r(n,i){if(!!n){if(typeof n=="string")return t(n,i);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return t(n,i)}}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports})(Co);var uc={exports:{}};(function(e){function t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(uc);(function(e){var t=lc.exports,r=cc.exports,n=Co.exports,i=uc.exports;function s(o,a){return t(o)||r(o,a)||n(o,a)||i()}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports})(Eo);var $t={},K={},Dy=re.exports;Object.defineProperty(K,"__esModule",{value:!0});K.controlDefaultValue=K.capitalize=K.camelize=K.cacheStringFunction=void 0;K.getDataAndAriaProps=qy;K.isSymbol=K.isString=K.isOn=K.isObject=K.isFunction=K.isArray=K.hyphenate=void 0;K.renderHelper=Qy;K.resolvePropValue=Yy;K.toPx=Xy;var pc=Dy(ar.exports),dc=function(t){return typeof t=="function"};K.isFunction=dc;var Ny=Symbol("controlDefaultValue");K.controlDefaultValue=Ny;var jy=Array.isArray;K.isArray=jy;var ky=function(t){return typeof t=="string"};K.isString=ky;var $y=function(t){return(0,pc.default)(t)==="symbol"};K.isSymbol=$y;var Fy=function(t){return t!==null&&(0,pc.default)(t)==="object"};K.isObject=Fy;var By=/^on[^a-z]/,Hy=function(t){return By.test(t)};K.isOn=Hy;var Fi=function(t){var r=Object.create(null);return function(n){var i=r[n];return i||(r[n]=t(n))}};K.cacheStringFunction=Fi;var Gy=/-(\w)/g,Uy=Fi(function(e){return e.replace(Gy,function(t,r){return r?r.toUpperCase():""})});K.camelize=Uy;var Vy=/\B([A-Z])/g,zy=Fi(function(e){return e.replace(Vy,"-$1").toLowerCase()});K.hyphenate=zy;var Ky=Fi(function(e){return e.charAt(0).toUpperCase()+e.slice(1)});K.capitalize=Ky;var Wy=Object.prototype.hasOwnProperty,fc=function(t,r){return Wy.call(t,r)};function Yy(e,t,r,n){var i=e[r];if(i!=null){var s=fc(i,"default");if(s&&n===void 0){var o=i.default;n=i.type!==Function&&dc(o)?o():o}i.type===Boolean&&(!fc(t,r)&&!s?n=!1:n===""&&(n=!0))}return n}function qy(e){return Object.keys(e).reduce(function(t,r){return(r.substr(0,5)==="data-"||r.substr(0,5)==="aria-")&&(t[r]=e[r]),t},{})}function Xy(e){return typeof e=="number"?"".concat(e,"px"):e}function Qy(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return typeof e=="function"?e(t):e!=null?e:r}Object.defineProperty($t,"__esModule",{value:!0});$t.default=void 0;var So=K;function hc(){for(var e=[],t=0;t<arguments.length;t++){var r=t<0||arguments.length<=t?void 0:arguments[t];if(!!r){if((0,So.isString)(r))e.push(r);else if((0,So.isArray)(r))for(var n=0;n<r.length;n++){var i=hc(r[n]);i&&e.push(i)}else if((0,So.isObject)(r))for(var s in r)r[s]&&e.push(s)}}return e.join(" ")}var Jy=hc;$t.default=Jy;var Bi=re.exports;Object.defineProperty($i,"__esModule",{value:!0});$i.default=void 0;var Ze=Y.exports,Zy=Bi(ji.exports),ev=Bi(Zt.exports),mc=Bi(Eo.exports),tv=Bi($t),rv=(0,Ze.defineComponent)({name:"Notice",inheritAttrs:!1,props:["prefixCls","duration","updateMark","noticeKey","closeIcon","closable","props","onClick","onClose","holder","visible"],setup:function(t,r){var n=r.attrs,i=r.slots,s,o=(0,Ze.computed)(function(){return t.duration===void 0?1.5:t.duration}),a=function(){o.value&&(s=setTimeout(function(){l()},o.value*1e3))},c=function(){s&&(clearTimeout(s),s=null)},l=function(f){f&&f.stopPropagation(),c();var g=t.onClose,C=t.noticeKey;g&&g(C)},u=function(){c(),a()};return(0,Ze.onMounted)(function(){a()}),(0,Ze.onUnmounted)(function(){c()}),(0,Ze.watch)([o,function(){return t.updateMark},function(){return t.visible}],function(p,f){var g=(0,mc.default)(p,3),C=g[0],O=g[1],T=g[2],m=(0,mc.default)(f,3),M=m[0],h=m[1],y=m[2];(C!==M||O!==h||T!==y&&y)&&u()},{flush:"post"}),function(){var p,f,g=t.prefixCls,C=t.closable,O=t.closeIcon,T=O===void 0?(p=i.closeIcon)===null||p===void 0?void 0:p.call(i):O,m=t.onClick,M=t.holder,h=n.class,y=n.style,b="".concat(g,"-notice"),E=Object.keys(n).reduce(function(w,A){return(A.substr(0,5)==="data-"||A.substr(0,5)==="aria-"||A==="role")&&(w[A]=n[A]),w},{}),S=(0,Ze.createVNode)("div",(0,Zy.default)({class:(0,tv.default)(b,h,(0,ev.default)({},"".concat(b,"-closable"),C)),style:y,onMouseenter:c,onMouseleave:a,onClick:m},E),[(0,Ze.createVNode)("div",{class:"".concat(b,"-content")},[(f=i.default)===null||f===void 0?void 0:f.call(i)]),C?(0,Ze.createVNode)("a",{tabindex:0,onClick:l,class:"".concat(b,"-close")},[T||(0,Ze.createVNode)("span",{class:"".concat(b,"-close-x")},null)]):null]);return M?(0,Ze.createVNode)(Ze.Teleport,{to:M},{default:function(){return S}}):S}}});$i.default=rv;var Ie={},Hi={},Gi={},Tr={},Ui={},bn={},Vi={};Object.defineProperty(Vi,"__esModule",{value:!0});Vi.default=void 0;var nv={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages"};Vi.default=nv;var En={},zi={};Object.defineProperty(zi,"__esModule",{value:!0});zi.default=void 0;var iv={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},sv=iv;zi.default=sv;var Cn={};Object.defineProperty(Cn,"__esModule",{value:!0});Cn.default=void 0;var ov={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},av=ov;Cn.default=av;var wo=re.exports;Object.defineProperty(En,"__esModule",{value:!0});En.default=void 0;var gc=wo(He.exports),lv=wo(zi),cv=wo(Cn),uv={lang:(0,gc.default)({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},lv.default),timePickerLocale:(0,gc.default)({},cv.default)},pv=uv;En.default=pv;var Ki={},dv=re.exports;Object.defineProperty(Ki,"__esModule",{value:!0});Ki.default=void 0;var fv=dv(En),hv=fv.default;Ki.default=hv;var Wi=re.exports;Object.defineProperty(bn,"__esModule",{value:!0});bn.default=void 0;var mv=Wi(Vi),gv=Wi(En),yv=Wi(Cn),vv=Wi(Ki),ke="${label} is not a valid ${type}",bv={locale:"en",Pagination:mv.default,DatePicker:gv.default,TimePicker:yv.default,Calendar:vv.default,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No Data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:ke,method:ke,array:ke,object:ke,number:ke,date:ke,boolean:ke,integer:ke,float:ke,regexp:ke,email:ke,url:ke,hex:ke},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"}},Ev=bv;bn.default=Ev;var Cv=re.exports;Object.defineProperty(Ui,"__esModule",{value:!0});Ui.default=void 0;var Mv=Cv(bn),Sv=Mv.default;Ui.default=Sv;var yc=re.exports;Object.defineProperty(Tr,"__esModule",{value:!0});Tr.default=void 0;Tr.useLocaleReceiver=Ov;var Mn=yc(He.exports),Ft=Y.exports,Oo=yc(Ui),wv=(0,Ft.defineComponent)({name:"LocaleReceiver",props:{componentName:String,defaultLocale:{type:[Object,Function]},children:{type:Function}},setup:function(t,r){var n=r.slots,i=(0,Ft.inject)("localeData",{}),s=(0,Ft.computed)(function(){var a=t.componentName,c=a===void 0?"global":a,l=t.defaultLocale,u=l||Oo.default[c||"global"],p=i.antLocale,f=c&&p?p[c]:{};return(0,Mn.default)((0,Mn.default)({},typeof u=="function"?u():u),f||{})}),o=(0,Ft.computed)(function(){var a=i.antLocale,c=a&&a.locale;return a&&a.exist&&!c?Oo.default.locale:c});return function(){var a=t.children||n.default,c=i.antLocale;return a==null?void 0:a(s.value,o.value,c)}}});Tr.default=wv;function Ov(e,t,r){var n=(0,Ft.inject)("localeData",{}),i=(0,Ft.computed)(function(){var s=n.antLocale,o=(0,Ft.unref)(t)||Oo.default[e||"global"],a=e&&s?s[e]:{};return(0,Mn.default)((0,Mn.default)((0,Mn.default)({},typeof o=="function"?o():o),a||{}),(0,Ft.unref)(r)||{})});return[i]}var Yi={},er={};Object.defineProperty(er,"__esModule",{value:!0});er.default=void 0;var be=Y.exports,_v=Ie,Tv=function(t,r){var n=(0,be.inject)("configProvider",_v.defaultConfigProvider),i=(0,be.computed)(function(){return n.getPrefixCls(t,r.prefixCls)}),s=(0,be.computed)(function(){var h;return(h=r.direction)!==null&&h!==void 0?h:n.direction}),o=(0,be.computed)(function(){return n.getPrefixCls()}),a=(0,be.computed)(function(){return n.autoInsertSpaceInButton}),c=(0,be.computed)(function(){return n.renderEmpty}),l=(0,be.computed)(function(){return n.space}),u=(0,be.computed)(function(){return n.pageHeader}),p=(0,be.computed)(function(){return n.form}),f=(0,be.computed)(function(){return r.getTargetContainer||n.getTargetContainer}),g=(0,be.computed)(function(){return r.getPopupContainer||n.getPopupContainer}),C=(0,be.computed)(function(){var h;return(h=r.dropdownMatchSelectWidth)!==null&&h!==void 0?h:n.dropdownMatchSelectWidth}),O=(0,be.computed)(function(){return(r.virtual===void 0?n.virtual!==!1:r.virtual!==!1)&&C.value!==!1}),T=(0,be.computed)(function(){return r.size||n.componentSize}),m=(0,be.computed)(function(){var h;return r.autocomplete||((h=n.input)===null||h===void 0?void 0:h.autocomplete)}),M=(0,be.computed)(function(){return n.csp});return{configProvider:n,prefixCls:i,direction:s,size:T,getTargetContainer:f,getPopupContainer:g,space:l,pageHeader:u,form:p,autoInsertSpaceInButton:a,renderEmpty:c,virtual:O,dropdownMatchSelectWidth:C,rootPrefixCls:o,getPrefixCls:n.getPrefixCls,autocomplete:m,csp:M}};er.default=Tv;var Rv=re.exports;Object.defineProperty(Yi,"__esModule",{value:!0});Yi.default=void 0;var Ge=Y.exports,Av=Rv(er),vc=function(){var t=(0,Av.default)("empty",{}),r=t.getPrefixCls,n=r("empty-img-default");return(0,Ge.createVNode)("svg",{class:n,width:"184",height:"152",viewBox:"0 0 184 152"},[(0,Ge.createVNode)("g",{fill:"none","fill-rule":"evenodd"},[(0,Ge.createVNode)("g",{transform:"translate(24 31.67)"},[(0,Ge.createVNode)("ellipse",{class:"".concat(n,"-ellipse"),cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"},null),(0,Ge.createVNode)("path",{class:"".concat(n,"-path-1"),d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z"},null),(0,Ge.createVNode)("path",{class:"".concat(n,"-path-2"),d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",transform:"translate(13.56)"},null),(0,Ge.createVNode)("path",{class:"".concat(n,"-path-3"),d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z"},null),(0,Ge.createVNode)("path",{class:"".concat(n,"-path-4"),d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z"},null)]),(0,Ge.createVNode)("path",{class:"".concat(n,"-path-5"),d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z"},null),(0,Ge.createVNode)("g",{class:"".concat(n,"-g"),transform:"translate(149.65 15.383)"},[(0,Ge.createVNode)("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"},null),(0,Ge.createVNode)("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"},null)])])])};vc.PRESENTED_IMAGE_DEFAULT=!0;var Lv=vc;Yi.default=Lv;var qi={},Pv=re.exports;Object.defineProperty(qi,"__esModule",{value:!0});qi.default=void 0;var Rr=Y.exports,xv=Pv(er),bc=function(){var t=(0,xv.default)("empty",{}),r=t.getPrefixCls,n=r("empty-img-simple");return(0,Rr.createVNode)("svg",{class:n,width:"64",height:"41",viewBox:"0 0 64 41"},[(0,Rr.createVNode)("g",{transform:"translate(0 1)",fill:"none","fill-rule":"evenodd"},[(0,Rr.createVNode)("ellipse",{class:"".concat(n,"-ellipse"),fill:"#F5F5F5",cx:"32",cy:"33",rx:"32",ry:"7"},null),(0,Rr.createVNode)("g",{class:"".concat(n,"-g"),"fill-rule":"nonzero",stroke:"#D9D9D9"},[(0,Rr.createVNode)("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"},null),(0,Rr.createVNode)("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:"#FAFAFA",class:"".concat(n,"-path")},null)])])])};bc.PRESENTED_IMAGE_SIMPLE=!0;var Iv=bc;qi.default=Iv;var Ec={},Cc={exports:{}},Mc={exports:{}};(function(e){var t=Mo.exports;function r(n){if(Array.isArray(n))return t(n)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports})(Mc);var Sc={exports:{}};(function(e){function t(r){if(typeof Symbol!="undefined"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(Sc);var wc={exports:{}};(function(e){function t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(wc);(function(e){var t=Mc.exports,r=Sc.exports,n=Co.exports,i=wc.exports;function s(o){return t(o)||r(o)||n(o)||i()}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports})(Cc);var Dv=typeof $n=="object"&&$n&&$n.Object===Object&&$n,Nv=Dv,jv=Nv,kv=typeof self=="object"&&self&&self.Object===Object&&self,$v=jv||kv||Function("return this")(),Fv=$v,Bv=Fv,Hv=Bv.Symbol,Oc=Hv,_c=Oc,Tc=Object.prototype,Gv=Tc.hasOwnProperty,Uv=Tc.toString,Sn=_c?_c.toStringTag:void 0;function Vv(e){var t=Gv.call(e,Sn),r=e[Sn];try{e[Sn]=void 0;var n=!0}catch{}var i=Uv.call(e);return n&&(t?e[Sn]=r:delete e[Sn]),i}var zv=Vv,Kv=Object.prototype,Wv=Kv.toString;function Yv(e){return Wv.call(e)}var qv=Yv,Rc=Oc,Xv=zv,Qv=qv,Jv="[object Null]",Zv="[object Undefined]",Ac=Rc?Rc.toStringTag:void 0;function eb(e){return e==null?e===void 0?Zv:Jv:Ac&&Ac in Object(e)?Xv(e):Qv(e)}var tb=eb;function rb(e,t){return function(r){return e(t(r))}}var nb=rb,ib=nb,sb=ib(Object.getPrototypeOf,Object),ob=sb;function ab(e){return e!=null&&typeof e=="object"}var lb=ab,cb=tb,ub=ob,pb=lb,db="[object Object]",fb=Function.prototype,hb=Object.prototype,Lc=fb.toString,mb=hb.hasOwnProperty,gb=Lc.call(Object);function yb(e){if(!pb(e)||cb(e)!=db)return!1;var t=ub(e);if(t===null)return!0;var r=mb.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Lc.call(r)==gb}var vb=yb,Xi={};Object.defineProperty(Xi,"__esModule",{value:!0});Xi.default=void 0;var bb=function(t){return t!=null&&t!==""},Eb=bb;Xi.default=Eb;var Qi={},Cb=re.exports;Object.defineProperty(Qi,"__esModule",{value:!0});Qi.default=void 0;var Mb=Cb(He.exports),Sb=function(t,r){var n=(0,Mb.default)({},t);return Object.keys(r).forEach(function(i){var s=n[i];if(s)s.type||s.default?s.default=r[i]:s.def?s.def(r[i]):n[i]={type:s,default:r[i]};else throw new Error("not have ".concat(i," prop"))}),n},wb=Sb;Qi.default=wb;(function(e){var t=re.exports;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"camelize",{enumerable:!0,get:function(){return l.camelize}}),e.default=void 0,e.filterEmpty=jr,e.filterEmptyWithUndefined=Nn,e.getAttrs=e.getAllProps=e.getAllChildren=e.flattenChildren=e.findDOMNode=void 0,e.getClass=Dr,e.getComponentFromProp=e.getComponent=void 0,e.getComponentName=Nr,e.getDataEvents=rt,e.getEvent=We,e.getEvents=fe,e.getKey=void 0,e.getListeners=Gt,e.getPropsData=e.getOptionProps=void 0,e.getPropsSlot=ls,e.getSlots=e.getSlotOptions=e.getSlot=void 0,e.getStyle=rr,e.hasProp=e.getValueByProp=e.getTextFromElement=void 0,Object.defineProperty(e,"initDefaultProps",{enumerable:!0,get:function(){return p.default}}),e.isEmptyContent=In,e.isEmptyElement=_t,e.isEmptySlot=as,e.isFragment=nr,e.isStringElement=Dn,e.isValidElement=kn,e.mergeProps=jn,e.splitAttrs=e.slotHasProp=e.parseStyleText=void 0;var r=t(Eo.exports),n=t(Cc.exports),i=t(He.exports),s=t(ar.exports),o=t(vb),a=t($t),c=Y.exports,l=K,u=t(Xi),p=t(Qi),f=void 0,g=function(R){for(var P=Object.keys(R),j={},k={},D={},U=0,B=P.length;U<B;U++){var q=P[U];(0,l.isOn)(q)?(j[q[2].toLowerCase()+q.slice(3)]=R[q],k[q]=R[q]):D[q]=R[q]}return{onEvents:k,events:j,extraAttrs:D}};e.splitAttrs=g;var C=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",P=arguments.length>1?arguments[1]:void 0,j={},k=/;(?![^(]*\))/g,D=/:(.+)/;return(0,s.default)(R)==="object"?R:(R.split(k).forEach(function(U){if(U){var B=U.split(D);if(B.length>1){var q=P?(0,l.camelize)(B[0].trim()):B[0].trim();j[q]=B[1].trim()}}}),j)};e.parseStyleText=C;var O=function(R,P){return R[P]!==void 0};e.hasProp=O;var T=function(R,P){return O(R,P)};e.slotHasProp=T;var m=function(R){return R.data&&R.data.scopedSlots||{}},M=function(R){var P=R.componentOptions||{};R.$vnode&&(P=R.$vnode.componentOptions||{});var j=R.children||P.children||[],k={};return j.forEach(function(D){if(!_t(D)){var U=D.data&&D.data.slot||"default";k[U]=k[U]||[],k[U].push(D)}}),(0,i.default)((0,i.default)({},k),m(R))};e.getSlots=M;var h=function x(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,j=Array.isArray(R)?R:[R],k=[];return j.forEach(function(D){Array.isArray(D)?k.push.apply(k,(0,n.default)(x(D,P))):D&&D.type===c.Fragment?k.push.apply(k,(0,n.default)(x(D.children,P))):D&&(0,c.isVNode)(D)?P&&!_t(D)?k.push(D):P||k.push(D):(0,u.default)(D)&&k.push(D)}),k};e.flattenChildren=h;var y=function(R){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"default",j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if((0,c.isVNode)(R))return R.type===c.Fragment?P==="default"?h(R.children):[]:R.children&&R.children[P]?h(R.children[P](j)):[];var k=R.$slots[P]&&R.$slots[P](j);return h(k)};e.getSlot=y;var b=function(R){var P=R.componentOptions||{};return R.$vnode&&(P=R.$vnode.componentOptions||{}),R.children||P.children||[]};e.getAllChildren=b;var E=function(){throw Error("\u4F7F\u7528 .type \u76F4\u63A5\u53D6\u503C")};e.getSlotOptions=E;var S=function(R){for(var P,j=((P=R==null?void 0:R.vnode)===null||P===void 0?void 0:P.el)||R&&(R.$el||R);j&&!j.tagName;)j=j.nextSibling;return j};e.findDOMNode=S;var w=function(R){var P={};if(R.$&&R.$.vnode){var j=R.$.vnode.props||{};Object.keys(R.$props).forEach(function(B){var q=R.$props[B],_=(0,l.hyphenate)(B);(q!==void 0||_ in j)&&(P[B]=q)})}else if((0,c.isVNode)(R)&&(0,s.default)(R.type)==="object"){var k=R.props||{},D={};Object.keys(k).forEach(function(B){D[(0,l.camelize)(B)]=k[B]});var U=R.type.props||{};Object.keys(U).forEach(function(B){var q=(0,l.resolvePropValue)(U,D,B,D[B]);(q!==void 0||B in D)&&(P[B]=q)})}return P};e.getOptionProps=w;var A=function(R){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"default",j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:R,k=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,D=void 0;if(R.$){var U=R[P];if(U!==void 0)return typeof U=="function"&&k?U(j):U;D=R.$slots[P],D=k&&D?D(j):D}else if((0,c.isVNode)(R)){var B=R.props&&R.props[P];if(B!==void 0&&R.props!==null)return typeof B=="function"&&k?B(j):B;R.type===c.Fragment?D=R.children:R.children&&R.children[P]&&(D=R.children[P],D=k&&D?D(j):D)}return Array.isArray(D)&&(D=h(D),D=D.length===1?D[0]:D,D=D.length===0?void 0:D),D};e.getComponent=A;var I=function(R,P){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:R,k=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;if(R.$createElement){var D=R[P];return D!==void 0?typeof D=="function"&&k?D(c.h,j):D:R.$scopedSlots[P]&&k&&R.$scopedSlots[P](j)||R.$scopedSlots[P]||R.$slots[P]||void 0}else{var U=H(R)[P];if(U!==void 0)return typeof U=="function"&&k?U(c.h,j):U;var B=m(R)[P];if(B!==void 0)return typeof B=="function"&&k?B(c.h,j):B;var q=[],_=R.componentOptions||{};return(_.children||[]).forEach(function(N){N.data&&N.data.slot===P&&(N.data.attrs&&delete N.data.attrs.slot,N.tag==="template"?q.push(N.children):q.push(N))}),q.length?q:void 0}};e.getComponentFromProp=I;var F=function(R){var P=w(R);return R.$?P=(0,i.default)((0,i.default)({},P),f.$attrs):P=(0,i.default)((0,i.default)({},R.props),P),P};e.getAllProps=F;var H=function(R){var P=R.$?R.$:R,j={},k=P.props||{},D={};Object.keys(k).forEach(function(B){D[(0,l.camelize)(B)]=k[B]});var U=(0,o.default)(P.type)?P.type.props:{};return U&&Object.keys(U).forEach(function(B){var q=(0,l.resolvePropValue)(U,D,B,D[B]);B in D&&(j[B]=q)}),(0,i.default)((0,i.default)({},D),j)};e.getPropsData=H;var Z=function(R,P){return H(R)[P]};e.getValueByProp=Z;var te=function(R){var P=R.data;return R.$vnode&&(P=R.$vnode.data),P?P.attrs||{}:{}};e.getAttrs=te;var Ke=function(R){var P=R.key;return P};e.getKey=Ke;function fe(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,P={};return x.$?P=(0,i.default)((0,i.default)({},P),x.$attrs):P=(0,i.default)((0,i.default)({},P),x.props),g(P)[R?"onEvents":"events"]}function We(x,R){return x.props&&x.props[R]}function rt(x){var R={};return x.data&&x.data.on&&(R=x.data.on),(0,i.default)({},R)}function Gt(x){return(x.$vnode?x.$vnode.componentOptions.listeners:x.$listeners)||{}}function Dr(x){var R=((0,c.isVNode)(x)?x.props:x.$attrs)||{},P=R.class||{},j={};return typeof P=="string"?P.split(" ").forEach(function(k){j[k.trim()]=!0}):Array.isArray(P)?(0,a.default)(P).split(" ").forEach(function(k){j[k.trim()]=!0}):j=(0,i.default)((0,i.default)({},j),P),j}function rr(x,R){var P=((0,c.isVNode)(x)?x.props:x.$attrs)||{},j=P.style||{};if(typeof j=="string")j=C(j,R);else if(R&&j){var k={};return Object.keys(j).forEach(function(D){return k[(0,l.camelize)(D)]=j[D]}),k}return j}function Nr(x){return x&&(x.Ctor.options.name||x.tag)}function nr(x){return x.length===1&&x[0].type===c.Fragment}function In(x){return x==null||x===""||Array.isArray(x)&&x.length===0}function _t(x){return x&&(x.type===c.Comment||x.type===c.Fragment&&x.children.length===0||x.type===c.Text&&x.children.trim()==="")}function as(x){return!x||x().every(_t)}function Dn(x){return x&&x.type===c.Text}function jr(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],R=[];return x.forEach(function(P){Array.isArray(P)?R.push.apply(R,(0,n.default)(P)):P.type===c.Fragment?R.push.apply(R,(0,n.default)(P.children)):R.push(P)}),R.filter(function(P){return!_t(P)})}function Nn(x){if(x){var R=jr(x);return R.length?R:void 0}else return x}function jn(){var x=[].slice.call(arguments,0),R={};return x.forEach(function(){for(var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},j=0,k=Object.entries(P);j<k.length;j++){var D=(0,r.default)(k[j],2),U=D[0],B=D[1];R[U]=R[U]||{},(0,o.default)(B)?(0,i.default)(R[U],B):R[U]=B}}),R}function kn(x){return Array.isArray(x)&&x.length===1&&(x=x[0]),x&&x.__v_isVNode&&(0,s.default)(x.type)!=="symbol"}function ls(x,R){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"default",j,k;return(j=R[P])!==null&&j!==void 0?j:(k=x[P])===null||k===void 0?void 0:k.call(x)}var kr=function(R){return kn(R)&&Dn(R[0])?R[0].children:R};e.getTextFromElement=kr;var cs=O;e.default=cs})(Ec);var wn={},Ob=or(rp);Object.defineProperty(wn,"__esModule",{value:!0});wn.default=void 0;wn.withUndefined=Tb;var _b=Ob,Pc=(0,_b.createTypes)({func:void 0,bool:void 0,string:void 0,number:void 0,array:void 0,object:void 0,integer:void 0});Pc.extend([{name:"looseBool",getter:!0,type:Boolean,default:void 0},{name:"style",getter:!0,type:[String,Object],default:void 0},{name:"VueNode",getter:!0,type:null}]);function Tb(e){return e.default=void 0,e}var Rb=Pc;wn.default=Rb;var St=re.exports;Object.defineProperty(Gi,"__esModule",{value:!0});Gi.default=void 0;var Bt=Y.exports,Ab=St(ji.exports),xc=St(Zt.exports),Ic=St(He.exports),Lb=St($t),Pb=St(Tr),xb=St(Yi),Ib=St(qi),Db=Ec,Dc=St(wn),Nb=pt,jb=St(er),kb=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},Nc=(0,Bt.createVNode)(xb.default,null,null),jc=(0,Bt.createVNode)(Ib.default,null,null),Ar=function(t,r){var n=r.slots,i=n===void 0?{}:n,s=r.attrs,o,a=(0,jb.default)("empty",t),c=a.direction,l=a.prefixCls,u=l.value,p=(0,Ic.default)((0,Ic.default)({},t),s),f=p.image,g=f===void 0?Nc:f,C=p.description,O=C===void 0?((o=i.description)===null||o===void 0?void 0:o.call(i))||void 0:C,T=p.imageStyle,m=p.class,M=m===void 0?"":m,h=kb(p,["image","description","imageStyle","class"]);return(0,Bt.createVNode)(Pb.default,{componentName:"Empty",children:function(b){var E,S=typeof O!="undefined"?O:b.description,w=typeof S=="string"?S:"empty",A=null;return typeof g=="string"?A=(0,Bt.createVNode)("img",{alt:w,src:g},null):A=g,(0,Bt.createVNode)("div",(0,Ab.default)({class:(0,Lb.default)(u,M,(E={},(0,xc.default)(E,"".concat(u,"-normal"),g===jc),(0,xc.default)(E,"".concat(u,"-rtl"),c.value==="rtl"),E))},h),[(0,Bt.createVNode)("div",{class:"".concat(u,"-image"),style:T},[A]),S&&(0,Bt.createVNode)("p",{class:"".concat(u,"-description")},[S]),i.default&&(0,Bt.createVNode)("div",{class:"".concat(u,"-footer")},[(0,Db.filterEmpty)(i.default())])])}},null)};Ar.displayName="AEmpty";Ar.PRESENTED_IMAGE_DEFAULT=Nc;Ar.PRESENTED_IMAGE_SIMPLE=jc;Ar.inheritAttrs=!1;Ar.props={prefixCls:String,image:Dc.default.any,description:Dc.default.any,imageStyle:{type:Object,default:void 0}};var $b=(0,Nb.withInstall)(Ar);Gi.default=$b;var kc=re.exports;Object.defineProperty(Hi,"__esModule",{value:!0});Hi.default=void 0;var Ji=Y.exports,On=kc(Gi),Fb=kc(er),Bb=function(t){var r=(0,Fb.default)("empty",t),n=r.prefixCls,i=function(o){switch(o){case"Table":case"List":return(0,Ji.createVNode)(On.default,{image:On.default.PRESENTED_IMAGE_SIMPLE},null);case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return(0,Ji.createVNode)(On.default,{image:On.default.PRESENTED_IMAGE_SIMPLE,class:"".concat(n.value,"-small")},null);default:return(0,Ji.createVNode)(On.default,null,null)}};return i(t.componentName)};function Hb(e){return(0,Ji.createVNode)(Bb,{componentName:e},null)}var Gb=Hb;Hi.default=Gb;var Lr={},$c={},et={};Object.defineProperty(et,"__esModule",{value:!0});et.call=To;et.default=void 0;et.note=Bc;et.noteOnce=Vb;et.resetWarned=Ub;et.warning=Fc;et.warningOnce=Hc;var _o={};function Fc(e,t){}function Bc(e,t){}function Ub(){_o={}}function To(e,t,r){!t&&!_o[r]&&(e(!1,r),_o[r]=!0)}function Hc(e,t){To(Fc,e,t)}function Vb(e,t){To(Bc,e,t)}var zb=Hc;et.default=zb;(function(e){var t=ar.exports;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,Object.defineProperty(e,"resetWarned",{enumerable:!0,get:function(){return r.resetWarned}});var r=i(et);function n(o){if(typeof WeakMap!="function")return null;var a=new WeakMap,c=new WeakMap;return(n=function(u){return u?c:a})(o)}function i(o,a){if(!a&&o&&o.__esModule)return o;if(o===null||t(o)!=="object"&&typeof o!="function")return{default:o};var c=n(a);if(c&&c.has(o))return c.get(o);var l={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in o)if(p!=="default"&&Object.prototype.hasOwnProperty.call(o,p)){var f=u?Object.getOwnPropertyDescriptor(o,p):null;f&&(f.get||f.set)?Object.defineProperty(l,p,f):l[p]=o[p]}return l.default=o,c&&c.set(o,l),l}var s=function(a,c){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";(0,r.default)(a,"[antdv: ".concat(c,"] ").concat(l))};e.default=s})($c);var Gc=re.exports;Object.defineProperty(Lr,"__esModule",{value:!0});Lr.default=Lr.ANT_MARK=void 0;var Zi=Gc(He.exports),es=Y.exports,Kb=Gc($c),Wb=pt,Ro="internalMark";Lr.ANT_MARK=Ro;var ts=(0,es.defineComponent)({name:"ALocaleProvider",props:{locale:{type:Object},ANT_MARK__:String},setup:function(t,r){var n=r.slots;(0,Kb.default)(t.ANT_MARK__===Ro,"LocaleProvider","`LocaleProvider` is deprecated. Please use `locale` with `ConfigProvider` instead");var i=(0,es.reactive)({antLocale:(0,Zi.default)((0,Zi.default)({},t.locale),{exist:!0}),ANT_MARK__:Ro});return(0,es.provide)("localeData",i),(0,es.watch)(function(){return t.locale},function(){i.antLocale=(0,Zi.default)((0,Zi.default)({},t.locale),{exist:!0})},{immediate:!0}),function(){var s;return(s=n.default)===null||s===void 0?void 0:s.call(n)}}});ts.install=function(e){return e.component(ts.name,ts),e};var Yb=(0,Wb.withInstall)(ts);Lr.default=Yb;var Pr={},Uc={},Ao={};Object.defineProperty(Ao,"__esModule",{value:!0});var qb={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"};Ao.default=qb;var tt={},Lo={},de={},Vc=or(np),zc={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=[],r=[],n="insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).";function i(){var a=document.createElement("style");return a.setAttribute("type","text/css"),a}function s(a,c){if(c=c||{},a===void 0)throw new Error(n);var l=c.prepend===!0?"prepend":"append",u=c.container!==void 0?c.container:document.querySelector("head"),p=t.indexOf(u);p===-1&&(p=t.push(u)-1,r[p]={});var f;return r[p]!==void 0&&r[p][l]!==void 0?f=r[p][l]:(f=r[p][l]=i(),l==="prepend"?u.insertBefore(f,u.childNodes[0]):u.appendChild(f)),a.charCodeAt(0)===65279&&(a=a.substr(1,a.length)),f.styleSheet?f.styleSheet.cssText+=a:f.textContent+=a,f}var o=s;e.default=o})(zc);Object.defineProperty(de,"__esModule",{value:!0});de.warn=e0;de.warning=t0;de.isIconDefinition=r0;de.normalizeAttrs=n0;de.generate=xo;de.getSecondaryColor=i0;de.normalizeTwoToneColors=s0;de.useInsertStyles=de.iconStyles=de.svgBaseProps=void 0;var Po=Y.exports,Xb=Vc,Qb=Jb(zc);function Jb(e){return e&&e.__esModule?e:{default:e}}function Kc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?Object(arguments[t]):{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){Zb(e,i,r[i])})}return e}function Zb(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e0(e,t){}function t0(e,t){}function r0(e){return typeof e=="object"&&typeof e.name=="string"&&typeof e.theme=="string"&&(typeof e.icon=="object"||typeof e.icon=="function")}function n0(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(e).reduce(function(t,r){var n=e[r];switch(r){case"class":t.className=n,delete t.class;break;default:t[r]=n}return t},{})}function xo(e,t,r){return r?(0,Po.h)(e.tag,Kc({key:t},r,e.attrs),(e.children||[]).map(function(n,i){return xo(n,"".concat(t,"-").concat(e.tag,"-").concat(i))})):(0,Po.h)(e.tag,Kc({key:t},e.attrs),(e.children||[]).map(function(n,i){return xo(n,"".concat(t,"-").concat(e.tag,"-").concat(i))}))}function i0(e){return(0,Xb.generate)(e)[0]}function s0(e){return e?Array.isArray(e)?e:[e]:[]}var o0={width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",focusable:"false"};de.svgBaseProps=o0;var Wc=`
.anticon {
  display: inline-block;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`;de.iconStyles=Wc;var Yc=!1,a0=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Wc;(0,Po.nextTick)(function(){Yc||(typeof window!="undefined"&&window.document&&window.document.documentElement&&(0,Qb.default)(t,{prepend:!0}),Yc=!0)})};de.useInsertStyles=a0;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=de,r=["icon","primaryColor","secondaryColor"];function n(f,g){if(f==null)return{};var C=i(f,g),O,T;if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(f);for(T=0;T<m.length;T++)O=m[T],!(g.indexOf(O)>=0)&&(!Object.prototype.propertyIsEnumerable.call(f,O)||(C[O]=f[O]))}return C}function i(f,g){if(f==null)return{};var C={},O=Object.keys(f),T,m;for(m=0;m<O.length;m++)T=O[m],!(g.indexOf(T)>=0)&&(C[T]=f[T]);return C}function s(f){for(var g=1;g<arguments.length;g++){var C=arguments[g]!=null?Object(arguments[g]):{},O=Object.keys(C);typeof Object.getOwnPropertySymbols=="function"&&(O=O.concat(Object.getOwnPropertySymbols(C).filter(function(T){return Object.getOwnPropertyDescriptor(C,T).enumerable}))),O.forEach(function(T){o(f,T,C[T])})}return f}function o(f,g,C){return g in f?Object.defineProperty(f,g,{value:C,enumerable:!0,configurable:!0,writable:!0}):f[g]=C,f}var a={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function c(f){var g=f.primaryColor,C=f.secondaryColor;a.primaryColor=g,a.secondaryColor=C||(0,t.getSecondaryColor)(g),a.calculated=!!C}function l(){return s({},a)}var u=function(g,C){var O=s({},g,C.attrs),T=O.icon,m=O.primaryColor,M=O.secondaryColor,h=n(O,r),y=a;if(m&&(y={primaryColor:m,secondaryColor:M||(0,t.getSecondaryColor)(m)}),(0,t.useInsertStyles)(),(0,t.warning)((0,t.isIconDefinition)(T),"icon should be icon definiton, but got ".concat(T)),!(0,t.isIconDefinition)(T))return null;var b=T;return b&&typeof b.icon=="function"&&(b=s({},b,{icon:b.icon(y.primaryColor,y.secondaryColor)})),(0,t.generate)(b.icon,"svg-".concat(b.name),s({},h,{"data-icon":b.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"}))};u.props={icon:Object,primaryColor:String,secondaryColor:String,focusable:String},u.inheritAttrs=!1,u.displayName="IconBase",u.getTwoToneColors=l,u.setTwoToneColors=c;var p=u;e.default=p})(Lo);var rs={};Object.defineProperty(rs,"__esModule",{value:!0});rs.setTwoToneColor=m0;rs.getTwoToneColor=g0;var qc=c0(Lo),l0=de;function c0(e){return e&&e.__esModule?e:{default:e}}function u0(e,t){return h0(e)||f0(e,t)||d0(e,t)||p0()}function p0(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d0(e,t){if(!!e){if(typeof e=="string")return Xc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xc(e,t)}}function Xc(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f0(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,s=!1,o,a;try{for(r=r.call(e);!(i=(o=r.next()).done)&&(n.push(o.value),!(t&&n.length===t));i=!0);}catch(c){s=!0,a=c}finally{try{!i&&r.return!=null&&r.return()}finally{if(s)throw a}}return n}}function h0(e){if(Array.isArray(e))return e}function m0(e){var t=(0,l0.normalizeTwoToneColors)(e),r=u0(t,2),n=r[0],i=r[1];return qc.default.setTwoToneColors({primaryColor:n,secondaryColor:i})}function g0(){var e=qc.default.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=Y.exports,r=o(Lo),n=rs,i=de,s=["class","icon","spin","rotate","tabindex","twoToneColor","onClick"];function o(h){return h&&h.__esModule?h:{default:h}}function a(h,y){return f(h)||p(h,y)||l(h,y)||c()}function c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l(h,y){if(!!h){if(typeof h=="string")return u(h,y);var b=Object.prototype.toString.call(h).slice(8,-1);if(b==="Object"&&h.constructor&&(b=h.constructor.name),b==="Map"||b==="Set")return Array.from(h);if(b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return u(h,y)}}function u(h,y){(y==null||y>h.length)&&(y=h.length);for(var b=0,E=new Array(y);b<y;b++)E[b]=h[b];return E}function p(h,y){var b=h==null?null:typeof Symbol!="undefined"&&h[Symbol.iterator]||h["@@iterator"];if(b!=null){var E=[],S=!0,w=!1,A,I;try{for(b=b.call(h);!(S=(A=b.next()).done)&&(E.push(A.value),!(y&&E.length===y));S=!0);}catch(F){w=!0,I=F}finally{try{!S&&b.return!=null&&b.return()}finally{if(w)throw I}}return E}}function f(h){if(Array.isArray(h))return h}function g(h){for(var y=1;y<arguments.length;y++){var b=arguments[y]!=null?Object(arguments[y]):{},E=Object.keys(b);typeof Object.getOwnPropertySymbols=="function"&&(E=E.concat(Object.getOwnPropertySymbols(b).filter(function(S){return Object.getOwnPropertyDescriptor(b,S).enumerable}))),E.forEach(function(S){C(h,S,b[S])})}return h}function C(h,y,b){return y in h?Object.defineProperty(h,y,{value:b,enumerable:!0,configurable:!0,writable:!0}):h[y]=b,h}function O(h,y){if(h==null)return{};var b=T(h,y),E,S;if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(h);for(S=0;S<w.length;S++)E=w[S],!(y.indexOf(E)>=0)&&(!Object.prototype.propertyIsEnumerable.call(h,E)||(b[E]=h[E]))}return b}function T(h,y){if(h==null)return{};var b={},E=Object.keys(h),S,w;for(w=0;w<E.length;w++)S=E[w],!(y.indexOf(S)>=0)&&(b[S]=h[S]);return b}(0,n.setTwoToneColor)("#1890ff");var m=function(y,b){var E,S=g({},y,b.attrs),w=S.class,A=S.icon,I=S.spin,F=S.rotate,H=S.tabindex,Z=S.twoToneColor,te=S.onClick,Ke=O(S,s),fe=(E={anticon:!0},C(E,"anticon-".concat(A.name),Boolean(A.name)),C(E,w,w),E),We=I===""||!!I||A.name==="loading"?"anticon-spin":"",rt=H;rt===void 0&&te&&(rt=-1,Ke.tabindex=rt);var Gt=F?{msTransform:"rotate(".concat(F,"deg)"),transform:"rotate(".concat(F,"deg)")}:void 0,Dr=(0,i.normalizeTwoToneColors)(Z),rr=a(Dr,2),Nr=rr[0],nr=rr[1];return(0,t.createVNode)("span",g({role:"img","aria-label":A.name},Ke,{onClick:te,class:fe}),[(0,t.createVNode)(r.default,{class:We,icon:A,primaryColor:Nr,secondaryColor:nr,style:Gt},null)])};m.props={spin:Boolean,rotate:Number,icon:Object,twoToneColor:String},m.displayName="AntdIcon",m.inheritAttrs=!1,m.getTwoToneColor=n.getTwoToneColor,m.setTwoToneColor=n.setTwoToneColor;var M=m;e.default=M})(tt);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=Y.exports,r=i(Ao),n=i(tt);function i(l){return l&&l.__esModule?l:{default:l}}function s(l){for(var u=1;u<arguments.length;u++){var p=arguments[u]!=null?Object(arguments[u]):{},f=Object.keys(p);typeof Object.getOwnPropertySymbols=="function"&&(f=f.concat(Object.getOwnPropertySymbols(p).filter(function(g){return Object.getOwnPropertyDescriptor(p,g).enumerable}))),f.forEach(function(g){o(l,g,p[g])})}return l}function o(l,u,p){return u in l?Object.defineProperty(l,u,{value:p,enumerable:!0,configurable:!0,writable:!0}):l[u]=p,l}var a=function(u,p){var f=s({},u,p.attrs);return(0,t.createVNode)(n.default,s({},f,{icon:r.default}),null)};a.displayName="CheckCircleOutlined",a.inheritAttrs=!1;var c=a;e.default=c})(Uc);var Qc={},Io={};Object.defineProperty(Io,"__esModule",{value:!0});var y0={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"};Io.default=y0;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=Y.exports,r=i(Io),n=i(tt);function i(l){return l&&l.__esModule?l:{default:l}}function s(l){for(var u=1;u<arguments.length;u++){var p=arguments[u]!=null?Object(arguments[u]):{},f=Object.keys(p);typeof Object.getOwnPropertySymbols=="function"&&(f=f.concat(Object.getOwnPropertySymbols(p).filter(function(g){return Object.getOwnPropertyDescriptor(p,g).enumerable}))),f.forEach(function(g){o(l,g,p[g])})}return l}function o(l,u,p){return u in l?Object.defineProperty(l,u,{value:p,enumerable:!0,configurable:!0,writable:!0}):l[u]=p,l}var a=function(u,p){var f=s({},u,p.attrs);return(0,t.createVNode)(n.default,s({},f,{icon:r.default}),null)};a.displayName="InfoCircleOutlined",a.inheritAttrs=!1;var c=a;e.default=c})(Qc);var Jc={},Do={};Object.defineProperty(Do,"__esModule",{value:!0});var v0={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"}},{tag:"path",attrs:{d:"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"close-circle",theme:"outlined"};Do.default=v0;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=Y.exports,r=i(Do),n=i(tt);function i(l){return l&&l.__esModule?l:{default:l}}function s(l){for(var u=1;u<arguments.length;u++){var p=arguments[u]!=null?Object(arguments[u]):{},f=Object.keys(p);typeof Object.getOwnPropertySymbols=="function"&&(f=f.concat(Object.getOwnPropertySymbols(p).filter(function(g){return Object.getOwnPropertyDescriptor(p,g).enumerable}))),f.forEach(function(g){o(l,g,p[g])})}return l}function o(l,u,p){return u in l?Object.defineProperty(l,u,{value:p,enumerable:!0,configurable:!0,writable:!0}):l[u]=p,l}var a=function(u,p){var f=s({},u,p.attrs);return(0,t.createVNode)(n.default,s({},f,{icon:r.default}),null)};a.displayName="CloseCircleOutlined",a.inheritAttrs=!1;var c=a;e.default=c})(Jc);var Zc={},No={};Object.defineProperty(No,"__esModule",{value:!0});var b0={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"};No.default=b0;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=Y.exports,r=i(No),n=i(tt);function i(l){return l&&l.__esModule?l:{default:l}}function s(l){for(var u=1;u<arguments.length;u++){var p=arguments[u]!=null?Object(arguments[u]):{},f=Object.keys(p);typeof Object.getOwnPropertySymbols=="function"&&(f=f.concat(Object.getOwnPropertySymbols(p).filter(function(g){return Object.getOwnPropertyDescriptor(p,g).enumerable}))),f.forEach(function(g){o(l,g,p[g])})}return l}function o(l,u,p){return u in l?Object.defineProperty(l,u,{value:p,enumerable:!0,configurable:!0,writable:!0}):l[u]=p,l}var a=function(u,p){var f=s({},u,p.attrs);return(0,t.createVNode)(n.default,s({},f,{icon:r.default}),null)};a.displayName="ExclamationCircleOutlined",a.inheritAttrs=!1;var c=a;e.default=c})(Zc);var eu={},jo={};Object.defineProperty(jo,"__esModule",{value:!0});var E0={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"};jo.default=E0;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=Y.exports,r=i(jo),n=i(tt);function i(l){return l&&l.__esModule?l:{default:l}}function s(l){for(var u=1;u<arguments.length;u++){var p=arguments[u]!=null?Object(arguments[u]):{},f=Object.keys(p);typeof Object.getOwnPropertySymbols=="function"&&(f=f.concat(Object.getOwnPropertySymbols(p).filter(function(g){return Object.getOwnPropertyDescriptor(p,g).enumerable}))),f.forEach(function(g){o(l,g,p[g])})}return l}function o(l,u,p){return u in l?Object.defineProperty(l,u,{value:p,enumerable:!0,configurable:!0,writable:!0}):l[u]=p,l}var a=function(u,p){var f=s({},u,p.attrs);return(0,t.createVNode)(n.default,s({},f,{icon:r.default}),null)};a.displayName="CloseOutlined",a.inheritAttrs=!1;var c=a;e.default=c})(eu);var dt=re.exports;Object.defineProperty(Pr,"__esModule",{value:!0});Pr.getInstance=Pr.default=void 0;var wt=Y.exports,tu=dt(ip),ru=dt(He.exports),C0=dt(Zt.exports),M0=dt(vn),S0=dt(Uc),w0=dt(Qc),O0=dt(Jc),_0=dt(Zc),T0=dt(eu),_n=K,R0=Ie,A0=dt($t),L0=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(p){o(p)}}function c(u){try{l(n.throw(u))}catch(p){o(p)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(e,t||[])).next())})},tr={},nu=4.5,iu="24px",su="24px",ko="",ou="topRight",au=function(){return document.body},lu=null,$o=!1,cu;function P0(e){var t=e.duration,r=e.placement,n=e.bottom,i=e.top,s=e.getContainer,o=e.closeIcon,a=e.prefixCls;a!==void 0&&(ko=a),t!==void 0&&(nu=t),r!==void 0&&(ou=r),n!==void 0&&(su=typeof n=="number"?"".concat(n,"px"):n),i!==void 0&&(iu=typeof i=="number"?"".concat(i,"px"):i),s!==void 0&&(au=s),o!==void 0&&(lu=o),e.rtl!==void 0&&($o=e.rtl),e.maxCount!==void 0&&(cu=e.maxCount)}function x0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:iu,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:su,n;switch(e){case"topLeft":n={left:"0px",top:t,bottom:"auto"};break;case"topRight":n={right:"0px",top:t,bottom:"auto"};break;case"bottomLeft":n={left:"0px",top:"auto",bottom:r};break;default:n={right:"0px",top:"auto",bottom:r};break}return n}function I0(e,t){var r=e.prefixCls,n=e.placement,i=n===void 0?ou:n,s=e.getContainer,o=s===void 0?au:s,a=e.top,c=e.bottom,l=e.closeIcon,u=l===void 0?lu:l,p=e.appContext,f=(0,R0.globalConfig)(),g=f.getPrefixCls,C=g("notification",r||ko),O="".concat(C,"-").concat(i,"-").concat($o),T=tr[O];if(T){Promise.resolve(T).then(function(M){t(M)});return}var m=(0,A0.default)("".concat(C,"-").concat(i),(0,C0.default)({},"".concat(C,"-rtl"),$o===!0));M0.default.newInstance({name:"notification",prefixCls:r||ko,class:m,style:x0(i,a,c),appContext:p,getContainer:o,closeIcon:function(h){var y=h.prefixCls,b=(0,wt.createVNode)("span",{class:"".concat(y,"-close-x")},[(0,_n.renderHelper)(u,{},(0,wt.createVNode)(T0.default,{class:"".concat(y,"-close-icon")},null))]);return b},maxCount:cu,hasTransitionName:!0},function(M){tr[O]=M,t(M)})}var D0={success:S0.default,info:w0.default,error:O0.default,warning:_0.default};function N0(e){var t=e.icon,r=e.type,n=e.description,i=e.message,s=e.btn,o=e.duration===void 0?nu:e.duration;I0(e,function(a){a.notice({content:function(l){var u=l.prefixCls,p="".concat(u,"-notice"),f=null;if(t)f=function(){return(0,wt.createVNode)("span",{class:"".concat(p,"-icon")},[(0,_n.renderHelper)(t)])};else if(r){var g=D0[r];f=function(){return(0,wt.createVNode)(g,{class:"".concat(p,"-icon ").concat(p,"-icon-").concat(r)},null)}}return(0,wt.createVNode)("div",{class:f?"".concat(p,"-with-icon"):""},[f&&f(),(0,wt.createVNode)("div",{class:"".concat(p,"-message")},[!n&&f?(0,wt.createVNode)("span",{class:"".concat(p,"-message-single-line-auto-margin")},null):null,(0,_n.renderHelper)(i)]),(0,wt.createVNode)("div",{class:"".concat(p,"-description")},[(0,_n.renderHelper)(n)]),s?(0,wt.createVNode)("span",{class:"".concat(p,"-btn")},[(0,_n.renderHelper)(s)]):null])},duration:o,closable:!0,onClose:e.onClose,onClick:e.onClick,key:e.key,style:e.style||{},class:e.class})})}var Tn={open:N0,close:function(t){Object.keys(tr).forEach(function(r){return Promise.resolve(tr[r]).then(function(n){n.removeNotice(t)})})},config:P0,destroy:function(){Object.keys(tr).forEach(function(t){Promise.resolve(tr[t]).then(function(r){r.destroy()}),delete tr[t]})}},j0=["success","info","warning","error"];j0.forEach(function(e){Tn[e]=function(t){return Tn.open((0,ru.default)((0,ru.default)({},t),{type:e}))}});Tn.warn=Tn.warning;var k0=function(t){return L0(void 0,void 0,void 0,tu.default.mark(function r(){return tu.default.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",null);case 1:case"end":return i.stop()}},r)}))};Pr.getInstance=k0;var $0=Tn;Pr.default=$0;var Fo={},F0=or(sp),Rn={},An={};Object.defineProperty(An,"__esModule",{value:!0});An.default=void 0;function B0(){return!!(typeof window!="undefined"&&window.document&&window.document.createElement)}var H0=B0;An.default=H0;var G0=re.exports;Object.defineProperty(Rn,"__esModule",{value:!0});Rn.injectCSS=Ho;Rn.removeCSS=z0;Rn.updateCSS=K0;var U0=G0(An),V0="vc-util-key";function uu(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.mark;return t?t.startsWith("data-")?t:"data-".concat(t):V0}function Bo(e){if(e.attachTo)return e.attachTo;var t=document.querySelector("head");return t||document.body}function Ho(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,n;if(!(0,U0.default)())return null;var i=document.createElement("style");((r=t.csp)===null||r===void 0?void 0:r.nonce)&&(i.nonce=(n=t.csp)===null||n===void 0?void 0:n.nonce),i.innerHTML=e;var s=Bo(t),o=s.firstChild;return t.prepend&&s.prepend?s.prepend(i):t.prepend&&o?s.insertBefore(i,o):s.appendChild(i),i}var Go=new Map;function pu(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=Bo(t);return Array.from(Go.get(r).children).find(function(n){return n.tagName==="STYLE"&&n.getAttribute(uu(t))===e})}function z0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,n=pu(e,t);(r=n==null?void 0:n.parentNode)===null||r===void 0||r.removeChild(n)}function K0(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n,i,s,o=Bo(r);if(!Go.has(o)){var a=Ho("",r),c=a.parentNode;Go.set(o,c),c.removeChild(a)}var l=pu(t,r);if(l)return((n=r.csp)===null||n===void 0?void 0:n.nonce)&&l.nonce!==((i=r.csp)===null||i===void 0?void 0:i.nonce)&&(l.nonce=(s=r.csp)===null||s===void 0?void 0:s.nonce),l.innerHTML!==e&&(l.innerHTML=e),l;var u=Ho(e,r);return u.setAttribute(uu(r),t),u}var du={};(function(e){var t=ar.exports;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,Object.defineProperty(e,"resetWarned",{enumerable:!0,get:function(){return r.resetWarned}});var r=i(et);function n(o){if(typeof WeakMap!="function")return null;var a=new WeakMap,c=new WeakMap;return(n=function(u){return u?c:a})(o)}function i(o,a){if(!a&&o&&o.__esModule)return o;if(o===null||t(o)!=="object"&&typeof o!="function")return{default:o};var c=n(a);if(c&&c.has(o))return c.get(o);var l={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in o)if(p!=="default"&&Object.prototype.hasOwnProperty.call(o,p)){var f=u?Object.getOwnPropertyDescriptor(o,p):null;f&&(f.get||f.set)?Object.defineProperty(l,p,f):l[p]=o[p]}return l.default=o,c&&c.set(o,l),l}var s=function(a,c,l){(0,r.default)(a,"[ant-design-vue: ".concat(c,"] ").concat(l))};e.default=s})(du);var fu=re.exports;Object.defineProperty(Fo,"__esModule",{value:!0});Fo.registerTheme=Q0;var Uo=F0,hu=Vc,W0=Rn,Y0=fu(An),q0=fu(du),X0="-ant-".concat(Date.now(),"-").concat(Math.random());function Q0(e,t){var r={},n=function(u,p){var f=u.clone();return f=(p==null?void 0:p(f))||f,f.toRgbString()},i=function(u,p){var f=new Uo.TinyColor(u),g=(0,hu.generate)(f.toRgbString());r["".concat(p,"-color")]=n(f),r["".concat(p,"-color-disabled")]=g[1],r["".concat(p,"-color-hover")]=g[4],r["".concat(p,"-color-active")]=g[7],r["".concat(p,"-color-outline")]=f.clone().setAlpha(.2).toRgbString(),r["".concat(p,"-color-deprecated-bg")]=g[1],r["".concat(p,"-color-deprecated-border")]=g[3]};if(t.primaryColor){i(t.primaryColor,"primary");var s=new Uo.TinyColor(t.primaryColor),o=(0,hu.generate)(s.toRgbString());o.forEach(function(l,u){r["primary-".concat(u+1)]=l}),r["primary-color-deprecated-l-35"]=n(s,function(l){return l.lighten(35)}),r["primary-color-deprecated-l-20"]=n(s,function(l){return l.lighten(20)}),r["primary-color-deprecated-t-20"]=n(s,function(l){return l.tint(20)}),r["primary-color-deprecated-t-50"]=n(s,function(l){return l.tint(50)}),r["primary-color-deprecated-f-12"]=n(s,function(l){return l.setAlpha(l.getAlpha()*.12)});var a=new Uo.TinyColor(o[0]);r["primary-color-active-deprecated-f-30"]=n(a,function(l){return l.setAlpha(l.getAlpha()*.3)}),r["primary-color-active-deprecated-d-02"]=n(a,function(l){return l.darken(2)})}t.successColor&&i(t.successColor,"success"),t.warningColor&&i(t.warningColor,"warning"),t.errorColor&&i(t.errorColor,"error"),t.infoColor&&i(t.infoColor,"info");var c=Object.keys(r).map(function(l){return"--".concat(e,"-").concat(l,": ").concat(r[l],";")});(0,Y0.default)()?(0,W0.updateCSS)(`
  :root {
    `.concat(c.join(`
`),`
  }
  `),"".concat(X0,"-dynamic-theme")):(0,q0.default)(!1,"ConfigProvider","SSR do not support dynamic theme with css variables.")}var Ue={};Object.defineProperty(Ue,"__esModule",{value:!0});Ue.useProvideGlobalForm=Ue.useInjectGlobalForm=Ue.configProviderProps=Ue.GlobalFormContextKey=Ue.GlobalConfigContextKey=void 0;var mu=Y.exports,Vo=Symbol("GlobalFormContextKey");Ue.GlobalFormContextKey=Vo;var J0=function(t){(0,mu.provide)(Vo,t)};Ue.useProvideGlobalForm=J0;var Z0=function(){return(0,mu.inject)(Vo,{})};Ue.useInjectGlobalForm=Z0;var eE=Symbol("GlobalConfigContextKey");Ue.GlobalConfigContextKey=eE;var tE=function(){return{getTargetContainer:{type:Function},getPopupContainer:{type:Function},prefixCls:String,getPrefixCls:{type:Function},renderEmpty:{type:Function},transformCellText:{type:Function},csp:{type:Object,default:void 0},input:{type:Object},autoInsertSpaceInButton:{type:Boolean,default:void 0},locale:{type:Object,default:void 0},pageHeader:{type:Object},componentSize:{type:String},direction:{type:String},space:{type:Object},virtual:{type:Boolean,default:void 0},dropdownMatchSelectWidth:{type:[Number,Boolean],default:!0},form:{type:Object,default:void 0},notUpdateGlobalConfig:Boolean}};Ue.configProviderProps=tE;var xr=re.exports,rE=ar.exports;Object.defineProperty(Ie,"__esModule",{value:!0});Ie.globalConfigForApi=Ie.globalConfig=Ie.defaultPrefixCls=Ie.defaultConfigProvider=Ie.default=void 0;var Ee=Y.exports,Ht=xr(He.exports),gu=xr(Hi),yu=lE(Lr),nE=xr(Tr),iE=xr(Nt),sE=xr(Pr),oE=Fo,aE=xr(bn),vu=Ue;function bu(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(bu=function(i){return i?r:t})(e)}function lE(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||rE(e)!=="object"&&typeof e!="function")return{default:e};var r=bu(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}var Eu="ant";Ie.defaultPrefixCls=Eu;function Ir(){return Ve.prefixCls||Eu}var zo=(0,Ee.reactive)({}),Cu=(0,Ee.reactive)({}),Ve=(0,Ee.reactive)({});Ie.globalConfigForApi=Ve;(0,Ee.watchEffect)(function(){(0,Ht.default)(Ve,zo,Cu),Ve.prefixCls=Ir(),Ve.getPrefixCls=function(e,t){return t||(e?"".concat(Ve.prefixCls,"-").concat(e):Ve.prefixCls)},Ve.getRootPrefixCls=function(e,t){return e||(Ve.prefixCls?Ve.prefixCls:t&&t.includes("-")?t.replace(/^(.*)-[^-]*$/,"$1"):Ir())}});var Ko,cE=function(t){Ko&&Ko(),Ko=(0,Ee.watchEffect)(function(){(0,Ht.default)(Cu,(0,Ee.reactive)(t))}),t.theme&&(0,oE.registerTheme)(Ir(),t.theme)},uE=function(){return{getPrefixCls:function(r,n){return n||(r?"".concat(Ir(),"-").concat(r):Ir())},getRootPrefixCls:function(r,n){return r||(Ve.prefixCls?Ve.prefixCls:n&&n.includes("-")?n.replace(/^(.*)-[^-]*$/,"$1"):Ir())}}};Ie.globalConfig=uE;var Ln=(0,Ee.defineComponent)({name:"AConfigProvider",inheritAttrs:!1,props:(0,vu.configProviderProps)(),setup:function(t,r){var n=r.slots,i=function(p,f){var g=t.prefixCls,C=g===void 0?"ant":g;return f||(p?"".concat(C,"-").concat(p):C)},s=function(p){var f=t.renderEmpty||n.renderEmpty||gu.default;return f(p)},o=function(p,f){var g=t.prefixCls;if(f)return f;var C=g||i("");return p?"".concat(C,"-").concat(p):C},a=(0,Ee.reactive)((0,Ht.default)((0,Ht.default)({},t),{getPrefixCls:o,renderEmpty:s}));Object.keys(t).forEach(function(u){(0,Ee.watch)(function(){return t[u]},function(){a[u]=t[u]})}),t.notUpdateGlobalConfig||((0,Ht.default)(zo,a),(0,Ee.watch)(a,function(){(0,Ht.default)(zo,a)}));var c=(0,Ee.computed)(function(){var u,p,f={};return t.locale&&(f=((u=t.locale.Form)===null||u===void 0?void 0:u.defaultValidateMessages)||((p=aE.default.Form)===null||p===void 0?void 0:p.defaultValidateMessages)||{}),t.form&&t.form.validateMessages&&(f=(0,Ht.default)((0,Ht.default)({},f),t.form.validateMessages)),f});(0,vu.useProvideGlobalForm)({validateMessages:c}),(0,Ee.provide)("configProvider",a);var l=function(p){var f;return(0,Ee.createVNode)(yu.default,{locale:t.locale||p,ANT_MARK__:yu.ANT_MARK},{default:function(){return[(f=n.default)===null||f===void 0?void 0:f.call(n)]}})};return(0,Ee.watchEffect)(function(){t.direction&&(iE.default.config({rtl:t.direction==="rtl"}),sE.default.config({rtl:t.direction==="rtl"}))}),function(){return(0,Ee.createVNode)(nE.default,{children:function(p,f,g){return l(g)}},null)}}}),pE=(0,Ee.reactive)({getPrefixCls:function(t,r){return r||(t?"ant-".concat(t):"ant")},renderEmpty:gu.default,direction:"ltr"});Ie.defaultConfigProvider=pE;Ln.config=cE;Ln.install=function(e){e.component(Ln.name,Ln)};var dE=Ln;Ie.default=dE;var ns=re.exports,fE=ar.exports;Object.defineProperty(Ni,"__esModule",{value:!0});Ni.default=void 0;var Ce=Y.exports,Pn=ns(ji.exports),Mu=ns(Zt.exports),xn=ns(He.exports),hE=ue,mE=ns($i),Su=gE(Ie);function wu(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(wu=function(i){return i?r:t})(e)}function gE(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||fE(e)!=="object"&&typeof e!="function")return{default:e};var r=wu(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}var yE=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},Ou=0,vE=Date.now();function _u(){var e=Ou;return Ou+=1,"rcNotification_".concat(vE,"_").concat(e)}var Wo=(0,Ce.defineComponent)({name:"Notification",inheritAttrs:!1,props:["prefixCls","transitionName","animation","maxCount","closeIcon"],setup:function(t,r){var n=r.attrs,i=r.expose,s=r.slots,o=new Map,a=(0,Ce.ref)([]),c=(0,Ce.computed)(function(){var p=t.prefixCls,f=t.animation,g=f===void 0?"fade":f,C=t.transitionName;return!C&&g&&(C="".concat(p,"-").concat(g)),(0,hE.getTransitionGroupProps)(C)}),l=function(f,g){var C=f.key||_u(),O=(0,xn.default)((0,xn.default)({},f),{key:C}),T=t.maxCount,m=a.value.map(function(h){return h.notice.key}).indexOf(C),M=a.value.concat();m!==-1?M.splice(m,1,{notice:O,holderCallback:g}):(T&&a.value.length>=T&&(O.key=M[0].notice.key,O.updateMark=_u(),O.userPassKey=C,M.shift()),M.push({notice:O,holderCallback:g})),a.value=M},u=function(f){a.value=a.value.filter(function(g){var C=g.notice,O=C.key,T=C.userPassKey,m=T||O;return m!==f})};return i({add:l,remove:u,notices:a}),function(){var p,f,g=t.prefixCls,C=t.closeIcon,O=C===void 0?(f=s.closeIcon)===null||f===void 0?void 0:f.call(s,{prefixCls:g}):C,T=a.value.map(function(M,h){var y=M.notice,b=M.holderCallback,E=h===a.value.length-1?y.updateMark:void 0,S=y.key,w=y.userPassKey,A=y.content,I=(0,xn.default)((0,xn.default)((0,xn.default)({prefixCls:g,closeIcon:typeof O=="function"?O({prefixCls:g}):O},y),y.props),{key:S,noticeKey:w||S,updateMark:E,onClose:function(H){var Z;u(H),(Z=y.onClose)===null||Z===void 0||Z.call(y)},onClick:y.onClick});return b?(0,Ce.createVNode)("div",{key:S,class:"".concat(g,"-hook-holder"),ref:function(H){typeof S!="undefined"&&(H?(o.set(S,H),b(H,I)):o.delete(S))}},null):(0,Ce.createVNode)(mE.default,I,{default:function(){return[typeof A=="function"?A({prefixCls:g}):A]}})}),m=(p={},(0,Mu.default)(p,g,1),(0,Mu.default)(p,n.class,!!n.class),p);return(0,Ce.createVNode)("div",{class:m,style:n.style||{top:"65px",left:"50%"}},[(0,Ce.createVNode)(Ce.TransitionGroup,(0,Pn.default)({tag:"div"},c.value),{default:function(){return[T]}})])}}});Wo.newInstance=function(t,r){var n=t||{},i=n.name,s=i===void 0?"notification":i,o=n.getContainer,a=n.appContext,c=n.prefixCls,l=n.rootPrefixCls,u=n.transitionName,p=n.hasTransitionName,f=yE(n,["name","getContainer","appContext","prefixCls","rootPrefixCls","transitionName","hasTransitionName"]),g=document.createElement("div");if(o){var C=o();C.appendChild(g)}else document.body.appendChild(g);var O=(0,Ce.defineComponent)({name:"NotificationWrapper",setup:function(M,h){var y=h.attrs,b=(0,Ce.ref)();return(0,Ce.onMounted)(function(){r({notice:function(S){var w;(w=b.value)===null||w===void 0||w.add(S)},removeNotice:function(S){var w;(w=b.value)===null||w===void 0||w.remove(S)},destroy:function(){(0,Ce.render)(null,g),g.parentNode&&g.parentNode.removeChild(g)},component:b})}),function(){var E=Su.globalConfigForApi,S=E.getPrefixCls(s,c),w=E.getRootPrefixCls(l,S),A=p?u:"".concat(w,"-").concat(u);return(0,Ce.createVNode)(Su.default,(0,Pn.default)((0,Pn.default)({},E),{},{notUpdateGlobalConfig:!0,prefixCls:w}),{default:function(){return[(0,Ce.createVNode)(Wo,(0,Pn.default)((0,Pn.default)({ref:b},y),{},{prefixCls:S,transitionName:A}),null)]}})}}}),T=(0,Ce.createVNode)(O,f);T.appContext=a||T.appContext,(0,Ce.render)(T,g)};var bE=Wo;Ni.default=bE;var EE=re.exports;Object.defineProperty(vn,"__esModule",{value:!0});vn.default=void 0;var CE=EE(Ni),ME=CE.default;vn.default=ME;var Tu={},Yo={};Object.defineProperty(Yo,"__esModule",{value:!0});var SE={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"};Yo.default=SE;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=Y.exports,r=i(Yo),n=i(tt);function i(l){return l&&l.__esModule?l:{default:l}}function s(l){for(var u=1;u<arguments.length;u++){var p=arguments[u]!=null?Object(arguments[u]):{},f=Object.keys(p);typeof Object.getOwnPropertySymbols=="function"&&(f=f.concat(Object.getOwnPropertySymbols(p).filter(function(g){return Object.getOwnPropertyDescriptor(p,g).enumerable}))),f.forEach(function(g){o(l,g,p[g])})}return l}function o(l,u,p){return u in l?Object.defineProperty(l,u,{value:p,enumerable:!0,configurable:!0,writable:!0}):l[u]=p,l}var a=function(u,p){var f=s({},u,p.attrs);return(0,t.createVNode)(n.default,s({},f,{icon:r.default}),null)};a.displayName="LoadingOutlined",a.inheritAttrs=!1;var c=a;e.default=c})(Tu);var Ru={},qo={};Object.defineProperty(qo,"__esModule",{value:!0});var wE={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"};qo.default=wE;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=Y.exports,r=i(qo),n=i(tt);function i(l){return l&&l.__esModule?l:{default:l}}function s(l){for(var u=1;u<arguments.length;u++){var p=arguments[u]!=null?Object(arguments[u]):{},f=Object.keys(p);typeof Object.getOwnPropertySymbols=="function"&&(f=f.concat(Object.getOwnPropertySymbols(p).filter(function(g){return Object.getOwnPropertyDescriptor(p,g).enumerable}))),f.forEach(function(g){o(l,g,p[g])})}return l}function o(l,u,p){return u in l?Object.defineProperty(l,u,{value:p,enumerable:!0,configurable:!0,writable:!0}):l[u]=p,l}var a=function(u,p){var f=s({},u,p.attrs);return(0,t.createVNode)(n.default,s({},f,{icon:r.default}),null)};a.displayName="ExclamationCircleFilled",a.inheritAttrs=!1;var c=a;e.default=c})(Ru);var Au={},Xo={};Object.defineProperty(Xo,"__esModule",{value:!0});var OE={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"}}]},name:"close-circle",theme:"filled"};Xo.default=OE;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=Y.exports,r=i(Xo),n=i(tt);function i(l){return l&&l.__esModule?l:{default:l}}function s(l){for(var u=1;u<arguments.length;u++){var p=arguments[u]!=null?Object(arguments[u]):{},f=Object.keys(p);typeof Object.getOwnPropertySymbols=="function"&&(f=f.concat(Object.getOwnPropertySymbols(p).filter(function(g){return Object.getOwnPropertyDescriptor(p,g).enumerable}))),f.forEach(function(g){o(l,g,p[g])})}return l}function o(l,u,p){return u in l?Object.defineProperty(l,u,{value:p,enumerable:!0,configurable:!0,writable:!0}):l[u]=p,l}var a=function(u,p){var f=s({},u,p.attrs);return(0,t.createVNode)(n.default,s({},f,{icon:r.default}),null)};a.displayName="CloseCircleFilled",a.inheritAttrs=!1;var c=a;e.default=c})(Au);var Lu={},Qo={};Object.defineProperty(Qo,"__esModule",{value:!0});var _E={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};Qo.default=_E;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=Y.exports,r=i(Qo),n=i(tt);function i(l){return l&&l.__esModule?l:{default:l}}function s(l){for(var u=1;u<arguments.length;u++){var p=arguments[u]!=null?Object(arguments[u]):{},f=Object.keys(p);typeof Object.getOwnPropertySymbols=="function"&&(f=f.concat(Object.getOwnPropertySymbols(p).filter(function(g){return Object.getOwnPropertyDescriptor(p,g).enumerable}))),f.forEach(function(g){o(l,g,p[g])})}return l}function o(l,u,p){return u in l?Object.defineProperty(l,u,{value:p,enumerable:!0,configurable:!0,writable:!0}):l[u]=p,l}var a=function(u,p){var f=s({},u,p.attrs);return(0,t.createVNode)(n.default,s({},f,{icon:r.default}),null)};a.displayName="CheckCircleFilled",a.inheritAttrs=!1;var c=a;e.default=c})(Lu);var Pu={},Jo={};Object.defineProperty(Jo,"__esModule",{value:!0});var TE={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"};Jo.default=TE;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=Y.exports,r=i(Jo),n=i(tt);function i(l){return l&&l.__esModule?l:{default:l}}function s(l){for(var u=1;u<arguments.length;u++){var p=arguments[u]!=null?Object(arguments[u]):{},f=Object.keys(p);typeof Object.getOwnPropertySymbols=="function"&&(f=f.concat(Object.getOwnPropertySymbols(p).filter(function(g){return Object.getOwnPropertyDescriptor(p,g).enumerable}))),f.forEach(function(g){o(l,g,p[g])})}return l}function o(l,u,p){return u in l?Object.defineProperty(l,u,{value:p,enumerable:!0,configurable:!0,writable:!0}):l[u]=p,l}var a=function(u,p){var f=s({},u,p.attrs);return(0,t.createVNode)(n.default,s({},f,{icon:r.default}),null)};a.displayName="InfoCircleFilled",a.inheritAttrs=!1;var c=a;e.default=c})(Pu);var Ot=re.exports;Object.defineProperty(Nt,"__esModule",{value:!0});Nt.attachTypeApi=Uu;Nt.getInstance=Vu=Nt.default=void 0;Nt.getKeyThenIncreaseKey=Gu;var Zo=Y.exports,xu=Ot(He.exports),Iu=Ot(Zt.exports),RE=Ot(vn),AE=Ot(Tu),LE=Ot(Ru),PE=Ot(Au),xE=Ot(Lu),IE=Ot(Pu),DE=Ot($t),Du=3,Nu,Re,NE=1,ju="",ku="move-up",$u=!1,Fu=function(){return document.body},Bu,Hu=!1;function Gu(){return NE++}function jE(e){e.top!==void 0&&(Nu=e.top,Re=null),e.duration!==void 0&&(Du=e.duration),e.prefixCls!==void 0&&(ju=e.prefixCls),e.getContainer!==void 0&&(Fu=e.getContainer,Re=null),e.transitionName!==void 0&&(ku=e.transitionName,Re=null,$u=!0),e.maxCount!==void 0&&(Bu=e.maxCount,Re=null),e.rtl!==void 0&&(Hu=e.rtl)}function kE(e,t){if(Re){t(Re);return}RE.default.newInstance({appContext:e.appContext,prefixCls:e.prefixCls||ju,rootPrefixCls:e.rootPrefixCls,transitionName:ku,hasTransitionName:$u,style:{top:Nu},getContainer:Fu||e.getPopupContainer,maxCount:Bu,name:"message"},function(r){if(Re){t(Re);return}Re=r,t(r)})}var $E={info:IE.default,success:xE.default,error:PE.default,warning:LE.default,loading:AE.default};function FE(e){var t=e.duration!==void 0?e.duration:Du,r=e.key||Gu(),n=new Promise(function(s){var o=function(){return typeof e.onClose=="function"&&e.onClose(),s(!0)};kE(e,function(a){a.notice({key:r,duration:t,style:e.style||{},class:e.class,content:function(l){var u,p=l.prefixCls,f=$E[e.type],g=f?(0,Zo.createVNode)(f,null,null):"",C=(0,DE.default)("".concat(p,"-custom-content"),(u={},(0,Iu.default)(u,"".concat(p,"-").concat(e.type),e.type),(0,Iu.default)(u,"".concat(p,"-rtl"),Hu===!0),u));return(0,Zo.createVNode)("div",{class:C},[typeof e.icon=="function"?e.icon():e.icon||g,(0,Zo.createVNode)("span",null,[typeof e.content=="function"?e.content():e.content])])},onClose:o,onClick:e.onClick})})}),i=function(){Re&&Re.removeNotice(r)};return i.then=function(s,o){return n.then(s,o)},i.promise=n,i}function BE(e){return Object.prototype.toString.call(e)==="[object Object]"&&!!e.content}var is={open:FE,config:jE,destroy:function(t){if(Re)if(t){var r=Re,n=r.removeNotice;n(t)}else{var i=Re,s=i.destroy;s(),Re=null}}};function Uu(e,t){e[t]=function(r,n,i){return BE(r)?e.open((0,xu.default)((0,xu.default)({},r),{type:t})):(typeof n=="function"&&(i=n,n=void 0),e.open({content:r,duration:n,type:t,onClose:i}))}}["success","info","warning","error","loading"].forEach(function(e){return Uu(is,e)});is.warn=is.warning;var HE=function(){return null};Nt.getInstance=HE;var GE=is,Vu=Nt.default=GE;const ze=new Lm;ze.loaderManager.setPath("/vis-three/");const ss=la("\u6B63\u5728\u52A0\u8F7D3D\u8D44\u6E90\uFF1A0%");let ea;ze.loaderManager.addEventListener("beforeLoad",()=>{ss.value="\u6B63\u5728\u52A0\u8F7D3D\u8D44\u6E90\uFF1A0%",ea=Vu.loading({content:()=>ss.value,duration:0})});ze.loaderManager.addEventListener("loading",e=>{ss.value=`\u6B63\u5728\u52A0\u8F7D3D\u8D44\u6E90\uFF1A${parseInt((e.loadSuccess/e.loadTotal*100).toString())}
    %`});ze.loaderManager.addEventListener("loaded",e=>{ea&&ea(),ss.value="\u6B63\u5728\u52A0\u8F7D3D\u8D44\u6E90\uFF1A0%"});(async()=>{$.injectEngine=ze,$.injectScene=!0,$(v.WEBGLRENDERER,{clearColor:"rgba(10, 2, 10, 1)",physicallyCorrectLights:!0,toneMapping:Xp,toneMappingExposure:3}),$(v.ORBITCONTROLS,{autoRotate:!0,autoRotateSpeed:.5,enableDamping:!0,maxDistance:200,minDistance:100,enablePan:!1});const e=$(v.SCENE);ze.setScene(e.vid);const t=$(v.PERSPECTIVECAMERA,{far:1e4,near:.01,position:{x:90,y:-90,z:100}});ze.setCamera(t.vid).setSize();const r=await ze.loadResourcesAsync(["/model/three.obj","/model/vis.obj","/texture/vis/colorMap.png","/skyBox/lightblue/px.png","/skyBox/lightblue/py.png","/skyBox/lightblue/pz.png","/skyBox/lightblue/nx.png","/skyBox/lightblue/ny.png","/skyBox/lightblue/nz.png"]),n=$(v.CUBETEXTURE,{cube:{px:"/skyBox/lightblue/px.png",py:"/skyBox/lightblue/py.png",pz:"/skyBox/lightblue/pz.png",nx:"/skyBox/lightblue/nx.png",ny:"/skyBox/lightblue/ny.png",nz:"/skyBox/lightblue/nz.png"}});e.background=n.vid,e.environment=n.vid,$(v.AMBIENTLIGHT,{intensity:1}),$(v.DIRECTIONALLIGHT,{color:"rgb(255, 255, 255)",position:{x:-10,y:40,z:20},intensity:1e3*4*Math.PI}),$(v.DIRECTIONALLIGHT,{color:"rgb(255, 255, 255)",position:{x:10,y:40,z:-20},intensity:1e3*4*Math.PI});const i=r.resourceConfig,s=$(v.LOADGEOMETRY,Object.assign(Object.values(i["/model/three.obj"].geometry)[0],{rotation:{x:Math.PI/2,y:-(Math.PI/180)*30},position:{x:.13,y:-.14},scale:{x:80,y:80,z:80}})),o=$(v.MESHSTANDARDMATERIAL,{color:"white",metalness:1,roughness:0,envMapIntensity:.8}),a=$(v.MESH,{geometry:s.vid,material:o.vid}),c=$(v.LOADGEOMETRY,Object.assign(Object.values(i["/model/vis.obj"].geometry)[0],{scale:{x:6,y:6,z:6}})),l=$(v.IMAGETEXTURE,{url:"/texture/vis/colorMap.png"}),u=$(v.MESHSTANDARDMATERIAL,{map:l.vid,metalness:1,roughness:0,transparent:!0,opacity:.8}),p=$(v.MESH,{geometry:c.vid,material:u.vid});$(v.SCRIPTANIMATION,{target:a.vid,attribute:".rotation.z",script:zt.generateConfig("linearTime",{multiply:.2})}),$(v.SCRIPTANIMATION,{target:p.vid,attribute:".rotation.y",script:zt.generateConfig("linearTime",{multiply:.7})}),console.log(ze),ra.done()})();const UE=op({setup(){const e=la(),t=r=>{window.location.href=r};return ap(()=>{ze.setDom(e.value).setSize().play(),window.addEventListener("resize",()=>{ze.setSize()})}),lp(()=>{ze.dispose()}),{jump:t,docs:"/vis-three/docs/index.html",demo:"/vis-three/examples.html",github:"https://github.com/Shiotsukikaedesari/vis-three",gitee:"https://gitee.com/Shiotsukikaedesari/vis-three",renderWindow:e}}}),os=e=>(up("data-v-887054fc"),e=e(),pp(),e),VE={class:"App-container"},zE={class:"ui"},KE=os(()=>Ut("div",{class:"title"},"VIS-THREE",-1)),WE=os(()=>Ut("div",{class:"intro"},"more convenient development for three.js",-1)),YE=os(()=>Ut("div",{class:"split-line"},null,-1)),qE={class:"operation"},XE=Fn(" \u6587\u6863\uFF08docs\uFF09 "),QE=Fn(" \u793A\u4F8B\uFF08demo\uFF09 "),JE=Fn(" github "),ZE=Fn("gitee"),eC=os(()=>Ut("div",{class:"mask"},null,-1)),tC={ref:"renderWindow",class:"three"};function rC(e,t,r,n,i,s){const o=ca("a-button"),a=ca("github-outlined");return dp(),cp("div",VE,[Ut("div",zE,[KE,WE,YE,Ut("div",qE,[$r(o,{type:"link",size:"large",onClick:t[0]||(t[0]=c=>e.jump(e.docs))},{default:Fr(()=>[XE]),_:1}),$r(o,{type:"link",size:"large",onClick:t[1]||(t[1]=c=>e.jump(e.demo))},{default:Fr(()=>[QE]),_:1}),$r(o,{type:"link",size:"large",onClick:t[2]||(t[2]=c=>e.jump(e.github))},{icon:Fr(()=>[$r(a)]),default:Fr(()=>[JE]),_:1}),$r(o,{type:"link",size:"large",onClick:t[3]||(t[3]=c=>e.jump(e.gitee))},{default:Fr(()=>[ZE]),_:1})])]),eC,Ut("div",tC,null,512)])}var nC=zu(UE,[["render",rC],["__scopeId","data-v-887054fc"]]);ra.start();fp(nC).use(hp).component(ua.displayName,ua).mount("#app");
