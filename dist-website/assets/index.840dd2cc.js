import{n as ja,_ as jh}from"./nprogress.dd8b8796.js";import{i as fe,h as Nh,N as zs,e as Ct,a as Na,b as bn,m as En,E as zh,c as za,d as ks,P as ka,f as $s,g as $a,t as kh,j as Bs,k as Ba,l as $h,n as Bh,o as Fh,p as Gh,q as Hh,r as Mn,s as Uh,u as Vh,_ as Sn,v as si,w as Kh,x as Wh,y as Yh,z as qh,A as Fa,B as Xh,C as Zh,D as Qh,F as Ga,G as Jh,H as tn,I as ir,J as sr,K as ed,L as td,M as nd,O as oi,Q as rd,R as id,S as Ha}from"./Antd.cf4bd42d.js";import{m as Pe,c as Cn,b as V,a as se,n as Fs,o as Ua,G as Va,B as tt,F as we,L as kt,p as ai,q as dt,r as Gs,s as nt,t as wt,M as $t,u as sd,v as Ka,w as od,V as ge,x as ad,y as ld,z as Wa,H as cd,P as _t,I as li,J as ci,K as Ya,X as qa,Y as Hs,Z as ud,g as or,j as Xa,_ as hd,$ as dd,f as pd,a0 as nn,T as fd,a1 as md,Q as Us,E as Za,k as ar,a2 as gd,l as ui,a3 as yd,d as Qa,O as rt,a4 as Vs,h as Ja,e as Ks,a5 as wn,a6 as _n,a7 as lr,a8 as el,a9 as tl,aa as cr,ab as pt,W as vd,ac as Ws,ad as bd,ae as Ys,af as Ed,ag as Md,ah as nl,ai as Sd,aj as rl,ak as Cd,al as wd,am as _d,an as xd,ao as Od,ap as il,aq as sl,ar as Td,as as Rd,at as Ad,au as Pd,av as Ld,aw as Id,ax as ol,ay as Dd,i as hi,az as al,aA as jd,aB as ll,C as Nd,aC as ur,aD as xn,aE as cl,R as zd,aF as kd,aG as $d,aH as Bd,S as Fd,aI as Gd,aJ as ul,aK as hl,aL as Hd}from"./three.8ecb3bcc.js";import{T as Ud,C as di,E as qs,R as Xs,a as Vd,S as Kd,b as Wd,c as Yd,U as qd}from"./vis-three.69c47abf.js";var Xd=Object.defineProperty,dl=Object.getOwnPropertySymbols,Zd=Object.prototype.hasOwnProperty,Qd=Object.prototype.propertyIsEnumerable,Zs=(n,e,t)=>e in n?Xd(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Jd=(n,e)=>{for(var t in e||(e={}))Zd.call(e,t)&&Zs(n,t,e[t]);if(dl)for(var t of dl(e))Qd.call(e,t)&&Zs(n,t,e[t]);return n},f=(n,e,t)=>(Zs(n,typeof e!="symbol"?e+"":e,t),t);class ft{constructor(){f(this,"listeners",new Map)}addEventListener(e,t){const r=this.listeners;r.has(e)||r.set(e,new Set),r.get(e).add(t)}hasEventListener(e,t){const r=this.listeners;return r.has(e)?r.get(e).has(t):!1}removeEventListener(e,t){const r=this.listeners;!r.has(e)||!r.get(e).has(t)||r.get(e).delete(t)}dispatchEvent(e){var t;const r=e.type,i=this.listeners;if(i.has(r))try{(t=i.get(r))==null||t.forEach(s=>{s.call(this,e)})}catch(s){console.error(s)}}clear(){this.listeners=new Map}useful(){return Boolean([...this.listeners.keys()].length)}}class ep extends ft{constructor(e=0){super();f(this,"clock",new Nd),f(this,"animationFrame",-1),f(this,"fps",0),f(this,"timer",null),f(this,"playFun",()=>{}),f(this,"render",()=>{this.dispatchEvent({type:"render",delta:this.clock.getDelta(),total:this.clock.getElapsedTime()})}),f(this,"play",()=>{if(this.hasRendering()){console.warn("render manager is rendering.");return}this.dispatchEvent({type:"play"}),this.playFun()}),f(this,"stop",()=>{this.animationFrame!==-1&&(cancelAnimationFrame(this.animationFrame),this.animationFrame=-1),this.timer&&(clearTimeout(this.timer),this.timer=null),this.dispatchEvent({type:"stop"})}),f(this,"hasRendering",()=>Boolean(this.animationFrame!==-1||this.timer)),f(this,"hasVaildRender",()=>this.useful()),this.setFPS(e)}setFPS(e){return this.animationFrame!==-1&&cancelAnimationFrame(this.animationFrame),this.timer&&clearTimeout(this.timer),this.fps=e,e<=0?(this.fps=0,this.playFun=()=>{this.render(),this.animationFrame=requestAnimationFrame(this.playFun)}):this.playFun=()=>{this.timer=setTimeout(()=>{this.playFun()},e),this.render()},this.playFun(),this}dispose(){this.hasRendering()&&this.stop(),this.clear()}}const tp=function(){return this.renderManager?(console.warn("has installed render manager plugin."),!1):(this.renderManager=new ep,this.render=function(){return this.renderManager.render(),this},this.play=function(){return this.renderManager.play(),this},this.stop=function(){return this.renderManager.stop(),this},this.addEventListener("dispose",()=>{this.renderManager.dispose()}),!0)};class np extends ft{constructor(e,t){super();f(this,"object"),f(this,"domElement"),f(this,"enabled",!0),f(this,"target",new V),f(this,"minDistance",0),f(this,"maxDistance",1/0),f(this,"minZoom",0),f(this,"maxZoom",1/0),f(this,"minPolarAngle",0),f(this,"maxPolarAngle",Math.PI),f(this,"minAzimuthAngle",-1/0),f(this,"maxAzimuthAngle",1/0),f(this,"enableDamping",!1),f(this,"dampingFactor",.05),f(this,"enableZoom",!0),f(this,"zoomSpeed",1),f(this,"enableRotate",!0),f(this,"rotateSpeed",1),f(this,"enablePan",!0),f(this,"panSpeed",1),f(this,"screenSpacePanning",!0),f(this,"keyPanSpeed",7),f(this,"autoRotate",!1),f(this,"autoRotateSpeed",2),f(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),f(this,"mouseButtons",{LEFT:null,MIDDLE:ur.DOLLY,RIGHT:ur.ROTATE}),f(this,"touches",{ONE:xn.ROTATE,TWO:xn.DOLLY_PAN}),f(this,"target0"),f(this,"position0"),f(this,"zoom0"),f(this,"_domElementKeyEvents",null),f(this,"spherical"),f(this,"reset"),f(this,"update"),f(this,"onContextMenu"),f(this,"onPointerDown"),f(this,"onPointerCancel"),f(this,"onMouseWheel"),f(this,"onPointerMove"),f(this,"onPointerUp"),f(this,"onKeyDown"),this.object=e||new Pe,this.domElement=t||document.createElement("div"),this.domElement.style.touchAction="none",this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.update=(()=>{const O=new V,j=new Us().setFromUnitVectors(this.object.up,new V(0,1,0)),ue=j.clone().invert(),Ce=new V,Nt=new Us,zt=2*Math.PI;return()=>{const Da=this.object.position;O.copy(Da).sub(this.target),O.applyQuaternion(j),o.setFromVector3(O),this.autoRotate&&i===r.NONE&&x(S()),this.enableDamping?(o.theta+=a.theta*this.dampingFactor,o.phi+=a.phi*this.dampingFactor):(o.theta+=a.theta,o.phi+=a.phi);let Mt=this.minAzimuthAngle,St=this.maxAzimuthAngle;return isFinite(Mt)&&isFinite(St)&&(Mt<-Math.PI?Mt+=zt:Mt>Math.PI&&(Mt-=zt),St<-Math.PI?St+=zt:St>Math.PI&&(St-=zt),Mt<=St?o.theta=Math.max(Mt,Math.min(St,o.theta)):o.theta=o.theta>(Mt+St)/2?Math.max(Mt,o.theta):Math.min(St,o.theta)),o.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,o.phi)),o.makeSafe(),o.radius*=c,o.radius=Math.max(this.minDistance,Math.min(this.maxDistance,o.radius)),this.enableDamping===!0?this.target.addScaledVector(l,this.dampingFactor):this.target.add(l),O.setFromSpherical(o),O.applyQuaternion(ue),Da.copy(this.target).add(O),this.object.lookAt(this.target),this.enableDamping===!0?(a.theta*=1-this.dampingFactor,a.phi*=1-this.dampingFactor,l.multiplyScalar(1-this.dampingFactor)):(a.set(0,0,0),l.set(0,0,0)),c=1,u||Ce.distanceToSquared(this.object.position)>s||8*(1-Nt.dot(this.object.quaternion))>s?(this.dispatchEvent({type:"change"}),Ce.copy(this.object.position),Nt.copy(this.object.quaternion),u=!1,!0):!1}})();const r={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let i=r.NONE;const s=1e-6,o=new cl,a=new cl;let c=1;const l=new V;let u=!1;const h=new ge,d=new ge,p=new ge,v=new ge,M=new ge,_=new ge,m=new ge,C=new ge,g=new ge,y=[],E={},S=()=>2*Math.PI/60/60*this.autoRotateSpeed,w=()=>Math.pow(.95,this.zoomSpeed),x=O=>{a.theta-=O},R=O=>{a.phi-=O},I=function(){const O=new V;return function(ue,Ce){O.setFromMatrixColumn(Ce,0),O.multiplyScalar(-ue),l.add(O)}}(),k=(()=>{const O=new V;return(j,ue)=>{this.screenSpacePanning===!0?O.setFromMatrixColumn(ue,1):(O.setFromMatrixColumn(ue,0),O.crossVectors(this.object.up,O)),O.multiplyScalar(j),l.add(O)}})(),B=(()=>{const O=new V;return(j,ue)=>{const Ce=this.domElement;if(this.object instanceof Pe){const Nt=this.object.position;O.copy(Nt).sub(this.target);let zt=O.length();zt*=Math.tan(this.object.fov/2*Math.PI/180),I(2*j*zt/Ce.clientHeight,this.object.matrix),k(2*ue*zt/Ce.clientHeight,this.object.matrix)}else this.object instanceof rt?(I(j*(this.object.right-this.object.left)/this.object.zoom/Ce.clientWidth,this.object.matrix),k(ue*(this.object.top-this.object.bottom)/this.object.zoom/Ce.clientHeight,this.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),this.enablePan=!1)}})(),Y=O=>{this.object instanceof Pe?c/=O:this.object instanceof rt?(this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom*O)),this.object.updateProjectionMatrix(),u=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)},X=O=>{this.object instanceof Pe?c*=O:this.object instanceof rt?(this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/O)),this.object.updateProjectionMatrix(),u=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)};function Me(O){h.set(O.clientX,O.clientY)}function ie(O){m.set(O.clientX,O.clientY)}function Se(O){v.set(O.clientX,O.clientY)}const Ae=O=>{d.set(O.clientX,O.clientY),p.subVectors(d,h).multiplyScalar(this.rotateSpeed);const j=this.domElement;x(2*Math.PI*p.x/j.clientHeight),R(2*Math.PI*p.y/j.clientHeight),h.copy(d),this.update()},Ve=O=>{C.set(O.clientX,O.clientY),g.subVectors(C,m),g.y>0?Y(w()):g.y<0&&X(w()),m.copy(C),this.update()},ht=O=>{M.set(O.clientX,O.clientY),_.subVectors(M,v).multiplyScalar(this.panSpeed),B(_.x,_.y),v.copy(M),this.update()},et=O=>{O.deltaY<0?X(w()):O.deltaY>0&&Y(w()),this.update()},tr=O=>{let j=!1;switch(O.code){case this.keys.UP:B(0,this.keyPanSpeed),j=!0;break;case this.keys.BOTTOM:B(0,-this.keyPanSpeed),j=!0;break;case this.keys.LEFT:B(this.keyPanSpeed,0),j=!0;break;case this.keys.RIGHT:B(-this.keyPanSpeed,0),j=!0;break}j&&(O.preventDefault(),this.update())};function vn(){if(y.length===1)h.set(y[0].pageX,y[0].pageY);else{const O=.5*(y[0].pageX+y[1].pageX),j=.5*(y[0].pageY+y[1].pageY);h.set(O,j)}}function ei(){if(y.length===1)v.set(y[0].pageX,y[0].pageY);else{const O=.5*(y[0].pageX+y[1].pageX),j=.5*(y[0].pageY+y[1].pageY);v.set(O,j)}}function jt(){const O=y[0].pageX-y[1].pageX,j=y[0].pageY-y[1].pageY,ue=Math.sqrt(O*O+j*j);m.set(0,ue)}const Ds=()=>{this.enableZoom&&jt(),this.enablePan&&ei()},ti=()=>{this.enableZoom&&jt(),this.enableRotate&&vn()},nr=O=>{if(y.length==1)d.set(O.pageX,O.pageY);else{const ue=Q(O),Ce=.5*(O.pageX+ue.x),Nt=.5*(O.pageY+ue.y);d.set(Ce,Nt)}p.subVectors(d,h).multiplyScalar(this.rotateSpeed);const j=this.domElement;x(2*Math.PI*p.x/j.clientHeight),R(2*Math.PI*p.y/j.clientHeight),h.copy(d)},ni=O=>{if(y.length===1)M.set(O.pageX,O.pageY);else{const j=Q(O),ue=.5*(O.pageX+j.x),Ce=.5*(O.pageY+j.y);M.set(ue,Ce)}_.subVectors(M,v).multiplyScalar(this.panSpeed),B(_.x,_.y),v.copy(M)},ri=O=>{const j=Q(O),ue=O.pageX-j.x,Ce=O.pageY-j.y,Nt=Math.sqrt(ue*ue+Ce*Ce);C.set(0,Nt),g.set(0,Math.pow(C.y/m.y,this.zoomSpeed)),Y(g.y),m.copy(C)},ii=O=>{this.enableZoom&&ri(O),this.enablePan&&ni(O)},js=O=>{this.enableZoom&&ri(O),this.enableRotate&&nr(O)};this.onPointerDown=O=>{this.enabled!==!1&&(y.length===0&&(this.domElement.addEventListener("pointermove",this.onPointerMove),this.domElement.addEventListener("pointerup",this.onPointerUp)),D(O),O.pointerType==="touch"?P(O):Ns(O))};let rr=!1;this.onPointerMove=O=>{this.enabled!==!1&&(rr||(this.domElement.setPointerCapture(O.pointerId),rr=!0),O.pointerType==="touch"?N(O):L(O))},this.onPointerUp=O=>{this.enabled!==!1&&(rr=!1,O.pointerType==="touch"?z():T(O),U(O),y.length===0&&(this.domElement.releasePointerCapture(O.pointerId),this.domElement.removeEventListener("pointermove",this.onPointerMove),this.domElement.removeEventListener("pointerup",this.onPointerUp)))},this.onPointerCancel=O=>{U(O)};const Ns=O=>{let j;switch(O.button){case 0:j=this.mouseButtons.LEFT;break;case 1:j=this.mouseButtons.MIDDLE;break;case 2:j=this.mouseButtons.RIGHT;break;default:j=-1}switch(j){case ur.DOLLY:if(this.enableZoom===!1)return;ie(O),i=r.DOLLY;break;case ur.ROTATE:if(O.ctrlKey||O.metaKey||O.shiftKey){if(this.enablePan===!1)return;Se(O),i=r.PAN}else{if(this.enableRotate===!1)return;Me(O),i=r.ROTATE}break;case ur.PAN:if(O.ctrlKey||O.metaKey||O.shiftKey){if(this.enableRotate===!1)return;Me(O),i=r.ROTATE}else{if(this.enablePan===!1)return;Se(O),i=r.PAN}break;default:i=r.NONE}i!==r.NONE&&this.dispatchEvent({type:"start"})},L=O=>{if(this.enabled!==!1)switch(i){case r.ROTATE:if(this.enableRotate===!1)return;Ae(O);break;case r.DOLLY:if(this.enableZoom===!1)return;Ve(O);break;case r.PAN:if(this.enablePan===!1)return;ht(O);break}},T=O=>{this.dispatchEvent({type:"end"}),i=r.NONE};this.onMouseWheel=O=>{this.enabled===!1||this.enableZoom===!1||i!==r.NONE||(O.preventDefault(),this.dispatchEvent({type:"start"}),et(O),this.dispatchEvent({type:"end"}))},this.onKeyDown=O=>{this.enabled===!1||this.enablePan===!1||tr(O)};const P=O=>{switch(F(O),y.length){case 1:switch(this.touches.ONE){case xn.ROTATE:if(this.enableRotate===!1)return;vn(),i=r.TOUCH_ROTATE;break;case xn.PAN:if(this.enablePan===!1)return;ei(),i=r.TOUCH_PAN;break;default:i=r.NONE}break;case 2:switch(this.touches.TWO){case xn.DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;Ds(),i=r.TOUCH_DOLLY_PAN;break;case xn.DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;ti(),i=r.TOUCH_DOLLY_ROTATE;break;default:i=r.NONE}break;default:i=r.NONE}i!==r.NONE&&this.dispatchEvent({type:"start"})},N=O=>{switch(F(O),i){case r.TOUCH_ROTATE:if(this.enableRotate===!1)return;nr(O),this.update();break;case r.TOUCH_PAN:if(this.enablePan===!1)return;ni(O),this.update();break;case r.TOUCH_DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;ii(O),this.update();break;case r.TOUCH_DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;js(O),this.update();break;default:i=r.NONE}},z=O=>{this.dispatchEvent({type:"end"}),i=r.NONE};this.onContextMenu=O=>{this.enabled!==!1&&O.preventDefault()};function D(O){y.push(O)}const U=O=>{delete E[O.pointerId];for(let j=0;j<y.length;j++)if(y[j].pointerId==O.pointerId){y.splice(j,1);return}};function F(O){let j=E[O.pointerId];j===void 0&&(j=new ge,E[O.pointerId]=j),j.set(O.pageX,O.pageY)}function Q(O){const j=O.pointerId===y[0].pointerId?y[1]:y[0];return E[j.pointerId]}this.spherical=o,this.domElement.addEventListener("contextmenu",this.onContextMenu),this.domElement.addEventListener("pointerdown",this.onPointerDown),this.domElement.addEventListener("pointercancel",this.onPointerCancel),this.domElement.addEventListener("wheel",this.onMouseWheel,{passive:!1}),this.reset=()=>{this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent({type:"change"}),this.update(),i=r.NONE},this.update()}getPolarAngle(){return this.spherical.phi}getAzimuthalAngle(){return this.spherical.theta}getDistance(){return this.object.position.distanceTo(this.target)}listenToKeyEvents(e){e.addEventListener("keydown",this.onKeyDown),this._domElementKeyEvents=e}saveState(){this.target0.copy(this.target),this.position0.copy(this.object.position),this.zoom0=this.object.zoom}setCamera(e){this.object=e}setDom(e){this.dispose(),this.domElement=e,this.domElement.addEventListener("contextmenu",this.onContextMenu),this.domElement.addEventListener("pointerdown",this.onPointerDown),this.domElement.addEventListener("pointercancel",this.onPointerCancel),this.domElement.addEventListener("wheel",this.onMouseWheel,{passive:!1})}dispose(){this.domElement.removeEventListener("contextmenu",this.onContextMenu),this.domElement.removeEventListener("pointerdown",this.onPointerDown),this.domElement.removeEventListener("pointercancel",this.onPointerCancel),this.domElement.removeEventListener("wheel",this.onMouseWheel),this.domElement.removeEventListener("pointermove",this.onPointerMove),this.domElement.removeEventListener("pointerup",this.onPointerUp),this._domElementKeyEvents!==null&&this._domElementKeyEvents.removeEventListener("keydown",this.onKeyDown)}}var ee;(function(n){n.DEFAULT="default",n.TOP="top",n.BOTTOM="bottom",n.LEFT="left",n.RIGHT="right",n.FRONT="front",n.BACK="back"})(ee||(ee={}));const rp=function(n={}){var e;if(!this.webGLRenderer)return console.error("must install some renderer before BasicViewpoint plugin."),!1;!n.viewpoint&&(n.viewpoint=ee.DEFAULT),!n.perspective&&(n.perspective={}),!n.perspective.position&&(n.perspective.position={x:60,y:60,z:60}),!n.perspective.lookAt&&(n.perspective.lookAt={x:0,y:0,z:0}),!n.perspective.up&&(n.perspective.up={x:0,y:1,z:0}),!n.orthograpbic&&(n.orthograpbic={}),!n.orthograpbic.up&&(n.orthograpbic.up={x:0,y:1,z:0});const t=new Pe;t.position.set(n.perspective.position.x,n.perspective.position.y,n.perspective.position.z),t.lookAt(n.perspective.lookAt.x,n.perspective.lookAt.y,n.perspective.lookAt.z),t.up.set(n.perspective.up.x,n.perspective.up.y,n.perspective.up.z);const r=n.orthograpbic.distance||1e4,i=new rt(-window.innerWidth/8,window.innerWidth/8,-window.innerHeight/8,window.innerHeight/8,0,r);return i.up.set(n.perspective.up.x,n.perspective.up.y,n.perspective.up.z),this.setViewpoint=function(s){return this.dispatchEvent({type:"setViewpoint",viewpoint:s}),this},this.addEventListener("setSize",s=>{const o=s.width,a=s.height,c=o/a;t.aspect=c,t.updateProjectionMatrix(),i.left=-r*c,i.right=r*c,i.top=r,i.bottom=-r,i.zoom=r/a*5,i.updateProjectionMatrix()}),(e=n.orthograpbic.allowRotate)!=null,this.addEventListener("setViewpoint",s=>{const o=s.viewpoint;if(o===ee.DEFAULT){this.setCamera(t);return}o===ee.TOP?i.position.set(0,r/2,0):o===ee.BOTTOM?i.position.set(0,-r/2,0):o===ee.RIGHT?i.position.set(r/2,0,0):o===ee.LEFT?i.position.set(-r/2,0,0):o===ee.FRONT?i.position.set(0,0,r/2):o===ee.BACK&&i.position.set(0,0,-r/2),this.setCamera(i)}),this.completeSet.add(()=>{n.viewpoint===ee.DEFAULT?this.setCamera(t):this.setCamera(i),this.objectHelperManager&&this.objectHelperManager.addFilteredObject(t,i)}),!0},ip=function(n){return this.orbitControls?(console.warn("this has installed orbitControls plugin."),!1):this.renderManager?(this.orbitControls=new np(this.camera,this.dom),this.addEventListener("setCamera",e=>{this.orbitControls.setCamera(e.camera)}),this.addEventListener("setDom",e=>{this.orbitControls.setDom(e.dom)}),this.renderManager.addEventListener("render",()=>{this.orbitControls.update()}),this.completeSet.add(()=>{this.setViewpoint&&this.addEventListener("setViewpoint",e=>{const t=e.viewpoint;this.orbitControls.target.set(0,0,0),t===ee.DEFAULT?this.orbitControls.enableRotate=!0:t===ee.TOP?this.orbitControls.enableRotate=!1:t===ee.BOTTOM?this.orbitControls.enableRotate=!1:t===ee.RIGHT?this.orbitControls.enableRotate=!1:t===ee.LEFT?this.orbitControls.enableRotate=!1:t===ee.FRONT?this.orbitControls.enableRotate=!1:t===ee.BACK&&(this.orbitControls.enableRotate=!1)})}),!0):(console.warn("this must install renderManager before install orbitControls plugin."),!1)};class sp{constructor(e){f(this,"REVISION"),f(this,"dom"),f(this,"addPanel"),f(this,"showPanel"),f(this,"begin"),f(this,"end"),f(this,"update"),f(this,"domElement"),f(this,"setMode");const t=Kd();this.REVISION=t.REVISION,this.dom=t.dom,this.domElement=t.domElement,this.begin=t.begin.bind(t),this.end=t.end.bind(t),this.update=t.update.bind(t),this.addPanel=t.addPanel.bind(t),this.showPanel=t.showPanel.bind(t),this.setMode=t.setMode.bind(t);const r=this.domElement;r.style.position="absolute",r.style.top="0",r.style.left="35px",e&&(r.style.top=`${e.top}px`,r.style.left=`${e.left}px`,r.style.right=`${e.right}px`,r.style.bottom=`${e.bottom}px`)}}const op=function(n){if(this.stats)return console.warn("this has installed stats plugin."),!1;if(!this.renderManager)return console.warn("this must install renderManager before install stats plugin."),!1;const e=new sp(n);this.stats=e;const t=()=>{this.stats.update()};return this.setStats=function(r){if(r)this.dom.appendChild(this.stats.domElement),this.renderManager.addEventListener("render",t);else try{this.dom.removeChild(this.stats.domElement),this.renderManager.removeEventListener("render",t)}catch{}return this},!0},ap=function(n={}){if(this.effectComposer)return console.warn("this has installed effect composer plugin."),!1;if(!this.webGLRenderer)return console.error("must install some renderer before this plugin."),!1;let e;if(n.WebGLMultisampleRenderTarget||n.MSAA){const r=this.webGLRenderer,i=r.getPixelRatio(),s=r.getDrawingBufferSize(new ge);Number(window.__THREE__)>137?e=new qs(r,new vd(s.width*i,s.height*i,{format:n.format||Ws,samples:n.samples||4})):e=new qs(r,new bd(s.width*i,s.height*i,{format:n.format||Ws}))}else e=new qs(this.webGLRenderer);this.effectComposer=e;let t;return this.scene&&this.camera&&(t=new Xs(this.scene,this.camera),e.addPass(t)),this.addEventListener("setCamera",r=>{if(!t&&this.scene){t=new Xs(this.scene,r.camera),e.addPass(t);return}else t&&(t.camera=r.camera)}),this.addEventListener("setScene",r=>{if(!t&&this.camera){t=new Xs(r.scene,this.camera),e.addPass(t);return}else t&&(t.scene=r.scene)}),this.addEventListener("setSize",r=>{e.setSize(r.width,r.height)}),this.renderManager?(this.renderManager.removeEventListener("render",this.render),this.renderManager.addEventListener("render",r=>{this.effectComposer.render(r.delta)})):this.render=function(){return this.effectComposer.render(),this},!0};class lp extends ft{constructor(e){super();f(this,"dom"),f(this,"mouse"),f(this,"canMouseMove"),f(this,"mouseEventTimer"),f(this,"throttleTime"),f(this,"pointerDownHandler"),f(this,"pointerMoveHandler"),f(this,"pointerUpHandler"),f(this,"mouseDownHandler"),f(this,"mouseUpHandler"),f(this,"clickHandler"),f(this,"dblclickHandler"),f(this,"contextmenuHandler"),this.dom=e.dom,this.mouse=new ge,this.canMouseMove=!0,this.mouseEventTimer=null,this.throttleTime=e.throttleTime||1e3/60;const t=i=>{const s={mouse:{x:this.mouse.x,y:this.mouse.y}};for(const o in i)s[o]=i[o];return s},r=i=>{this.dispatchEvent(t(i))};this.pointerMoveHandler=i=>{!this.canMouseMove||(this.canMouseMove=!1,this.mouseEventTimer=window.setTimeout(()=>{const s=this.mouse,o=this.dom,a=o.getBoundingClientRect();s.x=(i.clientX-a.left)/o.offsetWidth*2-1,s.y=-((i.clientY-a.top)/o.offsetHeight)*2+1,this.canMouseMove=!0,this.dispatchEvent(t(i))},this.throttleTime))},this.mouseDownHandler=r,this.mouseUpHandler=r,this.pointerDownHandler=r,this.pointerUpHandler=r,this.clickHandler=r,this.dblclickHandler=r,this.contextmenuHandler=r}setDom(e){if(this.dom){const t=this.dom;t.removeEventListener("mousedown",this.mouseDownHandler),t.removeEventListener("mouseup",this.mouseUpHandler),t.removeEventListener("pointerdown",this.pointerDownHandler),t.removeEventListener("pointermove",this.pointerMoveHandler),t.removeEventListener("pointerup",this.pointerUpHandler),t.removeEventListener("click",this.clickHandler),t.removeEventListener("dblclick",this.dblclickHandler),t.removeEventListener("contextmenu",this.contextmenuHandler)}return e.addEventListener("mousedown",this.mouseDownHandler),e.addEventListener("mouseup",this.mouseUpHandler),e.addEventListener("pointerdown",this.pointerDownHandler),e.addEventListener("pointermove",this.pointerMoveHandler),e.addEventListener("pointerup",this.pointerUpHandler),e.addEventListener("click",this.clickHandler),e.addEventListener("dblclick",this.dblclickHandler),e.addEventListener("contextmenu",this.contextmenuHandler),this.dom=e,this}getNormalMouse(){return this.mouse}}const cp=function(n){if(this.pointerManager)return console.warn("this has installed pointerManager plugin."),!1;const e=new lp(Object.assign(n||{},{dom:this.dom}));return this.addEventListener("setDom",t=>{e.setDom(t.dom)}),this.pointerManager=e,!0};var hr;(function(n){n.POINTERDOWN="pointerdown",n.POINTERUP="pointerup",n.POINTERMOVE="pointermove",n.POINTERENTER="pointerenter",n.POINTERLEAVE="pointerleave",n.CLICK="click",n.DBLCLICK="dblclick",n.CONTEXTMENU="contextmenu"})(hr||(hr={}));class up extends ft{constructor(e){super();f(this,"raycaster"),f(this,"scene"),f(this,"camera"),f(this,"filter",new Set),f(this,"recursive",!1),f(this,"penetrate",!1),f(this,"propagation",!1),f(this,"delegation",!1),this.raycaster=new zd,this.camera=e.camera,this.scene=e.scene,e.recursive&&(this.recursive=e.recursive),e.penetrate&&(this.penetrate=e.penetrate)}setScene(e){return this.scene=e,this}setCamera(e){return this.camera=e,this}addFilterObject(e){return this.filter.add(e),this}removeFilterObject(e){return this.filter.delete(e),this}intersectObject(e){this.raycaster.setFromCamera(e,this.camera);const t=this.filter,r=this.scene.children.filter(i=>!t.has(i));return this.raycaster.intersectObjects(r,this.recursive)}use(e){const t=function(a,c){return Object.assign({},a,c)},r=(a,c)=>{const l=this.intersectObject(a.mouse);if(l.length)if(this.penetrate)for(const u of l)u.object.dispatchEvent(t(a,{type:c,intersection:u}));else{const u=l[0];u.object.dispatchEvent(t(a,{type:c,intersection:u}))}this.dispatchEvent(t(a,{type:c,intersections:l}))},i=["pointerdown","pointerup","mousedown","mouseup","pointermove","click","dblclick","contextmenu"];for(const a of i)e.addEventListener(a,c=>{r(c,a)});const s=new Map;let o=null;return e.addEventListener("pointermove",a=>{const c=this.intersectObject(a.mouse);if(this.penetrate){if(!c.length){s.forEach(l=>{l.object.dispatchEvent(t(a,{type:"pointerleave",intersection:l})),l.object.dispatchEvent(t(a,{type:"mouseleave",intersection:l}))}),s.clear();return}for(const l of c)s.has(l.object)?(l.object.dispatchEvent(t(a,{type:"pointermove",intersection:l})),l.object.dispatchEvent(t(a,{type:"mousemove",intersection:l})),s.delete(l.object)):(l.object.dispatchEvent(t(a,{type:"pointerenter",intersection:l})),l.object.dispatchEvent(t(a,{type:"mouseenter",intersection:l})));for(const l of s.values())l.object.dispatchEvent(t(a,{type:"pointerleave",intersection:l})),l.object.dispatchEvent(t(a,{type:"mouseleave",intersection:l}));s.clear();for(const l of c)s.set(l.object,l)}else{if(!c.length){o&&(o.object.dispatchEvent(t(a,{type:"pointerleave",intersection:o})),o.object.dispatchEvent(t(a,{type:"mouseleave",intersection:o})),o=null);return}const l=c[0];if(!o){l.object.dispatchEvent(t(a,{type:"pointerenter",intersection:l})),l.object.dispatchEvent(t(a,{type:"mouseenter",intersection:l})),o=l;return}if(l.object!==o.object){o.object.dispatchEvent(t(a,{type:"pointerleave",intersection:l})),o.object.dispatchEvent(t(a,{type:"mouseleave",intersection:l})),l.object.dispatchEvent(t(a,{type:"pointerenter",intersection:l})),l.object.dispatchEvent(t(a,{type:"mouseenter",intersection:l})),o=l;return}l.object===o.object&&(l.object.dispatchEvent(t(a,{type:"pointermove",intersection:l})),l.object.dispatchEvent(t(a,{type:"mousemove",intersection:l})))}this.dispatchEvent(t(a,{type:"pointermove",intersections:c})),this.dispatchEvent(t(a,{type:"mousemove",intersections:c}))}),this}}const hp=function(n){if(this.eventManager)return console.warn("engine has installed eventManager plugin."),!1;if(!this.pointerManager)return console.error("must install pointerManager before this plugin."),!1;const e=new up(Object.assign({scene:this.scene,camera:this.camera},n));return e.use(this.pointerManager),this.eventManager=e,this.addEventListener("setCamera",t=>{this.eventManager.setCamera(t.camera)}),this.addEventListener("setScene",t=>{this.eventManager.setScene(t.scene)}),!0};var pi;(function(n){n.OBJECTCHANGED="objectChanged"})(pi||(pi={}));class dp extends Ud{constructor(e,t){!e&&(e=new Pe),!t&&(t=document.body);super(e,t);f(this,"target"),f(this,"transObjectSet"),this.domElement.removeEventListener("pointerdown",this._onPointerDown),this._onPointerDown=c=>{var l;!this.enabled||!((l=this.object)==null?void 0:l.parent)||(this.domElement.addEventListener("pointermove",this._onPointerMove),this.pointerHover(this._getPointer(c)),this.pointerDown(this._getPointer(c)))},this.domElement.addEventListener("pointerdown",this._onPointerDown),this.target=new Cn,this.transObjectSet=new Set;let r="";const i=this.target,s=this.transObjectSet,o={x:0,y:0,z:0},a=new WeakMap;this.addEventListener("mouseDown",c=>{r=c.target.mode,r==="translate"&&(r="position"),r==="rotate"&&(r="rotation"),o.x=i[r].x,o.y=i[r].y,o.z=i[r].z,s.forEach(l=>{a.set(l,l.matrixAutoUpdate),l.matrixAutoUpdate=!1})}),this.addEventListener("objectChange",c=>{const l=i[r].x-o.x,u=i[r].y-o.y,h=i[r].z-o.z;o.x=i[r].x,o.y=i[r].y,o.z=i[r].z,s.forEach(d=>{d[r].x+=l,d[r].y+=u,d[r].z+=h,d.updateMatrix(),d.updateMatrixWorld()}),this.dispatchEvent({type:pi.OBJECTCHANGED,transObjectSet:s,mode:r,target:i})}),this.addEventListener("mouseUp",c=>{s.forEach(l=>{l.matrixAutoUpdate=a.get(l),a.delete(l)})})}setDom(e){return this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerHover),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),e.addEventListener("pointerdown",this._onPointerDown),e.addEventListener("pointermove",this._onPointerHover),e.addEventListener("pointerup",this._onPointerUp),this.domElement=e,this}setCamera(e){return this.camera=e,this}getTarget(){return this.target}getTransObjectSet(){return this.transObjectSet}setAttach(...e){if(this.transObjectSet.clear(),!e.length||!e[0])return this.detach(),this;this.attach(this.target);const t=this.target;if(e.length===1){const o=e[0];return o.matrixWorld.decompose(t.position,t.quaternion,t.scale),t.updateMatrix(),t.updateMatrixWorld(),this.transObjectSet.add(o),this}const r=[],i=[],s=[];return e.forEach(o=>{r.push(o.matrixWorld.elements[12]),i.push(o.matrixWorld.elements[13]),s.push(o.matrixWorld.elements[14])}),t.rotation.set(0,0,0),t.scale.set(0,0,0),t.position.x=(Math.max(...r)-Math.min(...r))/2+Math.min(...r),t.position.y=(Math.max(...i)-Math.min(...i))/2+Math.min(...i),t.position.z=(Math.max(...s)-Math.min(...s))/2+Math.min(...s),t.updateMatrix(),t.updateMatrixWorld(),e.forEach(o=>{this.transObjectSet.add(o)}),this}}const pp=function(n){if(this.transformControls)return console.warn("this has installed transformControls plugin."),!1;if(!this.pointerManager)return console.warn("this must install pointerManager before install transformControls plugin."),!1;if(!this.eventManager)return console.warn("this must install eventManager before install transformControls plugin."),!1;const e=new dp(this.camera,this.dom);return e.detach(),this.transformControls=e,this.scene.add(this.transformControls),this.scene.add(this.transformControls.target),this.transformControls.addEventListener("mouseDown",()=>{this.transing=!0}),this.setTransformControls=function(t){return t?this.scene.add(this.transformControls):this.scene.remove(this.transformControls),this},this.addEventListener("setCamera",t=>{e.setCamera(t.camera)}),this.addEventListener("setDom",t=>{e.setDom(t.dom)}),this.addEventListener("setScene",t=>{const r=t.scene;r.add(this.transformControls.target),r.add(this.transformControls)}),this.selectionBox?this.addEventListener("selected",t=>{e.setAttach(...t.objects)}):this.eventManager.addEventListener("click",t=>{if(this.transing){this.transing=!1;return}if(t.button===0){const i=t.intersections.map(s=>s.object)[0]||null;i?e.setAttach(i):e.detach()}}),this.eventManager.addFilterObject(e),this.completeSet.add(()=>{if(this.IS_ENGINESUPPORT){const t=s=>{const o=this.compilerManager.getObjectSymbol(s);return o?this.dataSupportManager.getConfigBySymbol(o):null};let r=null,i;e.addEventListener(pi.OBJECTCHANGED,s=>{const o=s;o.transObjectSet.forEach(a=>{r=t(a),i=o.mode,r&&(r[i].x=a[i].x,r[i].y=a[i].y,r[i].z=a[i].z)})})}}),!0},fp=function(n={}){if(this.webGLRenderer)return console.warn("this has installed webglRenderer plugin."),!1;this.webGLRenderer=new Ys(n);const e=this.webGLRenderer.domElement;return e.style.position="absolute",e.style.top="0",e.style.left="0",e.classList.add("vis-webgl"),this.getScreenshot=async function(t={}){const r={width:this.dom.offsetWidth,height:this.dom.offsetHeight};!t.width&&(t.width=this.dom.offsetWidth),!t.height&&(t.height=this.dom.offsetHeight),!t.mine&&(t.mine="image/png");let i=!1;this.renderManager.hasRendering()&&(this.renderManager.stop(),i=!0);let s="";const o=this.webGLRenderer.getContext(),c=o.getParameter(o.MAX_RENDERBUFFER_SIZE)/4;if(t.width>c||t.height>c){const l=[],u=Math.ceil(t.width/c),h=Math.ceil(t.height/c),d=t.width/u,p=t.height/h,v=document.createElement("canvas");v.setAttribute("width",t.width.toString()),v.setAttribute("height",t.height.toString());const M=v.getContext("2d");if(!M)return console.warn("can not support canvas 2d;"),s;this.setSize(d,p);for(let m=0;m<u;m+=1)for(let C=0;C<h;C+=1)l.push({x:d*m,y:p*C});const _=[];l.forEach(m=>{this.camera.setViewOffset(t.width,t.height,m.x,m.y,d,p),this.renderManager.render();const C=this.webGLRenderer.domElement.toDataURL(t.mine);_.push(new Promise((g,y)=>{const E=new Image;E.src=C,E.onload=()=>{M.drawImage(E,m.x,m.y,d,p),g(null)}}))}),this.setSize(r.width,r.height),await Promise.all(_).catch(m=>{console.warn(m)}),s=v.toDataURL(t.mine),this.camera.clearViewOffset()}else this.setSize(t.width,t.height),this.renderManager.render(),s=this.webGLRenderer.domElement.toDataURL(t.mine),this.setSize(r.width,r.height);return i&&this.renderManager.play(),s},this.addEventListener("setDom",t=>{t.dom.appendChild(this.webGLRenderer.domElement)}),this.addEventListener("setSize",t=>{this.webGLRenderer.setSize(t.width,t.height,!0)}),this.addEventListener("dispose",()=>{this.webGLRenderer.dispose()}),this.renderManager?(this.renderManager.removeEventListener("render",this.render),this.renderManager.addEventListener("render",t=>{this.webGLRenderer.render(this.scene,this.camera)})):this.render=function(){return this.webGLRenderer.render(this.scene,this.camera),this},!0},mp=/^[og]\s*(.+)?/,gp=/^mtllib /,yp=/^usemtl /,vp=/^usemap /,pl=new V,Qs=new V,fl=new V,ml=new V,Ke=new V,fi=new se;function bp(){const n={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materials:{},materialLibraries:[],startObject:function(e,t){if(this.object&&this.object.fromDeclaration===!1){this.object.name=e,this.object.fromDeclaration=t!==!1;return}const r=this.object&&typeof this.object.currentMaterial=="function"?this.object.currentMaterial():void 0;if(this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0),this.object={name:e||"",fromDeclaration:t!==!1,geometry:{vertices:[],normals:[],colors:[],uvs:[],hasUVIndices:!1},materials:[],smooth:!0,startMaterial:function(i,s){const o=this._finalize(!1);o&&(o.inherited||o.groupCount<=0)&&this.materials.splice(o.index,1);const a={index:this.materials.length,name:i||"",mtllib:Array.isArray(s)&&s.length>0?s[s.length-1]:"",smooth:o!==void 0?o.smooth:this.smooth,groupStart:o!==void 0?o.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(c){const l={index:typeof c=="number"?c:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return l.clone=this.clone.bind(l),l}};return this.materials.push(a),a},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(i){const s=this.currentMaterial();if(s&&s.groupEnd===-1&&(s.groupEnd=this.geometry.vertices.length/3,s.groupCount=s.groupEnd-s.groupStart,s.inherited=!1),i&&this.materials.length>1)for(let o=this.materials.length-1;o>=0;o--)this.materials[o].groupCount<=0&&this.materials.splice(o,1);return i&&this.materials.length===0&&this.materials.push({name:"",smooth:this.smooth}),s}},r&&r.name&&typeof r.clone=="function"){const i=r.clone(0);i.inherited=!0,this.object.materials.push(i)}this.objects.push(this.object)},finalize:function(){this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0)},parseVertexIndex:function(e,t){const r=parseInt(e,10);return(r>=0?r-1:r+t/3)*3},parseNormalIndex:function(e,t){const r=parseInt(e,10);return(r>=0?r-1:r+t/3)*3},parseUVIndex:function(e,t){const r=parseInt(e,10);return(r>=0?r-1:r+t/2)*2},addVertex:function(e,t,r){const i=this.vertices,s=this.object.geometry.vertices;s.push(i[e+0],i[e+1],i[e+2]),s.push(i[t+0],i[t+1],i[t+2]),s.push(i[r+0],i[r+1],i[r+2])},addVertexPoint:function(e){const t=this.vertices;this.object.geometry.vertices.push(t[e+0],t[e+1],t[e+2])},addVertexLine:function(e){const t=this.vertices;this.object.geometry.vertices.push(t[e+0],t[e+1],t[e+2])},addNormal:function(e,t,r){const i=this.normals,s=this.object.geometry.normals;s.push(i[e+0],i[e+1],i[e+2]),s.push(i[t+0],i[t+1],i[t+2]),s.push(i[r+0],i[r+1],i[r+2])},addFaceNormal:function(e,t,r){const i=this.vertices,s=this.object.geometry.normals;pl.fromArray(i,e),Qs.fromArray(i,t),fl.fromArray(i,r),Ke.subVectors(fl,Qs),ml.subVectors(pl,Qs),Ke.cross(ml),Ke.normalize(),s.push(Ke.x,Ke.y,Ke.z),s.push(Ke.x,Ke.y,Ke.z),s.push(Ke.x,Ke.y,Ke.z)},addColor:function(e,t,r){const i=this.colors,s=this.object.geometry.colors;i[e]!==void 0&&s.push(i[e+0],i[e+1],i[e+2]),i[t]!==void 0&&s.push(i[t+0],i[t+1],i[t+2]),i[r]!==void 0&&s.push(i[r+0],i[r+1],i[r+2])},addUV:function(e,t,r){const i=this.uvs,s=this.object.geometry.uvs;s.push(i[e+0],i[e+1]),s.push(i[t+0],i[t+1]),s.push(i[r+0],i[r+1])},addDefaultUV:function(){const e=this.object.geometry.uvs;e.push(0,0),e.push(0,0),e.push(0,0)},addUVLine:function(e){const t=this.uvs;this.object.geometry.uvs.push(t[e+0],t[e+1])},addFace:function(e,t,r,i,s,o,a,c,l){const u=this.vertices.length;let h=this.parseVertexIndex(e,u),d=this.parseVertexIndex(t,u),p=this.parseVertexIndex(r,u);if(this.addVertex(h,d,p),this.addColor(h,d,p),a!==void 0&&a!==""){const v=this.normals.length;h=this.parseNormalIndex(a,v),d=this.parseNormalIndex(c,v),p=this.parseNormalIndex(l,v),this.addNormal(h,d,p)}else this.addFaceNormal(h,d,p);if(i!==void 0&&i!==""){const v=this.uvs.length;h=this.parseUVIndex(i,v),d=this.parseUVIndex(s,v),p=this.parseUVIndex(o,v),this.addUV(h,d,p),this.object.geometry.hasUVIndices=!0}else this.addDefaultUV()},addPointGeometry:function(e){this.object.geometry.type="Points";const t=this.vertices.length;for(let r=0,i=e.length;r<i;r++){const s=this.parseVertexIndex(e[r],t);this.addVertexPoint(s),this.addColor(s)}},addLineGeometry:function(e,t){this.object.geometry.type="Line";const r=this.vertices.length,i=this.uvs.length;for(let s=0,o=e.length;s<o;s++)this.addVertexLine(this.parseVertexIndex(e[s],r));for(let s=0,o=t.length;s<o;s++)this.addUVLine(this.parseUVIndex(t[s],i))}};return n.startObject("",!1),n}class Ep extends Fs{constructor(e){super(e);this.materials=null}load(e,t,r,i){const s=this,o=new Ua(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(a))}catch(c){i?i(c):console.error(c),s.manager.itemError(e)}},r,i)}setMaterials(e){return this.materials=e,this}parse(e){const t=new bp;e.indexOf(`\r
`)!==-1&&(e=e.replace(/\r\n/g,`
`)),e.indexOf(`\\
`)!==-1&&(e=e.replace(/\\\n/g,""));const r=e.split(`
`);let i="",s="",o=0,a=[];const c=typeof"".trimLeft=="function";for(let h=0,d=r.length;h<d;h++)if(i=r[h],i=c?i.trimLeft():i.trim(),o=i.length,o!==0&&(s=i.charAt(0),s!=="#"))if(s==="v"){const p=i.split(/\s+/);switch(p[0]){case"v":t.vertices.push(parseFloat(p[1]),parseFloat(p[2]),parseFloat(p[3])),p.length>=7?(fi.setRGB(parseFloat(p[4]),parseFloat(p[5]),parseFloat(p[6])).convertSRGBToLinear(),t.colors.push(fi.r,fi.g,fi.b)):t.colors.push(void 0,void 0,void 0);break;case"vn":t.normals.push(parseFloat(p[1]),parseFloat(p[2]),parseFloat(p[3]));break;case"vt":t.uvs.push(parseFloat(p[1]),parseFloat(p[2]));break}}else if(s==="f"){const v=i.slice(1).trim().split(/\s+/),M=[];for(let m=0,C=v.length;m<C;m++){const g=v[m];if(g.length>0){const y=g.split("/");M.push(y)}}const _=M[0];for(let m=1,C=M.length-1;m<C;m++){const g=M[m],y=M[m+1];t.addFace(_[0],g[0],y[0],_[1],g[1],y[1],_[2],g[2],y[2])}}else if(s==="l"){const p=i.substring(1).trim().split(" ");let v=[];const M=[];if(i.indexOf("/")===-1)v=p;else for(let _=0,m=p.length;_<m;_++){const C=p[_].split("/");C[0]!==""&&v.push(C[0]),C[1]!==""&&M.push(C[1])}t.addLineGeometry(v,M)}else if(s==="p"){const v=i.slice(1).trim().split(" ");t.addPointGeometry(v)}else if((a=mp.exec(i))!==null){const p=(" "+a[0].slice(1).trim()).slice(1);t.startObject(p)}else if(yp.test(i))t.object.startMaterial(i.substring(7).trim(),t.materialLibraries);else if(gp.test(i))t.materialLibraries.push(i.substring(7).trim());else if(vp.test(i))console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.');else if(s==="s"){if(a=i.split(" "),a.length>1){const v=a[1].trim().toLowerCase();t.object.smooth=v!=="0"&&v!=="off"}else t.object.smooth=!0;const p=t.object.currentMaterial();p&&(p.smooth=t.object.smooth)}else{if(i==="\0")continue;console.warn('THREE.OBJLoader: Unexpected line: "'+i+'"')}t.finalize();const l=new Va;if(l.materialLibraries=[].concat(t.materialLibraries),!(t.objects.length===1&&t.objects[0].geometry.vertices.length===0)===!0)for(let h=0,d=t.objects.length;h<d;h++){const p=t.objects[h],v=p.geometry,M=p.materials,_=v.type==="Line",m=v.type==="Points";let C=!1;if(v.vertices.length===0)continue;const g=new tt;g.setAttribute("position",new we(v.vertices,3)),v.normals.length>0&&g.setAttribute("normal",new we(v.normals,3)),v.colors.length>0&&(C=!0,g.setAttribute("color",new we(v.colors,3))),v.hasUVIndices===!0&&g.setAttribute("uv",new we(v.uvs,2));const y=[];for(let S=0,w=M.length;S<w;S++){const x=M[S],R=x.name+"_"+x.smooth+"_"+C;let I=t.materials[R];if(this.materials!==null){if(I=this.materials.create(x.name),_&&I&&!(I instanceof kt)){const k=new kt;ai.prototype.copy.call(k,I),k.color.copy(I.color),I=k}else if(m&&I&&!(I instanceof dt)){const k=new dt({size:10,sizeAttenuation:!1});ai.prototype.copy.call(k,I),k.color.copy(I.color),k.map=I.map,I=k}}I===void 0&&(_?I=new kt:m?I=new dt({size:1,sizeAttenuation:!1}):I=new Gs,I.name=x.name,I.flatShading=!x.smooth,I.vertexColors=C,t.materials[R]=I),y.push(I)}let E;if(y.length>1){for(let S=0,w=M.length;S<w;S++){const x=M[S];g.addGroup(x.groupStart,x.groupCount,S)}_?E=new nt(g,y):m?E=new wt(g,y):E=new $t(g,y)}else _?E=new nt(g,y[0]):m?E=new wt(g,y[0]):E=new $t(g,y[0]);E.name=p.name,l.add(E)}else if(t.vertices.length>0){const h=new dt({size:1,sizeAttenuation:!1}),d=new tt;d.setAttribute("position",new we(t.vertices,3)),t.colors.length>0&&t.colors[0]!==void 0&&(d.setAttribute("color",new we(t.colors,3)),h.vertexColors=!0);const p=new wt(d,h);l.add(p)}return l}}class Mp extends Fs{constructor(e){super(e)}load(e,t,r,i){const s=this,o=this.path===""?sd.extractUrlBase(e):this.path,a=new Ua(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(c){try{t(s.parse(c,o))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}setMaterialOptions(e){return this.materialOptions=e,this}parse(e,t){const r=e.split(`
`);let i={};const s=/\s+/,o={};for(let c=0;c<r.length;c++){let l=r[c];if(l=l.trim(),l.length===0||l.charAt(0)==="#")continue;const u=l.indexOf(" ");let h=u>=0?l.substring(0,u):l;h=h.toLowerCase();let d=u>=0?l.substring(u+1):"";if(d=d.trim(),h==="newmtl")i={name:d},o[d]=i;else if(h==="ka"||h==="kd"||h==="ks"||h==="ke"){const p=d.split(s,3);i[h]=[parseFloat(p[0]),parseFloat(p[1]),parseFloat(p[2])]}else i[h]=d}const a=new Sp(this.resourcePath||t,this.materialOptions);return a.setCrossOrigin(this.crossOrigin),a.setManager(this.manager),a.setMaterials(o),a}}class Sp{constructor(e="",t={}){this.baseUrl=e,this.options=t,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.crossOrigin="anonymous",this.side=this.options.side!==void 0?this.options.side:Ka,this.wrap=this.options.wrap!==void 0?this.options.wrap:od}setCrossOrigin(e){return this.crossOrigin=e,this}setManager(e){this.manager=e}setMaterials(e){this.materialsInfo=this.convert(e),this.materials={},this.materialsArray=[],this.nameLookup={}}convert(e){if(!this.options)return e;const t={};for(const r in e){const i=e[r],s={};t[r]=s;for(const o in i){let a=!0,c=i[o];const l=o.toLowerCase();switch(l){case"kd":case"ka":case"ks":this.options&&this.options.normalizeRGB&&(c=[c[0]/255,c[1]/255,c[2]/255]),this.options&&this.options.ignoreZeroRGBs&&c[0]===0&&c[1]===0&&c[2]===0&&(a=!1);break}a&&(s[l]=c)}}return t}preload(){for(const e in this.materialsInfo)this.create(e)}getIndex(e){return this.nameLookup[e]}getAsArray(){let e=0;for(const t in this.materialsInfo)this.materialsArray[e]=this.create(t),this.nameLookup[t]=e,e++;return this.materialsArray}create(e){return this.materials[e]===void 0&&this.createMaterial_(e),this.materials[e]}createMaterial_(e){const t=this,r=this.materialsInfo[e],i={name:e,side:this.side};function s(a,c){return typeof c!="string"||c===""?"":/^https?:\/\//i.test(c)?c:a+c}function o(a,c){if(i[a])return;const l=t.getTextureParams(c,i),u=t.loadTexture(s(t.baseUrl,l.url));u.repeat.copy(l.scale),u.offset.copy(l.offset),u.wrapS=t.wrap,u.wrapT=t.wrap,(a==="map"||a==="emissiveMap")&&(u.encoding=Ed),i[a]=u}for(const a in r){const c=r[a];let l;if(c!=="")switch(a.toLowerCase()){case"kd":i.color=new se().fromArray(c).convertSRGBToLinear();break;case"ks":i.specular=new se().fromArray(c).convertSRGBToLinear();break;case"ke":i.emissive=new se().fromArray(c).convertSRGBToLinear();break;case"map_kd":o("map",c);break;case"map_ks":o("specularMap",c);break;case"map_ke":o("emissiveMap",c);break;case"norm":o("normalMap",c);break;case"map_bump":case"bump":o("bumpMap",c);break;case"map_d":o("alphaMap",c),i.transparent=!0;break;case"ns":i.shininess=parseFloat(c);break;case"d":l=parseFloat(c),l<1&&(i.opacity=l,i.transparent=!0);break;case"tr":l=parseFloat(c),this.options&&this.options.invertTrProperty&&(l=1-l),l>0&&(i.opacity=1-l,i.transparent=!0);break}}return this.materials[e]=new Gs(i),this.materials[e]}getTextureParams(e,t){const r={scale:new ge(1,1),offset:new ge(0,0)},i=e.split(/\s+/);let s;return s=i.indexOf("-bm"),s>=0&&(t.bumpScale=parseFloat(i[s+1]),i.splice(s,2)),s=i.indexOf("-s"),s>=0&&(r.scale.set(parseFloat(i[s+1]),parseFloat(i[s+2])),i.splice(s,4)),s=i.indexOf("-o"),s>=0&&(r.offset.set(parseFloat(i[s+1]),parseFloat(i[s+2])),i.splice(s,4)),r.url=i.join(" ").trim(),r}loadTexture(e,t,r,i,s){const o=this.manager!==void 0?this.manager:ad;let a=o.getHandler(e);a===null&&(a=new ld(o)),a.setCrossOrigin&&a.setCrossOrigin(this.crossOrigin);const c=a.load(e,r,i,s);return t!==void 0&&(c.mapping=t),c}}const dr=class extends Fs{constructor(n){super(n)}load(n,e,t,r){this.path!==void 0&&(n=this.path+n),this.manager.itemStart(n),n=this.manager.resolveURL(n);const i=Wa.get(n);if(i!==void 0)return setTimeout(()=>{e&&e(i),this.manager.itemEnd(n)},0),i;const s=document.createElement("video");return s.preload=dr.preload,s.autoplay=dr.autoplay,s.loop=dr.loop,s.muted=dr.muted,s.src=n,s.style.position="fixed",s.style.top="0",s.style.left="0",s.style.zIndex="-1",document.body.appendChild(s),s.oncanplay=()=>{Wa.add(n,s),this.manager.itemEnd(n),e&&e(s)},s.onerror=o=>{this.manager.itemEnd(n),r&&r(o)},s}};let pr=dr;f(pr,"autoplay",!0);f(pr,"preload","auto");f(pr,"muted",!0);f(pr,"loop",!0);var Le;(function(n){n.BEFORELOAD="beforeLoad",n.LOADING="loading",n.DETAILLOADING="detailLoading",n.DETAILLOADED="detailLoaded",n.LOADED="loaded"})(Le||(Le={}));class Cp extends ft{constructor(e){super();f(this,"resourceMap"),f(this,"loaderMap"),f(this,"loadTotal"),f(this,"loadSuccess"),f(this,"loadError"),f(this,"isError"),f(this,"isLoading"),f(this,"isLoaded"),f(this,"loadDetailMap"),f(this,"path",""),this.resourceMap=new Map,this.loadTotal=0,this.loadSuccess=0,this.loadError=0,this.isError=!1,this.isLoading=!1,this.isLoaded=!1,this.loadDetailMap={};const t=new kd,r=new pr;this.loaderMap={jpg:t,png:t,jpeg:t,obj:new Ep,mtl:new Mp,mp4:r,webm:r,ogg:r},e&&(this.loaderMap=Object.assign(this.loaderMap,e.loaderExtends))}loaded(){return this.dispatchEvent({type:Le.LOADED,loadTotal:this.loadTotal,loadSuccess:this.loadSuccess,loadError:this.loadError,resourceMap:this.resourceMap}),this}checkLoaded(){return this.loadTotal===this.loadSuccess+this.loadError&&(this.isError=!0,this.isLoaded=!0,this.isLoading=!1,this.loaded()),this}setPath(e){const t=this.loaderMap;return Object.keys(t).forEach(r=>{t[r].setPath(e)}),this.path=e,this}load(e){var t;if(this.reset(),this.isLoading=!0,this.dispatchEvent({type:Le.BEFORELOAD,urlList:[...e]}),e.length<=0)return this.checkLoaded(),console.warn("url list is empty."),this;this.loadTotal+=e.length;const r=this.resourceMap,i=this.loaderMap,s=this.loadDetailMap;for(const o of e){let a,c;typeof o=="string"?(a=o,c=((t=a.split(".").pop())==null?void 0:t.toLocaleLowerCase())||""):(a=o.url,c=o.ext.toLocaleLowerCase());const l={url:a,progress:0,error:!1,message:a};if(s[a]=l,r.has(a)){l.progress=1,this.loadSuccess+=1,this.dispatchEvent({type:Le.DETAILLOADED,detail:l}),this.dispatchEvent({type:Le.LOADING,loadTotal:this.loadTotal,loadSuccess:this.loadSuccess,loadError:this.loadError}),this.checkLoaded();continue}if(!c){l.message=`url: ${a} \u5730\u5740\u6709\u8BEF\uFF0C\u65E0\u6CD5\u83B7\u53D6\u6587\u4EF6\u683C\u5F0F\u3002`,console.warn(l.message),l.error=!0,this.isError=!0,this.loadError+=1,this.dispatchEvent({type:Le.DETAILLOADED,detail:l}),this.dispatchEvent({type:Le.LOADING,loadTotal:this.loadTotal,loadSuccess:this.loadSuccess,loadError:this.loadError});continue}const u=i[c];if(!u){l.message=`url: ${a} \u4E0D\u652F\u6301\u6B64\u6587\u4EF6\u683C\u5F0F\u52A0\u8F7D\u3002`,console.warn(l.message),l.error=!0,this.isError=!0,this.loadError+=1,this.dispatchEvent({type:Le.DETAILLOADED,detail:l}),this.dispatchEvent({type:Le.LOADING,loadTotal:this.loadTotal,loadSuccess:this.loadSuccess,loadError:this.loadError});continue}u.loadAsync(a,h=>{l.progress=Number((h.loaded/h.total).toFixed(2)),this.dispatchEvent({type:Le.DETAILLOADING,detail:l})}).then(h=>{l.progress=1,this.loadSuccess+=1,this.resourceMap.set(a,h),this.dispatchEvent({type:Le.DETAILLOADED,detail:l}),this.dispatchEvent({type:Le.LOADING,loadTotal:this.loadTotal,loadSuccess:this.loadSuccess,loadError:this.loadError}),this.checkLoaded()}).catch(h=>{l.error=!0,l.message=JSON.stringify(h),this.loadError+=1,this.dispatchEvent({type:Le.DETAILLOADED,detail:l}),this.dispatchEvent({type:Le.LOADING,loadTotal:this.loadTotal,loadSuccess:this.loadSuccess,loadError:this.loadError}),this.checkLoaded()})}return this}reset(){return this.loadTotal=0,this.loadSuccess=0,this.loadError=0,this.isError=!1,this.isLoading=!1,this.isLoaded=!1,this.loadDetailMap={},this}register(e,t){return this.loaderMap[e]=t,this}hasLoaded(e){return this.resourceMap.has(e)}getResource(e){return this.resourceMap.get(e)}getLoadDetailMap(){return this.loadDetailMap}setLoadDetailMap(e){return this.loadDetailMap=e,this}remove(e){}toJSON(){const e=[];return this.resourceMap.forEach((t,r)=>{e.push(r)}),JSON.stringify(e)}exportConfig(){const e=[];return this.resourceMap.forEach((t,r)=>{e.push(r)}),e}dispose(){return this.resourceMap.clear(),this}}const wp=function(n){if(this.loaderManager)return console.warn("engine has installed loaderManager plugin."),!1;const e=new Cp(n);return this.loaderManager=e,this.loadResources=(t,r)=>{if(this.resourceManager){const i=s=>{r(void 0,s),this.resourceManager.removeEventListener("mapped",i)};try{this.resourceManager.addEventListener("mapped",i)}catch(s){r(s)}}else{const i=s=>{r(void 0,s),this.loaderManager.removeEventListener("loaded",i)};try{this.loaderManager.addEventListener("loaded",i)}catch(s){r(s)}}return this.loaderManager.load(t),this},this.loadResourcesAsync=t=>new Promise((r,i)=>{if(this.resourceManager){const s=o=>{r(o),this.resourceManager.removeEventListener("mapped",s)};try{this.resourceManager.addEventListener("mapped",s)}catch(o){i(o)}}else{const s=o=>{r(o),this.loaderManager.removeEventListener("loaded",s)};try{this.loaderManager.addEventListener("loaded",s)}catch(o){i(o)}}this.loaderManager.load(t)}),!0};var mi,_p=new Uint8Array(16);function xp(){if(!mi&&(mi=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!mi))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return mi(_p)}var Op=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function J(n){return typeof n=="string"&&Op.test(n)}var ye=[];for(var Js=0;Js<256;++Js)ye.push((Js+256).toString(16).substr(1));function Tp(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(ye[n[e+0]]+ye[n[e+1]]+ye[n[e+2]]+ye[n[e+3]]+"-"+ye[n[e+4]]+ye[n[e+5]]+"-"+ye[n[e+6]]+ye[n[e+7]]+"-"+ye[n[e+8]]+ye[n[e+9]]+"-"+ye[n[e+10]]+ye[n[e+11]]+ye[n[e+12]]+ye[n[e+13]]+ye[n[e+14]]+ye[n[e+15]]).toLowerCase();if(!J(t))throw TypeError("Stringified UUID is invalid");return t}function Rp(n,e,t){n=n||{};var r=n.random||(n.rng||xp)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){t=t||0;for(var i=0;i<16;++i)e[t+i]=r[i];return e}return Tp(r)}const Ap={name:"uvPulseShader",uniforms:{uTime:{value:0},uWidth:{value:.5},uColor:{value:{r:1,g:0,b:0}},uCenter:{value:{x:.5,y:.5}}},vertexShader:`
    uniform float uWidth;
    uniform float uTime;
    
    varying vec2 vUv;

    void main () {

      vUv = uv;

      gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
    }`,fragmentShader:`
    uniform float uWidth;
    uniform float uTime;
    uniform vec3 uColor;
    uniform vec2 uCenter;

    varying vec2 vUv;

    void main () {
      // \u6839\u636EuTime\u6C42\u51FA\u767E\u5206\u6BD4
      float deg = mod(degrees(uTime), 360.0);
      if (deg > 0.0 && deg < 90.0) {
        discard;
      }

      float percent = sin(uTime);
      float distancePercent = distance(uCenter, vUv);

      // \u4ECE\u5916\u5411\u91CC
      if (distancePercent > 0.5) {
        discard;
      }
      if (distancePercent < percent) {
        discard;
      }

      if (distancePercent - percent > uWidth) {
        discard;
      }

      float opacity =  (uWidth - (distancePercent - percent)) / uWidth;

      // float opacity = distancePercent;
      gl_FragColor = vec4(uColor, opacity);
    }`},Bt=class{static getShader(n){return Bt.library.has(n)?Bt.cloneShader(Bt.library.get(n)):(console.warn(`con not found shader in shader library: ${n}`),null)}static generateConfig(n){if(!Bt.library.has(n))return console.warn(`con not found shader in shader library: ${n}`),{};const e=Bt.library.get(n),t={shader:n,uniforms:{}};return e.uniforms&&(t.uniforms=JSON.parse(JSON.stringify(e.uniforms))),t}static cloneShader(n){const e={name:n.name};return n.vertexShader&&(e.vertexShader=n.vertexShader),n.fragmentShader&&(e.fragmentShader=n.fragmentShader),n.uniforms&&(e.uniforms=JSON.parse(JSON.stringify(n.uniforms))),e}};let On=Bt;f(On,"library",new Map);f(On,"reigster",function(n){Bt.library.has(n.name)&&console.warn(`shader library has exist shader: ${n.name} that will be cover.`),Bt.library.set(n.name,n)});const Pp={name:"defaultShader"};On.reigster(Pp);On.reigster(Ap);var b;(function(n){n.BOXGEOMETRY="BoxGeometry",n.SPHEREGEOMETRY="SphereGeometry",n.LOADGEOMETRY="LoadGeometry",n.PLANEGEOMETRY="PlaneGeometry",n.CIRCLEGEOMETRY="CircleGeometry",n.CONEGEOMETRY="ConeGeometry",n.CYLINDERGEOMETRY="CylinderGeometry",n.DODECAHEDRONGEOMETRY="DodecahedronGeometry",n.TORUSGEOMETRY="TorusGeometry",n.RINGGEOMETRY="RingGeometry",n.EDGESGEOMETRY="EdgesGeometry",n.LINECURVEGEOMETRY="LineCurveGeometry",n.SPLINECURVEGEOMETRY="SplineCurveGeometry",n.CUBICBEZIERCURVEGEOMETRY="CubicBezierCurveGeometry",n.QUADRATICBEZIERCURVEGEOMETRY="QuadraticBezierCurveGeometry",n.CUSTOMGEOMETRY="CustomGeometry",n.LINETUBEGEOMETRY="LineTubeGeometry",n.SPLINETUBEGEOMETRY="SplineTubeGeometry",n.LINESHAPEGEOMETRY="LineShapeGeometry",n.MESH="Mesh",n.LINE="Line",n.POINTS="Points",n.SPRITE="Sprite",n.GROUP="Group",n.CSS3DOBJECT="CSS3DObject",n.CSS3DSPRITE="CSS3DSprite",n.CSS3DPLANE="CSS3DPlane",n.IMAGETEXTURE="ImageTexture",n.CUBETEXTURE="CubeTexture",n.CANVASTEXTURE="CanvasTexture",n.VIDEOTEXTURE="VideoTexture",n.MESHBASICMATERIAL="MeshBasicMaterial",n.MESHSTANDARDMATERIAL="MeshStandardMaterial",n.MESHPHONGMATERIAL="MeshPhongMaterial",n.SPRITEMATERIAL="SpriteMaterial",n.LINEBASICMATERIAL="LineBasicMaterial",n.POINTSMATERIAL="PointsMaterial",n.SHADERMATERIAL="ShaderMaterial",n.AMBIENTLIGHT="AmbientLight",n.SPOTLIGHT="SpotLight",n.POINTLIGHT="PointLight",n.DIRECTIONALLIGHT="DirectionalLight",n.PERSPECTIVECAMERA="PerspectiveCamera",n.ORTHOGRAPHICCAMERA="OrthographicCamera",n.WEBGLRENDERER="WebGLRenderer",n.CSS3DRENDERER="CSS3DRenderer",n.SCENE="Scene",n.TRNASFORMCONTROLS="TransformControls",n.ORBITCONTROLS="OrbitControls",n.SMAAPASS="SMAAPass",n.UNREALBLOOMPASS="UnrealBloomPass",n.SCRIPTANIMATION="ScriptAnimation",n.KEYFRAMEANIMATION="KeyframeAnimation"})(b||(b={}));const Ft=()=>({vid:"",name:"",type:"Object3D",castShadow:!0,receiveShadow:!0,lookAt:"",visible:!0,matrixAutoUpdate:!0,renderOrder:0,position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},scale:{x:1,y:1,z:1},up:{x:0,y:1,z:0},parent:"",children:[],pointerdown:[],pointermove:[],pointerup:[],pointerenter:[],pointerleave:[],click:[],dblclick:[],contextmenu:[]}),eo=function(){return Object.assign(Ft(),{type:"Light",color:"rgb(255, 255, 255)",intensity:1})},Lp=function(){return Object.assign(Ft(),{type:b.AMBIENTLIGHT,color:"rgb(255, 255, 255)",intensity:1})},Ip=function(){return Object.assign(eo(),{type:b.POINTLIGHT,distance:30,decay:.01})},Dp=function(){return Object.assign(eo(),{type:b.SPOTLIGHT,distance:30,angle:Math.PI/180*45,penumbra:.01,decay:.01})},jp=function(){return Object.assign(eo(),{type:b.DIRECTIONALLIGHT,shadow:{mapSize:{width:512,height:512},camera:{near:.5,far:500}}})},Ie=function(){return{vid:"",type:"Geometry",position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},scale:{x:1,y:1,z:1},groups:[]}},Np=function(){return Object.assign(Ie(),{type:b.BOXGEOMETRY,width:5,height:5,depth:5,widthSegments:1,heightSegments:1,depthSegments:1})},zp=function(){return Object.assign(Ie(),{type:b.SPHEREGEOMETRY,radius:3,widthSegments:32,heightSegments:32,phiStart:0,phiLength:Math.PI*2,thetaStart:0,thetaLength:Math.PI})},kp=function(){return Object.assign(Ie(),{type:b.PLANEGEOMETRY,width:5,height:5,widthSegments:1,heightSegments:1})},$p=function(){return Object.assign(Ie(),{type:b.CIRCLEGEOMETRY,radius:3,segments:8,thetaStart:0,thetaLength:Math.PI*2})},Bp=function(){return Object.assign(Ie(),{type:b.CONEGEOMETRY,radius:3,height:5,radialSegments:8,heightSegments:1,openEnded:!1,thetaStart:0,thetaLength:Math.PI*2})},Fp=function(){return Object.assign(Ie(),{type:b.TORUSGEOMETRY,radius:3,tube:.4,radialSegments:8,tubularSegments:6,arc:Math.PI*2})},Gp=function(){return Object.assign(Ie(),{type:b.RINGGEOMETRY,innerRadius:2,outerRadius:3,thetaSegments:8,phiSegments:8,thetaStart:0,thetaLength:Math.PI*2})},Hp=function(){return Object.assign(Ie(),{type:b.LOADGEOMETRY,url:""})},Up=function(){return Object.assign(Ie(),{type:b.CUSTOMGEOMETRY,attribute:{position:[],color:[],index:[],normal:[],uv:[],uv2:[]}})},Vp=function(){return Object.assign(Ie(),{type:b.CYLINDERGEOMETRY,radiusTop:3,radiusBottom:3,height:5,radialSegments:8,heightSegments:1,openEnded:!1,thetaStart:0,thetaLength:Math.PI*2})},Kp=function(){return Object.assign(Ie(),{type:"",radius:3,detail:0})},Wp=function(){return Object.assign(Ie(),{type:b.LOADGEOMETRY,url:"",thresholdAngle:1})},gi=function(){return Object.assign(Ie(),{path:[],divisions:36,space:!0})},Yp=function(){return Object.assign(gi(),{type:b.LINECURVEGEOMETRY})},qp=function(){return Object.assign(gi(),{type:b.SPLINECURVEGEOMETRY})},Xp=function(){return Object.assign(gi(),{type:b.CUBICBEZIERCURVEGEOMETRY})},Zp=function(){return Object.assign(gi(),{type:b.QUADRATICBEZIERCURVEGEOMETRY})},gl=function(){return Object.assign(Ie(),{type:"TubeGeometry",path:[],tubularSegments:64,radius:1,radialSegments:8,closed:!1})},Qp=function(){return Object.assign(gl(),{type:b.LINETUBEGEOMETRY})},Jp=function(){return Object.assign(gl(),{type:b.SPLINETUBEGEOMETRY})},ef=function(){return Object.assign(Ie(),{path:[],curveSegments:12})},tf=function(){return Object.assign(ef(),{type:b.LINESHAPEGEOMETRY})},yi=function(){return{vid:"",type:"Texture",name:"",mapping:Md,wrapS:nl,wrapT:nl,magFilter:ui,minFilter:Sd,anisotropy:1,format:Ws,offset:{x:0,y:0},repeat:{x:1,y:1},rotation:0,center:{x:0,y:0},matrixAutoUpdate:!0,encoding:rl,needsUpdate:!1}},nf=function(){return Object.assign(yi(),{type:b.IMAGETEXTURE,url:""})},rf=function(){return Object.assign(yi(),{type:b.VIDEOTEXTURE,url:"",minFilter:ui})},sf=function(){return Object.assign(yi(),{type:b.CUBETEXTURE,cube:{nx:"",ny:"",nz:"",px:"",py:"",pz:""},mapping:Cd,flipY:!1})},of=function(){return Object.assign(yi(),{type:b.CANVASTEXTURE,url:"",needsUpdate:!1})},rn=function(){return{vid:"",type:"Material",alphaTest:0,colorWrite:!0,depthTest:!0,depthWrite:!0,fog:!0,name:"",needsUpdate:!1,opacity:1,dithering:!1,shadowSide:null,side:Ka,toneMapped:!0,transparent:!1,visible:!0,blendDst:wd,blendDstAlpha:null,blendEquation:_d,blendEquationAlpha:null,blending:xd,blendSrc:Od,blendSrcAlpha:null}},af=function(){return Object.assign(rn(),{type:b.MESHBASICMATERIAL,color:"rgb(255, 255, 255)",combine:il,aoMapIntensity:1,fog:!0,lightMapIntensity:1,reflectivity:1,refractionRatio:.98,wireframe:!1,wireframeLinecap:"round",wireframeLinejoin:"round",wireframeLinewidth:1,map:"",envMap:"",alphaMap:"",aoMap:"",lightMap:"",specularMap:""})},lf=function(){return Object.assign(rn(),{type:b.MESHSTANDARDMATERIAL,aoMapIntensity:1,bumpScale:1,color:"rgb(255, 255, 255)",displacementScale:1,displacementBias:0,emissive:"rgb(0, 0, 0)",emissiveIntensity:1,envMapIntensity:1,flatShading:!1,lightMapIntensity:1,metalness:0,normalMapType:sl,refractionRatio:.98,roughness:1,wireframe:!1,wireframeLinecap:"round",wireframeLinejoin:"round",roughnessMap:"",normalMap:"",metalnessMap:"",map:"",lightMap:"",envMap:"",emissiveMap:"",displacementMap:"",bumpMap:"",alphaMap:"",aoMap:""})},cf=function(){return Object.assign(rn(),{type:b.MESHPHONGMATERIAL,aoMapIntensity:1,bumpScale:1,color:"rgb(255, 255, 255)",displacementScale:1,displacementBias:0,emissive:"rgb(0, 0, 0)",emissiveIntensity:1,envMapIntensity:1,flatShading:!1,lightMapIntensity:1,normalMapType:sl,refractionRatio:.98,wireframe:!1,wireframeLinecap:"round",wireframeLinejoin:"round",specular:"rgb(17, 17, 17)",shininess:30,combine:il,normalMap:"",map:"",lightMap:"",envMap:"",emissiveMap:"",displacementMap:"",bumpMap:"",alphaMap:"",aoMap:"",specularMap:""})},uf=function(){return Object.assign(rn(),{type:b.SPRITEMATERIAL,color:"rgb(255, 255, 255)",rotation:0,map:"",alphaMap:"",sizeAttenuation:!0})},hf=function(){return Object.assign(rn(),{type:b.LINEBASICMATERIAL,color:"rgb(255, 255, 255)",linecap:"round",linejoin:"round",linewidth:1})},df=function(){return Object.assign(rn(),{type:b.POINTSMATERIAL,map:"",alphaMap:"",color:"rgb(255, 255, 255)",sizeAttenuation:!0,size:1})},pf=function(){return Object.assign(rn(),{type:b.SHADERMATERIAL,shader:"defaultShader",uniforms:{}})},ff=function(){return Object.assign(Ft(),{type:b.PERSPECTIVECAMERA,adaptiveWindow:!1,fov:45,aspect:1920/1080,near:5,far:50})},mf=function(){return Object.assign(Ft(),{type:b.ORTHOGRAPHICCAMERA,adaptiveWindow:!1,left:-1920/32,right:1920/32,top:1080/32,bottom:-1080/32,near:5,far:50,zoom:1})},yl=function(){return{vid:"",type:"Renderer",size:null}},gf=function(){return Object.assign(yl(),{vid:b.WEBGLRENDERER,type:b.WEBGLRENDERER,clearColor:"rgba(0, 0, 0, 0)",outputEncoding:rl,physicallyCorrectLights:!1,shadowMap:{enabled:!1,autoUpdate:!0,needsUpdate:!1,type:Td},toneMapping:Rd,toneMappingExposure:1,pixelRatio:window.devicePixelRatio,adaptiveCamera:!1,viewport:null,scissor:null})},yf=function(){return Object.assign(yl(),{vid:b.CSS3DRENDERER,type:b.CSS3DRENDERER})},vf=function(){return Object.assign(Ft(),{vid:b.SCENE,type:b.SCENE,background:"",environment:"",fog:{type:"",color:"rgb(150, 150, 150)",near:1,far:200,density:.003}})},bf=function(){return{vid:b.TRNASFORMCONTROLS,type:b.TRNASFORMCONTROLS,axis:"XYZ",enabled:!0,mode:"translate",snapAllow:!1,rotationSnap:Math.PI/180*10,translationSnap:5,scaleSnap:.1,showX:!0,showY:!0,showZ:!0,size:1,space:"world"}},Ef=function(){return{vid:b.ORBITCONTROLS,type:b.ORBITCONTROLS,autoRotate:!1,autoRotateSpeed:2,enableDamping:!1,dampingFactor:.05,enabled:!0,enablePan:!0,enableRotate:!0,enableZoom:!0,maxAzimuthAngle:1/0,maxDistance:1/0,maxPolarAngle:Math.PI,maxZoom:1/0,minAzimuthAngle:-1/0,minDistance:0,minPolarAngle:0,minZoom:0,panSpeed:1,rotateSpeed:1,zoomSpeed:1,screenSpacePanning:!0,target:null}},vi=function(){return Object.assign(Ft(),{material:"",geometry:""})},Mf=function(){return Object.assign(vi(),{type:"Sprite",material:"",center:{x:.5,y:.5}})},Sf=function(){return Object.assign(vi(),{type:b.MESH,geometry:"",material:""})},Cf=function(){return Object.assign(vi(),{type:b.POINTS,geometry:"",material:""})},wf=function(){return Object.assign(vi(),{type:b.LINE,geometry:"",material:""})},_f=function(){return Object.assign(Ft(),{type:b.GROUP,children:[]})},vl=function(){return{vid:"",type:"Pass"}},xf=function(){return Object.assign(vl(),{type:b.SMAAPASS})},Of=function(){return Object.assign(vl(),{type:b.UNREALBLOOMPASS,strength:1.5,threshold:0,radius:0})},bl=function(){return{vid:"",type:"",name:"",target:"",attribute:"",play:!0}},Tf=function(){return Object.assign(bl(),{type:b.SCRIPTANIMATION,script:{name:""}})},Rf=function(){return Object.assign(bl(),{type:b.KEYFRAMEANIMATION,script:{name:""}})},to=function(){return Object.assign(Ft(),{type:b.CSS3DOBJECT,element:"",width:50,height:50})},Af=function(){return Object.assign(to(),{type:b.CSS3DPLANE})},Pf=function(){return Object.assign(to(),{type:b.CSS3DSPRITE,rotation2D:0})},Tn={[b.IMAGETEXTURE]:nf,[b.CUBETEXTURE]:sf,[b.CANVASTEXTURE]:of,[b.VIDEOTEXTURE]:rf,[b.MESHBASICMATERIAL]:af,[b.MESHSTANDARDMATERIAL]:lf,[b.MESHPHONGMATERIAL]:cf,[b.SPRITEMATERIAL]:uf,[b.LINEBASICMATERIAL]:hf,[b.POINTSMATERIAL]:df,[b.SHADERMATERIAL]:pf,[b.AMBIENTLIGHT]:Lp,[b.SPOTLIGHT]:Dp,[b.POINTLIGHT]:Ip,[b.DIRECTIONALLIGHT]:jp,[b.BOXGEOMETRY]:Np,[b.SPHEREGEOMETRY]:zp,[b.LOADGEOMETRY]:Hp,[b.CUSTOMGEOMETRY]:Up,[b.PLANEGEOMETRY]:kp,[b.CIRCLEGEOMETRY]:$p,[b.CONEGEOMETRY]:Bp,[b.CYLINDERGEOMETRY]:Vp,[b.EDGESGEOMETRY]:Wp,[b.LINECURVEGEOMETRY]:Yp,[b.SPLINECURVEGEOMETRY]:qp,[b.CUBICBEZIERCURVEGEOMETRY]:Xp,[b.QUADRATICBEZIERCURVEGEOMETRY]:Zp,[b.DODECAHEDRONGEOMETRY]:Kp,[b.SPLINETUBEGEOMETRY]:Jp,[b.LINETUBEGEOMETRY]:Qp,[b.TORUSGEOMETRY]:Fp,[b.RINGGEOMETRY]:Gp,[b.LINESHAPEGEOMETRY]:tf,[b.SPRITE]:Mf,[b.LINE]:wf,[b.MESH]:Sf,[b.POINTS]:Cf,[b.GROUP]:_f,[b.CSS3DOBJECT]:to,[b.CSS3DSPRITE]:Pf,[b.CSS3DPLANE]:Af,[b.PERSPECTIVECAMERA]:ff,[b.ORTHOGRAPHICCAMERA]:mf,[b.WEBGLRENDERER]:gf,[b.CSS3DRENDERER]:yf,[b.SCENE]:vf,[b.TRNASFORMCONTROLS]:bf,[b.ORBITCONTROLS]:Ef,[b.SMAAPASS]:xf,[b.UNREALBLOOMPASS]:Of,[b.SCRIPTANIMATION]:Tf,[b.KEYFRAMEANIMATION]:Rf};var A;(function(n){n.CAMERA="camera",n.LIGHT="light",n.GEOMETRY="geometry",n.TEXTURE="texture",n.MATERIAL="material",n.RENDERER="renderer",n.SCENE="scene",n.SPRITE="sprite",n.CONTROLS="controls",n.LINE="line",n.MESH="mesh",n.POINTS="points",n.GROUP="group",n.CSS3D="css3D",n.PASS="pass",n.MODIFIER="modifier",n.ANIMATION="animation"})(A||(A={}));var no;(function(n){n[n.CAMERA=A.CAMERA]="CAMERA",n[n.LIGHT=A.LIGHT]="LIGHT",n[n.SCENE=A.SCENE]="SCENE",n[n.SPRITE=A.SPRITE]="SPRITE",n[n.LINE=A.LINE]="LINE",n[n.MESH=A.MESH]="MESH",n[n.POINTS=A.POINTS]="POINTS",n[n.GROUP=A.GROUP]="GROUP",n[n.CSS3D=A.CSS3D]="CSS3D"})(no||(no={}));const bi={[b.IMAGETEXTURE]:A.TEXTURE,[b.CUBETEXTURE]:A.TEXTURE,[b.CANVASTEXTURE]:A.TEXTURE,[b.VIDEOTEXTURE]:A.TEXTURE,[b.MESHBASICMATERIAL]:A.MATERIAL,[b.MESHSTANDARDMATERIAL]:A.MATERIAL,[b.MESHPHONGMATERIAL]:A.MATERIAL,[b.SPRITEMATERIAL]:A.MATERIAL,[b.LINEBASICMATERIAL]:A.MATERIAL,[b.POINTSMATERIAL]:A.MATERIAL,[b.SHADERMATERIAL]:A.MATERIAL,[b.AMBIENTLIGHT]:A.LIGHT,[b.SPOTLIGHT]:A.LIGHT,[b.POINTLIGHT]:A.LIGHT,[b.DIRECTIONALLIGHT]:A.LIGHT,[b.BOXGEOMETRY]:A.GEOMETRY,[b.SPHEREGEOMETRY]:A.GEOMETRY,[b.LOADGEOMETRY]:A.GEOMETRY,[b.CUSTOMGEOMETRY]:A.GEOMETRY,[b.PLANEGEOMETRY]:A.GEOMETRY,[b.CIRCLEGEOMETRY]:A.GEOMETRY,[b.CONEGEOMETRY]:A.GEOMETRY,[b.CIRCLEGEOMETRY]:A.GEOMETRY,[b.EDGESGEOMETRY]:A.GEOMETRY,[b.CYLINDERGEOMETRY]:A.GEOMETRY,[b.LINECURVEGEOMETRY]:A.GEOMETRY,[b.SPLINECURVEGEOMETRY]:A.GEOMETRY,[b.CUBICBEZIERCURVEGEOMETRY]:A.GEOMETRY,[b.QUADRATICBEZIERCURVEGEOMETRY]:A.GEOMETRY,[b.LINETUBEGEOMETRY]:A.GEOMETRY,[b.SPLINETUBEGEOMETRY]:A.GEOMETRY,[b.TORUSGEOMETRY]:A.GEOMETRY,[b.RINGGEOMETRY]:A.GEOMETRY,[b.LINESHAPEGEOMETRY]:A.GEOMETRY,[b.SPRITE]:A.SPRITE,[b.LINE]:A.LINE,[b.MESH]:A.MESH,[b.POINTS]:A.POINTS,[b.GROUP]:A.GROUP,[b.CSS3DOBJECT]:A.CSS3D,[b.CSS3DSPRITE]:A.CSS3D,[b.CSS3DPLANE]:A.CSS3D,[b.PERSPECTIVECAMERA]:A.CAMERA,[b.ORTHOGRAPHICCAMERA]:A.CAMERA,[b.WEBGLRENDERER]:A.RENDERER,[b.SCENE]:A.SCENE,[b.TRNASFORMCONTROLS]:A.CONTROLS,[b.ORBITCONTROLS]:A.CONTROLS,[b.SMAAPASS]:A.PASS,[b.UNREALBLOOMPASS]:A.PASS,[b.SCRIPTANIMATION]:A.ANIMATION,[b.KEYFRAMEANIMATION]:A.ANIMATION},$=function(n,e,t=!0,r=!0){if(!Tn[n])return console.error(`type: ${n} can not be found in configList.`),{vid:"",type:n};const i=(o,a)=>{for(const c in a){if(o[c]===void 0){!t&&(o[c]=a[c]),t&&r&&console.warn(`'${n}' config can not set key: ${c}`);continue}typeof a[c]=="object"&&a[c]!==null&&!Array.isArray(a[c])?(o[c]===null&&(o[c]=Jd({},a[c])),i(o[c],a[c])):o[c]=a[c]}},s=Tn[n]();if([b.SHADERMATERIAL].includes(n)){const o=On.generateConfig((e==null?void 0:e.shader)||"defaultShader"),a=t;t=!1,i(s,o),t=a}if([b.SCRIPTANIMATION,b.KEYFRAMEANIMATION].includes(n)&&(t=!1),s.vid===""&&(s.vid=Rp()),e&&i(s,e),$.autoInject&&$.injectEngine){const o=$.injectEngine,a=o.reactiveConfig(s);if($.injectScene&&bi[s.type]in no&&s.type!==b.SCENE){let c=null;typeof $.injectScene=="boolean"?c=o.getObjectConfig(o.scene):typeof $.injectScene=="string"&&(c=o.getConfigBySymbol($.injectScene)),c?c.children.push(s.vid):console.warn("current engine scene can not found it config",o,o.scene)}return a}return s};$.autoInject=!0;$.injectScene=!1;$.injectEngine=null;const fr=(n,e)=>e===1/0?"Infinity":e===-1/0?"-Infinity":e,El=(n,e)=>e==="Infinity"?1/0:e==="-Infinity"?-1/0:e,Ei=n=>JSON.parse(JSON.stringify(n,fr),El);var Ml;(function(n){n.MAPPED="mapped"})(Ml||(Ml={}));class Lf extends ft{constructor(e={}){super();f(this,"structureMap",new Map),f(this,"configMap",new Map),f(this,"resourceMap",new Map),f(this,"configModuleMap",bi),f(this,"mappingHandler",new Map);const t=this.mappingHandler;t.set(HTMLImageElement,this.HTMLImageElementHandler),t.set(HTMLCanvasElement,this.HTMLCanvasElementHandler),t.set(HTMLVideoElement,this.HTMLVideoElementHandler),t.set(Cn,this.Object3DHandler),t.set(HTMLDivElement,this.HTMLDivElementHandler),t.set(HTMLSpanElement,this.HTMLSpanElementHandler);const r=new Map;for(const i in e)r.has(i)&&console.warn(`resourceManager construct params rescource already exist: ${i}, that will be cover.`),r.set(i,e[i]);this.mappingResource(r)}Object3DHandler(e,t){const r=this.structureMap,i=this.configMap,s=this.resourceMap,o=function(a,c){let l=a;s.set(l,c);const u=$(c.type,c,!0,!1);i.set(l,u);const h={type:`${c.type}`,url:l};if(c.geometry){const d=c.geometry;d.computeBoundingBox();const p=d.boundingBox,v=p.getCenter(new V);l=`${a}.geometry`,s.set(l,d);const M=$(b.LOADGEOMETRY,{url:l,position:{x:v.x/(p.max.x-p.min.x)*2,y:v.y/(p.max.y-p.min.y)*2,z:v.z/(p.max.z-p.min.z)*2}});i.set(l,M),h.geometry=l,u.geometry=M.vid}if(c.material){const d=c.material;if(d instanceof Array)h.material=[],u.material=[],d.forEach((p,v,M)=>{l=`${a}.material.${v}`,s.set(l,p);const _=$(p.type,p,!0,!1);i.set(l,_),h.material[v]=l,u.material.push(_.vid)});else{l=`${a}.material`,s.set(l,d);const p=$(d.type,d,!0,!1);i.set(l,p),h.material=l,u.material=p.vid}}if([b.GROUP,b.SCENE].includes(c.type)&&(i.get(h.url).children=[]),c.children.length)if(h.children=[],[b.GROUP,b.SCENE].includes(c.type)){const d=i.get(h.url);c.children.forEach((p,v,M)=>{l=`${a}.children.${v}`,d.children.push(l),h.children[v]=o(l,p)})}else c.children.forEach((d,p,v)=>{l=`${a}.children.${p}`,h.children[p]=o(l,d)});return h};return r.set(e,o(e,t)),this}HTMLImageElementHandler(e,t){return this.resourceMap.set(e,t),this.configMap.set(e,$(b.IMAGETEXTURE,{url:e})),this.structureMap.set(e,e),this}HTMLCanvasElementHandler(e,t){return this.resourceMap.set(e,t),this.configMap.set(e,$(b.CANVASTEXTURE,{url:e})),this.structureMap.set(e,e),this}HTMLVideoElementHandler(e,t){return this.resourceMap.set(e,t),this.configMap.set(e,$(b.VIDEOTEXTURE,{url:e})),this.structureMap.set(e,e),this}HTMLDivElementHandler(e,t){return this.resourceMap.set(e,t),this.configMap.set(e,$(b.CSS3DOBJECT,{element:e})),this.structureMap.set(e,e),this}HTMLSpanElementHandler(e,t){return this.resourceMap.set(e,t),this.configMap.set(e,$(b.CSS3DSPRITE,{element:e})),this.structureMap.set(e,e),this}mappingResource(e){const t=this.structureMap,r=this.configMap,i=this.resourceMap,s=this.mappingHandler,o=(l,u,h)=>Object.getPrototypeOf(h)?s.has(Object.getPrototypeOf(h).constructor)?(s.get(Object.getPrototypeOf(h).constructor).call(this,l,u),!0):o(l,u,Object.getPrototypeOf(h)):!1,a=$.autoInject;$.autoInject=!1;const c={};return e.forEach((l,u)=>{o(u,l,l)?c[u]=this.getResourceConfig(u):(i.set(u,l),t.set(u,u),console.warn("resource manager can not support this resource to generate config",l))}),$.autoInject=a,this.dispatchEvent({type:"mapped",structureMap:t,configMap:r,resourceMap:i,resourceConfig:c}),this}getResourceConfig(e){if(this.structureMap.has(e))if(this.structureMap.get(e)===e){const t=this.configMap.get(e);return t?{[this.configModuleMap[t.type]]:{[t.vid]:Ei(t)}}:{}}else{const t={},r=this.configMap,i=this.configModuleMap,s=this.structureMap.get(e),o=a=>{let c=r.get(a.url),l=i[c.type];if(t[l]||(t[l]={}),t[l][c.vid]=Ei(c),a.geometry&&(c=r.get(a.geometry),l=i[c.type],t[l]||(t[l]={}),t[l][c.vid]=Ei(c)),a.material&&(c=r.get(a.material),l=i[c.type],t[l]||(t[l]={}),t[l][c.vid]=Ei(c)),a.children&&a.children.length)for(const u of a.children)o(u)};return o(s),t}else return console.warn(`resource manager can not found this url resource: ${e}`),{}}hasResource(e){return this.resourceMap.has(e)}remove(e){if(this.structureMap.has(e))if(this.structureMap.get(e)===e){this.structureMap.delete(e),this.configMap.delete(e);const t=this.resourceMap.get(e);return(t==null?void 0:t.dispose)&&t.dispose(),this.resourceMap.delete(e),this}else{const t=this.configMap,r=this.resourceMap,i=this.structureMap.get(e),s=o=>{if(t.delete(o.url),r.delete(o.url),o.geometry&&(t.delete(o.geometry),r.delete(o.geometry)),o.material&&(t.delete(o.material),r.delete(o.material)),o.children&&o.children.length)for(const a of o.children)s(a)};return s(i),this}else return console.warn(`resource manager can not found this url resource: ${e}`),this}dispose(){this.resourceMap.forEach((e,t)=>{e.dispose&&e.dispose()}),this.resourceMap.clear(),this.configMap.clear(),this.structureMap.clear()}}const If=function(n){if(this.resourceManager)return console.warn("engine has installed resourceManager plugin."),!1;const e=new Lf(n.resources);return this.resourceManager=e,this.loaderManager&&this.loaderManager.addEventListener("loaded",t=>{this.resourceManager.mappingResource(t.resourceMap)}),this.registerResources=t=>{const r=new Map;return Object.keys(t).forEach(i=>{r.set(i,t[i])}),this.resourceManager.mappingResource(r),this},this.addEventListener("dispose",()=>{this.resourceManager.dispose()}),!0};function Mi(n,e){return n in e}const mt=class extends ft{constructor(n){super();f(this,"ignoreAttribute"),this.ignoreAttribute=n||{}}static proxyGetter(n,e,t){return Reflect.get(n,e,t)}static proxySetter(n,e,t,r,i,s){if(typeof e=="symbol")return Reflect.set(n,e,t,r);let o;if(n[e]===void 0){if(typeof t=="object"&&t!==null&&!mt.proxyWeakSet.has(t)&&!i.ignoreAttribute[e]){const a=s.concat([e]);t=i.proxyExtends(t,a)}o=Reflect.set(n,e,t),i.broadcast({operate:"add",path:s.concat([]),key:e,value:t})}else{if(typeof t=="object"&&t!==null&&!mt.proxyWeakSet.has(t)&&!i.ignoreAttribute[e]){const a=s.concat([e]);t=i.proxyExtends(t,a)}if(o=Reflect.set(n,e,t),Array.isArray(n)&&e==="length"){const a=n[Symbol.for(mt.arraySymobl)],c=a.length-n.length;if(c>0){let l=0,u=0;for(const h of a)if(!n.includes(h)&&(i.broadcast({operate:"delete",path:s.concat([]),key:u.toString(),value:h}),l+=1,u+=1,l===c))break}return n[Symbol.for(this.arraySymobl)]=n.concat([]),o}i.broadcast({operate:"set",path:s.concat([]),key:e,value:t})}return o}static proxyDeleter(n,e,t,r){const i=n[e],s=Reflect.deleteProperty(n,e);return Array.isArray(n)||typeof e=="symbol"||t.broadcast({operate:"delete",path:r.concat([]),key:e,value:i}),s}proxyExtends(n,e=[]){if(mt.proxyWeakSet.has(n)||typeof n!="object")return n;const t={get:mt.proxyGetter,set:(i,s,o,a)=>mt.proxySetter(i,s,o,a,this,e),deleteProperty:(i,s)=>mt.proxyDeleter(i,s,this,e)};if(typeof n=="object"&&n!==null)for(const i in n){const s=e.concat([i]);let o=this.ignoreAttribute,a=!1;for(const c of s.slice(1)){if(o[c]===!0){a=!0;break}o[c]&&(o=o[c])}a||Mi(i,n)&&typeof n[i]=="object"&&n[i]!==null&&(Array.isArray(n[i])&&(n[i][Symbol.for(mt.arraySymobl)]=n[i].concat([])),n[i]=this.proxyExtends(n[i],s))}const r=new Proxy(n,t);return mt.proxyWeakSet.add(r),r}broadcast({operate:n,path:e,key:t,value:r}){return{__poto__:!0,length:!0}[t]?this:(this.dispatchEvent({type:"broadcast",notice:{operate:n,path:e,key:t,value:r}}),this)}};let ro=mt;f(ro,"proxyWeakSet",new WeakSet);f(ro,"arraySymobl","vis.array");class Df{constructor(){f(this,"rule"),f(this,"memberSet"),this.rule=function(){},this.memberSet=new Set}apply(e){return this.memberSet.add(e),this}cancel(e){return this.memberSet.delete(e),this}setRule(e){return this.rule=e,this}translate(e){const t=this.rule;return this.memberSet.forEach(r=>{t(e,r)}),this}}class gt{constructor(e,t,r){f(this,"data"),f(this,"broadcast"),f(this,"translater"),this.translater=new Df().setRule(e),this.broadcast=new ro(r),this.data=this.broadcast.proxyExtends(t),this.broadcast.addEventListener("broadcast",i=>{this.translater.translate(i.notice)})}getData(){return this.data}setData(e){return this.data=e,this}proxyData(e){return this.data=this.broadcast.proxyExtends(e),this.data}existSymbol(e){return Boolean(this.data[e])}addConfig(e){return this.data[e.vid]=e,this}getConfig(e){return this.data[e]}removeConfig(e){const t=this.data;t[e]!==void 0&&delete t[e]}addCompiler(e){return e.setTarget(this.data),e.compileAll(),this.translater.apply(e),this}toJSON(e=!0){return e?JSON.stringify(this.exportConfig(),fr):JSON.stringify(this.data,fr)}exportConfig(e=!0){if(e){const t=this.data,r={},i={},s=(o,a,c={})=>{for(const l in o){if(["vid","type"].includes(l)){c[l]=o[l];continue}if(typeof o[l]=="object"&&o[l]!==null){if(Array.isArray(o[l])){if(!o[l].length)continue;c[l]=o[l].map(u=>typeof u=="object"&&u!==null?JSON.parse(JSON.stringify(u)):u);continue}c[l]={},a[l]?(s(o[l],a[l],c[l]),Object.keys(c[l]).length===0&&delete c[l]):c[l]=JSON.parse(JSON.stringify(o[l]))}else a[l]!==o[l]&&(c[l]=o[l])}};for(const o of Object.values(t)){if(!i[o.type]){if(!Tn[o.type]){console.error(`can not font some config with: ${o.type}`);continue}i[o.type]=Tn[o.type]()}r[o.vid]={},s(o,i[o.type],r[o.vid])}return r}else return JSON.parse(JSON.stringify(this.data,fr),El)}load(e){const t=this.data,r={},i=(s,o)=>{for(const a in o)typeof s[a]=="object"&&s[a]!==null&&typeof o[a]=="object"&&o[a]!==null?i(s[a],o[a]):s[a]===void 0&&(s[a]=o[a])};for(const s in e){const o=e[s];if(!r[o.type]){if(!Tn[o.type]){console.error(`can not font some config with: ${o.type}`);continue}r[o.type]=Tn[o.type]()}i(o,r[o.type]),t[s]=o}return this}remove(e){const t=this.data;for(const r in e)t[r]!==void 0&&delete t[r];return this}getModule(){return this.MODULE}}const jf=function(n,e){const{operate:t,key:r,path:i,value:s}=n;if(t==="add"){J(r)&&e.add(r,s);return}if(t==="set"){const o=i.concat([]),a=o.shift()||r;a&&J(a)?e.set(a,o,r,s):console.warn(`texture rule vid is illeage: '${a}'`);return}if(t==="delete"){const o=i[0]||r;J(o)?e.remove(o):console.warn(`texture rule vid is illeage: '${o}'`);return}};class Nf extends gt{constructor(e,t){!e&&(e={});super(jf,e,t);f(this,"MODULE",A.TEXTURE)}}const zf=function(n,e){const{operate:t,key:r,path:i,value:s}=n;if(t==="add"){J(r)&&e.add(r,s);return}if(t==="set"){if(J(r)&&!i.length&&typeof s=="object"){e.cover(r,s);return}const o=i.concat([]),a=o.shift();a&&J(a)?e.set(a,o,r,s):console.warn(`material rule vid is illeage: '${a}'`);return}if(t==="delete"){const o=i[0]||r;J(o)?e.remove(o):console.warn(`texture rule vid is illeage: '${o}'`);return}};class kf extends gt{constructor(e,t){!e&&(e={});super(zf,e,t);f(this,"MODULE",A.MATERIAL)}}class mr extends gt{constructor(e,t,r){!t&&(t=Object.create(Object.prototype));super(e,t,r);f(this,"MODULE",A.GROUP)}}const Si={[b.WEBGLRENDERER]:!0,[b.CSS3DRENDERER]:!0,[b.SCENE]:!0},xt=function(n,e){const{operate:t,key:r,path:i,value:s}=n;if(r==="parent")return;const o=i.concat([]);let a=r,c=r;if(o.length&&(a=o.shift(),o.length&&(c=o[0])),c==="children"){if(t==="add"){e.addChildren(a,s);return}if(t==="delete"){e.removeChildren(a,s);return}}if(c.toLocaleUpperCase()in hr){const l=Number(o.length>2?o[1]:r);if(t==="add"){if(Number.isInteger(Number(r))&&o.length===1){e.addEvent(a,c,s);return}if(!Number.isInteger(l)){console.error(`${e.MODULE} rule: event analysis error.`,n);return}e.updateEvent(a,c,l);return}if(t==="set"){if(!Number.isInteger(l)){console.error(`${e.MODULE} rule: event analysis error.`,n);return}e.updateEvent(a,c,l);return}if(t==="delete"){if(!Number.isInteger(l)){console.error(`${e.MODULE} rule: event analysis error.`,n);return}e.removeEvent(a,c,s);return}}if(t==="add"&&(J(r)||Si[r])){e.add(r,s);return}if(t==="set"){if((a&&J(r)||Si[a])&&!i.length&&typeof s=="object"){e.cover(a,s);return}a&&J(a)||Si[a]?e.set(a,o,r,s):console.warn(`${e.MODULE} rule vid is illeage: '${a}'`);return}if(t==="delete"){(J(r)||Si[r])&&e.remove(r,s);return}},$f=function(n,e){xt(n,e)};class Bf extends mr{constructor(e,t){!e&&(e={});super($f,e,t);f(this,"MODULE",A.LIGHT)}}const Ff=function(n,e){const{operate:t,key:r,path:i,value:s}=n,o=i.length?i[0]:r,a=i.length>=2?i[1]:r,c=i.length?i.concat([]).slice(1):[];if(t==="add"){if(J(o)){if(a==="groups")if(Number.isInteger(Number(r))){e.addGroup(o,s);return}else{console.warn(`geometry rule illeage groups index: ${r}`);return}c.length>0?e.set(o,c,s):e.add(o,s)}else console.warn(`geometry rule vid is illeage: '${r}'`);return}if(t==="set"){if(o&&J(o)){if(a==="groups"){const l=Number(i[2]||r);if(!Number.isInteger(l)){console.warn(`geometry rule illeage groups index: ${l}`);return}e.updateGroup(o,l);return}e.set(o,c,s)}else console.warn(`geometry rule vid is illeage: '${o}'`);return}if(t==="delete"){if(J(o)){if(a==="groups"){const l=Number(i[2]||r);if(!Number.isInteger(l)){console.warn(`geometry rule illeage groups index: ${l}`);return}e.removeGroup(o,l);return}if(i.length&&i[1]==="path"){e.set(o,c,s);return}e.remove(o)}else console.warn(`geometry rule vid is illeage: '${o}'`);return}};class Gf extends gt{constructor(e,t){!e&&(e={});super(Ff,e,t);f(this,"MODULE",A.GEOMETRY)}}const Hf=function(n,e){xt(n,e)};class Uf extends mr{constructor(e,t){!e&&(e={});super(Hf,e,t);f(this,"MODULE",A.CAMERA)}}const Vf=function(n,e){const{operate:t,key:r,value:i}=n,s=n.path.concat([]);if(t==="add"){e.add(i);return}if(t==="set"){if(J(r)||r===b.WEBGLRENDERER){e.add(i);return}let o=r;s.length&&(o=s.shift()),J(o)||o===b.WEBGLRENDERER?e.assembly(o,a=>{a.process({path:s.concat([]),key:r,value:i})}):console.warn(`renderer rule can not support this vid: ${o}`);return}};class Kf extends gt{constructor(e,t){!e&&(e={});super(Vf,e,t);f(this,"MODULE",A.RENDERER)}}const Wf=function(n,e){xt(n,e)};class Yf extends mr{constructor(e,t){!e&&(e={});super(Wf,e,t);f(this,"MODULE",A.SCENE)}}const qf=function(n,e){const{operate:t,key:r,path:i,value:s}=n;if(t==="set"){const o=i.concat([]),a=o.shift();a?e.set(a,o,r,s):r?e.setAll(r):console.warn(`controls rule can not found controls type in set operate: ${a}`)}};class Xf extends gt{constructor(e,t){!e&&(e={});super(qf,e,t);f(this,"MODULE",A.CONTROLS)}}class Ci extends gt{constructor(e,t,r){!t&&(t=Object.create(Object.prototype));super(e,t,r);f(this,"MODULE",A.MESH)}}const Zf=function(n,e){n.key!=="geometry"&&xt(n,e)};class Qf extends Ci{constructor(e,t){!e&&(e={});super(Zf,e,t);f(this,"MODULE",A.SPRITE)}}const Jf=function(n,e){xt(n,e)};class em extends Ci{constructor(e,t){!e&&(e={});super(Jf,e,t);f(this,"MODULE",A.LINE)}}const tm=function(n,e){xt(n,e)};class nm extends Ci{constructor(e,t){!e&&(e={});super(tm,e,t);f(this,"MODULE",A.MESH)}}const rm=function(n,e){xt(n,e)};class im extends Ci{constructor(e,t){!e&&(e={});super(rm,e,t);f(this,"MODULE",A.POINTS)}}const sm=function(n,e){xt(n,e)};class om extends mr{constructor(e,t){!e&&(e={});super(sm,e,t);f(this,"MODULE",A.GROUP)}}const am=function(n,e){const{operate:t,key:r,path:i,value:s}=n,o=i.concat([]);let a=r;if(o.length&&(a=o.shift()),t==="add"){e.add(s);return}if(t==="set"&&e.set(a,o,r,s),t==="delete"){e.remove(s.vid);return}};class lm extends gt{constructor(e,t){!e&&(e={});super(am,e,t);f(this,"MODULE",A.PASS)}}const cm=function(n,e){const{operate:t,key:r,path:i,value:s}=n;if(t==="add"){J(r)?e.add(r,s):console.warn(`animation rule vid is illeage: '${r}'`);return}if(t==="set"){const o=i.concat([]),a=o.shift();a&&J(a)?e.update(a,o,r,s):console.warn(`animation rule vid is illeage: '${a}'`);return}if(t==="delete"||t==="set"&&r==="play"&&s==="false"){J(r)?e.remove(s):console.warn(`animation rule vid is illeage: '${r}'`);return}};class um extends gt{constructor(e,t){!e&&(e={});super(cm,e,t);f(this,"MODULE",A.ANIMATION)}}const hm=function(n,e){xt(n,e)};class dm extends mr{constructor(e,t){!e&&(e={});super(hm,e,t);f(this,"MODULE",A.CSS3D)}}const io=class{constructor(n){f(this,"cameraDataSupport",new Uf),f(this,"lightDataSupport",new Bf),f(this,"geometryDataSupport",new Gf),f(this,"textureDataSupport",new Nf),f(this,"materialDataSupport",new kf),f(this,"rendererDataSupport",new Kf),f(this,"sceneDataSupport",new Yf),f(this,"controlsDataSupport",new Xf),f(this,"spriteDataSupport",new Qf),f(this,"lineDataSupport",new em),f(this,"meshDataSupport",new nm),f(this,"pointsDataSupport",new im),f(this,"groupDataSupport",new om),f(this,"css3DDataSupport",new dm),f(this,"passDataSupport",new lm),f(this,"animationDataSupport",new um),f(this,"dataSupportMap"),n&&Object.keys(n).forEach(t=>{this[t]!==void 0&&(this[t]=n[t])});const e=new Map;Object.keys(this).forEach(t=>{const r=this[t];r instanceof gt&&e.set(r.MODULE,r)}),this.dataSupportMap=e}getDataSupport(n){return this.dataSupportMap.has(n)?this.dataSupportMap.get(n):(console.warn(`can not found this type in dataSupportManager: ${n}`),null)}getSupportData(n){return this.dataSupportMap.has(n)?this.dataSupportMap.get(n).getData():(console.warn(`can not found this type in dataSupportManager: ${n}`),null)}setSupportData(n,e){return this.dataSupportMap.has(n)?this.dataSupportMap.get(n).setData(e):console.warn(`can not found this type in dataSupportManager: ${n}`),this}getConfigBySymbol(n){const e=this.dataSupportMap.values();for(const t of e){const r=t.getConfig(n);if(r)return r}return null}removeConfigBySymbol(...n){const e=this.dataSupportMap.values();for(const t of n)for(const r of e)if(r.existSymbol(t)){r.removeConfig(t);break}return this}getModuleBySymbol(n){const e=this.dataSupportMap.values();for(const t of e)if(t.existSymbol(n))return t.MODULE;return null}applyConfig(...n){for(const e of n){const t=io.configModuleMap[e.type];t?this.dataSupportMap.get(t).addConfig(e):console.warn(`dataSupportManager can not found this config module: ${e.type}`)}return this}reactiveConfig(n){const e=io.configModuleMap[n.type];return e?this.dataSupportMap.get(e).addConfig(n).getConfig(n.vid):(console.warn(`dataSupportManager can not found this config module: ${n.type}`),n)}load(n){return this.dataSupportMap.forEach((t,r)=>{n[r]&&t.load(n[r])}),this}remove(n){return this.dataSupportMap.forEach((t,r)=>{n[r]&&t.remove(n[r])}),this}toJSON(n={},e=!0){return JSON.stringify(this.exportConfig(n,e),fr)}exportConfig(n={},e=!0){return this.dataSupportMap.forEach((r,i)=>{n[i]=r.exportConfig(e)}),n}};let Sl=io;f(Sl,"configModuleMap",bi);const pm=function(n){if(this.dataSupportManager)return console.warn("engine has installed dataSupportManager plugin."),!1;const e=new Sl(n);return this.dataSupportManager=e,this.applyConfig=function(...t){return this.dataSupportManager.applyConfig(...t),this},this.reactiveConfig=function(t){return this.dataSupportManager.reactiveConfig(t)},this.getConfigBySymbol=function(t){return this.dataSupportManager.getConfigBySymbol(t)},this.removeConfigBySymbol=function(...t){return this.dataSupportManager.removeConfigBySymbol(...t),this},this.toJSON=function(){if(this.loaderManager){const t={assets:JSON.parse(this.loaderManager.toJSON())};return this.dataSupportManager.toJSON(t)}return this.dataSupportManager.toJSON()},this.exportConfig=function(){let t={};return this.loaderManager&&(t={assets:this.loaderManager.exportConfig()}),this.dataSupportManager.exportConfig(t)},this.completeSet.add(()=>{const t=this.dataSupportManager.getDataSupport(A.RENDERER).getData();t.WebGLRenderer||(t.WebGLRenderer=$(b.WEBGLRENDERER));const r=this.dataSupportManager.getDataSupport(A.CONTROLS).getData();this.transformControls&&(r[b.TRNASFORMCONTROLS]||(r[b.TRNASFORMCONTROLS]=$(b.TRNASFORMCONTROLS))),this.orbitControls&&(r[b.ORBITCONTROLS]||(r[b.ORBITCONTROLS]=$(b.ORBITCONTROLS)))}),!0};class Be{static applyConfig(e,t,r={},i){const s=Object.assign({vid:!0,type:!0},r),o=(a,c)=>{for(const l in a)if(!s[l]){if(typeof a[l]=="object"&&typeof a[l]!==null&&Mi(l,c)){o(a[l],c[l]);continue}Mi(l,c)&&(c[l]=a[l])}};o(e,t),i&&i()}constructor(){}}const fm={name:"linearTime",multiply:1},mm=function(n,e,t,r){return e[t]===void 0?(console.warn(`object not exist attribute: ${t}`,e),i=>{}):typeof e[t]!="number"?(console.warn("object attribute is not typeof number.",e,t),i=>{}):i=>{e[t]+=i.delta*r.multiply}},gm={name:"sinWave",wavelength:1,offset:0,amplitude:1,speed:1},ym=function(n,e,t,r){if(e[t]===void 0)return console.warn(`object not exist attribute: ${t}`,e),s=>{};if(typeof e[t]!="number")return console.warn("object attribute is not typeof number.",e,t),s=>{};const i=e[t];return s=>{e[t]=i+r.amplitude*Math.sin(s.total*r.speed/r.wavelength)+r.offset}},Ot=class{static generateConfig(n,e){if(!Ot.configLibrary.has(n))return console.warn(`event library can not found config by name: ${n}`),{name:""};const t=(i,s)=>{for(const o in s)i[o]!==void 0&&(typeof s[o]=="object"&&s[o]!==null&&!Array.isArray(s[o])?t(i[o],s[o]):i[o]=s[o])},r=JSON.parse(JSON.stringify(Ot.configLibrary.get(n)));return t(r,e),r}static generateScript(n,e,t,r){return Ot.generatorLibrary.has(r.name)?Ot.generatorLibrary.get(r.name)(n,e,t,r):(console.error(`event library can not found generator by name: ${r.name}`),()=>{})}static has(n){return Ot.configLibrary.has(n)}};let Gt=Ot;f(Gt,"configLibrary",new Map);f(Gt,"generatorLibrary",new Map);f(Gt,"register",function(n,e){Ot.configLibrary.has(n.name)&&console.warn(`EventLibrary has already exist this event generator: ${n.name}, that will be cover.`),Ot.configLibrary.set(n.name,JSON.parse(JSON.stringify(n))),Ot.generatorLibrary.set(n.name,e)});Gt.register(fm,mm);Gt.register(gm,ym);class vm extends Be{constructor(){super();f(this,"MODULE",A.ANIMATION),f(this,"target",{}),f(this,"engine"),f(this,"objectMapSet",new Set),f(this,"scriptAniSymbol","vis.scriptAni")}linkObjectMap(...e){for(const t of e)this.objectMapSet.has(t)||this.objectMapSet.add(t);return this}linkTextureMap(e){return this.objectMapSet.add(e),this}linkMaterialMap(e){return this.objectMapSet.add(e),this}getObject(e){for(const t of this.objectMapSet)if(t.has(e))return t.get(e);return console.error(`animation compiler can not found object which vid: ${e}`),{}}add(e,t){const r=this.engine.renderManager;let i=this.getObject(t.target);const s=t.attribute.split(".");s.shift();const o=s.pop();for(const a of s){if(i[a]===void 0){console.error(`animaton compiler: target object can not found key: ${a}`,i);break}i=i[a]}if(t.type===b.SCRIPTANIMATION){const a=Gt.generateScript(this.engine,i,o,t.script);t[Symbol.for(this.scriptAniSymbol)]=a,t.play&&r.addEventListener("render",a)}else console.warn(`animation compiler can not support this type config: ${t.type}`);return this}update(e,t,r,i){if(!this.target[e])return console.warn(`AnimationCompiler can not found vid config: ${e}`),this;const s=this.target[e];if(s.type===b.SCRIPTANIMATION){const o=this.engine.renderManager,a=s[Symbol.for(this.scriptAniSymbol)];if(a===void 0)return console.warn(`AnimationCompiler can not found function in update fun: ${e}`),this;if(r==="play"&&i)return o.hasEventListener("render",a)||o.addEventListener("render",a),this;if(r==="play"&&!i)return o.removeEventListener("render",a),this}return this.remove(this.target[e]).add(e,this.target[e])}remove(e){if(e.type===b.SCRIPTANIMATION){this.engine.renderManager.removeEventListener("render",e[Symbol.for(this.scriptAniSymbol)]);let t=this.engine.getConfigBySymbol(e.target);if(!t)return console.warn(`AnimationCompiler can not found vid object: ${e.target}`),this;const r=e.attribute.split(".");r.shift();const i=r.pop();for(const s of r){if(t[s]===void 0)return console.warn(`animaton compiler: target object can not found key: ${s}`,t),this;t=t[s]}t[i]=t[i]}return this}setTarget(e){return this.target=e,this}useEngine(e){return this.engine=e,this}compileAll(){for(const e of Object.values(this.target))this.add(e.vid,e);return this}dispose(e){for(const t of Object.values(this.target))this.remove(t);return this}getObjectSymbol(e){return null}getObjectBySymbol(e){return null}}const bm={name:"openWindow",params:{url:""}},Em=function(n,e){return()=>{window.open(e.params.url)}},Mm={name:"visibleObject",params:{target:"",visible:!0,delay:0}},Sm=function(n,e){const t=e.params,r=n.getObjectBySymbol(t.target);return r?()=>{setTimeout(()=>{r.visible=t.visible},t.delay)}:(console.warn(`basic event visibleObject: can not found vid object: ${t.target}`),()=>{})},Cm={name:"addClass",params:{target:"",className:"",delay:0}},wm=function(n,e){const t=e.params,r=[];if(t.target==="all")n.scene.traverse(i=>{i instanceof di&&r.push(i)});else if(Array.isArray(t.target))t.target.forEach(i=>{const s=n.getObjectBySymbol(i);s?r.push(s):console.warn(`basic event AddClass: can not found vid object: ${t.target}`)});else{const i=n.getObjectBySymbol(t.target);if(!i)return console.warn(`basic event AddClass: can not found vid object: ${t.target}`),()=>{};if(!(i instanceof di))return console.warn("basic event AddClass: object is not a CSS3DObject."),()=>{};r.push(i)}return r.length?()=>{setTimeout(()=>{r.forEach(i=>{i.element.classList.add(t.className)})},t.delay)}:(console.warn(`basic event AddClass: can not found vid object: ${t.target}`),()=>{})},_m={name:"changeScene",params:{scene:"Scene",delay:0}},xm=function(n,e){const t=e.params;return()=>{setTimeout(()=>{n.setScene(t.scene)},t.delay)}},Om={name:"switchAnimate",params:{target:"",toggle:"auto",delay:0}},Tm=function(n,e){const t=e.params,r=n.getConfigBySymbol(t.target);return r?()=>{setTimeout(()=>{if(t.toggle==="auto"){r.play!=r.play;return}if(t.toggle==="off"){r.play=!1;return}if(t.toggle==="on"){r.play=!0;return}},t.delay)}:(console.warn(`basic event switchAnimate: can not found vid config: ${t.target}`),()=>{})};var Ne={Linear:{None:function(n){return n}},Quadratic:{In:function(n){return n*n},Out:function(n){return n*(2-n)},InOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)}},Cubic:{In:function(n){return n*n*n},Out:function(n){return--n*n*n+1},InOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)}},Quartic:{In:function(n){return n*n*n*n},Out:function(n){return 1- --n*n*n*n},InOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)}},Quintic:{In:function(n){return n*n*n*n*n},Out:function(n){return--n*n*n*n*n+1},InOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)}},Sinusoidal:{In:function(n){return 1-Math.cos(n*Math.PI/2)},Out:function(n){return Math.sin(n*Math.PI/2)},InOut:function(n){return .5*(1-Math.cos(Math.PI*n))}},Exponential:{In:function(n){return n===0?0:Math.pow(1024,n-1)},Out:function(n){return n===1?1:1-Math.pow(2,-10*n)},InOut:function(n){return n===0?0:n===1?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(-Math.pow(2,-10*(n-1))+2)}},Circular:{In:function(n){return 1-Math.sqrt(1-n*n)},Out:function(n){return Math.sqrt(1- --n*n)},InOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)}},Elastic:{In:function(n){return n===0?0:n===1?1:-Math.pow(2,10*(n-1))*Math.sin((n-1.1)*5*Math.PI)},Out:function(n){return n===0?0:n===1?1:Math.pow(2,-10*n)*Math.sin((n-.1)*5*Math.PI)+1},InOut:function(n){return n===0?0:n===1?1:(n*=2,n<1?-.5*Math.pow(2,10*(n-1))*Math.sin((n-1.1)*5*Math.PI):.5*Math.pow(2,-10*(n-1))*Math.sin((n-1.1)*5*Math.PI)+1)}},Back:{In:function(n){var e=1.70158;return n*n*((e+1)*n-e)},Out:function(n){var e=1.70158;return--n*n*((e+1)*n+e)+1},InOut:function(n){var e=1.70158*1.525;return(n*=2)<1?.5*(n*n*((e+1)*n-e)):.5*((n-=2)*n*((e+1)*n+e)+2)}},Bounce:{In:function(n){return 1-Ne.Bounce.Out(1-n)},Out:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},InOut:function(n){return n<.5?Ne.Bounce.In(n*2)*.5:Ne.Bounce.Out(n*2-1)*.5+.5}}},gr;typeof self=="undefined"&&typeof process!="undefined"&&process.hrtime?gr=function(){var n=process.hrtime();return n[0]*1e3+n[1]/1e6}:typeof self!="undefined"&&self.performance!==void 0&&self.performance.now!==void 0?gr=self.performance.now.bind(self.performance):Date.now!==void 0?gr=Date.now:gr=function(){return new Date().getTime()};var Rn=gr,Rm=function(){function n(){this._tweens={},this._tweensAddedDuringUpdate={}}return n.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(t){return e._tweens[t]})},n.prototype.removeAll=function(){this._tweens={}},n.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},n.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},n.prototype.update=function(e,t){e===void 0&&(e=Rn()),t===void 0&&(t=!1);var r=Object.keys(this._tweens);if(r.length===0)return!1;for(;r.length>0;){this._tweensAddedDuringUpdate={};for(var i=0;i<r.length;i++){var s=this._tweens[r[i]],o=!t;s&&s.update(e,o)===!1&&!t&&delete this._tweens[r[i]]}r=Object.keys(this._tweensAddedDuringUpdate)}return!0},n}(),yr={Linear:function(n,e){var t=n.length-1,r=t*e,i=Math.floor(r),s=yr.Utils.Linear;return e<0?s(n[0],n[1],r):e>1?s(n[t],n[t-1],t-r):s(n[i],n[i+1>t?t:i+1],r-i)},Bezier:function(n,e){for(var t=0,r=n.length-1,i=Math.pow,s=yr.Utils.Bernstein,o=0;o<=r;o++)t+=i(1-e,r-o)*i(e,o)*n[o]*s(r,o);return t},CatmullRom:function(n,e){var t=n.length-1,r=t*e,i=Math.floor(r),s=yr.Utils.CatmullRom;return n[0]===n[t]?(e<0&&(i=Math.floor(r=t*(1+e))),s(n[(i-1+t)%t],n[i],n[(i+1)%t],n[(i+2)%t],r-i)):e<0?n[0]-(s(n[0],n[0],n[1],n[1],-r)-n[0]):e>1?n[t]-(s(n[t],n[t],n[t-1],n[t-1],r-t)-n[t]):s(n[i?i-1:0],n[i],n[t<i+1?t:i+1],n[t<i+2?t:i+2],r-i)},Utils:{Linear:function(n,e,t){return(e-n)*t+n},Bernstein:function(n,e){var t=yr.Utils.Factorial;return t(n)/t(e)/t(n-e)},Factorial:function(){var n=[1];return function(e){var t=1;if(n[e])return n[e];for(var r=e;r>1;r--)t*=r;return n[e]=t,t}}(),CatmullRom:function(n,e,t,r,i){var s=(t-n)*.5,o=(r-e)*.5,a=i*i,c=i*a;return(2*e-2*t+s+o)*c+(-3*e+3*t-2*s-o)*a+s*i+e}}},Am=function(){function n(){}return n.nextId=function(){return n._nextId++},n._nextId=0,n}(),Cl=new Rm,ve=function(){function n(e,t){t===void 0&&(t=Cl),this._object=e,this._group=t,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=Ne.Linear.None,this._interpolationFunction=yr.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=Am.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return n.prototype.getId=function(){return this._id},n.prototype.isPlaying=function(){return this._isPlaying},n.prototype.isPaused=function(){return this._isPaused},n.prototype.to=function(e,t){return this._valuesEnd=Object.create(e),t!==void 0&&(this._duration=t),this},n.prototype.duration=function(e){return this._duration=e,this},n.prototype.start=function(e){if(this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var t in this._valuesStartRepeat)this._swapEndStartRepeatValues(t),this._valuesStart[t]=this._valuesStartRepeat[t]}return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e!==void 0?typeof e=="string"?Rn()+parseFloat(e):e:Rn(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},n.prototype._setupProperties=function(e,t,r,i){for(var s in r){var o=e[s],a=Array.isArray(o),c=a?"array":typeof o,l=!a&&Array.isArray(r[s]);if(!(c==="undefined"||c==="function")){if(l){var u=r[s];if(u.length===0)continue;u=u.map(this._handleRelativeValue.bind(this,o)),r[s]=[o].concat(u)}if((c==="object"||a)&&o&&!l){t[s]=a?[]:{};for(var h in o)t[s][h]=o[h];i[s]=a?[]:{},this._setupProperties(o,t[s],r[s],i[s])}else typeof t[s]=="undefined"&&(t[s]=o),a||(t[s]*=1),l?i[s]=r[s].slice().reverse():i[s]=t[s]||0}}},n.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},n.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},n.prototype.pause=function(e){return e===void 0&&(e=Rn()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=e,this._group&&this._group.remove(this),this)},n.prototype.resume=function(e){return e===void 0&&(e=Rn()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this)},n.prototype.stopChainedTweens=function(){for(var e=0,t=this._chainedTweens.length;e<t;e++)this._chainedTweens[e].stop();return this},n.prototype.group=function(e){return this._group=e,this},n.prototype.delay=function(e){return this._delayTime=e,this},n.prototype.repeat=function(e){return this._initialRepeat=e,this._repeat=e,this},n.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},n.prototype.yoyo=function(e){return this._yoyo=e,this},n.prototype.easing=function(e){return this._easingFunction=e,this},n.prototype.interpolation=function(e){return this._interpolationFunction=e,this},n.prototype.chain=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._chainedTweens=e,this},n.prototype.onStart=function(e){return this._onStartCallback=e,this},n.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},n.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},n.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},n.prototype.onStop=function(e){return this._onStopCallback=e,this},n.prototype.update=function(e,t){if(e===void 0&&(e=Rn()),t===void 0&&(t=!0),this._isPaused)return!0;var r,i,s=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(e>s)return!1;t&&this.start(e)}if(this._goToEnd=!1,e<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),i=(e-this._startTime)/this._duration,i=this._duration===0||i>1?1:i;var o=this._easingFunction(i);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,o),this._onUpdateCallback&&this._onUpdateCallback(this._object,i),i===1)if(this._repeat>0){isFinite(this._repeat)&&this._repeat--;for(r in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[r]=="string"&&(this._valuesStartRepeat[r]=this._valuesStartRepeat[r]+parseFloat(this._valuesEnd[r])),this._yoyo&&this._swapEndStartRepeatValues(r),this._valuesStart[r]=this._valuesStartRepeat[r];return this._yoyo&&(this._reversed=!this._reversed),this._repeatDelayTime!==void 0?this._startTime=e+this._repeatDelayTime:this._startTime=e+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var a=0,c=this._chainedTweens.length;a<c;a++)this._chainedTweens[a].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},n.prototype._updateProperties=function(e,t,r,i){for(var s in r)if(t[s]!==void 0){var o=t[s]||0,a=r[s],c=Array.isArray(e[s]),l=Array.isArray(a),u=!c&&l;u?e[s]=this._interpolationFunction(a,i):typeof a=="object"&&a?this._updateProperties(e[s],o,a,i):(a=this._handleRelativeValue(o,a),typeof a=="number"&&(e[s]=o+(a-o)*i))}},n.prototype._handleRelativeValue=function(e,t){return typeof t!="string"?t:t.charAt(0)==="+"||t.charAt(0)==="-"?e+parseFloat(t):parseFloat(t)},n.prototype._swapEndStartRepeatValues=function(e){var t=this._valuesStartRepeat[e],r=this._valuesEnd[e];typeof r=="string"?this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(r):this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=t},n}(),yt=Cl;yt.getAll.bind(yt);yt.removeAll.bind(yt);yt.add.bind(yt);yt.remove.bind(yt);yt.update.bind(yt);var it;(function(n){n.ELN="ELN",n.EQI="EQI",n.EQO="EQO",n.EASING_LINEAR_NONE="EASING_LINEAR_NONE",n.EASING_QUARTIC_IN="EASING_QUARTIC_IN",n.EASING_QUARTIC_OUT="EASING_QUARTIC_OUT",n.EASING_QUARTIC_INOUT="EASING_QUARTIC_INOUT",n.EASING_QUADRATIC_IN="EASING_QUADRATIC_IN",n.EASING_QUADRATIC_OUT="EASING_QUADRATIC_OUT",n.EASING_QUADRATIC_INOUT="EASING_QUADRATIC_INOUT"})(it||(it={}));const be={ELN:Ne.Linear.None,EQI:Ne.Quartic.In,EQO:Ne.Quartic.Out,EASING_LINEAR_NONE:Ne.Linear.None,EASING_QUARTIC_IN:Ne.Quartic.In,EASING_QUARTIC_OUT:Ne.Quartic.Out,EASING_QUARTIC_INOUT:Ne.Quartic.InOut,EASING_QUADRATIC_IN:Ne.Quadratic.In,EASING_QUADRATIC_OUT:Ne.Quadratic.Out,EASING_QUADRATIC_INOUT:Ne.Quadratic.InOut},Pm={name:"moveTo",params:{target:"",position:{x:0,y:0,z:0},delay:0,duration:1e3,timingFunction:it.EASING_QUADRATIC_INOUT}},Lm=function(n,e){const t=e.params,i=n.compilerManager.getObjectBySymbol(t.target);if(!i)return console.warn(`real time animation moveTO: can not found vid object: ${t.target}`),()=>{};const s=n.renderManager,o=n.dataSupportManager.getConfigBySymbol(t.target);if(!o)return console.warn(`can not found object config: ${t.target}`),()=>{};let a=!1;return()=>{if(a)return;a=!0;const c=new ve(i.position).to(t.position).duration(t.duration).delay(t.delay).easing(be[t.timingFunction]).start(),l=u=>{c.update()};s.addEventListener("render",l),c.onComplete(()=>{s.removeEventListener("render",l),o.position.x=t.position.x,o.position.y=t.position.y,o.position.z=t.position.z,a=!1})}},Im={name:"moveFromTo",params:{target:"",from:{x:0,y:0,z:0},to:{x:10,y:10,z:10},delay:0,duration:1e3,timingFunction:it.EASING_QUADRATIC_INOUT}},Dm=function(n,e){const t=e.params,i=n.compilerManager.getObjectBySymbol(t.target);if(!i)return console.warn(`real time animation moveTO: can not found vid object: ${t.target}`),()=>{};const s=n.renderManager,o=n.dataSupportManager.getConfigBySymbol(t.target);if(!o)return console.warn(`can not found object config: ${t.target}`),()=>{};let a=!1;return()=>{if(a)return;a=!0,i.position.set(t.from.x,t.from.y,t.from.z),i.updateMatrix(),i.updateMatrixWorld();const c=new ve(i.position).to(t.to).duration(t.duration).delay(t.delay).easing(be[t.timingFunction]).start(),l=u=>{c.update()};s.addEventListener("render",l),c.onComplete(()=>{s.removeEventListener("render",l),o.position.x=t.to.x,o.position.y=t.to.y,o.position.z=t.to.z,a=!1})}},jm={name:"moveSpacing",params:{target:"",spacing:{x:10,y:10,z:10},delay:0,duration:1e3,timingFunction:it.EASING_QUADRATIC_INOUT}},Nm=function(n,e){const t=e.params,r=n.getObjectBySymbol(t.target);if(!r)return console.warn(`can not found vid object: ${t.target}`),()=>{};if(!(r instanceof Cn))return console.warn(`object is not instanceof Object3D: ${t.target}`),()=>{};const i=n.renderManager,s=n.getConfigBySymbol(t.target);let o=!1;return()=>{if(o)return;o=!0;const a={x:r.position.x+t.spacing.x,y:r.position.y+t.spacing.y,z:r.position.z+t.spacing.z},c=new ve(r.position).to(a).duration(t.duration).delay(t.delay).easing(be[t.timingFunction]).start(),l=u=>{c.update()};i.addEventListener("render",l),c.onComplete(()=>{i.removeEventListener("render",l),s.position.x=a.x,s.position.y=a.y,s.position.z=a.z,o=!1})}},zm={name:"moveToObject",params:{target:"",to:"",offset:{x:0,y:0,z:0},delay:0,duration:1e3,timingFunction:it.EASING_QUADRATIC_INOUT}},km=function(n,e){const t=e.params,r=n.compilerManager,i=r.getObjectBySymbol(t.target),s=r.getObjectBySymbol(t.to);if(!i)return console.warn(`real time animation MoveToObject: can not found vid object: ${t.target}`),()=>{};if(!s)return console.warn(`real time animation MoveToObject: can not found vid object: ${t.target}`),()=>{};const o=n.renderManager,a=n.dataSupportManager.getConfigBySymbol(t.target);if(!a)return console.warn(`can not found object config: ${t.target}`),()=>{};let c=!1;return()=>{if(c)return;c=!0;const l={x:s.position.x+t.offset.x,y:s.position.y+t.offset.y,z:s.position.z+t.offset.z},u=new ve(i.position).to(l).duration(t.duration).delay(t.delay).easing(be[t.timingFunction]).start(),h=d=>{u.update()};o.addEventListener("render",h),u.onComplete(()=>{o.removeEventListener("render",h),a.position.x=l.x,a.position.y=l.y,a.position.z=l.z,c=!1})}},$m={name:"vector3To",params:{target:"",attribute:".position",props:{x:"x",y:"y",z:"z"},delay:0,duration:500,to:{},timingFunction:it.EASING_QUADRATIC_INOUT}},Bm=function(n,e){var t,r,i;const s=e.params,o=n.compilerManager.getObjectBySymbol(s.target);if(!o)return console.warn(`real time animation vector3To: can not found vid object: ${s.target}`),()=>{};const a=n.renderManager;let c=n.dataSupportManager.getConfigBySymbol(s.target);if(!c)return console.warn(`real time animation vector3To: can not found object config: ${s.target}`),()=>{};const l=s.attribute.split(".");l.shift();let u=o;for(const v of l){if(u[v]===void 0)return console.error(`real time animation vector3To: object can not support key: ${v}`,o),()=>{};u=u[v],c=c[v]}const h=s.props;if(!(h.x in u)||!(h.y in u)||!(h.z in u))return console.error("real time animation vector3To: object can not support props:",u,h),()=>{};if(!(h.x in c)||!(h.y in c)||!(h.z in c))return console.error("real time animation vector3To: config can not support props:",c,h),()=>{};const d={x:(t=s.to.x)!=null?t:u[h.x],y:(r=s.to.y)!=null?r:u[h.y],z:(i=s.to.z)!=null?i:u[h.z]};let p=!1;return()=>{if(p)return;p=!0;const v=new ve(u).to(d).duration(s.duration).delay(s.delay).easing(be[s.timingFunction]).start(),M=_=>{v.update()};a.addEventListener("render",M),v.onComplete(()=>{a.removeEventListener("render",M),c[h.x]=d.x,c[h.y]=d.y,c[h.z]=d.z,p=!1})}},Fm={name:"focusObject",params:{target:"",space:"world",offset:{x:0,y:0,z:20},delay:0,duration:1e3,timingFunction:it.EASING_QUADRATIC_INOUT,back:!0}},Gm=function(n,e){const t=e.params,r=n.getObjectBySymbol(t.target),i=n.camera,s=n.getObjectConfig(i),o=n.orbitControls&&n.orbitControls.object===i,a=n.orbitControls.target;if(!r)return console.warn(`real time animation focusObject: can not found vid object: ${t.target}`),()=>{};if(!(r instanceof Cn))return console.warn(`real time animation focusObject: vid object is not a class of THREE.Object3D: ${t.target}`),()=>{};s||console.warn("engine current camera can not found config.");let c=!1;return()=>{if(c)return;c=!0;const l=n.renderManager;let u={x:r.matrixWorld[12]+t.offset.x,y:r.matrixWorld[13]+t.offset.y,z:r.matrixWorld[14]+t.offset.z};const h={x:i.position.x,y:i.position.y,z:i.position.z};if(t.space==="local"){const C=new V(t.offset.x,t.offset.y,t.offset.z).applyEuler(r.rotation);u={x:r.position.x+C.x,y:r.position.y+C.y,z:r.position.z+C.z}}const d=new ve(i.position).to(u).duration(t.duration).delay(t.delay).easing(be[t.timingFunction]).start();let p;const v={x:i.up.x,y:i.up.y,z:i.up.z};if(t.space==="local"){const C=new V(0,1,0).applyEuler(r.rotation);p=new ve(i.up).to({x:C.x,y:C.y,z:C.z}).duration(t.duration).delay(t.delay).easing(be[t.timingFunction]).start()}let M;const _={x:a.x,y:a.y,z:a.z};o&&(M=new ve(a).to(r.position).duration(t.duration).delay(t.delay).easing(be[t.timingFunction]).start());let m;o&&t.space==="local"?m=C=>{d.update(),p.update(),M.update()}:o?m=C=>{d.update(),M.update()}:t.space==="local"?m=C=>{d.update(),p.update()}:m=C=>{d.update()},l.addEventListener("render",m),d.onComplete(()=>{if(l.removeEventListener("render",m),s&&(s.position.x=u.x,s.position.y=u.y,s.position.z=u.z),c=!1,t.back){const C=()=>{const g=new ve(i.position).to(h).duration(t.duration).delay(t.delay).easing(be[t.timingFunction]).start();let y;t.space==="local"&&(y=new ve(i.up).to(v).duration(t.duration).delay(t.delay).easing(be[t.timingFunction]).start());let E;o&&(E=new ve(a).to(_).duration(t.duration).delay(t.delay).easing(be[t.timingFunction]).start());const S=w=>{g.update(),y&&y.update(),E&&E.update()};g.onComplete(()=>{l.removeEventListener("render",S)}),l.addEventListener("render",S),document.removeEventListener("dblclick",C)};document.addEventListener("dblclick",C)}})}},Hm={name:"fadeObject",params:{target:"",direction:"out",delay:0,duration:300,timingFunction:it.EASING_QUADRATIC_INOUT,visible:!0}},Um=function(n,e){const t=e.params,r=n.getObjectBySymbol(t.target);if(!r)return console.warn(`real time animation fadeObject: can not found vid object: ${t.target}`),()=>{};const i=n.getObjectConfig(r);if(!i.material)return console.warn(`real time animation fadeObject: target can not support fade: ${t.target}`),()=>{};const s=[],o=[],a=Array.isArray(i.material)?[].concat(i.material):[i.material];for(const l of a){const u=n.getObjectBySymbol(l),h=n.getConfigBySymbol(l);if(!(u instanceof ai)){console.error(`real time animation fadeObject: object config material is not instanceof Material: ${l}`);continue}if(!h){console.error(`real time animation fadeObject: object config material can not found config: ${l}`);continue}s.push(u),o.push(h)}let c=!1;return()=>{if(c)return;c=!0;const l=n.renderManager;i.visible=!0,s.forEach((u,h,d)=>{u.visible=!0,u.transparent=!0,u.opacity=t.direction==="in"?0:1,u.needsUpdate=!0;const p=new ve(u).to({opacity:t.direction==="in"?1:0}).duration(t.duration).delay(t.delay).easing(be[t.timingFunction]).start(),v=M=>{p.update()};l.addEventListener("render",v),p.onComplete(()=>{l.removeEventListener("render",v),t.direction==="out"&&t.visible?(o[h].visible=!1,i.visible=!1):t.direction==="in"&&t.visible&&(o[h].visible=!0,i.visible=!0),o[h].opacity=t.direction==="in"?1:0,c=!1})})}},Vm={name:"showToCamera",params:{target:"",offset:{x:0,y:0,z:-30},delay:0,duration:1e3,timingFunction:it.EASING_QUADRATIC_INOUT,back:!0}},Km=function(n,e){const t=e.params,r=n.getObjectBySymbol(t.target),i=n.getConfigBySymbol(t.target),s=n.camera;if(!r)return console.warn(`real time animation showToCamera: can not found vid object: ${t.target}`),()=>{};if(!r)return console.warn(`real time animation showToCamera: can not found vid config: ${t.target}`),()=>{};if(!(r instanceof Cn))return console.warn(`real time animation showToCamera: vid object is not a class of THREE.Object3D: ${t.target}`),()=>{};const o=new Qa,a=new Za,c=new V;let l=!1;return()=>{if(l)return;l=!0;const u=n.renderManager;c.set(t.offset.x,t.offset.y,t.offset.z).applyEuler(s.rotation),c.set(s.position.x+c.x,s.position.y+c.y,s.position.z+c.z),o.lookAt(s.position,c,s.up),a.setFromRotationMatrix(o);const h={x:r.position.x,y:r.position.y,z:r.position.z},d={x:r.rotation.x,y:r.rotation.y,z:r.rotation.z},p=new ve(r.position).to({x:c.x,y:c.y,z:c.z}).duration(t.duration).delay(t.delay).easing(be[t.timingFunction]).start(),v=new ve(r.rotation).to({x:a.x,y:a.y,z:a.z}).duration(t.duration).delay(t.delay).easing(be[t.timingFunction]).start(),M=_=>{p.update(),v.update()};u.addEventListener("render",M),p.onComplete(()=>{if(u.removeEventListener("render",M),i.position.x=c.x,i.position.y=c.y,i.position.z=c.z,i.rotation.x=a.x,i.rotation.y=a.y,i.rotation.z=a.z,l=!1,t.back){const _=()=>{const m=new ve(r.position).to(h).duration(t.duration).delay(t.delay).easing(be[t.timingFunction]).start(),C=new ve(r.rotation).to(d).duration(t.duration).delay(t.delay).easing(be[t.timingFunction]).start(),g=y=>{m.update(),C.update()};m.onComplete(()=>{u.removeEventListener("render",g),i.position.x=h.x,i.position.y=h.y,i.position.z=h.z,i.rotation.x=d.x,i.rotation.y=d.y,i.rotation.z=d.z}),u.addEventListener("render",g),document.removeEventListener("dblclick",_)};document.addEventListener("dblclick",_)}})}},Wm={name:"colorChange",params:{target:"",attribute:"color",color:"rgb(255, 255, 255)",delay:0,duration:500,timingFunction:it.EASING_QUADRATIC_INOUT}},Ym=function(n,e){const t=e.params,r=n.getObjectBySymbol(t.target);if(!r)return console.warn(`real time animation ColorChange: can not found vid material: ${t.target}`),()=>{};if(!r[t.attribute]||!(r[t.attribute]instanceof se))return console.warn(`real time animation ColorChange: material attribute is illeage: ${t.attribute}`),()=>{};const i=n.getConfigBySymbol(t.target);if(!i)return console.warn(`real time animation ColorChange: can not found material config: ${t.target}`),()=>{};const s=new se(t.color),o=n.renderManager;let a=!1;return()=>{if(a)return;a=!0;const c=new ve(r[t.attribute]).to({r:s.r,g:s.g,b:s.b}).duration(t.duration).delay(t.delay).easing(be[t.timingFunction]).start(),l=u=>{c.update()};o.addEventListener("render",l),c.onComplete(()=>{o.removeEventListener("render",l),i[t.attribute]=t.color,a=!1})}},Tt=class{static generateConfig(n,e){if(!Tt.configLibrary.has(n))return console.warn(`event library can not found config by name: ${n}`),{name:""};const t=(i,s)=>{for(const o in s)typeof s[o]=="object"&&s[o]!==null&&!Array.isArray(s[o])?t(i[o],s[o]):i[o]=s[o]},r=JSON.parse(JSON.stringify(Tt.configLibrary.get(n)));return t(r,e),r}static generateEvent(n,e){return Tt.generatorLibrary.has(n.name)?Tt.generatorLibrary.get(n.name)(e,n):(console.error(`event library can not found generator by name: ${n.name}`),()=>{})}static has(n){return Tt.configLibrary.has(n)}};let le=Tt;f(le,"configLibrary",new Map);f(le,"generatorLibrary",new Map);f(le,"register",function(n,e){Tt.configLibrary.has(n.name)&&console.warn(`EventLibrary has already exist this event generator: ${n.name}, that will be cover.`),Tt.configLibrary.set(n.name,JSON.parse(JSON.stringify(n))),Tt.generatorLibrary.set(n.name,e)});le.register(bm,Em);le.register(Mm,Sm);le.register(Cm,wm);le.register(_m,xm);le.register(Om,Tm);le.register(Pm,Lm);le.register(Im,Dm);le.register(jm,Nm);le.register(zm,km);le.register($m,Bm);le.register(Fm,Gm);le.register(Hm,Um);le.register(Vm,Km);le.register(Wm,Ym);const vr=class extends Be{constructor(){super();f(this,"IS_OBJECTCOMPILER",!0),f(this,"target"),f(this,"map"),f(this,"weakMap"),f(this,"objectCacheMap"),f(this,"objectMapSet"),f(this,"filterAttribute",{lookAt:!0,parent:!0,children:!0,pointerdown:!0,pointermove:!0,pointerup:!0,pointerenter:!0,pointerleave:!0,click:!0,dblclick:!0,contextmenu:!0}),f(this,"engine"),this.map=new Map,this.weakMap=new WeakMap,this.objectMapSet=new Set,this.objectCacheMap=new WeakMap}getObject(n){for(const e of this.objectMapSet)if(e.has(n))return e.get(n);return null}mergeFilterAttribute(n){const e=(t,r)=>{for(const i in r){if(t[i]===void 0){t[i]=r[i];continue}typeof r[i]=="object"?e(t[i],r[i]):t[i]=r[i]}};return e(this.filterAttribute,n),this}setLookAt(n,e){if(n===e)return console.error("can not set object lookAt itself."),this;if(!this.map.has(n))return console.error(`${this.MODULE}Compiler: can not found object which vid: ${n}.`),this;const t=this.map.get(n);let r=this.objectCacheMap.get(t);if(r||(r={lookAtTarget:null,updateMatrixWorldFun:null},this.objectCacheMap.set(t,r)),!e)return r.updateMatrixWorldFun?(t.updateMatrixWorld=r.updateMatrixWorldFun,r.lookAtTarget=null,r.updateMatrixWorldFun=null,this):this;const i=this.getObject(e);if(!i)return console.warn(`${this.MODULE}Compiler: can not found this vid mapping object: '${n}'`),this;const s=t.updateMatrixWorld;return r.updateMatrixWorldFun=s,r.lookAtTarget=i.position,t.updateMatrixWorld=o=>{s.bind(t)(o),t.lookAt(r.lookAtTarget)},this}addEvent(n,e,t){if(!this.map.has(n))return console.warn(`${this.MODULE} compiler : No matching vid found: ${n}`),this;if(!le.has(t.name))return console.warn(`${this.MODULE} compiler: can not support this event: ${t.name}`),this;const r=this.map.get(n),i=le.generateEvent(t,this.engine),s=Symbol.for(vr.eventSymbol);return t[s]=i,r.addEventListener(e,i),this}removeEvent(n,e,t){if(!this.map.has(n))return console.warn(`${this.MODULE} compiler: No matching vid found: ${n}`),this;const r=this.map.get(n),i=t[Symbol.for(vr.eventSymbol)];return i?(r.removeEventListener(e,i),delete t[Symbol.for(vr.eventSymbol)],this):(console.warn(`${this.MODULE} compiler: event remove can not fun found event in config`,t),this)}updateEvent(n,e,t){if(!this.map.has(n))return console.warn(`${this.MODULE} compiler: No matching vid found: ${n}`),this;const r=this.map.get(n),i=Symbol.for(vr.eventSymbol),s=this.target[n][e][t],o=s[i];if(!o)return console.warn(`${this.MODULE} compiler: can not fun found event: ${n}, ${e}, ${t}`),this;r.removeEventListener(e,o);const a=le.generateEvent(s,this.engine);return s[i]=a,r.addEventListener(e,a),this}addChildren(n,e){if(!this.map.has(n))return console.warn(`${this.MODULE} compiler: can not found this vid in compiler: ${n}.`),this;const t=this.engine.getConfigBySymbol(e);if(!t)return console.warn(`${this.MODULE} compiler: can not foud object config: ${e}`),this;if(t.parent&&t.parent!==n){const s=this.engine.getConfigBySymbol(t.parent);if(!s)return console.warn(`${this.MODULE} compiler: can not foud object config: ${e}`),this;s.children.splice(s.children.indexOf(e),1)}t.parent=n;const r=this.map.get(n),i=this.getObject(e);return i?(r.add(i),this):(console.warn(`${this.MODULE} compiler: can not found this vid in compiler: ${e}.`),this)}removeChildren(n,e){if(!this.map.has(n))return console.warn(`${this.MODULE} compiler: can not found this vid in compiler: ${n}.`),this;const t=this.map.get(n),r=this.getObject(e);if(!r)return console.warn(`${this.MODULE} compiler: can not found this vid in compiler: ${e}.`),this;t.remove(r);const i=this.engine.getConfigBySymbol(e);return i?(i.parent="",this):(console.warn(`${this.MODULE} compiler: remove children function can not foud object config: ${e}`),this)}linkObjectMap(...n){for(const e of n)this.objectMapSet.has(e)||this.objectMapSet.add(e);return this}useEngine(n){return this.engine=n,this}setTarget(n){return this.target=n,this}getMap(){return this.map}getObjectSymbol(n){return this.weakMap.get(n)||null}getObjectBySymbol(n){return this.map.get(n)||null}compileAll(){const n=this.target;for(const e in n)this.add(e,n[e]);return this}add(n,e){const t=this.map.get(n);return t?(Promise.resolve().then(()=>{if(this.setLookAt(n,e.lookAt),e.children.length)for(const i of e.children)this.addChildren(n,i);for(const i of Object.values(hr)){const s=e[i];if(s.length)for(const o of s)this.addEvent(n,i,o)}}),Be.applyConfig(e,t,this.filterAttribute),t.updateMatrix(),t.updateMatrixWorld(),this):(console.error(`${this.MODULE} compiler can not finish add method.`),this)}set(n,e,t,r){if(!this.map.has(n))return console.warn(`${this.MODULE} compiler can not found this vid mapping object: '${n}'`),this;if(t==="lookAt")return this.setLookAt(n,r);let i=this.map.get(n),s=this.filterAttribute;for(const o of e){if(s[o]){if(s[o]===!0)return this;s=s[o]}i=i[o]}return i[t]=r,this}cover(n,e){const t=this.map.get(n);return t?(Promise.resolve().then(()=>{if(this.setLookAt(n,e.lookAt),e.children.length)for(const i of e.children)this.addChildren(n,i);for(const i of Object.values(hr)){t._listeners&&t._listeners[i]&&(t._listeners[i]=[]);const s=e[i];if(s.length)for(const o of s)this.addEvent(n,i,o)}}),Be.applyConfig(e,t,this.filterAttribute),this):(console.error(`${this.MODULE} compiler can not found object: ${n}.`),this)}remove(n,e){if(!this.map.has(n))return console.warn(`${this.MODULE}Compiler: can not found object which vid: ${n}.`),this;if(e.parent){const r=this.engine.getConfigBySymbol(e.parent);r?r.children.includes(n)?r.children.splice(r.children.indexOf(n),1):console.warn(`${this.MODULE} compiler: can not found vid in its parent config: ${n}`):console.warn(`${this.MODULE} compiler: can not found parent object config: ${e.parent}`)}const t=this.map.get(n);return this.weakMap.delete(t),this.objectCacheMap.delete(this.map.get(n)),this.map.delete(n),this}dispose(){return this.map.clear(),this.objectMapSet.clear(),this}};let Ht=vr;f(Ht,"eventSymbol","vis.event");class qm extends Ht{constructor(){super();f(this,"MODULE",A.CAMERA),f(this,"constructMap"),f(this,"cacheCameraMap");const e=new Map;e.set("PerspectiveCamera",()=>new Pe),e.set("OrthographicCamera",()=>new rt(-50,50,50,-50)),this.constructMap=e,this.mergeFilterAttribute({scale:!0,adaptiveWindow:!0}),this.cacheCameraMap=new WeakMap}setAdaptiveWindow(e,t){if(!this.map.has(e))return console.warn(`camera compiler can not found this vid camera: '${e}'`),this;const r=this.map.get(e);let i=this.cacheCameraMap.get(r);if(i||(i={},this.cacheCameraMap.set(r,i)),!t){if(i.setSizeFun&&this.engine.hasEventListener("setSize",i.setSizeFun))return this.engine.removeEventListener("setSize",i.setSizeFun),i.setSizeFun=void 0,this;if(i.setSizeFun&&!this.engine.hasEventListener("setSize",i.setSizeFun))return i.setSizeFun=void 0,this}if(t){if(i.setSizeFun&&this.engine.hasEventListener("setSize",i.setSizeFun))return this;if(i.setSizeFun&&!this.engine.hasEventListener("setSize",i.setSizeFun))return this.engine.addEventListener("setSize",i.setSizeFun),this;let s=a=>{};r instanceof Pe?s=a=>{r.aspect=a.width/a.height,r.updateProjectionMatrix()}:r instanceof rt?s=a=>{const c=a.width,l=a.height;r.left=-c/2,r.right=c/2,r.top=l/2,r.bottom=-l/2,r.updateProjectionMatrix()}:console.warn("camera compiler can not support this class camera:",r),this.engine.addEventListener("setSize",s),i.setSizeFun=s;const o=this.engine.dom;s({type:"setSize",width:o.offsetWidth,height:o.offsetHeight})}return this}add(e,t){if(t.type&&this.constructMap.has(t.type)){const r=this.constructMap.get(t.type)();this.map.set(e,r),this.weakMap.set(r,e),this.setLookAt(t.vid,t.lookAt),this.setAdaptiveWindow(t.vid,t.adaptiveWindow),super.add(e,t),(r instanceof Pe||r instanceof rt)&&r.updateProjectionMatrix()}else console.warn(`CameraCompiler: can not support this config type: ${t.type}`);return this}cover(e,t){return this.setLookAt(t.vid,t.lookAt),this.setAdaptiveWindow(t.vid,t.adaptiveWindow),super.cover(e,t)}set(e,t,r,i){if(r==="adaptiveWindow")return this.setAdaptiveWindow(e,i);super.set(e,t,r,i);const s=this.map.get(e);return s&&(s instanceof Pe||s instanceof rt)&&s.updateProjectionMatrix(),this}dispose(){return super.dispose(),this}}class so{constructor(){f(this,"filterMap",{}),f(this,"assembly",!1),this.filterMap=Object.assign({vid:!0,type:!0},this.filterMap)}mergeAttribute(e,t,r){if(this.filterMap[e.concat([t]).join(".")])return;let i=this.target;if(e.length)for(const s of e)i=i[s];i[t]=r}mergeObject(e){const t=(r,i)=>{for(const s in r)if(!this.filterMap[s]){if(typeof r[s]=="object"&&typeof r[s]!==null){t(r[s],i[s]);continue}i[s]=r[s]}};t(this.config,this.target),e&&e()}processAll(){const e=(t,r)=>{for(const i in t)if(!this.filterMap[r.concat([i]).join(".")]){if(typeof t[i]=="object"&&typeof t[i]!==null){e(t[i],r.concat([i]));continue}this.process({path:r,key:i,value:t[i]})}};return e(this.config,[]),this}}class Xm extends so{constructor(){super();f(this,"config"),f(this,"target"),f(this,"engine")}assemble(e){return this.config=e.config,this.target=e.control,this.engine=e.engine,this.assembly=!0,this}process(e){return this.assembly?e.key==="target"||e.path.length&&e.path[0]==="target"?(this.setTarget(this.config.target),this):(this.mergeAttribute([],e.key,e.value),this):(console.warn("OrbitControls Processor unassembled"),this)}setTarget(e){typeof e=="object"&&e!==null&&(this.target.target=new V(e.x,e.y,e.z))}dispose(){return this.config=void 0,this.target=void 0,this.assembly=!1,this}}class Zm extends so{constructor(){super();f(this,"config"),f(this,"target"),f(this,"filterMap",{translationSnap:!0,rotationSnap:!0,scaleSnap:!0})}assemble(e){return this.config=e.config,this.target=e.control,this.assembly=!0,this}process(e){return this.assembly?this.filterMap[e.key]?this:this[e.key]?(this[e.key](e.value),this):(this.mergeAttribute([],e.key,e.value),this):(console.warn("transformControls Processor unassembled"),this)}dispose(){return this.config=void 0,this.target=void 0,this}snapAllow(e){const t=this.config,r=this.target;return e?(r.translationSnap=t.translationSnap,r.rotationSnap=t.rotationSnap,r.scaleSnap=t.scaleSnap):(r.translationSnap=null,r.rotationSnap=null,r.scaleSnap=null),!0}}class Qm extends Be{constructor(){super();f(this,"MODULE",A.CONTROLS),f(this,"target",{}),f(this,"map",new Map),f(this,"weakMap",new Map),f(this,"engine"),f(this,"processorMap",{[b.TRNASFORMCONTROLS]:new Zm,[b.ORBITCONTROLS]:new Xm})}getAssembly(e){const t=this.target[e];if(!t)return console.warn(`controls compiler can not found this config: '${e}'`),null;const r=this.processorMap[t.type];if(!r)return console.warn(`controls compiler can not support this controls: '${e}'`),null;const i=this.map.get(t.type);return i?{config:t,processer:r,control:i}:(console.warn(`controls compiler can not found type of control: '${t.type}'`),null)}set(e,t,r,i){const s=this.getAssembly(e);return s?(s.processer.assemble({config:s.config,control:s.control,engine:this.engine}).process({key:r,path:t,value:i}),this):this}setAll(e){const t=this.getAssembly(e);return t?(t.processer.assemble({config:t.config,control:t.control,engine:this.engine}).processAll().dispose(),this):this}setTarget(e){return this.target=e,this}useEngine(e){return e.transformControls&&(this.map.set(b.TRNASFORMCONTROLS,e.transformControls),this.weakMap.set(e.transformControls,b.TRNASFORMCONTROLS)),e.orbitControls&&(this.map.set(b.ORBITCONTROLS,e.orbitControls),this.weakMap.set(e.orbitControls,b.ORBITCONTROLS)),this.engine=e,this}compileAll(){for(const e of Object.keys(this.target)){const t=this.getAssembly(e);!t||t.processer.assemble({config:t.config,control:t.control,engine:this.engine}).processAll().dispose()}return this}dispose(){return this.map.forEach(e=>{e.dispose&&e.dispose()}),this.map.clear(),this}getObjectSymbol(e){return this.weakMap.get(e)||null}getObjectBySymbol(e){return this.map.get(e)||null}}class Jm extends di{constructor(e=document.createElement("div")){const t=document.createElement("div"),r=50,i=50;t.style.width=`${r}px`,t.style.height=`${i}px`,t.appendChild(e);super(t);f(this,"geometry"),f(this,"_width"),f(this,"_height"),f(this,"cacheBox",new cd),this.geometry=new _t(r,i),this.geometry.computeBoundingBox(),this._width=r,this._height=i}get width(){return this._width}set width(e){this.geometry.dispose(),this.geometry=new _t(e,this._height),this.geometry.computeBoundingBox(),this.element.style.width=`${e}px`,this._width=e}get height(){return this._height}set height(e){this.geometry.dispose(),this.geometry=new _t(this._width,e),this.geometry.computeBoundingBox(),this.element.style.height=`${e}px`,this._height=e}}class eg extends Jm{constructor(e=document.createElement("div")){super(e);this.element.classList.add("vis-css3d-plane")}raycast(e,t){const r=this.cacheBox.copy(this.geometry.boundingBox);r.applyMatrix4(this.matrixWorld),e.ray.intersectsBox(r)&&t.push({distance:e.ray.origin.distanceTo(this.position),object:this,point:this.position})}}class tg extends Ht{constructor(){super();f(this,"MODULE",A.CSS3D),f(this,"resourceMap"),f(this,"constructMap"),this.constructMap=new Map,this.resourceMap=new Map,this.constructMap.set(b.CSS3DOBJECT,e=>new di(this.getElement(e.element))),this.constructMap.set(b.CSS3DPLANE,e=>new eg(this.getElement(e.element))),this.constructMap.set(b.CSS3DSPRITE,e=>new Wd(this.getElement(e.element))),this.mergeFilterAttribute({element:!0,interactive:!0})}getElement(e){if(!this.resourceMap.has(e))return console.warn(`css3D compiler: can not found resource element: ${e}`),document.createElement("div");const t=this.resourceMap.get(e);return t instanceof HTMLElement?t:(console.warn("css3D compiler can not suport render this resource type.",t.constructor,e),document.createElement("div"))}linkRescourceMap(e){return this.resourceMap=e,this}add(e,t){if(t.type&&this.constructMap.has(t.type)){const r=this.constructMap.get(t.type)(t);r.type=t.type,this.map.set(e,r),this.weakMap.set(r,e),super.add(e,t)}else console.warn(`css3D compiler can not support this type: ${t.type}`);return this}set(e,t,r,i){if(!this.map.has(e))return console.warn(`css3D compiler: can not found this vid mapping object: '${e}'`),this;const s=this.map.get(e);return r==="element"?(s.element.innerHTML="",s.element.appendChild(this.getElement(i)),this):(super.set(e,t,r,i),this)}}class An extends tt{constructor(e=[],t=36,r=!0){super();f(this,"parameters"),this.type="CurveGeometry",this.parameters={path:e.map(i=>i.clone()),space:r,divisions:t}}}class ng extends An{constructor(e=[],t=36,r=!0){super(e,t,r);if(this.type="LineCurveGeometry",!e.length){console.warn("LineCurveGeometry path length at least 1.");return}const i=new ci;for(let o=1;o<e.length;o+=1)i.add(new Ya(e[o-1],e[o]));const s=i.curves.reduce((o,a)=>o+=a.arcLengthDivisions,0);if(t>s){const o=Math.ceil((t-s)/i.curves.length);i.curves.forEach(a=>{a.arcLengthDivisions=a.arcLengthDivisions*(o+1),a.updateArcLengths()})}this.setFromPoints(r?i.getSpacedPoints(t):i.getPoints(t))}}class rg extends An{constructor(e=[],t=36,r=!0){super(e,t,r);if(this.type="SplineCurveGeometry",!e.length){console.warn("SplineCurveGeometry path length at least 1.");return}const i=new qa(e);this.setFromPoints(r?i.getSpacedPoints(t):i.getPoints(t))}}class ig extends An{constructor(e=[],t=36,r=!0){super(e,t,r);this.type="CubicBezierCurveGeometry";const i=new ci;if(e.length<4){console.warn("CubicBezierCurveGeometry path length at least 4.");return}const s=4+(e.length-4)-(e.length-4)%3;for(let a=2;a<s;a+=3)i.add(new Ad(e[a-2],e[a-1],e[a],e[a+1]));const o=i.curves.reduce((a,c)=>a+=c.arcLengthDivisions,0);if(t>o){const a=Math.ceil((t-o)/i.curves.length);i.curves.forEach(c=>{c.arcLengthDivisions=c.arcLengthDivisions*(a+1),c.updateArcLengths()})}this.setFromPoints(r?i.getSpacedPoints(t):i.getPoints(t))}}class sg extends An{constructor(e=[],t=36,r=!0){super(e,t,r);this.type="QuadraticBezierCurveGeometry";const i=new ci;if(e.length<3){console.warn("QuadraticBezierCurveGeometry path length at least 3.");return}const s=3+(e.length-3)-(e.length-3)%2;for(let a=1;a<s;a+=2)i.add(new Pd(e[a-1],e[a],e[a+1]));const o=i.curves.reduce((a,c)=>a+=c.arcLengthDivisions,0);if(t>o){const a=Math.ceil((t-o)/i.curves.length);i.curves.forEach(c=>{c.arcLengthDivisions=c.arcLengthDivisions*(a+1),c.updateArcLengths()})}this.setFromPoints(r?i.getSpacedPoints(t):i.getPoints(t))}}class og extends li{constructor(e=[],t=64,r=1,i=8,s=!1){if(!e.length){console.warn("LineTubeGeometry path length at least 1.");return}const o=new ci;for(let a=1;a<e.length;a+=1)o.add(new Ya(e[a-1],e[a]));super(o,t,r,i,s);this.type="LineTubeGeometry"}}class ag extends li{constructor(e=[],t=64,r=1,i=8,s=!1){if(!e.length){console.warn("SplineTubeGeometry path length at least 1.");return}const o=new qa(e);super(o,t,r,i,s);this.type="SplineTubeGeometry"}}class lg extends tt{constructor(e){super();f(this,"type","LoadBufferGeometry"),e&&this.copy(e)}}class cg extends Hs{constructor(e=[new ge(0,0)],t=12){const r=new ud,i=e[0];if(i){r.moveTo(i.x,i.y);for(let s=1;s<e.length;s+=1)r.lineTo(e[s].x,e[s].y)}super(r,t);this.type="LineShapeGeometry"}}const he=new Map;he.set(b.BOXGEOMETRY,n=>ce.transfromAnchor(new or(n.width,n.height,n.depth,n.widthSegments,n.heightSegments,n.depthSegments),n));he.set(b.SPHEREGEOMETRY,n=>ce.transfromAnchor(new Xa(n.radius,n.widthSegments,n.heightSegments,n.phiStart,n.phiLength,n.thetaStart,n.thetaLength),n));he.set(b.PLANEGEOMETRY,n=>ce.transfromAnchor(new _t(n.width,n.height,n.widthSegments,n.heightSegments),n));he.set(b.LOADGEOMETRY,(n,e)=>ce.transfromAnchor(new lg(e.getGeometry(n.url)),n));he.set(b.CUSTOMGEOMETRY,(n,e)=>ce.transfromAnchor(e.generateGeometry(n.attribute),n));he.set(b.CIRCLEGEOMETRY,n=>ce.transfromAnchor(new hd(n.radius,n.segments,n.thetaStart,n.thetaLength),n));he.set(b.CONEGEOMETRY,n=>ce.transfromAnchor(new dd(n.radius,n.height,n.radialSegments,n.heightSegments,n.openEnded,n.thetaStart,n.thetaLength),n));he.set(b.CYLINDERGEOMETRY,n=>ce.transfromAnchor(new pd(n.radiusTop,n.radiusBottom,n.height,n.radialSegments,n.heightSegments,n.openEnded,n.thetaStart,n.thetaLength),n));he.set(b.EDGESGEOMETRY,(n,e)=>ce.transfromAnchor(new nn(e.getGeometry(n.url),n.thresholdAngle),n));he.set(b.LINECURVEGEOMETRY,n=>ce.transfromAnchor(new ng(n.path.map(e=>new V(e.x,e.y,e.z)),n.divisions,n.space),n));he.set(b.SPLINECURVEGEOMETRY,n=>ce.transfromAnchor(new rg(n.path.map(e=>new V(e.x,e.y,e.z)),n.divisions,n.space),n));he.set(b.CUBICBEZIERCURVEGEOMETRY,n=>ce.transfromAnchor(new ig(n.path.map(e=>new V(e.x,e.y,e.z)),n.divisions,n.space),n));he.set(b.QUADRATICBEZIERCURVEGEOMETRY,n=>ce.transfromAnchor(new sg(n.path.map(e=>new V(e.x,e.y,e.z)),n.divisions,n.space),n));he.set(b.LINETUBEGEOMETRY,n=>ce.transfromAnchor(new og(n.path.map(e=>new V(e.x,e.y,e.z)),n.tubularSegments,n.radius,n.radialSegments,n.closed),n));he.set(b.SPLINETUBEGEOMETRY,n=>ce.transfromAnchor(new ag(n.path.map(e=>new V(e.x,e.y,e.z)),n.tubularSegments,n.radius,n.radialSegments,n.closed),n));he.set(b.TORUSGEOMETRY,n=>ce.transfromAnchor(new fd(n.radius,n.tube,n.radialSegments,n.tubularSegments,n.arc),n));he.set(b.RINGGEOMETRY,n=>ce.transfromAnchor(new md(n.innerRadius,n.outerRadius,n.thetaSegments,n.phiSegments,n.thetaStart,n.thetaLength),n));he.set(b.LINESHAPEGEOMETRY,n=>ce.transfromAnchor(new cg(n.path.map(e=>new ge(e.x,e.y)),n.curveSegments),n));class ce extends Be{constructor(){super();f(this,"MODULE",A.GEOMETRY),f(this,"target",{}),f(this,"map",new Map),f(this,"weakMap",new WeakMap),f(this,"constructMap",he),f(this,"resourceMap",new Map),f(this,"replaceGeometry",new or(5,5,5))}linkRescourceMap(e){return this.resourceMap=e,this}getRescource(e){return this.resourceMap.has(e)?this.resourceMap.has(e)&&this.resourceMap.get(e)instanceof tt?this.resourceMap.get(e).clone():(console.error(`url mapping rescource is not class with BufferGeometry: ${e}`),this.replaceGeometry.clone()):(console.error(`rescoure can not found url: ${e}`),this.replaceGeometry.clone())}getGeometry(e){return this.map.has(e)?this.map.get(e):this.getRescource(e)}generateGeometry(e){const t=new tt;return e.position.length&&t.setAttribute("position",new we(e.position,3)),e.color.length&&t.setAttribute("color",new we(e.color,3)),e.normal.length&&t.setAttribute("normal",new we(e.normal,3)),e.uv.length&&t.setAttribute("uv",new we(e.uv,2)),e.uv2.length&&t.setAttribute("uv2",new we(e.uv2,2)),e.index.length&&t.setIndex(e.index),t}getMap(){return this.map}useEngine(e){return this}setTarget(e){return this.target=e,this}add(e,t){if(t.type&&this.constructMap.has(t.type)){const r=this.constructMap.get(t.type)(t,this);r.clearGroups();for(const i of t.groups)r.addGroup(i.start,i.count,i.materialIndex);this.map.set(e,r),this.weakMap.set(r,e)}return this}addGroup(e,t){return this.map.has(e)?(this.map.get(e).addGroup(t.start,t.count,t.materialIndex),this):(console.warn(`geometry compiler can not found object with vid: ${e}`),this)}updateGroup(e,t){return this.removeGroup(e,t).addGroup(e,this.target[e].groups[t])}removeGroup(e,t){return this.map.has(e)?(this.map.get(e).groups.splice(t,1),this):(console.warn(`geometry compiler can not found object with vid: ${e}`),this)}set(e,t,r){if(!J(e))return console.warn(`geometry compiler set function vid parameters is illeage: '${e}'`),this;if(!this.map.has(e))return console.warn(`geometry compiler set function can not found vid geometry: '${e}'`),this;const i=this.map.get(e),s=this.target[e],o=this.constructMap.get(s.type)(s,this);return i.copy(o),i.dispatchEvent({type:"update"}),i.uuid=o.uuid,o.dispose(),this}remove(e){if(!this.map.has(e))return console.warn(`Geometry Compiler: can not found vid in compiler: ${e}`),this;const t=this.map.get(e);return t.dispose(),this.map.delete(e),this.weakMap.delete(t),this}compileAll(){const e=this.target;for(const t in e)this.add(t,e[t]);return this}dispose(){return this.map.forEach((e,t)=>{e.dispose()}),this}getObjectSymbol(e){return this.weakMap.get(e)||null}getObjectBySymbol(e){return this.map.get(e)||null}}f(ce,"transfromAnchor",function(n,e){!(n instanceof An)&&!(n instanceof li)&&!(n instanceof Hs)&&n.center(),n.computeBoundingBox();const t=n.boundingBox,r=e.position,i=e.rotation,s=e.scale,o=new Us().setFromEuler(new Za(i.x,i.y,i.z,"XYZ"));return n.applyQuaternion(o),n.scale(s.x,s.y,s.z),!(n instanceof An)&&!(n instanceof li)&&!(n instanceof Hs)&&n.center(),n.computeBoundingBox(),n.translate((t.max.x-t.min.x)/2*r.x,(t.max.y-t.min.y)/2*r.y,(t.max.z-t.min.z)/2*r.z),n});class ug extends Ht{constructor(){super();f(this,"MODULE",A.GROUP)}add(e,t){const r=new Va;return this.map.set(e,r),this.weakMap.set(r,e),super.add(e,t),this}dispose(){return super.dispose(),this}}class hg extends Ht{constructor(){super();f(this,"MODULE",A.LIGHT),f(this,"constructMap"),this.constructMap=new Map,this.constructMap.set(b.POINTLIGHT,()=>new el),this.constructMap.set(b.SPOTLIGHT,()=>new Bd),this.constructMap.set(b.AMBIENTLIGHT,()=>new cr),this.constructMap.set(b.DIRECTIONALLIGHT,()=>new ol),this.mergeFilterAttribute({color:!0,scale:!0,rotation:!0})}setLookAt(e,t){return this}add(e,t){if(t.type&&this.constructMap.has(t.type)){const r=this.constructMap.get(t.type)();r.color=new se(t.color),this.map.set(e,r),this.weakMap.set(r,e),super.add(e,t)}else console.warn(`LightCompiler: can not support Light type: ${t.type}.`);return this}cover(e,t){const r=this.map.get(e);return r?(r.color=new se(t.color),super.cover(e,t)):(console.warn(`light compiler can not found light: ${e}`),this)}set(e,t,r,i){if(!this.map.has(e))return console.warn(`LightCompiler: can not found this vid mapping object: '${e}'`),this;const s=this.map.get(e);return r==="color"?(s.color=new se(i),this):(super.set(e,t,r,i),this)}dispose(){return super.dispose(),this}}class wi extends Ht{constructor(){super();f(this,"IS_SOLIDOBJECTCOMPILER",!0),f(this,"geometryMap"),f(this,"materialMap"),this.geometryMap=new Map,this.materialMap=new Map,this.mergeFilterAttribute({geometry:!0,material:!0})}getMaterial(e){return J(e)?this.materialMap.has(e)?this.materialMap.get(e):(console.warn(`${this.MODULE}Compiler: can not found material which vid: ${e}`),this.getReplaceMaterial()):(console.warn(`${this.MODULE}Compiler: material vid parameter is illegal: ${e}`),this.getReplaceMaterial())}getGeometry(e){return J(e)?this.geometryMap.has(e)?this.geometryMap.get(e):(console.warn(`${this.MODULE}Compiler: can not found geometry which vid: ${e}`),this.getReplaceGeometry()):(console.warn(`${this.MODULE}Compiler: geometry vid parameter is illegal: ${e}`),this.getReplaceGeometry())}linkGeometryMap(e){return this.geometryMap=e,this}linkMaterialMap(e){return this.materialMap=e,this}add(e,t){const r=this.map.get(e);if(!r)return console.error(`${this.MODULE} compiler can not finish add method.`),this;if(Array.isArray(r.material))for(const s of r.material)s.dispose();else r.material.dispose();let i;return typeof t.material=="string"?i=this.getMaterial(t.material):i=t.material.map(s=>this.getMaterial(s)),r.material=i,r.isSprite||(r.geometry.dispose(),r.geometry=this.getGeometry(t.geometry)),super.add(e,t),this}set(e,t,r,i){if(!this.map.has(e))return console.warn(`${this.MODULE} compiler can not found this vid mapping object: '${e}'`),this;const s=this.map.get(e);return r==="geometry"&&!s.isSprite?(s.geometry=this.getGeometry(i),this):r==="material"?(s.material=this.getMaterial(i),this):(super.set(e,t,r,i),this)}}class dg extends wi{constructor(){super();f(this,"MODULE",A.LINE),f(this,"replaceMaterial",new kt({color:"rgb(150, 150, 150)"})),f(this,"replaceGeometry",new or(10,10,10))}getReplaceMaterial(){return this.replaceMaterial}getReplaceGeometry(){return this.replaceGeometry}add(e,t){const r=new hi;return this.map.set(e,r),this.weakMap.set(r,e),super.add(e,t),this}dispose(){return super.dispose(),this.replaceGeometry.dispose(),this.replaceMaterial.dispose(),this}}class pg extends Be{constructor(){super();f(this,"MODULE",A.MATERIAL),f(this,"target",{}),f(this,"map",new Map),f(this,"weakMap",new WeakMap),f(this,"constructMap",new Map),f(this,"mapAttribute",{roughnessMap:!0,normalMap:!0,metalnessMap:!0,map:!0,lightMap:!0,envMap:!0,emissiveMap:!0,displacementMap:!0,bumpMap:!0,alphaMap:!0,aoMap:!0,specularMap:!0}),f(this,"colorAttribute",{color:!0,emissive:!0,specular:!0}),f(this,"shaderAttribute",{shader:!0}),f(this,"needsUpdateAttribute",{transparent:!0}),f(this,"texturelMap",new Map),f(this,"resourceMap",new Map),f(this,"cachaColor",new se);const e=new Map;e.set(b.MESHBASICMATERIAL,()=>new Ks),e.set(b.MESHSTANDARDMATERIAL,()=>new tl),e.set(b.MESHPHONGMATERIAL,()=>new Gs),e.set(b.SPRITEMATERIAL,()=>new _n),e.set(b.LINEBASICMATERIAL,()=>new kt),e.set(b.POINTSMATERIAL,()=>new dt),e.set(b.SHADERMATERIAL,t=>{const r=On.getShader(t.shader),i=new Fd;return(r==null?void 0:r.vertexShader)&&(i.vertexShader=r.vertexShader),(r==null?void 0:r.fragmentShader)&&(i.fragmentShader=r.fragmentShader),(r==null?void 0:r.uniforms)&&(i.uniforms=r.uniforms),i}),this.constructMap=e}mergeMaterial(e,t){const r=JSON.parse(JSON.stringify(t)),i={},s=this.colorAttribute;for(const a in s)r[a]&&(e[a]=new se(r[a]),i[a]=!0);const o=this.mapAttribute;for(const a in o)r[a]&&(e[a]=this.getTexture(r[a]),i[a]=!0);return Be.applyConfig(t,e,Object.assign(i,this.shaderAttribute)),e.needsUpdate=!0,this}getTexture(e){if(this.texturelMap.has(e)){const t=this.texturelMap.get(e);return t instanceof ar?t:(console.error(`this object which mapped by vid is not instance of Texture: ${e}`),null)}else return console.error(`texture map can not found this vid: ${e}`),null}linkRescourceMap(e){return this.resourceMap=e,this}linkTextureMap(e){return this.texturelMap=e,this}add(e,t){if(t.type&&this.constructMap.has(t.type)){const r=this.constructMap.get(t.type)(t);this.mergeMaterial(r,t),this.map.set(e,r),this.weakMap.set(r,e)}else console.warn(`material compiler can not support this type: ${t.type}`);return this}set(e,t,r,i){if(!this.map.has(e))return console.warn(`material compiler set function: can not found material which vid is: '${e}'`),this;const s=this.map.get(e);if(this.colorAttribute[r])return s[r]=new se(i),this;if(this.mapAttribute[r])return s[r]=this.getTexture(i),s.needsUpdate=!0,this;let o=s;return t.forEach((a,c,l)=>{o=o[a]}),o[r]=i,this.needsUpdateAttribute[r]&&(s.needsUpdate=!0),this}cover(e,t){return this.map.has(e)?this.mergeMaterial(this.map.get(e),t):(console.warn(`material compiler set function: can not found material which vid is: '${e}'`),this)}remove(e){if(!this.map.has(e))return console.warn(`material compiler set function: can not found material which vid is: '${e}'`),this;const t=this.map.get(e);return t.dispose(),this.map.delete(e),this.weakMap.delete(t),this}getMap(){return this.map}setTarget(e){return this.target=e,this}useEngine(e){return this}compileAll(){const e=this.target;for(const t in e)this.add(t,e[t]);return this}dispose(){return this.map.forEach((e,t)=>{e.dispose()}),this}getObjectSymbol(e){return this.weakMap.get(e)||null}getObjectBySymbol(e){return this.map.get(e)||null}}class fg extends wi{constructor(){super();f(this,"MODULE",A.MESH),f(this,"replaceMaterial",new Ks({color:"rgb(150, 150, 150)"})),f(this,"replaceGeometry",new or(10,10,10))}getReplaceMaterial(){return this.replaceMaterial}getReplaceGeometry(){return this.replaceGeometry}add(e,t){const r=new $t;return this.map.set(e,r),this.weakMap.set(r,e),super.add(e,t),this}dispose(){return super.dispose(),this.replaceGeometry.dispose(),this.replaceMaterial.dispose(),this}}class mg extends Be{constructor(){super();f(this,"MODULE",A.PASS),f(this,"target"),f(this,"map"),f(this,"weakMap"),f(this,"constructMap"),f(this,"composer"),f(this,"width",window.innerWidth*window.devicePixelRatio),f(this,"height",window.innerHeight*window.devicePixelRatio),this.map=new Map,this.weakMap=new WeakMap;const e=new Map;e.set(b.SMAAPASS,()=>new Yd(this.width,this.height)),e.set(b.UNREALBLOOMPASS,t=>new qd(new ge(this.width,this.height),t.strength,t.radius,t.threshold)),this.constructMap=e}setTarget(e){return this.target=e,this}useEngine(e){if(!e.effectComposer)return console.warn("engine need install effectComposer plugin that can use pass compiler."),this;this.composer=e.effectComposer;const t=this.composer.renderer.getPixelRatio();return this.width=Number(this.composer.renderer.domElement.getAttribute("width"))*t,this.height=Number(this.composer.renderer.domElement.getAttribute("height"))*t,this}add(e){if(this.constructMap.has(e.type)){const t=this.constructMap.get(e.type)(e);this.composer.addPass(t),this.map.set(e.vid,t),this.weakMap.set(t,e.vid)}else console.warn(`pass compiler can not support this type pass: ${e.type}.`)}set(e,t,r,i){if(!this.map.has(e))return console.warn(`pass compiler set function: can not found material which vid is: '${e}'`),this;let o=this.map.get(e);return t.forEach((a,c,l)=>{o=o[a]}),o[r]=i,this}remove(e){if(!this.map.has(e))return console.warn(`pass compiler can not found this vid pass: ${e}.`),this;const t=this.map.get(e);return this.composer.removePass(t),this.map.delete(e),this.weakMap.delete(t),this}compileAll(){const e=this.target;for(const t of Object.values(e))this.add(t);return this}dispose(){return this.map.clear(),this}getObjectSymbol(e){return this.weakMap.get(e)||null}getObjectBySymbol(e){return this.map.get(e)||null}}class gg extends wi{constructor(){super();f(this,"MODULE",A.POINTS),f(this,"replaceMaterial",new dt({color:"rgb(150, 150, 150)"})),f(this,"replaceGeometry",new Gd(5))}getReplaceMaterial(){return this.replaceMaterial}getReplaceGeometry(){return this.replaceGeometry}add(e,t){const r=new wt;return this.map.set(e,r),this.weakMap.set(r,e),super.add(e,t),this}dispose(){return super.dispose(),this.replaceGeometry.dispose(),this.replaceMaterial.dispose(),this}}class yg extends so{constructor(){super();f(this,"target"),f(this,"config"),f(this,"engine"),f(this,"rendererCacheData"),this.rendererCacheData={}}assemble(e){return this.target=e.renderer,this.config=e.config,this.engine=e.engine,this.assembly=!0,this}process(e){return this.assembly?this[e.key]?(this[e.key](e.value),this):e.path.length&&this[e.path[0]]?(this[e.path[0]](e.value),this):(this.mergeAttribute(e.path,e.key,e.value),this):(console.warn("webGLRenderer Processor unassembled"),this)}dispose(){return this.target=void 0,this.config=void 0,this.engine=void 0,this.assembly=!1,this}clearColor(e){const t=Number(e.slice(0,-1).split(",").pop().trim());return this.target.setClearColor(e,t),this.target.clear(),this}pixelRatio(e){return this.target.setPixelRatio(e),this.target.clear(),this}size(){const e=this.target,t=this.config.size;if(t)e.setSize(t.x,t.y);else{const r=e.domElement;e.setSize(r.offsetWidth,r.offsetHeight)}return this}viewport(){const e=this.target,t=this.config.viewport;if(t)e.setViewport(t.x,t.y,t.width,t.height);else{const r=e.domElement;e.setViewport(0,0,r.offsetWidth,r.offsetHeight)}return this}scissor(){const e=this.target,t=this.config.scissor;if(t)e.setScissorTest(!0),e.setScissor(t.x,t.y,t.width,t.height);else{e.setScissorTest(!1);const r=e.domElement;e.setScissor(0,0,r.offsetWidth,r.offsetHeight)}return this}adaptiveCamera(e){if(!this.engine)return console.warn("renderer compiler is not set engine."),this;const t=this.target,r=this.engine,i=r.renderManager;if(!e){if(!this.rendererCacheData.adaptiveCameraFun)return this;if(this.rendererCacheData.adaptiveCameraFun)return i.removeEventListener("render",this.rendererCacheData.adaptiveCameraFun),this.rendererCacheData.adaptiveCameraFun=void 0,this}if(e){if(this.rendererCacheData.adaptiveCameraFun)return i.addEventListener("render",this.rendererCacheData.adaptiveCameraFun),this;const s=o=>{const a=r.camera,c=t.domElement.offsetWidth,l=t.domElement.offsetHeight;let u=0,h=0,d=0,p=0,v=0;if(a instanceof Pe)v=a.aspect;else if(a instanceof rt)u=a.right-a.left,h=a.top-a.bottom,v=u/h;else{console.warn("renderer compiler can not support this camera",a);return}v>=1?(u=c,h=u/v,p=l/2-h/2):(h=l,u=h*v,d=c/2-u/2),t.setScissor(d,p,u,h),t.setViewport(d,p,u,h),t.setScissorTest(!0)};this.rendererCacheData.adaptiveCameraFun=s,i.addEventListener("render",this.rendererCacheData.adaptiveCameraFun)}return this}}class vg extends Be{constructor(e){super();f(this,"MODULE",A.RENDERER),f(this,"target"),f(this,"engine"),f(this,"processorMap",{[b.WEBGLRENDERER]:new yg}),f(this,"map",new Map),e?(e.target&&(this.target=e.target),e.engine&&(this.engine=e.engine)):(this.target={},this.engine=new te)}assembly(e,t){const r=this.target[e];if(!r){console.warn(`controls compiler can not found this config: '${e}'`);return}const i=this.processorMap[r.type];if(!i){console.warn(`renderer compiler can not support this renderer: '${e}'`);return}const s=this.map.get(e);if(!s){console.warn(`renderer compiler can not found type of renderer: '${r.type}'`);return}i.dispose().assemble({config:r,renderer:s,processer:i,engine:this.engine}),t(i)}add(e){e.type===b.WEBGLRENDERER&&this.map.set(e.vid,this.engine.webGLRenderer),this.assembly(e.vid,t=>{t.processAll().dispose()})}setTarget(e){return this.target=e,this}useEngine(e){return e.webGLRenderer&&this.map.set(b.WEBGLRENDERER,e.webGLRenderer),this.engine=e,this}compileAll(){const e=this.target;for(const t of Object.values(e))this.add(t);return this}dispose(){return this.map.forEach((e,t)=>{e.dispose&&e.dispose()}),this}getObjectSymbol(e){let t=null;return this.map.forEach((r,i)=>{r===e&&(t=i)}),t}getObjectBySymbol(e){return this.map.get(e)||null}}class bg extends Ht{constructor(){super();f(this,"MODULE",A.SCENE),f(this,"textureMap"),f(this,"fogCache"),this.textureMap=new Map,this.fogCache=null,this.mergeFilterAttribute({background:!0,environment:!0,fog:!0})}setLookAt(e,t){return this}background(e,t){if(!this.map.has(e)){console.warn(`${this.MODULE} compiler can not found this vid mapping object: '${e}'`);return}const r=this.map.get(e);if(!t){r.background=null;return}J(t)?this.textureMap.has(t)?r.background=this.textureMap.get(t):console.warn(`scene compiler can not found this vid texture : '${t}'`):r.background=new se(t)}environment(e,t){if(!this.map.has(e)){console.warn(`${this.MODULE} compiler can not found this vid mapping object: '${e}'`);return}const r=this.map.get(e);if(!t){r.environment=null;return}J(t)?this.textureMap.has(t)?r.environment=this.textureMap.get(t):console.warn(`scene compiler can not found this vid texture : '${t}'`):console.warn(`this vid is illegal: '${t}'`)}fog(e,t){if(!this.map.has(e)){console.warn(`${this.MODULE} compiler can not found this vid mapping object: '${e}'`);return}const r=this.map.get(e);if(t.type===""){this.fogCache=null,r.fog=null;return}if(t.type==="Fog"){if(this.fogCache instanceof ul){const i=this.fogCache;i.color=new se(t.color),i.near=t.near,i.far=t.far}else r.fog=new ul(t.color,t.near,t.far),this.fogCache=r.fog;return}if(t.type==="FogExp2"){if(this.fogCache instanceof hl){const i=this.fogCache;i.color=new se(t.color),i.density=t.density}else r.fog=new hl(t.color,t.density),this.fogCache=r.fog;return}console.warn(`scene compiler can not support this type fog:'${t.type}'`)}linkTextureMap(e){return this.textureMap=e,this}add(e,t){const r=new pt;return this.map.set(e,r),this.weakMap.set(r,e),this.background(e,t.background),this.environment(e,t.environment),this.fog(e,t.fog),super.add(e,t),this}cover(e,t){return this.background(e,t.background),this.environment(e,t.environment),this.fog(e,t.fog),super.cover(e,t)}set(e,t,r,i){if(!this.map.has(e))return console.warn(`sceneCompiler: can not found this vid mapping object: '${e}'`),this;const s=t.length?t[0]:r,o={background:()=>this.background(e,i),environment:()=>this.environment(e,i),fog:()=>this.fog(e,this.target[e].fog)};return o[s]?(o[s](),this):(super.set(e,t,r,i),this)}setTarget(e){return this.target=e,this}dispose(){return super.dispose(),this}}class Eg extends wi{constructor(){super();f(this,"MODULE",A.SPRITE),f(this,"replaceMaterial",new _n({color:"rgb(150, 150, 150)"})),f(this,"replaceGeometry",new _t(1,1)),this.mergeFilterAttribute({geometry:!0})}getReplaceMaterial(){return this.replaceMaterial}getReplaceGeometry(){return console.warn("SpriteCompiler: can not use geometry in SpriteCompiler."),this.replaceGeometry}setLookAt(e,t){return this}getMaterial(e){const t=super.getMaterial(e);return t instanceof _n?t:(console.warn(`SpriteCompiler: sprite object can not support this type material: ${t.type}, vid: ${e}.`),this.getReplaceMaterial())}add(e,t){const r=new wn;return this.map.set(e,r),this.weakMap.set(r,e),super.add(e,t),this}dispose(){return this.map.forEach((e,t)=>{e.geometry.dispose()}),super.dispose(),this.replaceGeometry.dispose(),this.replaceMaterial.dispose(),this}}class Mg extends ar{constructor(e,t,r,i,s,o,a,c,l,u){super(e,t,r,i,s,o,a,c,l,u)}}class Sg extends ar{constructor(e,t,r,i,s,o,a,c,l){super(e,t,r,i,s,o,a,c,l);f(this,"isVideoTexture",!0),this.format=a!==void 0?a:gd,this.minFilter=o!==void 0?o:ui,this.magFilter=s!==void 0?s:ui,this.generateMipmaps=!1}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image,t="requestVideoFrameCallback"in e;t?this.needsUpdate=!0:t===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class br{constructor(e){f(this,"canvas"),this.canvas=document.createElement("canvas");const t=window.devicePixelRatio;this.canvas.width=((e==null?void 0:e.width)||512)*t,this.canvas.height=((e==null?void 0:e.height)||512)*t,this.canvas.style.backgroundColor=(e==null?void 0:e.bgColor)||"rgb(255, 255, 255)";const r=this.canvas.getContext("2d");r&&r.scale(window.devicePixelRatio,window.devicePixelRatio)}get(){return this.canvas}getDom(){return this.canvas}clear(e=0,t=0,r,i){!r&&(r=this.canvas.width),!i&&(i=this.canvas.height);const s=this.canvas.getContext("2d");return s?(s.clearRect(e,t,r,i),this):(console.warn("you browser can not support canvas 2d"),this)}draw(e){const t=this.canvas.getContext("2d");return t?(e(t),this):(console.warn("you browser can not support canvas 2d"),this)}preview(e){const t=this.canvas;return t.style.position="fixed",t.style.top=(e==null?void 0:e.top)||"5%",t.style.left=(e==null?void 0:e.left)||"5%",t.style.right=(e==null?void 0:e.right)||"unset",t.style.bottom=(e==null?void 0:e.bottom)||"unset",(e==null?void 0:e.scale)&&(t.style.transform=`scale(${e.scale})`),document.body.appendChild(this.canvas),this}}const _i=class extends Be{constructor(){super();f(this,"MODULE",A.TEXTURE),f(this,"target",{}),f(this,"map"),f(this,"weakMap"),f(this,"constructMap"),f(this,"resourceMap"),this.map=new Map,this.weakMap=new WeakMap,this.resourceMap=new Map;const n=new Map;n.set(b.IMAGETEXTURE,()=>new Mg),n.set(b.CUBETEXTURE,()=>new $d),n.set(b.CANVASTEXTURE,()=>new lr(document.createElement("canvas"))),n.set(b.VIDEOTEXTURE,()=>new Sg(document.createElement("video"))),this.constructMap=n}getResource(n){if(!n)return _i.replaceImage;const e=this.resourceMap;if(e.has(n)){const t=e.get(n);return t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement?t:(console.error(`this url mapping resource is not a texture image class: ${n}`),_i.replaceImage)}else return console.warn(`resource can not font url: ${n}`),_i.replaceImage}linkRescourceMap(n){return this.resourceMap=n,this}add(n,e){if(J(n))if(e.type&&this.constructMap.has(e.type)){const t=this.constructMap.get(e.type)(),r=JSON.parse(JSON.stringify(e));if(delete r.type,delete r.vid,[b.IMAGETEXTURE,b.CANVASTEXTURE,b.VIDEOTEXTURE].includes(e.type))t.image=this.getResource(r.url),delete r.url;else if(e.type===b.CUBETEXTURE){const i=e.cube,s=[this.getResource(i.px),this.getResource(i.nx),this.getResource(i.py),this.getResource(i.ny),this.getResource(i.pz),this.getResource(i.nz)];t.image=s,delete r.cube}Be.applyConfig(r,t),t.needsUpdate=!0,this.map.set(n,t),this.weakMap.set(t,n)}else console.warn(`texture compiler can not support this type: ${e.type}`);else console.error(`texture vid parameter is illegal: ${n}`);return this}set(n,e,t,r){if(!J(n))return console.warn(`texture compiler set function: vid is illeage: '${n}'`),this;if(!this.map.has(n))return console.warn(`texture compiler set function: can not found texture which vid is: '${n}'`),this;const i=this.map.get(n);if(!e.length&&t==="url"){const o=this.target[n];return[b.IMAGETEXTURE,b.CANVASTEXTURE,b.VIDEOTEXTURE].includes(o.type)?i.image=this.getResource(r):console.warn(`texture compiler can not support this type config set url: ${o.type}`),this}if(t==="needsUpdate"){if(r){i.needsUpdate=!0;const o=this.target[n];o.needsUpdate=!1}return this}let s=i;for(const o of e){if(s[o]===void 0)return console.warn(`texture compiler set function: can not found key:${o} in object.`),this;s=s[o]}return s[t]=r,i.needsUpdate=!0,this}remove(n){if(!this.map.has(n))return console.warn(`texture compiler can not found vid match object: ${n}`),this;const e=this.map.get(n);return e.dispose(),this.map.delete(n),this.weakMap.delete(e),this}getMap(){return this.map}setTarget(n){return this.target=n,this}useEngine(n){return this}compileAll(){const n=this.target;for(const e in n)this.add(e,n[e]);return this}dispose(){return this.map.forEach((n,e)=>{n.dispose()}),this.map.clear(),this}getObjectSymbol(n){return this.weakMap.get(n)||null}getObjectBySymbol(n){return this.map.get(n)||null}};let wl=_i;f(wl,"replaceImage",new br({width:512,height:512}).draw(n=>{n.translate(256,256),n.font="52px",n.fillStyle="white",n.fillText("\u6682\u65E0\u56FE\u7247",0,0)}).get());class Cg{constructor(e){f(this,"cameraCompiler",new qm),f(this,"lightCompiler",new hg),f(this,"geometryCompiler",new ce),f(this,"textureCompiler",new wl),f(this,"materialCompiler",new pg),f(this,"rendererCompiler",new vg),f(this,"sceneCompiler",new bg),f(this,"controlsCompiler",new Qm),f(this,"spriteCompiler",new Eg),f(this,"lineCompiler",new dg),f(this,"meshCompiler",new fg),f(this,"pointsCompiler",new gg),f(this,"groupCompiler",new ug),f(this,"css3DCompiler",new tg),f(this,"passCompiler",new mg),f(this,"animationCompiler",new vm),f(this,"compilerMap"),e&&Object.keys(e).forEach(c=>{this[c]=e[c]});const t=this.textureCompiler.getMap();this.sceneCompiler.linkTextureMap(t),this.materialCompiler.linkTextureMap(t),this.animationCompiler.linkTextureMap(t);const r=this.geometryCompiler.getMap(),i=this.materialCompiler.getMap(),s=Object.values(this).filter(c=>c instanceof Ht),o=s.map(c=>c.getMap());for(const c of s)Mi("IS_SOLIDOBJECTCOMPILER",c)&&c.linkGeometryMap(r).linkMaterialMap(i),c.linkObjectMap(...o);this.animationCompiler.linkObjectMap(...o).linkMaterialMap(i);const a=new Map;Object.keys(this).forEach(c=>{const l=this[c];l instanceof Be&&a.set(l.MODULE,l)}),this.compilerMap=a}support(e){if(this.compilerMap.forEach(r=>{r.useEngine(e)}),e.resourceManager){const r=e.resourceManager.resourceMap;this.textureCompiler.linkRescourceMap(r),this.geometryCompiler.linkRescourceMap(r),this.css3DCompiler.linkRescourceMap(r)}const t=e.dataSupportManager;return t.textureDataSupport.addCompiler(this.textureCompiler),t.materialDataSupport.addCompiler(this.materialCompiler),t.geometryDataSupport.addCompiler(this.geometryCompiler),t.rendererDataSupport.addCompiler(this.rendererCompiler),t.controlsDataSupport.addCompiler(this.controlsCompiler),t.passDataSupport.addCompiler(this.passCompiler),t.cameraDataSupport.addCompiler(this.cameraCompiler),t.lightDataSupport.addCompiler(this.lightCompiler),t.spriteDataSupport.addCompiler(this.spriteCompiler),t.lineDataSupport.addCompiler(this.lineCompiler),t.meshDataSupport.addCompiler(this.meshCompiler),t.pointsDataSupport.addCompiler(this.pointsCompiler),t.css3DDataSupport.addCompiler(this.css3DCompiler),t.groupDataSupport.addCompiler(this.groupCompiler),t.sceneDataSupport.addCompiler(this.sceneCompiler),t.animationDataSupport.addCompiler(this.animationCompiler),this}getObjectSymbol(e){for(const t of this.compilerMap.values()){const r=t.getObjectSymbol(e);if(r)return r}return null}getObjectBySymbol(e){for(const t of this.compilerMap.values()){const r=t.getObjectBySymbol(e);if(r)return r}return null}dispose(){for(const e of this.compilerMap.values())e.dispose({});return this.compilerMap.clear(),this}}const wg=function(n){if(this.compilerManager)return console.warn("engine has installed compilerManager plugin."),!1;if(!this.dataSupportManager)return console.warn("must install dataSupportManager before compilerManager plugin."),!1;if(!this.renderManager)return console.warn("must install renderManager before compilerManager plugin."),!1;const e=new Cg;return this.compilerManager=e,this.getObjectSymbol=function(t){return this.compilerManager.getObjectSymbol(t)},this.getObjectBySymbol=function(t){return this.compilerManager.getObjectBySymbol(t)},this.addEventListener("dispose",()=>{this.compilerManager.dispose()}),this.completeSet.add(()=>{this.compilerManager.support(this)}),!0};var oo=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},_l={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(oo,function(){function t(m){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(C){return typeof C}:t=function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},t(m)}function r(m,C){if(!(m instanceof C))throw new TypeError("Cannot call a class as a function")}function i(m,C){for(var g=0;g<C.length;g++){var y=C[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(m,y.key,y)}}function s(m,C,g){return C&&i(m.prototype,C),g&&i(m,g),m}function o(m){return a(m)||c(m)||l(m)||h()}function a(m){if(Array.isArray(m))return u(m)}function c(m){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(m))return Array.from(m)}function l(m,C){if(!!m){if(typeof m=="string")return u(m,C);var g=Object.prototype.toString.call(m).slice(8,-1);if(g==="Object"&&m.constructor&&(g=m.constructor.name),g==="Map"||g==="Set")return Array.from(m);if(g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return u(m,C)}}function u(m,C){(C==null||C>m.length)&&(C=m.length);for(var g=0,y=new Array(C);g<C;g++)y[g]=m[g];return y}function h(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var d=function(){function m(C){r(this,m),this.sourceStr=C,this.subCombos=m.parseComboStr(C),this.keyNames=this.subCombos.reduce(function(g,y){return g.concat(y)},[])}return s(m,[{key:"check",value:function(g){for(var y=0,E=0;E<this.subCombos.length;E+=1)if(y=this._checkSubCombo(this.subCombos[E],y,g),y===-1)return!1;return!0}},{key:"isEqual",value:function(g){if(!g||typeof g!="string"&&t(g)!=="object"||(typeof g=="string"&&(g=new m(g)),this.subCombos.length!==g.subCombos.length))return!1;for(var y=0;y<this.subCombos.length;y+=1)if(this.subCombos[y].length!==g.subCombos[y].length)return!1;for(var E=0;E<this.subCombos.length;E+=1){for(var S=this.subCombos[E],w=g.subCombos[E].slice(0),x=0;x<S.length;x+=1){var R=S[x],I=w.indexOf(R);I>-1&&w.splice(I,1)}if(w.length!==0)return!1}return!0}},{key:"_checkSubCombo",value:function(g,y,E){g=g.slice(0),E=E.slice(y);for(var S=y,w=0;w<g.length;w+=1){var x=g[w];if(x[0]==="\\"){var R=x.slice(1);(R===m.comboDeliminator||R===m.keyDeliminator)&&(x=R)}var I=E.indexOf(x);if(I>-1&&(g.splice(w,1),w-=1,I>S&&(S=I),g.length===0))return S}return-1}}]),m}();d.comboDeliminator=">",d.keyDeliminator="+",d.parseComboStr=function(m){for(var C=d._splitStr(m,d.comboDeliminator),g=[],y=0;y<C.length;y+=1)g.push(d._splitStr(C[y],d.keyDeliminator));return g},d._splitStr=function(m,C){for(var g=m,y=C,E="",S=[],w=0;w<g.length;w+=1)w>0&&g[w]===y&&g[w-1]!=="\\"&&(S.push(E.trim()),E="",w+=1),E+=g[w];return E&&S.push(E.trim()),S};var p=function(){function m(C){r(this,m),this.localeName=C,this.activeTargetKeys=[],this.pressedKeys=[],this._appliedMacros=[],this._keyMap={},this._killKeyCodes=[],this._macros=[]}return s(m,[{key:"bindKeyCode",value:function(g,y){typeof y=="string"&&(y=[y]),this._keyMap[g]=y}},{key:"bindMacro",value:function(g,y){typeof y=="string"&&(y=[y]);var E=null;typeof y=="function"&&(E=y,y=null);var S={keyCombo:new d(g),keyNames:y,handler:E};this._macros.push(S)}},{key:"getKeyCodes",value:function(g){var y=[];for(var E in this._keyMap){var S=this._keyMap[E].indexOf(g);S>-1&&y.push(E|0)}return y}},{key:"getKeyNames",value:function(g){return this._keyMap[g]||[]}},{key:"setKillKey",value:function(g){if(typeof g=="string"){for(var y=this.getKeyCodes(g),E=0;E<y.length;E+=1)this.setKillKey(y[E]);return}this._killKeyCodes.push(g)}},{key:"pressKey",value:function(g){if(typeof g=="string"){for(var y=this.getKeyCodes(g),E=0;E<y.length;E+=1)this.pressKey(y[E]);return}this.activeTargetKeys.length=0;for(var S=this.getKeyNames(g),w=0;w<S.length;w+=1)this.activeTargetKeys.push(S[w]),this.pressedKeys.indexOf(S[w])===-1&&this.pressedKeys.push(S[w]);this._applyMacros()}},{key:"releaseKey",value:function(g){if(typeof g=="string")for(var y=this.getKeyCodes(g),E=0;E<y.length;E+=1)this.releaseKey(y[E]);else{var S=this.getKeyNames(g),w=this._killKeyCodes.indexOf(g);if(w!==-1)this.pressedKeys.length=0;else for(var x=0;x<S.length;x+=1){var R=this.pressedKeys.indexOf(S[x]);R>-1&&this.pressedKeys.splice(R,1)}this.activeTargetKeys.length=0,this._clearMacros()}}},{key:"_applyMacros",value:function(){for(var g=this._macros.slice(0),y=0;y<g.length;y+=1){var E=g[y];if(E.keyCombo.check(this.pressedKeys)){E.handler&&(E.keyNames=E.handler(this.pressedKeys));for(var S=0;S<E.keyNames.length;S+=1)this.pressedKeys.indexOf(E.keyNames[S])===-1&&this.pressedKeys.push(E.keyNames[S]);this._appliedMacros.push(E)}}}},{key:"_clearMacros",value:function(){for(var g=0;g<this._appliedMacros.length;g+=1){var y=this._appliedMacros[g];if(!y.keyCombo.check(this.pressedKeys)){for(var E=0;E<y.keyNames.length;E+=1){var S=this.pressedKeys.indexOf(y.keyNames[E]);S>-1&&this.pressedKeys.splice(S,1)}y.handler&&(y.keyNames=null),this._appliedMacros.splice(g,1),g-=1}}}}]),m}(),v=function(){function m(C,g,y,E){r(this,m),this._locale=null,this._currentContext="",this._contexts={},this._listeners=[],this._appliedListeners=[],this._locales={},this._targetElement=null,this._targetWindow=null,this._targetPlatform="",this._targetUserAgent="",this._isModernBrowser=!1,this._targetKeyDownBinding=null,this._targetKeyUpBinding=null,this._targetResetBinding=null,this._paused=!1,this._contexts.global={listeners:this._listeners,targetWindow:C,targetElement:g,targetPlatform:y,targetUserAgent:E},this.setContext("global")}return s(m,[{key:"setLocale",value:function(g,y){var E=null;return typeof g=="string"?y?(E=new p(g),y(E,this._targetPlatform,this._targetUserAgent)):E=this._locales[g]||null:(E=g,g=E._localeName),this._locale=E,this._locales[g]=E,E&&(this._locale.pressedKeys=E.pressedKeys),this}},{key:"getLocale",value:function(g){return g||(g=this._locale.localeName),this._locales[g]||null}},{key:"bind",value:function(g,y,E,S){if((g===null||typeof g=="function")&&(S=E,E=y,y=g,g=null),g&&t(g)==="object"&&typeof g.length=="number"){for(var w=0;w<g.length;w+=1)this.bind(g[w],y,E);return this}return this._listeners.push({keyCombo:g?new d(g):null,pressHandler:y||null,releaseHandler:E||null,preventRepeat:S||!1,preventRepeatByDefault:S||!1,executingHandler:!1}),this}},{key:"addListener",value:function(g,y,E,S){return this.bind(g,y,E,S)}},{key:"on",value:function(g,y,E,S){return this.bind(g,y,E,S)}},{key:"bindPress",value:function(g,y,E){return this.bind(g,y,null,E)}},{key:"bindRelease",value:function(g,y){return this.bind(g,null,y,preventRepeatByDefault)}},{key:"unbind",value:function(g,y,E){if((g===null||typeof g=="function")&&(E=y,y=g,g=null),g&&t(g)==="object"&&typeof g.length=="number"){for(var S=0;S<g.length;S+=1)this.unbind(g[S],y,E);return this}for(var w=0;w<this._listeners.length;w+=1){var x=this._listeners[w],R=!g&&!x.keyCombo||x.keyCombo&&x.keyCombo.isEqual(g),I=!y&&!E||!y&&!x.pressHandler||y===x.pressHandler,k=!y&&!E||!E&&!x.releaseHandler||E===x.releaseHandler;R&&I&&k&&(this._listeners.splice(w,1),w-=1)}return this}},{key:"removeListener",value:function(g,y,E){return this.unbind(g,y,E)}},{key:"off",value:function(g,y,E){return this.unbind(g,y,E)}},{key:"setContext",value:function(g){if(this._locale&&this.releaseAllKeys(),!this._contexts[g]){var y=this._contexts.global;this._contexts[g]={listeners:[],targetWindow:y.targetWindow,targetElement:y.targetElement,targetPlatform:y.targetPlatform,targetUserAgent:y.targetUserAgent}}var E=this._contexts[g];return this._currentContext=g,this._listeners=E.listeners,this.stop(),this.watch(E.targetWindow,E.targetElement,E.targetPlatform,E.targetUserAgent),this}},{key:"getContext",value:function(){return this._currentContext}},{key:"withContext",value:function(g,y){var E=this.getContext();return this.setContext(g),y(),this.setContext(E),this}},{key:"watch",value:function(g,y,E,S){var w=this;this.stop();var x=typeof globalThis!="undefined"?globalThis:typeof oo!="undefined"?oo:typeof window!="undefined"?window:{};if(!g){if(!x.addEventListener&&!x.attachEvent)throw new Error("Cannot find window functions addEventListener or attachEvent.");g=x}if(typeof g.nodeType=="number"&&(S=E,E=y,y=g,g=x),!g.addEventListener&&!g.attachEvent)throw new Error("Cannot find addEventListener or attachEvent methods on targetWindow.");this._isModernBrowser=!!g.addEventListener;var R=g.navigator&&g.navigator.userAgent||"",I=g.navigator&&g.navigator.platform||"";y&&y!==null||(y=g.document),E&&E!==null||(E=I),S&&S!==null||(S=R),this._targetKeyDownBinding=function(B){w.pressKey(B.keyCode,B),w._handleCommandBug(B,I)},this._targetKeyUpBinding=function(B){w.releaseKey(B.keyCode,B)},this._targetResetBinding=function(B){w.releaseAllKeys(B)},this._bindEvent(y,"keydown",this._targetKeyDownBinding),this._bindEvent(y,"keyup",this._targetKeyUpBinding),this._bindEvent(g,"focus",this._targetResetBinding),this._bindEvent(g,"blur",this._targetResetBinding),this._targetElement=y,this._targetWindow=g,this._targetPlatform=E,this._targetUserAgent=S;var k=this._contexts[this._currentContext];return k.targetWindow=this._targetWindow,k.targetElement=this._targetElement,k.targetPlatform=this._targetPlatform,k.targetUserAgent=this._targetUserAgent,this}},{key:"stop",value:function(){if(!(!this._targetElement||!this._targetWindow))return this._unbindEvent(this._targetElement,"keydown",this._targetKeyDownBinding),this._unbindEvent(this._targetElement,"keyup",this._targetKeyUpBinding),this._unbindEvent(this._targetWindow,"focus",this._targetResetBinding),this._unbindEvent(this._targetWindow,"blur",this._targetResetBinding),this._targetWindow=null,this._targetElement=null,this}},{key:"pressKey",value:function(g,y){if(this._paused)return this;if(!this._locale)throw new Error("Locale not set");return this._locale.pressKey(g),this._applyBindings(y),this}},{key:"releaseKey",value:function(g,y){if(this._paused)return this;if(!this._locale)throw new Error("Locale not set");return this._locale.releaseKey(g),this._clearBindings(y),this}},{key:"releaseAllKeys",value:function(g){if(this._paused)return this;if(!this._locale)throw new Error("Locale not set");return this._locale.pressedKeys.length=0,this._clearBindings(g),this}},{key:"pause",value:function(){return this._paused?this:(this._locale&&this.releaseAllKeys(),this._paused=!0,this)}},{key:"resume",value:function(){return this._paused=!1,this}},{key:"reset",value:function(){return this.releaseAllKeys(),this._listeners.length=0,this}},{key:"_bindEvent",value:function(g,y,E){return this._isModernBrowser?g.addEventListener(y,E,!1):g.attachEvent("on"+y,E)}},{key:"_unbindEvent",value:function(g,y,E){return this._isModernBrowser?g.removeEventListener(y,E,!1):g.detachEvent("on"+y,E)}},{key:"_getGroupedListeners",value:function(){var g=[],y=[],E=this._listeners;return this._currentContext!=="global"&&(E=[].concat(o(E),o(this._contexts.global.listeners))),E.sort(function(S,w){return(w.keyCombo?w.keyCombo.keyNames.length:0)-(S.keyCombo?S.keyCombo.keyNames.length:0)}).forEach(function(S){for(var w=-1,x=0;x<y.length;x+=1)(y[x]===null&&S.keyCombo===null||y[x]!==null&&y[x].isEqual(S.keyCombo))&&(w=x);w===-1&&(w=y.length,y.push(S.keyCombo)),g[w]||(g[w]=[]),g[w].push(S)}),g}},{key:"_applyBindings",value:function(g){var y=this,E=!1;g||(g={}),g.preventRepeat=function(){E=!0},g.pressedKeys=this._locale.pressedKeys.slice(0);for(var S=this._locale.activeTargetKeys,w=this._locale.pressedKeys.slice(0),x=this._getGroupedListeners(),R=function(B){var Y=x[B],X=Y[0].keyCombo;if(X===null||X.check(w)&&S.some(function(Ve){return X.keyNames.includes(Ve)})){for(var Me=0;Me<Y.length;Me+=1){var ie=Y[Me];!ie.executingHandler&&ie.pressHandler&&!ie.preventRepeat&&(ie.executingHandler=!0,ie.pressHandler.call(y,g),ie.executingHandler=!1,(E||ie.preventRepeatByDefault)&&(ie.preventRepeat=!0,E=!1)),y._appliedListeners.indexOf(ie)===-1&&y._appliedListeners.push(ie)}if(X)for(var Se=0;Se<X.keyNames.length;Se+=1){var Ae=w.indexOf(X.keyNames[Se]);Ae!==-1&&(w.splice(Ae,1),Se-=1)}}},I=0;I<x.length;I+=1)R(I)}},{key:"_clearBindings",value:function(g){g||(g={}),g.pressedKeys=this._locale.pressedKeys.slice(0);for(var y=0;y<this._appliedListeners.length;y+=1){var E=this._appliedListeners[y],S=E.keyCombo;(S===null||!S.check(this._locale.pressedKeys))&&(E.preventRepeat=!1,(S!==null||g.pressedKeys.length===0)&&(this._appliedListeners.splice(y,1),y-=1),!E.executingHandler&&E.releaseHandler&&(E.executingHandler=!0,E.releaseHandler.call(this,g),E.executingHandler=!1))}}},{key:"_handleCommandBug",value:function(g,y){var E=["shift","ctrl","alt","capslock","tab","command"];y.match("Mac")&&this._locale.pressedKeys.includes("command")&&!E.includes(this._locale.getKeyNames(g.keyCode)[0])&&this._targetKeyUpBinding(g)}}]),m}();function M(m,C,g){m.bindKeyCode(3,["cancel"]),m.bindKeyCode(8,["backspace"]),m.bindKeyCode(9,["tab"]),m.bindKeyCode(12,["clear"]),m.bindKeyCode(13,["enter"]),m.bindKeyCode(16,["shift"]),m.bindKeyCode(17,["ctrl"]),m.bindKeyCode(18,["alt","menu"]),m.bindKeyCode(19,["pause","break"]),m.bindKeyCode(20,["capslock"]),m.bindKeyCode(27,["escape","esc"]),m.bindKeyCode(32,["space","spacebar"]),m.bindKeyCode(33,["pageup"]),m.bindKeyCode(34,["pagedown"]),m.bindKeyCode(35,["end"]),m.bindKeyCode(36,["home"]),m.bindKeyCode(37,["left"]),m.bindKeyCode(38,["up"]),m.bindKeyCode(39,["right"]),m.bindKeyCode(40,["down"]),m.bindKeyCode(41,["select"]),m.bindKeyCode(42,["printscreen"]),m.bindKeyCode(43,["execute"]),m.bindKeyCode(44,["snapshot"]),m.bindKeyCode(45,["insert","ins"]),m.bindKeyCode(46,["delete","del"]),m.bindKeyCode(47,["help"]),m.bindKeyCode(145,["scrolllock","scroll"]),m.bindKeyCode(188,["comma",","]),m.bindKeyCode(190,["period","."]),m.bindKeyCode(191,["slash","forwardslash","/"]),m.bindKeyCode(192,["graveaccent","`"]),m.bindKeyCode(219,["openbracket","["]),m.bindKeyCode(220,["backslash","\\"]),m.bindKeyCode(221,["closebracket","]"]),m.bindKeyCode(222,["apostrophe","'"]),m.bindKeyCode(48,["zero","0"]),m.bindKeyCode(49,["one","1"]),m.bindKeyCode(50,["two","2"]),m.bindKeyCode(51,["three","3"]),m.bindKeyCode(52,["four","4"]),m.bindKeyCode(53,["five","5"]),m.bindKeyCode(54,["six","6"]),m.bindKeyCode(55,["seven","7"]),m.bindKeyCode(56,["eight","8"]),m.bindKeyCode(57,["nine","9"]),m.bindKeyCode(96,["numzero","num0"]),m.bindKeyCode(97,["numone","num1"]),m.bindKeyCode(98,["numtwo","num2"]),m.bindKeyCode(99,["numthree","num3"]),m.bindKeyCode(100,["numfour","num4"]),m.bindKeyCode(101,["numfive","num5"]),m.bindKeyCode(102,["numsix","num6"]),m.bindKeyCode(103,["numseven","num7"]),m.bindKeyCode(104,["numeight","num8"]),m.bindKeyCode(105,["numnine","num9"]),m.bindKeyCode(106,["nummultiply","num*"]),m.bindKeyCode(107,["numadd","num+"]),m.bindKeyCode(108,["numenter"]),m.bindKeyCode(109,["numsubtract","num-"]),m.bindKeyCode(110,["numdecimal","num."]),m.bindKeyCode(111,["numdivide","num/"]),m.bindKeyCode(144,["numlock","num"]),m.bindKeyCode(112,["f1"]),m.bindKeyCode(113,["f2"]),m.bindKeyCode(114,["f3"]),m.bindKeyCode(115,["f4"]),m.bindKeyCode(116,["f5"]),m.bindKeyCode(117,["f6"]),m.bindKeyCode(118,["f7"]),m.bindKeyCode(119,["f8"]),m.bindKeyCode(120,["f9"]),m.bindKeyCode(121,["f10"]),m.bindKeyCode(122,["f11"]),m.bindKeyCode(123,["f12"]),m.bindKeyCode(124,["f13"]),m.bindKeyCode(125,["f14"]),m.bindKeyCode(126,["f15"]),m.bindKeyCode(127,["f16"]),m.bindKeyCode(128,["f17"]),m.bindKeyCode(129,["f18"]),m.bindKeyCode(130,["f19"]),m.bindKeyCode(131,["f20"]),m.bindKeyCode(132,["f21"]),m.bindKeyCode(133,["f22"]),m.bindKeyCode(134,["f23"]),m.bindKeyCode(135,["f24"]),m.bindMacro("shift + `",["tilde","~"]),m.bindMacro("shift + 1",["exclamation","exclamationpoint","!"]),m.bindMacro("shift + 2",["at","@"]),m.bindMacro("shift + 3",["number","#"]),m.bindMacro("shift + 4",["dollar","dollars","dollarsign","$"]),m.bindMacro("shift + 5",["percent","%"]),m.bindMacro("shift + 6",["caret","^"]),m.bindMacro("shift + 7",["ampersand","and","&"]),m.bindMacro("shift + 8",["asterisk","*"]),m.bindMacro("shift + 9",["openparen","("]),m.bindMacro("shift + 0",["closeparen",")"]),m.bindMacro("shift + -",["underscore","_"]),m.bindMacro("shift + =",["plus","+"]),m.bindMacro("shift + [",["opencurlybrace","opencurlybracket","{"]),m.bindMacro("shift + ]",["closecurlybrace","closecurlybracket","}"]),m.bindMacro("shift + \\",["verticalbar","|"]),m.bindMacro("shift + ;",["colon",":"]),m.bindMacro("shift + '",["quotationmark","'"]),m.bindMacro("shift + !,",["openanglebracket","<"]),m.bindMacro("shift + .",["closeanglebracket",">"]),m.bindMacro("shift + /",["questionmark","?"]),C.match("Mac")?m.bindMacro("command",["mod","modifier"]):m.bindMacro("ctrl",["mod","modifier"]);for(var y=65;y<=90;y+=1){var E=String.fromCharCode(y+32),S=String.fromCharCode(y);m.bindKeyCode(y,E),m.bindMacro("shift + "+E,S),m.bindMacro("capslock + "+E,S)}var w=g.match("Firefox")?59:186,x=g.match("Firefox")?173:189,R=g.match("Firefox")?61:187,I,k;C.match("Mac")&&(g.match("Safari")||g.match("Chrome"))?(I=91,k=93):C.match("Mac")&&g.match("Opera")?(I=17,k=17):C.match("Mac")&&g.match("Firefox")&&(I=224,k=224),m.bindKeyCode(w,["semicolon",";"]),m.bindKeyCode(x,["dash","-"]),m.bindKeyCode(R,["equal","equalsign","="]),m.bindKeyCode(I,["command","windows","win","super","leftcommand","leftwindows","leftwin","leftsuper"]),m.bindKeyCode(k,["command","windows","win","super","rightcommand","rightwindows","rightwin","rightsuper"]),m.setKillKey("command")}var _=new v;return _.setLocale("us",M),_.Keyboard=v,_.Locale=p,_.KeyCombo=d,_})})(_l);var xi=_l.exports;class _g extends ft{constructor(){super();f(this,"map",new Map)}generateSymbol(e){return Array.isArray(e)?e.join(" + "):e.shortcutKey.join(" + ")}watch(e){return e?xi.watch(void 0,e):xi.watch(),this}register(e){const t=this.generateSymbol(e);return this.map.has(t)?(console.warn(`KeyboardManager: shortcutKey already exist: ${t}. desp: ${this.map.get(t).desp}`),this):(xi.bind(t,e.keydown||null,e.keyup),this.map.set(t,e),this)}update(e){const t=this.generateSymbol(e);return this.map.has(t)?(this.cancel(e.shortcutKey),this.register(e),this):(console.warn("KeyboardManager: shortcutKey unregister then exec register function"),this.register(e),this)}cancel(e){const t=this.generateSymbol(e);if(this.map.has(t)){const r=this.map.get(t);xi.unbind(t,r.keydown||null,r.keyup),this.map.delete(t)}return this}checkRepeat(e){const t=this.generateSymbol(e);return this.map.has(t)}}const xg=function(n){if(this.keyboardManager)return console.warn("engine has installed keyboardManager plugin."),!1;const e=new _g;return this.keyboardManager=e,this.completeSet.add(()=>{if(this.transformControls)if(this.IS_ENGINESUPPORT){const t=this.dataSupportManager.controlsDataSupport.getData()[b.TRNASFORMCONTROLS];e.register({shortcutKey:["r"],desp:"tranformControls rotate mode",keyup:r=>{r==null||r.preventDefault(),t.mode="rotate"}}).register({shortcutKey:["t"],desp:"tranformControls translate mode",keyup:r=>{r==null||r.preventDefault(),t.mode="translate"}}).register({shortcutKey:["e"],desp:"tranformControls scale mode",keyup:r=>{r==null||r.preventDefault(),t.mode="scale"}}).register({shortcutKey:["x"],desp:"tranformControls switch x axis",keyup:r=>{r==null||r.preventDefault(),t.showX=!t.showX}}).register({shortcutKey:["y"],desp:"tranformControls switch y axis",keyup:r=>{r==null||r.preventDefault(),!(r==null?void 0:r.ctrlKey)&&(t.showY=!t.showY)}}).register({shortcutKey:["z"],desp:"tranformControls switch z axis",keyup:r=>{r==null||r.preventDefault(),!(r==null?void 0:r.ctrlKey)&&(t.showZ=!t.showZ)}}).register({shortcutKey:["space"],desp:"tranformControls switch coordinate space",keyup:r=>{r==null||r.preventDefault(),t.space=t.space==="local"?"world":"local"}}).register({shortcutKey:["shift"],desp:"tranformControls switch tranform numeric value",keyup:r=>{r==null||r.preventDefault(),t.snapAllow=!1},keydown:r=>{r==null||r.preventDefault(),r==null||r.preventRepeat(),t.snapAllow=!0}})}else{const t=this.transformControls;e.register({shortcutKey:["r"],desp:"tranformControls rotate mode",keyup:r=>{r==null||r.preventDefault(),t.mode="rotate"}}).register({shortcutKey:["t"],desp:"tranformControls translate mode",keyup:r=>{r==null||r.preventDefault(),t.mode="translate"}}).register({shortcutKey:["e"],desp:"tranformControls scale mode",keyup:r=>{r==null||r.preventDefault(),t.mode="scale"}}).register({shortcutKey:["x"],desp:"tranformControls switch x axis",keyup:r=>{r==null||r.preventDefault(),t.showX=!t.showX}}).register({shortcutKey:["y"],desp:"tranformControls switch y axis",keyup:r=>{r==null||r.preventDefault(),!(r==null?void 0:r.ctrlKey)&&(t.showY=!t.showY)}}).register({shortcutKey:["z"],desp:"tranformControls switch z axis",keyup:r=>{r==null||r.preventDefault(),!(r==null?void 0:r.ctrlKey)&&(t.showZ=!t.showZ)}}).register({shortcutKey:["space"],desp:"tranformControls switch coordinate space",keyup:r=>{r==null||r.preventDefault(),t.space=t.space==="local"?"world":"local"}}).register({shortcutKey:["shift"],desp:"tranformControls switch tranform numeric value",keyup:r=>{r==null||r.preventDefault(),t.translationSnap=null,t.rotationSnap=null,t.scaleSnap=null},keydown:r=>{r==null||r.preventDefault(),r==null||r.preventRepeat(),t.translationSnap=5,t.rotationSnap=Math.PI/180*10,t.scaleSnap=.1}})}}),!0},Og=function(n={}){if(!this.scene)return console.error("must install some scene plugin before BasicViewpoint plugin."),!1;const e=new Ld(n.length||500);return e.matrixAutoUpdate=!1,e.raycast=()=>{},this.scene.add(e),this.setAxesHelper=function(t){return t.show?this.scene.add(e):this.scene.remove(e),this},this.addEventListener("setScene",t=>{t.scene.add(e)}),!0},Tg=function(n={}){if(!this.scene)return console.error("must install some scene before BasicViewpoint plugin."),!1;const e=new Id(n.range||500,n.spacing||50,n.axesColor||"rgb(130, 130, 130)",n.cellColor||"rgb(70, 70, 70)");if(n.opacity!==1){const t=e.material;t.transparent=!0,t.opacity=n.opacity||.5,t.needsUpdate=!0}return e.matrixAutoUpdate=!1,e.raycast=()=>{},this.scene.add(e),this.setGridHelper=function(t){return t.show?this.scene.add(e):this.scene.remove(e),this},this.addEventListener("setScene",t=>{t.scene.add(e)}),this.completeSet.add(()=>{this.setViewpoint&&this.addEventListener("setViewpoint",t=>{const r=t.viewpoint;r===ee.DEFAULT||r===ee.TOP||r===ee.BOTTOM?e.rotation.set(0,0,0):r===ee.RIGHT||r===ee.LEFT?e.rotation.set(0,0,Math.PI/2):(r===ee.FRONT||r===ee.BACK)&&e.rotation.set(Math.PI/2,0,0),e.updateMatrix(),e.updateMatrixWorld()})}),!0};var ze;(function(n){n.GEOMETRY="geometry",n.MATERIAL="material",n.LIGHT="light",n.ENV="env"})(ze||(ze={}));const Rg=function(n={}){if(!this.webGLRenderer)return console.error("must install some renderer before DisplayModel plugin."),!1;if(!this.scene)return console.error("must install some scene before DisplayModel plugin."),!1;!n.overrideColor&&(n.overrideColor="rgb(250, 250, 250)"),!n.defaultAmbientLightSetting&&(n.defaultAmbientLightSetting={}),!n.defaultAmbientLightSetting.color&&(n.defaultAmbientLightSetting.color="rgb(255, 255, 255)"),!n.defaultAmbientLightSetting.intensity&&(n.defaultAmbientLightSetting.intensity=.5);const e=new cr(n.defaultAmbientLightSetting.color,n.defaultAmbientLightSetting.intensity);e.matrixAutoUpdate=!1,!n.defaultDirectionalLightSetting&&(n.defaultDirectionalLightSetting={}),!n.defaultDirectionalLightSetting.color&&(n.defaultDirectionalLightSetting.color="rgb(255, 255, 255)"),!n.defaultDirectionalLightSetting.intensity&&(n.defaultDirectionalLightSetting.intensity=.5),!n.defaultDirectionalLightSetting.position&&(n.defaultDirectionalLightSetting.position={x:-100,y:100,z:100});const t=new ol(n.defaultDirectionalLightSetting.color,n.defaultDirectionalLightSetting.intensity);t.castShadow=!1,t.position.set(n.defaultDirectionalLightSetting.position.x,n.defaultDirectionalLightSetting.position.y,n.defaultDirectionalLightSetting.position.z),t.updateMatrix(),t.updateMatrixWorld(),t.matrixAutoUpdate=!1,!n.mode&&(n.mode=ze.ENV),this.displayMode=n.mode;const r=new Dd({color:n.overrideColor}),i=new kt({color:n.overrideColor}),s=new dt({color:n.overrideColor,size:5,sizeAttenuation:!1}),o=new _n({color:n.overrideColor}),a=new WeakMap,c=new Set,l=new Set,u=new Set,h=new Set,d=new Set;let p,v;const M={Object3D:!0,Group:!0};this.scene.addEventListener("afterAdd",S=>{const w=this.displayMode,x=S.objects;for(const R of x)if(!M[R.type])if(R instanceof $t&&R.type==="Mesh")l.add(R),w===ze.GEOMETRY&&(a.set(R,R.material),R.material=r);else if(R instanceof hi&&R.type.includes("Line"))u.add(R),w===ze.GEOMETRY&&(a.set(R,R.material),R.material=i);else if(R instanceof al&&R.type.includes("Light")){if(R===e||R===t)continue;c.has(R)||c.add(R),w!==ze.ENV&&w!==ze.LIGHT&&this.scene.remove(R)}else R instanceof wt&&R.type==="Points"?(h.add(R),w===ze.GEOMETRY&&(a.set(R,R.material),R.material=s)):R instanceof wn&&R.type==="Sprite"&&(d.add(R),w===ze.GEOMETRY&&(a.set(R,R.material),R.material=o))}),this.scene.addEventListener("afterRemove",S=>{const w=S.objects;for(const x of w)if(!M[x.type])if(x instanceof $t&&x.type==="Mesh")l.delete(x),a.has(x)&&a.delete(x);else if(x instanceof hi&&x.type.includes("Line"))u.delete(x),a.has(x)&&a.delete(x);else if(x instanceof al&&x.type.includes("Light")){if(x===e||x===t)continue;c.delete(x)}else x instanceof wt&&x.type==="Points"?(h.delete(x),a.has(x)&&a.delete(x)):x instanceof wn&&x.type==="Sprite"&&(d.delete(x),a.has(x)&&a.delete(x))});const _=()=>{for(const S of l)S.material!==r&&(a.set(S,S.material),S.material=r);for(const S of u)S.material!==i&&(a.set(S,S.material),S.material=i);for(const S of h)S.material!==s&&(a.set(S,S.material),S.material=s);for(const S of d)S.material!==o&&(a.set(S,S.material),S.material=o)},m=()=>{l.forEach(S=>{a.has(S)&&(S.material=a.get(S),a.delete(S))}),u.forEach(S=>{a.has(S)&&(S.material=a.get(S),a.delete(S))}),h.forEach(S=>{a.has(S)&&(S.material=a.get(S),a.delete(S))}),d.forEach(S=>{a.has(S)&&(S.material=a.get(S),a.delete(S))})},C=()=>{c.forEach(S=>{S.visible=!1}),this.scene.add(e),this.scene.add(t)},g=()=>{c.forEach(S=>{S.visible=!0}),this.scene.remove(e),this.scene.remove(t)},y=()=>{this.scene.background instanceof ar&&(p=this.scene.background,this.scene.background=null),this.scene.environment instanceof ar&&(v=this.scene.environment,this.scene.environment=null)},E=()=>{p&&(this.scene.background=p,p=void 0),v&&(this.scene.environment=v,v=void 0)};return this.setDisplayMode=function(S){return this.displayMode=S||ze.ENV,S===ze.GEOMETRY?(_(),y(),C()):S===ze.MATERIAL?(m(),y(),C()):S===ze.LIGHT?(m(),y(),g()):S===ze.ENV?(m(),E(),g()):console.warn(`displayMode plugin can not set this mode: ${S}`),this},this.completeSet.add(()=>{this.objectHelperManager&&this.objectHelperManager.addFilteredObject(t)}),!0},Ut=()=>new kt({color:"rgb(255, 255, 255)"});class xl extends nt{constructor(e){super();f(this,"shape"),f(this,"target"),f(this,"type","CameraHelper"),f(this,"cachaData");const t=new tt,r=[0,0,0,-1,1,-1,0,0,0,-1,1,1,0,0,0,-1,-1,-1,0,0,0,-1,-1,1,-1,-1,1,-1,-1,-1,-1,-1,-1,-1,1,-1,-1,1,-1,-1,1,1,-1,1,1,-1,-1,1,0,0,0,0,1,1,0,0,0,0,1,-1,0,0,0,0,-1,-1,0,0,0,0,-1,1,0,1,1,0,1,-1,0,1,-1,0,-1,-1,0,-1,-1,0,-1,1,0,-1,1,0,1,1,0,-1,1,2,-1,1,0,1,-1,2,1,-1,0,-1,-1,2,-1,-1,0,1,1,2,1,1,2,1,1,2,-1,1,2,-1,1,2,-1,-1,2,-1,-1,2,1,-1,2,1,-1,2,1,1];t.setAttribute("position",new we(r,3)),t.rotateY(-90*Math.PI/180),t.computeBoundingBox();const i=new yd(e);i.matrix=new Qa,i.matrixAutoUpdate=!0,i.raycast=()=>{},this.add(i),this.shape=i,this.geometry=t,this.material=Ut(),this.target=e,this.matrixAutoUpdate=!1,this.matrix=e.matrix,e instanceof Pe?this.cachaData={fov:e.fov,aspect:e.aspect,near:e.near,far:e.far}:e instanceof rt?this.cachaData={left:e.left,right:e.right,top:e.top,bottom:e.bottom,near:e.near,far:e.far}:this.cachaData={},this.onBeforeRender=()=>{let s=!1;const o=this.cachaData;Object.keys(o).forEach(a=>{o[a]!==e[a]&&(o[a]=e[a],s=!0)}),s&&this.shape.update()}}raycast(e,t){const r=this.matrixWorld,i=this.geometry.boundingBox.clone();if(i.applyMatrix4(r),e.ray.intersectsBox(i)){const s=this.target;t.push({distance:e.ray.origin.distanceTo(s.position),object:s,point:s.position})}}}class Ag extends nt{constructor(e){super();f(this,"sphere"),f(this,"target"),f(this,"shape"),f(this,"type","VisDirectionalLightHelper"),f(this,"cacheColor"),f(this,"cacheVector3"),this.geometry=new tt;const t=[-1,0,0,1,0,0,0,-1,0,0,1,0,0,0,-1,0,0,1,-.707,-.707,0,.707,.707,0,.707,-.707,0,-.707,.707,0,0,-.707,-.707,0,.707,.707,0,.707,-.707,0,-.707,.707,-.707,0,-.707,.707,0,.707,.707,0,-.707,-.707,0,.707];this.geometry.setAttribute("position",new we(t,3)),this.material=Ut(),this.geometry.boundingSphere;const r=new se().copy(e.color).multiplyScalar(e.intensity),i=new _t(20,20);i.dispose();const s=new nt(new nn(i),new kt({color:r}));s.raycast=()=>{},this.shape=s,this.target=e,this.sphere=new Vs(new V(0,0,0),1),this.cacheColor=e.color.getHex(),this.cacheVector3=new V,this.add(this.shape),this.matrixAutoUpdate=!1,this.matrix=e.matrix,this.matrixWorldNeedsUpdate=!1,this.matrixWorld=e.matrixWorld,this.onBeforeRender=()=>{const o=this.target,a=this.shape;o.color.getHex()!==this.cacheColor&&(a.material.color.copy(o.color).multiplyScalar(o.intensity),this.cacheColor=o.color.getHex()),a.lookAt(o.target.position)}}raycast(e,t){const r=this.target,i=r.matrixWorld,s=this.sphere;s.set(this.cacheVector3.set(0,0,0),1),s.applyMatrix4(i),e.ray.intersectsSphere(s)&&t.push({distance:e.ray.origin.distanceTo(r.position),object:r,point:r.position})}}class Pg extends nt{constructor(e){super();f(this,"sphere"),f(this,"target"),f(this,"shape"),f(this,"type","VisPointLightHelper"),f(this,"cacheColor"),f(this,"cacheDistance"),f(this,"cacheVector3"),this.geometry=new tt;const t=[-1,0,0,1,0,0,0,-1,0,0,1,0,0,0,-1,0,0,1,-.707,-.707,0,.707,.707,0,.707,-.707,0,-.707,.707,0,0,-.707,-.707,0,.707,.707,0,.707,-.707,0,-.707,.707,-.707,0,-.707,.707,0,.707,.707,0,-.707,-.707,0,.707];this.geometry.setAttribute("position",new we(t,3)),this.material=Ut(),this.geometry.boundingSphere;const r=new se().copy(e.color).multiplyScalar(e.intensity),i=new $t(new Ja(e.distance,0),new Ks({color:r,wireframe:!0}));i.raycast=()=>{},i.matrixAutoUpdate=!1,this.shape=i,this.target=e,this.sphere=new Vs(new V(0,0,0),1),this.cacheColor=e.color.getHex(),this.cacheDistance=e.distance,this.cacheVector3=new V,this.add(this.shape),this.matrixAutoUpdate=!1,this.matrix=e.matrix,this.matrixWorldNeedsUpdate=!1,this.matrixWorld=e.matrixWorld,this.onBeforeRender=()=>{const s=this.target,o=this.shape;s.distance!==this.cacheDistance&&(o.geometry.dispose(),o.geometry=new Ja(s.distance,0),this.cacheDistance=s.distance),s.color.getHex()!==this.cacheColor&&(o.material.color.copy(s.color).multiplyScalar(s.intensity),this.cacheColor=s.color.getHex())}}raycast(e,t){const r=this.target,i=r.matrixWorld,s=this.sphere;s.set(this.cacheVector3.set(0,0,0),1),s.applyMatrix4(i),e.ray.intersectsSphere(s)&&t.push({distance:e.ray.origin.distanceTo(r.position),object:r,point:r.position})}}class Lg extends nt{constructor(e){super();f(this,"sphere"),f(this,"target"),f(this,"shape"),f(this,"type","VisSpotLightHelper"),f(this,"cacheVector3"),f(this,"cacheColor"),f(this,"cacheAngle"),f(this,"cacheDistance"),this.geometry=new tt;const t=[-1,0,0,1,0,0,0,-1,0,0,1,0,0,0,-1,0,0,1,-.707,-.707,0,.707,.707,0,.707,-.707,0,-.707,.707,0,0,-.707,-.707,0,.707,.707,0,.707,-.707,0,-.707,.707,-.707,0,-.707,.707,0,.707,.707,0,-.707,-.707,0,.707];this.geometry.setAttribute("position",new we(t,3)),this.material=Ut(),this.geometry.boundingSphere;const r=new tt,i=[0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let l=0,u=1,h=32;l<h;l++,u++){const d=l/h*Math.PI*2,p=u/h*Math.PI*2;i.push(Math.cos(d),Math.sin(d),1,Math.cos(p),Math.sin(p),1)}r.setAttribute("position",new we(i,3));const s=Ut(),o=new nt(r,s);o.material.color.copy(e.color).multiplyScalar(e.intensity);const a=e.distance?e.distance:1e3,c=a*Math.tan(e.angle);o.scale.set(c,c,a),o.raycast=()=>{},this.add(o),this.matrixAutoUpdate=!1,this.matrix=e.matrix,this.matrixWorldNeedsUpdate=!1,this.matrixWorld=e.matrixWorld,this.target=e,this.shape=o,this.sphere=new Vs(new V(0,0,0),1),this.cacheColor=e.color.getHex(),this.cacheDistance=e.distance,this.cacheAngle=e.angle,this.cacheVector3=new V,this.onBeforeRender=()=>{const l=this.target,u=this.shape;let h=!1;if(l.distance!==this.cacheDistance&&(this.cacheDistance=l.distance,u.scale.z=l.distance,h=!0),l.angle!==this.cacheAngle&&(this.cacheAngle=l.angle,h=!0),h){const d=l.distance*Math.tan(l.angle);u.scale.set(d,d,l.distance)}l.color.getHex()!==this.cacheColor&&(u.material.color.copy(l.color).multiplyScalar(l.intensity),this.cacheColor=l.color.getHex()),u.lookAt(l.target.position)}}raycast(e,t){const r=this.target,i=r.matrixWorld,s=this.sphere;s.set(this.cacheVector3.set(0,0,0),1),s.applyMatrix4(i),e.ray.intersectsSphere(s)&&t.push({distance:e.ray.origin.distanceTo(r.position),object:r,point:r.position})}}class Ig extends nt{constructor(e){super();f(this,"target"),f(this,"type","VisCSS3DHelper");const r=e.element.getBoundingClientRect(),i=r.width,s=r.height;this.geometry=new nn(new _t(i,s)),this.geometry.computeBoundingBox(),this.material=Ut(),this.matrixAutoUpdate=!1,this.matrix=e.matrix,this.matrixWorldNeedsUpdate=!1,this.matrixWorld=e.matrixWorld,this.target=e}raycast(e,t){const r=this.target,i=r.matrixWorld,s=this.geometry.boundingBox.clone();s.applyMatrix4(i),e.ray.intersectsBox(s)&&t.push({distance:e.ray.origin.distanceTo(r.position),object:r,point:r.position})}}class Dg extends nt{constructor(e){super();f(this,"target"),f(this,"type","VisCSS3DPlaneHelper"),f(this,"observer"),this.geometry=new nn(new _t(e.width,e.height)),this.geometry.computeBoundingBox(),this.material=Ut(),this.matrixAutoUpdate=!1,this.matrix=e.matrix,this.matrixWorldNeedsUpdate=!1,this.matrixWorld=e.matrixWorld,this.target=e;const t=new MutationObserver(()=>{this.geometry.dispose(),this.geometry=new nn(new _t(e.width,e.height)),this.geometry.computeBoundingBox()});t.observe(e.element,{attributeFilter:["style"]}),this.observer=t}dispose(){this.observer.disconnect()}}const Ol=class extends wn{constructor(n){super();f(this,"target"),f(this,"type","VisGroupHelper"),this.target=n,this.geometry.computeBoundingBox(),this.material=new _n({map:Ol.colorTexture}),this.material.depthTest=!1,this.material.depthWrite=!1,this.scale.set(5,5,5);const e=this.updateMatrixWorld.bind(this);this.updateMatrixWorld=t=>{const r=this.position,i=this.target.position;r.x=i.x,r.y=i.y,r.z=i.z,e(t)}}raycast(n,e){const t=this.matrixWorld,r=this.geometry.boundingBox.clone();if(r.applyMatrix4(t),n.ray.intersectsBox(r)){const i=this.target;e.push({distance:n.ray.origin.distanceTo(i.position),object:i,point:i.position})}}};let Tl=Ol;f(Tl,"colorTexture",new lr(new br({width:512,height:512}).draw(n=>{n.beginPath(),n.fillStyle="rgba(0, 0, 0, 0)",n.fillRect(0,0,512,512),n.closePath(),n.translate(256,200),n.beginPath(),n.fillStyle="yellow",n.fillRect(-200,0,400,200),n.closePath(),n.beginPath(),n.fillStyle="yellow",n.fillRect(-200,-70,200,70),n.closePath()}).get()));const Rl=class extends wt{constructor(n){super();f(this,"target"),f(this,"cachaGeometryUUid"),f(this,"type","VisLineHelper"),this.target=n,this.geometry.dispose(),this.geometry.copy(n.geometry),this.cachaGeometryUUid=n.geometry.uuid,this.material=new dt({color:"rgb(255, 255, 255)",alphaMap:Rl.alphaTexture,transparent:!0,size:5,sizeAttenuation:!1}),this.matrixAutoUpdate=!1,this.matrixWorldNeedsUpdate=!1,this.matrix=n.matrix,this.matrixWorld=n.matrixWorld,this.renderOrder=-1,this.raycast=()=>{},this.onBeforeRender=()=>{const e=this.target;e.geometry.uuid!==this.cachaGeometryUUid&&(this.geometry.dispose(),this.geometry=e.geometry.clone(),this.cachaGeometryUUid=e.geometry.uuid)}}};let Al=Rl;f(Al,"alphaTexture",new lr(new br({width:512,height:512,bgColor:"rgb(0, 0, 0)"}).draw(n=>{n.beginPath(),n.fillStyle="rgb(255, 255, 255)",n.arc(256,256,200,0,Math.PI*2),n.fill(),n.closePath()}).getDom()));class jg extends nt{constructor(e){super();f(this,"target"),f(this,"type","VisMeshHelper"),f(this,"cachaGeometryUUid");const t=1;this.target=e,this.geometry=new nn(e.geometry,t),this.cachaGeometryUUid=e.geometry.uuid,this.material=Ut(),this.raycast=()=>{},this.matrixAutoUpdate=!1,this.matrixWorldNeedsUpdate=!1,this.matrix=e.matrix,this.matrixWorld=e.matrixWorld,this.onBeforeRender=()=>{const r=this.target;r.geometry.uuid!==this.cachaGeometryUUid&&(this.geometry.dispose(),this.geometry=new nn(r.geometry,t),this.cachaGeometryUUid=r.geometry.uuid)}}}const Pl=class extends wt{constructor(n){super();f(this,"target"),f(this,"type","VisPointsHelper"),this.target=n,this.geometry.dispose(),this.geometry.copy(n.geometry),this.material.dispose(),this.material=new dt({color:"rgb(255, 255, 255)",alphaMap:Pl.alphaTexture,transparent:!0});const e=Array.isArray(n.material)?n.material[0]:n.material;e instanceof dt&&(this.material.size=e.size,this.material.sizeAttenuation=e.sizeAttenuation),this.matrixAutoUpdate=!1,this.matrixWorldNeedsUpdate=!1,this.matrix=n.matrix,this.matrixWorld=n.matrixWorld,this.raycast=()=>{}}};let Ll=Pl;f(Ll,"alphaTexture",new lr(new br({width:512,height:512,bgColor:"rgb(0, 0, 0)"}).draw(n=>{n.beginPath(),n.strokeStyle="rgb(255, 255, 255)",n.lineWidth=4,n.strokeRect(0,0,512,512),n.closePath()}).get()));const Il=class extends wn{constructor(n){super();f(this,"target"),f(this,"type","VisSpriteHelper"),this.target=n,this.material.dispose(),this.material=new _n({color:"rgb(255, 255, 255)",alphaMap:Il.alphaTexture,transparent:!0,depthWrite:!1}),this.matrixAutoUpdate=!1,this.matrixWorldNeedsUpdate=!1,this.matrix=n.matrix,this.matrixWorld=n.matrixWorld,this.raycast=()=>{}}};let Dl=Il;f(Dl,"alphaTexture",new lr(new br({width:512,height:512,bgColor:"rgb(0, 0, 0)"}).draw(n=>{n.beginPath(),n.strokeStyle="rgb(255, 255, 255)",n.lineWidth=4,n.strokeRect(0,0,512,512),n.closePath()}).get()));class Ng extends ft{constructor(e={}){super();f(this,"helperGenerator",{[b.POINTLIGHT]:Pg,[b.SPOTLIGHT]:Lg,[b.DIRECTIONALLIGHT]:Ag,[b.PERSPECTIVECAMERA]:xl,[b.ORTHOGRAPHICCAMERA]:xl,[b.MESH]:jg,[b.GROUP]:Tl,[b.SPRITE]:Dl,[b.POINTS]:Ll,[b.LINE]:Al,[b.CSS3DOBJECT]:Ig,[b.CSS3DPLANE]:Dg}),f(this,"helperFilter",{AmbientLight:!0,Object3D:!0,TransformControls:!0,Scene:!0}),f(this,"objectFilter",new Set),f(this,"objectHelperMap",new Map),e.helperGenerator&&(this.helperGenerator=Object.assign(this.helperGenerator,e.helperGenerator)),e.helperFilter&&(this.helperFilter=Object.assign(this.helperFilter,e.helperFilter)),e.objectFilter&&(this.objectFilter=new Set(e.objectFilter.concat(Array.from(this.objectFilter))))}addFilteredObject(...e){for(const t of e)this.objectFilter.add(t);return this}addObjectHelper(e){if(this.objectFilter.has(e)||this.objectHelperMap.has(e)||this.helperFilter[e.type]||e.type.toLocaleLowerCase().includes("helper"))return null;if(!this.helperGenerator[e.type])return console.warn(`object helper can not support this type object: '${e.type}'`),null;const t=new this.helperGenerator[e.type](e);return this.objectHelperMap.set(e,t),t}disposeObjectHelper(e){if(this.objectFilter.has(e)||this.helperFilter[e.type]||e.type.toLocaleLowerCase().includes("helper"))return null;if(!this.objectHelperMap.has(e))return console.warn("object helper manager can not found this object`s helper: ",e),null;const t=this.objectHelperMap.get(e);return t.geometry&&t.geometry.dispose(),t.material&&(t.material instanceof ai?t.material.dispose():t.material.forEach(r=>{r.dispose()})),this.objectHelperMap.delete(e),t}}const zg=function(n={}){if(!this.scene)return console.error("must install some scene plugin before ObjectHelper plugin."),!1;n.interact===void 0&&(n.interact=!0),n.interact&&(this.eventManager||(console.warn("must install eventManager plugin that can use interact function."),n.interact=!1));const e=new Ng,t=new Map,r=new Map,i=new Map,s=e.objectHelperMap;this.objectHelperManager=e,!n.activeColor&&(n.activeColor="rgb(230, 20, 240)"),!n.hoverColor&&(n.hoverColor="rgb(255, 158, 240)"),!n.defaultColor&&(n.defaultColor="rgb(255, 255, 255)"),!n.selectedColor&&(n.selectedColor=n.activeColor);const o=new se(n.defaultColor).getHex(),a=new se(n.activeColor).getHex(),c=new se(n.hoverColor).getHex(),l=new se(n.selectedColor).getHex(),u=new WeakSet,h=M=>{const _=M.objects;for(const m of _){const C=e.addObjectHelper(m);if(!!C&&(C.material.color.setHex(o),this.scene.add(C),n.interact)){const g=()=>{var S;((S=this.transformControls)==null?void 0:S.dragging)||this.selectionBox&&this.selectionBox.has(m)||C.material.color.setHex(c)},y=()=>{var S;((S=this.transformControls)==null?void 0:S.dragging)||this.selectionBox&&this.selectionBox.has(m)||C.material.color.setHex(o)},E=()=>{var S;((S=this.transformControls)==null?void 0:S.dragging)||this.selectionBox&&this.selectionBox.has(m)||C.material.color.setHex(a)};m.addEventListener("pointerenter",g),m.addEventListener("pointerleave",y),m.addEventListener("click",E),t.set(m,g),r.set(m,y),i.set(m,E)}}},d=M=>{const _=M.objects;for(const m of _){const C=e.disposeObjectHelper(m);!C||(this.scene.remove(C),n.interact&&(m.removeEventListener("pointerenter",t.get(m)),m.removeEventListener("pointerleave",r.get(m)),m.removeEventListener("click",i.get(m)),t.delete(m),r.delete(m),i.delete(m)))}},p=M=>{u.has(M)||(M.traverse(_=>{const m=e.addObjectHelper(_);m&&M.add(m)}),u.add(M))};this.scene.addEventListener("afterAdd",h),this.scene.addEventListener("afterRemove",d),this.setObjectHelper=function(M){return M.show?s.forEach(_=>{this.scene.add(_)}):s.forEach(_=>{this.scene.remove(_)}),this},this.addEventListener("setScene",M=>{const _=M.scene;!u.has(_)&&p(_),_.hasEventListener("afterAdd",h)||_.addEventListener("afterAdd",h),_.hasEventListener("afterRemove",d)||_.addEventListener("afterRemove",d)});const v=new Set;return this.completeSet.add(()=>{this.selectionBox&&this.addEventListener("selected",M=>{v.forEach(_=>{_.material.color.setHex(o)}),v.clear();for(const _ of M.objects)if(s.has(_)){const m=s.get(_);m.material.color.setHex(l),v.add(m)}})}),!0},kg=function(n={}){if(this.selectionBox)return console.warn("engine has installed selection plugin."),!1;if(!this.eventManager)return console.warn("must install eventManager plugin before Selection plugin."),!1;this.selectionBox=new Set;const e=()=>{const t=[];this.IS_ENGINESUPPORT&&this.selectionBox.forEach(r=>{const i=this.compilerManager.getObjectSymbol(r);i?t.push(i):console.warn("selection plugin can not font vid in compilerManager.",r)}),this.dispatchEvent({type:"selected",objects:[...this.selectionBox],objectSymbols:t})};return this.setSelectionBox=function(t){this.selectionBox.clear();for(const r of t.objects)this.selectionBox.add(r);return e(),this},this.eventManager.addEventListener("click",t=>{var r,i,s;if(this.transing){this.transing=!1;return}const o=t.intersections;if(t.ctrlKey||this.selectionBox.clear(),this.eventManager.penetrate)for(const a of o){if(t.ctrlKey&&((r=this.selectionBox)==null?void 0:r.has(a.object))){this.selectionBox.delete(a.object);continue}this.selectionBox.add(a.object)}else if(o.length){const a=o[0].object;if(t.ctrlKey&&((i=this.selectionBox)==null?void 0:i.has(a))){this.selectionBox.delete(a);return}(s=this.selectionBox)==null||s.add(a)}e()}),!0},$g=function(n={}){if(this.css3DRenderer)return console.warn("this has installed css3DRenderer plugin."),!1;this.css3DRenderer=new Vd;const e=this.css3DRenderer.domElement;if(e.classList.add("vis-css3D"),e.style.position="absolute",e.style.top="0",e.style.left="0",this.addEventListener("setDom",t=>{t.dom.appendChild(this.css3DRenderer.domElement)}),this.addEventListener("setSize",t=>{this.css3DRenderer.setSize(t.width,t.height)}),this.renderManager)this.renderManager.removeEventListener("render",this.render),this.renderManager.addEventListener("render",t=>{this.css3DRenderer.render(this.scene,this.camera)});else if(this.webGLRenderer){const t=this.render.bind(this);this.render=function(){return t(),this.webGLRenderer.render(this.scene,this.camera),this}}else this.render=function(){return this.webGLRenderer.render(this.scene,this.camera),this};return!0};var K;(function(n){n.WEBGLRENDERER="WebGLRenderer",n.CSS3DRENDERER="CSS3DRenderer",n.SCENE="Scene",n.MODELINGSCENE="ModelingScene",n.RENDERMANAGER="RenderManager",n.ORBITCONTROLS="OrbitControls",n.STATS="Stats",n.EFFECTCOMPOSER="EffectComposer",n.POINTERMANAGER="PointerManager",n.EVENTMANAGER="EventManager",n.TRANSFORMCONTROLS="TransformControls",n.LOADERMANAGER="LoaderManager",n.RESOURCEMANAGER="ResourceManager",n.DATASUPPORTMANAGER="DataSupportManager",n.COMPILERMANAGER="CompilerManager",n.KEYBOARDMANAGER="KeyboardManager",n.AXESHELPER="AxesHelper",n.GRIDHELPER="GridHelper",n.VIEWPOINT="Viewpoint",n.DISPLAYMODE="DisplayMode",n.OBJECTHELPER="ObjectHelper",n.SELECTION="Selection"})(K||(K={}));const sn=class extends ft{constructor(){super();f(this,"completeSet"),f(this,"camera",new Pe),f(this,"scene",new pt),f(this,"IS_ENGINESUPPORT",!1),f(this,"dom"),f(this,"webGLRenderer"),f(this,"css3DRenderer"),f(this,"orbitControls"),f(this,"transformControls"),f(this,"effectComposer"),f(this,"renderManager"),f(this,"pointerManager"),f(this,"eventManager"),f(this,"loaderManager"),f(this,"resourceManager"),f(this,"dataSupportManager"),f(this,"compilerManager"),f(this,"keyboardManager"),f(this,"objectHelperManager"),f(this,"transing"),f(this,"stats"),f(this,"displayMode"),f(this,"selectionBox"),f(this,"getScreenshot"),f(this,"setStats"),f(this,"setTransformControls"),f(this,"setViewpoint"),f(this,"setDisplayMode"),f(this,"setAxesHelper"),f(this,"setGridHelper"),f(this,"setObjectHelper"),f(this,"setSelectionBox"),f(this,"loadResources"),f(this,"loadResourcesAsync"),f(this,"registerResources"),f(this,"toJSON"),f(this,"exportConfig"),f(this,"applyConfig"),f(this,"reactiveConfig"),f(this,"getConfigBySymbol"),f(this,"removeConfigBySymbol"),f(this,"getObjectSymbol"),f(this,"getObjectBySymbol"),f(this,"play"),f(this,"stop"),f(this,"render"),this.completeSet=new Set,this.render=function(){return console.warn("can not install some plugin"),this},this.camera.position.set(50,50,50),this.addEventListener("setSize",n=>{this.camera.aspect=n.width/n.height,this.camera.updateProjectionMatrix()})}optimizeMemory(){Object.keys(this).forEach(n=>{this[n]===void 0&&delete this[n]})}install(n,e){return sn.pluginHandler.has(n)?sn.pluginHandler.get(n).call(this,e):console.error(`engine can not support ${n} plugin.`),this}complete(){return this.completeSet.forEach(n=>{n(this)}),this.completeSet.clear(),this}dispose(){return this.dispatchEvent({type:"dispose"}),this}setDom(n){return this.dom=n,this.dispatchEvent({type:"setDom",dom:n}),this}setSize(n,e){var t,r;return n&&n<=0||e&&e<=0?(console.warn(`you must be input width and height bigger then zero, width: ${n}, height: ${e}`),this):(!n&&(n=((t=this.dom)==null?void 0:t.offsetWidth)||window.innerWidth),!e&&(e=((r=this.dom)==null?void 0:r.offsetHeight)||window.innerHeight),this.dispatchEvent({type:"setSize",width:n,height:e}),this)}setCamera(n){if(typeof n=="object"&&n instanceof jd)this.camera=n,this.dispatchEvent({type:"setCamera",camera:n});else if(this.IS_ENGINESUPPORT){const e=this.compilerManager.getObjectBySymbol(n);e?(this.camera=e,this.dispatchEvent({type:"setCamera",camera:e})):console.warn(`can not found camera in compilerManager: ${n}`)}else console.warn("engine is not a Engine support but use symbol to found camera.");return this}setScene(n){if(typeof n=="object"&&n instanceof pt)this.scene=n,this.dispatchEvent({type:"setScene",scene:n});else if(this.IS_ENGINESUPPORT){const e=this.compilerManager.getObjectBySymbol(n);e?(this.scene=e,this.dispatchEvent({type:"setScene",scene:e})):console.warn(`can not found camera in compilerManager: ${n}`)}else console.warn("engine is not a Engine support but use symbol to found camera.");return this}};let te=sn;f(te,"pluginHandler",new Map);f(te,"register",function(n,e){return sn.pluginHandler&&sn.pluginHandler.set(n,e),sn});f(te,"dispose",function(){sn.pluginHandler=void 0});te.register(K.WEBGLRENDERER,fp);te.register(K.CSS3DRENDERER,$g);te.register(K.EFFECTCOMPOSER,ap);te.register(K.RENDERMANAGER,tp);te.register(K.POINTERMANAGER,cp);te.register(K.EVENTMANAGER,hp);te.register(K.LOADERMANAGER,wp);te.register(K.RESOURCEMANAGER,If);te.register(K.DATASUPPORTMANAGER,pm);te.register(K.COMPILERMANAGER,wg);te.register(K.KEYBOARDMANAGER,xg);te.register(K.ORBITCONTROLS,ip);te.register(K.TRANSFORMCONTROLS,pp);te.register(K.AXESHELPER,Og);te.register(K.GRIDHELPER,Tg);te.register(K.OBJECTHELPER,zg);te.register(K.DISPLAYMODE,Rg);te.register(K.VIEWPOINT,rp);te.register(K.STATS,op);te.register(K.SELECTION,kg);const jl=class{constructor(){f(this,"supportData"),f(this,"supportDataType")}create(n){return n?(this.supportData={},this.supportDataType=n,this):(console.warn("you must give a module type in create params"),this)}add(n){return!this.supportData||!this.supportDataType?(console.warn("you must call 'create' method before the 'add' method"),this):n.type?jl.configModelMap[n.type]!==this.supportDataType?(console.warn(`current generator create config which module is in: ${this.supportDataType}, but you provide type is '${n.type}'`),this):(this.supportData[n.vid]=$(n.type,n),this):(console.warn("config can not found attribute 'type'"),this)}get(){return this.supportDataType=void 0,this.supportData?this.supportData:{}}};let Bg=jl;f(Bg,"configModelMap",bi);const ao=new el("rgb(255, 255, 255)",.5,200,1);ao.position.set(-30,5,20);ao.castShadow=!0;const Oi=new $t(new or(80,2,80),new tl({color:"rgb(255, 255, 255)"}));Oi.position.set(0,-11,0);Oi.receiveShadow=!0;Oi.castShadow=!0;const Rt=class{constructor(n){f(this,"material"),f(this,"dom"),f(this,"renderer"),f(this,"scene"),f(this,"camera"),f(this,"object");const e=new Ys({antialias:!0,preserveDrawingBuffer:!0});e.setPixelRatio(window.devicePixelRatio),e.setClearColor("rgb(150, 150, 150)"),e.shadowMap.enabled=!0,e.shadowMap.type=ll;const t=new pt,r=new Pe(45,window.innerWidth/window.innerHeight,1,500);r.position.set(0,0,35),r.up.x=0,r.up.y=1,r.up.z=0,r.lookAt(new V(0,0,0)),t.add(Rt.ambientLight),t.add(Rt.pointLight),t.add(Rt.plane),this.scene=t,this.renderer=e,this.camera=r,this.object=new Cn,(n==null?void 0:n.material)&&this.setMaterial(n.material),(n==null?void 0:n.dom)&&this.setDom(n.dom)}setMaterial(n){if(this.scene.remove(this.object),this.material=n,n.type.includes("Mesh"))this.object=new $t(Rt.geometry,n);else if(n.type.includes("Line"))this.object=new hi(Rt.geometry,n);else if(n.type.includes("Ponits"))this.object=new wt(Rt.geometry,n);else if(n.type.includes("Sprite"))this.object=new wn(n);else return console.warn(`material displayer can not support this type material: '${n.type}'`),this;return this.object.castShadow=!0,this.object.receiveShadow=!0,this.scene.add(this.object),this}setDom(n){return this.dom=n,this.setSize(),n.appendChild(this.renderer.domElement),this}setSize(n,e){if(n&&e)this.camera.aspect=n/e,this.camera.updateProjectionMatrix(),this.renderer.setSize(n,e,!0);else{if(!this.dom)return console.warn("material displayer must set dom before setSize with empty parameters"),this;const t=this.dom;this.camera.aspect=t.offsetWidth/t.offsetHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(t.offsetWidth,t.offsetHeight,!0)}return this}render(){this.renderer.render(this.scene,this.camera)}getDataURL(n){return this.renderer.domElement.toDataURL(n||"image/png")}dispose(){this.renderer.dispose()}};let Er=Rt;f(Er,"ambientLight",new cr("rgb(255, 255, 255)",.7));f(Er,"pointLight",ao);f(Er,"geometry",new Xa(10,12,12));f(Er,"plane",Oi);f(Er,"dispose",()=>{Rt.geometry.dispose(),Rt.plane.geometry.dispose()});const Nl=class{constructor(n){f(this,"dom"),f(this,"texture"),f(this,"renderer"),f(this,"scene"),f(this,"camera");const e=new Ys({antialias:!0,preserveDrawingBuffer:!0});e.setPixelRatio(window.devicePixelRatio),e.setClearColor("rgb(150, 150, 150)"),e.shadowMap.enabled=!0,e.shadowMap.type=ll;const t=new pt,r=new Pe(45,window.innerWidth/window.innerHeight,1,500);r.position.set(0,0,35),r.up.x=0,r.up.y=1,r.up.z=0,r.lookAt(new V(0,0,0)),t.add(Nl.ambientLight),this.scene=t,this.renderer=e,this.camera=r,(n==null?void 0:n.texture)&&this.setTexture(n.texture),(n==null?void 0:n.dom)&&this.setDom(n.dom)}setTexture(n){return this.scene.background=n,this}setDom(n){return this.dom=n,this.setSize(),n.appendChild(this.renderer.domElement),this}setSize(n,e){if(n&&e)this.camera.aspect=n/e,this.camera.updateProjectionMatrix(),this.renderer.setSize(n,e,!0);else{if(!this.dom)return console.warn("texture displayer must set dom before setSize with empty parameters"),this;const t=this.dom;this.camera.aspect=t.offsetWidth/t.offsetHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(t.offsetWidth,t.offsetHeight,!0)}return this}render(){this.renderer.render(this.scene,this.camera)}getDataURL(n){return this.renderer.domElement.toDataURL(n||"image/png")}dispose(){this.renderer.dispose()}};let Fg=Nl;f(Fg,"ambientLight",new cr("rgb(255, 255, 255)",1));class Gg extends te{constructor(e={},t={}){super();f(this,"IS_ENGINESUPPORT",!0),this.install(K.LOADERMANAGER).install(K.RESOURCEMANAGER,{resources:t}).install(K.POINTERMANAGER).install(K.EVENTMANAGER).install(K.RENDERMANAGER).install(K.DATASUPPORTMANAGER,e).install(K.COMPILERMANAGER)}loadLifeCycle(e){const t=this.dataSupportManager;e.texture&&t.load({texture:e.texture}),e.material&&t.load({material:e.material}),delete e.texture,delete e.material,t.load(e)}removeLifeCycle(e){const t=this.dataSupportManager,r=e[A.TEXTURE]||{},i=e[A.MATERIAL]||{},s=e.assets||[];delete e.texture,delete e.material,delete e.assets,t.remove(e),t.remove({[A.MATERIAL]:i}),t.remove({[A.TEXTURE]:r});const o=this.resourceManager,a=this.loaderManager;s.forEach(c=>{o.remove(c),a.remove(c)})}loadConfig(e,t){const r=this.renderManager.hasRendering();if(r&&this.renderManager.stop(),e.assets&&e.assets.length){const i=s=>{delete e.assets,this.loadLifeCycle(e),this.resourceManager.removeEventListener("mapped",i),t&&t(s),r?this.renderManager.play():this.renderManager.render()};this.resourceManager.addEventListener("mapped",i),this.loaderManager.reset().load(e.assets)}else this.loadLifeCycle(e),t&&t(),r?this.renderManager.play():this.renderManager.render();return this}loadConfigAsync(e){return new Promise((t,r)=>{const i=this.renderManager.hasRendering();if(i&&this.renderManager.stop(),e.assets&&e.assets.length){const s=o=>{delete e.assets,this.loadLifeCycle(e),this.resourceManager.removeEventListener("mapped",s),i?this.renderManager.play():this.renderManager.render(),t(o)};this.resourceManager.addEventListener("mapped",s),this.loaderManager.reset().load(e.assets)}else this.loadLifeCycle(e),i?this.renderManager.play():this.renderManager.render(),t(void 0)})}removeConfig(e){this.removeLifeCycle(e)}getObjectConfig(e){const t=this.getObjectSymbol(e);return t?this.getConfigBySymbol(t):null}}class Hg extends Gg{constructor(e){super(e);this.install(K.WEBGLRENDERER,{antialias:!0,alpha:!0}).install(K.EFFECTCOMPOSER,{WebGLMultisampleRenderTarget:!0}).install(K.ORBITCONTROLS).complete()}}const Ug=[];for(let n=0;n<256;n++)Ug[n]=(n<16?"0":"")+n.toString(16);function zl(n,e,t){return Math.max(e,Math.min(t,n))}class Vg{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerp(e,t,r,i){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),r.slerpQuaternions(e,t,i)}static slerpFlat(e,t,r,i,s,o,a){let c=r[i+0],l=r[i+1],u=r[i+2],h=r[i+3];const d=s[o+0],p=s[o+1],v=s[o+2],M=s[o+3];if(a===0){e[t+0]=c,e[t+1]=l,e[t+2]=u,e[t+3]=h;return}if(a===1){e[t+0]=d,e[t+1]=p,e[t+2]=v,e[t+3]=M;return}if(h!==M||c!==d||l!==p||u!==v){let _=1-a;const m=c*d+l*p+u*v+h*M,C=m>=0?1:-1,g=1-m*m;if(g>Number.EPSILON){const E=Math.sqrt(g),S=Math.atan2(E,m*C);_=Math.sin(_*S)/E,a=Math.sin(a*S)/E}const y=a*C;if(c=c*_+d*y,l=l*_+p*y,u=u*_+v*y,h=h*_+M*y,_===1-a){const E=1/Math.sqrt(c*c+l*l+u*u+h*h);c*=E,l*=E,u*=E,h*=E}}e[t]=c,e[t+1]=l,e[t+2]=u,e[t+3]=h}static multiplyQuaternionsFlat(e,t,r,i,s,o){const a=r[i],c=r[i+1],l=r[i+2],u=r[i+3],h=s[o],d=s[o+1],p=s[o+2],v=s[o+3];return e[t]=a*v+u*h+c*p-l*d,e[t+1]=c*v+u*d+l*h-a*p,e[t+2]=l*v+u*p+a*d-c*h,e[t+3]=u*v-a*h-c*d-l*p,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,c=Math.sin,l=a(r/2),u=a(i/2),h=a(s/2),d=c(r/2),p=c(i/2),v=c(s/2);switch(o){case"XYZ":this._x=d*u*h+l*p*v,this._y=l*p*h-d*u*v,this._z=l*u*v+d*p*h,this._w=l*u*h-d*p*v;break;case"YXZ":this._x=d*u*h+l*p*v,this._y=l*p*h-d*u*v,this._z=l*u*v-d*p*h,this._w=l*u*h+d*p*v;break;case"ZXY":this._x=d*u*h-l*p*v,this._y=l*p*h+d*u*v,this._z=l*u*v+d*p*h,this._w=l*u*h-d*p*v;break;case"ZYX":this._x=d*u*h-l*p*v,this._y=l*p*h+d*u*v,this._z=l*u*v-d*p*h,this._w=l*u*h+d*p*v;break;case"YZX":this._x=d*u*h+l*p*v,this._y=l*p*h+d*u*v,this._z=l*u*v-d*p*h,this._w=l*u*h-d*p*v;break;case"XZY":this._x=d*u*h-l*p*v,this._y=l*p*h-d*u*v,this._z=l*u*v+d*p*h,this._w=l*u*h+d*p*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],s=t[8],o=t[1],a=t[5],c=t[9],l=t[2],u=t[6],h=t[10],d=r+a+h;if(d>0){const p=.5/Math.sqrt(d+1);this._w=.25/p,this._x=(u-c)*p,this._y=(s-l)*p,this._z=(o-i)*p}else if(r>a&&r>h){const p=2*Math.sqrt(1+r-a-h);this._w=(u-c)/p,this._x=.25*p,this._y=(i+o)/p,this._z=(s+l)/p}else if(a>h){const p=2*Math.sqrt(1+a-r-h);this._w=(s-l)/p,this._x=(i+o)/p,this._y=.25*p,this._z=(c+u)/p}else{const p=2*Math.sqrt(1+h-r-a);this._w=(o-i)/p,this._x=(s+l)/p,this._y=(c+u)/p,this._z=.25*p}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(zl(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,t){return t!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,s=e._z,o=e._w,a=t._x,c=t._y,l=t._z,u=t._w;return this._x=r*u+o*a+i*l-s*c,this._y=i*u+o*c+s*a-r*l,this._z=s*u+o*l+r*c-i*a,this._w=o*u-r*a-i*c-s*l,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const c=1-a*a;if(c<=Number.EPSILON){const p=1-t;return this._w=p*o+t*this._w,this._x=p*r+t*this._x,this._y=p*i+t*this._y,this._z=p*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const l=Math.sqrt(c),u=Math.atan2(l,a),h=Math.sin((1-t)*u)/l,d=Math.sin(t*u)/l;return this._w=o*h+this._w*d,this._x=r*h+this._x*d,this._y=i*h+this._y*d,this._z=s*h+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(s),r*Math.cos(s),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class G{constructor(e=0,t=0,r=0){this.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(kl.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(kl.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6]*i,this.y=s[1]*t+s[4]*r+s[7]*i,this.z=s[2]*t+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*t+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*t+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*t+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,c=e.w,l=c*t+o*i-a*r,u=c*r+a*t-s*i,h=c*i+s*r-o*t,d=-s*t-o*r-a*i;return this.x=l*c+d*-s+u*-a-h*-o,this.y=u*c+d*-o+h*-s-l*-a,this.z=h*c+d*-a+l*-o-u*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i,this.y=s[1]*t+s[5]*r+s[9]*i,this.z=s[2]*t+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e,t){return t!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,s=e.z,o=t.x,a=t.y,c=t.z;return this.x=i*c-s*a,this.y=s*o-r*c,this.z=r*a-i*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return lo.copy(this).projectOnVector(e),this.sub(lo)}reflect(e){return this.sub(lo.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(zl(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t,r){return r!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const lo=new G,kl=new Vg;class Mr{constructor(){this.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,t,r,i,s,o,a,c,l,u,h,d,p,v,M,_){const m=this.elements;return m[0]=e,m[4]=t,m[8]=r,m[12]=i,m[1]=s,m[5]=o,m[9]=a,m[13]=c,m[2]=l,m[6]=u,m[10]=h,m[14]=d,m[3]=p,m[7]=v,m[11]=M,m[15]=_,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Mr().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/Pn.setFromMatrixColumn(e,0).length(),s=1/Pn.setFromMatrixColumn(e,1).length(),o=1/Pn.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const t=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),c=Math.cos(i),l=Math.sin(i),u=Math.cos(s),h=Math.sin(s);if(e.order==="XYZ"){const d=o*u,p=o*h,v=a*u,M=a*h;t[0]=c*u,t[4]=-c*h,t[8]=l,t[1]=p+v*l,t[5]=d-M*l,t[9]=-a*c,t[2]=M-d*l,t[6]=v+p*l,t[10]=o*c}else if(e.order==="YXZ"){const d=c*u,p=c*h,v=l*u,M=l*h;t[0]=d+M*a,t[4]=v*a-p,t[8]=o*l,t[1]=o*h,t[5]=o*u,t[9]=-a,t[2]=p*a-v,t[6]=M+d*a,t[10]=o*c}else if(e.order==="ZXY"){const d=c*u,p=c*h,v=l*u,M=l*h;t[0]=d-M*a,t[4]=-o*h,t[8]=v+p*a,t[1]=p+v*a,t[5]=o*u,t[9]=M-d*a,t[2]=-o*l,t[6]=a,t[10]=o*c}else if(e.order==="ZYX"){const d=o*u,p=o*h,v=a*u,M=a*h;t[0]=c*u,t[4]=v*l-p,t[8]=d*l+M,t[1]=c*h,t[5]=M*l+d,t[9]=p*l-v,t[2]=-l,t[6]=a*c,t[10]=o*c}else if(e.order==="YZX"){const d=o*c,p=o*l,v=a*c,M=a*l;t[0]=c*u,t[4]=M-d*h,t[8]=v*h+p,t[1]=h,t[5]=o*u,t[9]=-a*u,t[2]=-l*u,t[6]=p*h+v,t[10]=d-M*h}else if(e.order==="XZY"){const d=o*c,p=o*l,v=a*c,M=a*l;t[0]=c*u,t[4]=-h,t[8]=l*u,t[1]=d*h+M,t[5]=o*u,t[9]=p*h-v,t[2]=v*h-p,t[6]=a*u,t[10]=M*h+d}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Kg,e,Wg)}lookAt(e,t,r){const i=this.elements;return Fe.subVectors(e,t),Fe.lengthSq()===0&&(Fe.z=1),Fe.normalize(),Vt.crossVectors(r,Fe),Vt.lengthSq()===0&&(Math.abs(r.z)===1?Fe.x+=1e-4:Fe.z+=1e-4,Fe.normalize(),Vt.crossVectors(r,Fe)),Vt.normalize(),Ti.crossVectors(Fe,Vt),i[0]=Vt.x,i[4]=Ti.x,i[8]=Fe.x,i[1]=Vt.y,i[5]=Ti.y,i[9]=Fe.y,i[2]=Vt.z,i[6]=Ti.z,i[10]=Fe.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[4],c=r[8],l=r[12],u=r[1],h=r[5],d=r[9],p=r[13],v=r[2],M=r[6],_=r[10],m=r[14],C=r[3],g=r[7],y=r[11],E=r[15],S=i[0],w=i[4],x=i[8],R=i[12],I=i[1],k=i[5],B=i[9],Y=i[13],X=i[2],Me=i[6],ie=i[10],Se=i[14],Ae=i[3],Ve=i[7],ht=i[11],et=i[15];return s[0]=o*S+a*I+c*X+l*Ae,s[4]=o*w+a*k+c*Me+l*Ve,s[8]=o*x+a*B+c*ie+l*ht,s[12]=o*R+a*Y+c*Se+l*et,s[1]=u*S+h*I+d*X+p*Ae,s[5]=u*w+h*k+d*Me+p*Ve,s[9]=u*x+h*B+d*ie+p*ht,s[13]=u*R+h*Y+d*Se+p*et,s[2]=v*S+M*I+_*X+m*Ae,s[6]=v*w+M*k+_*Me+m*Ve,s[10]=v*x+M*B+_*ie+m*ht,s[14]=v*R+M*Y+_*Se+m*et,s[3]=C*S+g*I+y*X+E*Ae,s[7]=C*w+g*k+y*Me+E*Ve,s[11]=C*x+g*B+y*ie+E*ht,s[15]=C*R+g*Y+y*Se+E*et,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],c=e[9],l=e[13],u=e[2],h=e[6],d=e[10],p=e[14],v=e[3],M=e[7],_=e[11],m=e[15];return v*(+s*c*h-i*l*h-s*a*d+r*l*d+i*a*p-r*c*p)+M*(+t*c*p-t*l*d+s*o*d-i*o*p+i*l*u-s*c*u)+_*(+t*l*h-t*a*p-s*o*h+r*o*p+s*a*u-r*l*u)+m*(-i*a*u-t*c*h+t*a*d+i*o*h-r*o*d+r*c*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],c=e[6],l=e[7],u=e[8],h=e[9],d=e[10],p=e[11],v=e[12],M=e[13],_=e[14],m=e[15],C=h*_*l-M*d*l+M*c*p-a*_*p-h*c*m+a*d*m,g=v*d*l-u*_*l-v*c*p+o*_*p+u*c*m-o*d*m,y=u*M*l-v*h*l+v*a*p-o*M*p-u*a*m+o*h*m,E=v*h*c-u*M*c-v*a*d+o*M*d+u*a*_-o*h*_,S=t*C+r*g+i*y+s*E;if(S===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const w=1/S;return e[0]=C*w,e[1]=(M*d*s-h*_*s-M*i*p+r*_*p+h*i*m-r*d*m)*w,e[2]=(a*_*s-M*c*s+M*i*l-r*_*l-a*i*m+r*c*m)*w,e[3]=(h*c*s-a*d*s-h*i*l+r*d*l+a*i*p-r*c*p)*w,e[4]=g*w,e[5]=(u*_*s-v*d*s+v*i*p-t*_*p-u*i*m+t*d*m)*w,e[6]=(v*c*s-o*_*s-v*i*l+t*_*l+o*i*m-t*c*m)*w,e[7]=(o*d*s-u*c*s+u*i*l-t*d*l-o*i*p+t*c*p)*w,e[8]=y*w,e[9]=(v*h*s-u*M*s-v*r*p+t*M*p+u*r*m-t*h*m)*w,e[10]=(o*M*s-v*a*s+v*r*l-t*M*l-o*r*m+t*a*m)*w,e[11]=(u*a*s-o*h*s-u*r*l+t*h*l+o*r*p-t*a*p)*w,e[12]=E*w,e[13]=(u*M*i-v*h*i+v*r*d-t*M*d-u*r*_+t*h*_)*w,e[14]=(v*a*i-o*M*i-v*r*c+t*M*c+o*r*_-t*a*_)*w,e[15]=(o*h*i-u*a*i+u*r*c-t*h*c-o*r*d+t*a*d)*w,this}scale(e){const t=this.elements,r=e.x,i=e.y,s=e.z;return t[0]*=r,t[4]*=i,t[8]*=s,t[1]*=r,t[5]*=i,t[9]*=s,t[2]*=r,t[6]*=i,t[10]*=s,t[3]*=r,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),s=1-r,o=e.x,a=e.y,c=e.z,l=s*o,u=s*a;return this.set(l*o+r,l*a-i*c,l*c+i*a,0,l*a+i*c,u*a+r,u*c-i*o,0,l*c-i*a,u*c+i*o,s*c*c+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,s=t._x,o=t._y,a=t._z,c=t._w,l=s+s,u=o+o,h=a+a,d=s*l,p=s*u,v=s*h,M=o*u,_=o*h,m=a*h,C=c*l,g=c*u,y=c*h,E=r.x,S=r.y,w=r.z;return i[0]=(1-(M+m))*E,i[1]=(p+y)*E,i[2]=(v-g)*E,i[3]=0,i[4]=(p-y)*S,i[5]=(1-(d+m))*S,i[6]=(_+C)*S,i[7]=0,i[8]=(v+g)*w,i[9]=(_-C)*w,i[10]=(1-(d+M))*w,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let s=Pn.set(i[0],i[1],i[2]).length();const o=Pn.set(i[4],i[5],i[6]).length(),a=Pn.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],st.copy(this);const l=1/s,u=1/o,h=1/a;return st.elements[0]*=l,st.elements[1]*=l,st.elements[2]*=l,st.elements[4]*=u,st.elements[5]*=u,st.elements[6]*=u,st.elements[8]*=h,st.elements[9]*=h,st.elements[10]*=h,t.setFromRotationMatrix(st),r.x=s,r.y=o,r.z=a,this}makePerspective(e,t,r,i,s,o){o===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const a=this.elements,c=2*s/(t-e),l=2*s/(r-i),u=(t+e)/(t-e),h=(r+i)/(r-i),d=-(o+s)/(o-s),p=-2*o*s/(o-s);return a[0]=c,a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=l,a[9]=h,a[13]=0,a[2]=0,a[6]=0,a[10]=d,a[14]=p,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,r,i,s,o){const a=this.elements,c=1/(t-e),l=1/(r-i),u=1/(o-s),h=(t+e)*c,d=(r+i)*l,p=(o+s)*u;return a[0]=2*c,a[4]=0,a[8]=0,a[12]=-h,a[1]=0,a[5]=2*l,a[9]=0,a[13]=-d,a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-p,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const Pn=new G,st=new Mr,Kg=new G(0,0,0),Wg=new G(1,1,1),Vt=new G,Ti=new G,Fe=new G;class $l{constructor(e=0,t=0){this.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t,r){return r!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Yg{constructor(e=0,t=0,r=0,i=1){this.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*t+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*t+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*t+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,s;const o=.01,a=.1,c=e.elements,l=c[0],u=c[4],h=c[8],d=c[1],p=c[5],v=c[9],M=c[2],_=c[6],m=c[10];if(Math.abs(u-d)<o&&Math.abs(h-M)<o&&Math.abs(v-_)<o){if(Math.abs(u+d)<a&&Math.abs(h+M)<a&&Math.abs(v+_)<a&&Math.abs(l+p+m-3)<a)return this.set(1,0,0,0),this;t=Math.PI;const g=(l+1)/2,y=(p+1)/2,E=(m+1)/2,S=(u+d)/4,w=(h+M)/4,x=(v+_)/4;return g>y&&g>E?g<o?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(g),i=S/r,s=w/r):y>E?y<o?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(y),r=S/i,s=x/i):E<o?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(E),r=w/s,i=x/s),this.set(r,i,s,t),this}let C=Math.sqrt((_-v)*(_-v)+(h-M)*(h-M)+(d-u)*(d-u));return Math.abs(C)<.001&&(C=1),this.x=(_-v)/C,this.y=(h-M)/C,this.z=(d-u)/C,this.w=Math.acos((l+p+m-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t,r){return r!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Bl{constructor(e=new G(1/0,1/0,1/0),t=new G(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let c=0,l=e.length;c<l;c+=3){const u=e[c],h=e[c+1],d=e[c+2];u<t&&(t=u),h<r&&(r=h),d<i&&(i=d),u>s&&(s=u),h>o&&(o=h),d>a&&(a=d)}return this.min.set(t,r,i),this.max.set(s,o,a),this}setFromBufferAttribute(e){let t=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let c=0,l=e.count;c<l;c++){const u=e.getX(c),h=e.getY(c),d=e.getZ(c);u<t&&(t=u),h<r&&(r=h),d<i&&(i=d),u>s&&(s=u),h>o&&(o=h),d>a&&(a=d)}return this.min.set(t,r,i),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=on.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0)if(t&&r.attributes!=null&&r.attributes.position!==void 0){const s=r.attributes.position;for(let o=0,a=s.count;o<a;o++)on.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(on)}else r.boundingBox===null&&r.computeBoundingBox(),co.copy(r.boundingBox),co.applyMatrix4(e.matrixWorld),this.union(co);const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,on),on.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Sr),Ri.subVectors(this.max,Sr),Ln.subVectors(e.a,Sr),In.subVectors(e.b,Sr),Dn.subVectors(e.c,Sr),Kt.subVectors(In,Ln),Wt.subVectors(Dn,In),an.subVectors(Ln,Dn);let t=[0,-Kt.z,Kt.y,0,-Wt.z,Wt.y,0,-an.z,an.y,Kt.z,0,-Kt.x,Wt.z,0,-Wt.x,an.z,0,-an.x,-Kt.y,Kt.x,0,-Wt.y,Wt.x,0,-an.y,an.x,0];return!uo(t,Ln,In,Dn,Ri)||(t=[1,0,0,0,1,0,0,0,1],!uo(t,Ln,In,Dn,Ri))?!1:(Ai.crossVectors(Kt,Wt),t=[Ai.x,Ai.y,Ai.z],uo(t,Ln,In,Dn,Ri))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return on.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(on).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(At[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),At[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),At[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),At[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),At[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),At[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),At[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),At[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(At),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const At=[new G,new G,new G,new G,new G,new G,new G,new G],on=new G,co=new Bl,Ln=new G,In=new G,Dn=new G,Kt=new G,Wt=new G,an=new G,Sr=new G,Ri=new G,Ai=new G,ln=new G;function uo(n,e,t,r,i){for(let s=0,o=n.length-3;s<=o;s+=3){ln.fromArray(n,s);const a=i.x*Math.abs(ln.x)+i.y*Math.abs(ln.y)+i.z*Math.abs(ln.z),c=e.dot(ln),l=t.dot(ln),u=r.dot(ln);if(Math.max(-Math.max(c,l,u),Math.min(c,l,u))>a)return!1}return!0}const qg=new Bl,Fl=new G,Pi=new G,ho=new G;class Xg{constructor(e=new G,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):qg.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){ho.subVectors(e,this.center);const t=ho.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.add(ho.multiplyScalar(i/r)),this.radius+=i}return this}union(e){return this.center.equals(e.center)===!0?Pi.set(0,0,1).multiplyScalar(e.radius):Pi.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(Fl.copy(e.center).add(Pi)),this.expandByPoint(Fl.copy(e.center).sub(Pi)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}class Zg{constructor(){this.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,t,r,i,s,o,a,c,l){const u=this.elements;return u[0]=e,u[1]=i,u[2]=a,u[3]=t,u[4]=s,u[5]=c,u[6]=r,u[7]=o,u[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[3],c=r[6],l=r[1],u=r[4],h=r[7],d=r[2],p=r[5],v=r[8],M=i[0],_=i[3],m=i[6],C=i[1],g=i[4],y=i[7],E=i[2],S=i[5],w=i[8];return s[0]=o*M+a*C+c*E,s[3]=o*_+a*g+c*S,s[6]=o*m+a*y+c*w,s[1]=l*M+u*C+h*E,s[4]=l*_+u*g+h*S,s[7]=l*m+u*y+h*w,s[2]=d*M+p*C+v*E,s[5]=d*_+p*g+v*S,s[8]=d*m+p*y+v*w,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],c=e[6],l=e[7],u=e[8];return t*o*u-t*a*l-r*s*u+r*a*c+i*s*l-i*o*c}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],c=e[6],l=e[7],u=e[8],h=u*o-a*l,d=a*c-u*s,p=l*s-o*c,v=t*h+r*d+i*p;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const M=1/v;return e[0]=h*M,e[1]=(i*l-u*r)*M,e[2]=(a*r-i*o)*M,e[3]=d*M,e[4]=(u*t-i*c)*M,e[5]=(i*s-a*t)*M,e[6]=p*M,e[7]=(r*c-l*t)*M,e[8]=(o*t-r*s)*M,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,s,o,a){const c=Math.cos(s),l=Math.sin(s);return this.set(r*c,r*l,-r*(c*o+l*a)+o+e,-i*l,i*c,-i*(-l*o+c*a)+a+t,0,0,1),this}scale(e,t){const r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=t,r[4]*=t,r[7]*=t,this}rotate(e){const t=Math.cos(e),r=Math.sin(e),i=this.elements,s=i[0],o=i[3],a=i[6],c=i[1],l=i[4],u=i[7];return i[0]=t*s+r*c,i[3]=t*o+r*l,i[6]=t*a+r*u,i[1]=-r*s+t*c,i[4]=-r*o+t*l,i[7]=-r*a+t*u,this}translate(e,t){const r=this.elements;return r[0]+=e*r[2],r[3]+=e*r[5],r[6]+=e*r[8],r[1]+=t*r[2],r[4]+=t*r[5],r[7]+=t*r[8],this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const po=new G,Qg=new G,Jg=new Zg;class jn{constructor(e=new G(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=po.subVectors(r,t).cross(Qg.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const r=e.delta(po),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(r).multiplyScalar(s).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||Jg.getNormalMatrix(e),i=this.coplanarPoint(po).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Nn=new Xg,Li=new G;class ey{constructor(e=new jn,t=new jn,r=new jn,i=new jn,s=new jn,o=new jn){this.planes=[e,t,r,i,s,o]}set(e,t,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){const t=this.planes,r=e.elements,i=r[0],s=r[1],o=r[2],a=r[3],c=r[4],l=r[5],u=r[6],h=r[7],d=r[8],p=r[9],v=r[10],M=r[11],_=r[12],m=r[13],C=r[14],g=r[15];return t[0].setComponents(a-i,h-c,M-d,g-_).normalize(),t[1].setComponents(a+i,h+c,M+d,g+_).normalize(),t[2].setComponents(a+s,h+l,M+p,g+m).normalize(),t[3].setComponents(a-s,h-l,M-p,g-m).normalize(),t[4].setComponents(a-o,h-u,M-v,g-C).normalize(),t[5].setComponents(a+o,h+u,M+v,g+C).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),Nn.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Nn)}intersectsSprite(e){return Nn.center.set(0,0,0),Nn.radius=.7071067811865476,Nn.applyMatrix4(e.matrixWorld),this.intersectsSphere(Nn)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(Li.x=i.normal.x>0?e.max.x:e.min.x,Li.y=i.normal.y>0?e.max.y:e.min.y,Li.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Li)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const Gl=new Mr,Hl=new G,Ul=new G;class ty{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new $l(512,512),this.map=null,this.mapPass=null,this.matrix=new Mr,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new ey,this._frameExtents=new $l(1,1),this._viewportCount=1,this._viewports=[new Yg(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;Hl.setFromMatrixPosition(e.matrixWorld),t.position.copy(Hl),Ul.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(Ul),t.updateMatrixWorld(),Gl.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Gl),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(t.projectionMatrix),r.multiply(t.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}const ny="0.1.3-5";window.__THREE__||console.error("vis-three dependent on three.js module, pleace run 'npm i three' first.");window.__VIS__?console.warn("Duplicate vis-three frames are introduced"):window.__VIS__=ny;pt.prototype.add=function(...n){if(!arguments.length)return this;if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}const e=n[0];if(e===this)return console.error("THREE.Object3D.add: object can't be added as a child of itself.",n),this;if(e&&e.isObject3D){if(e.parent!==null){const t=this.children.indexOf(e);t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent({type:"removed"}))}e.parent=this,this.children.push(e),e.dispatchEvent({type:"added"})}else console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",n);return this};const ry=pt.prototype.add,iy=pt.prototype.remove;pt.prototype.add=function(...n){return ry.call(this,...n),this.dispatchEvent({type:"afterAdd",objects:n}),this};pt.prototype.remove=function(...n){return iy.call(this,...n),this.dispatchEvent({type:"afterRemove",objects:n}),this};const fo=new ty(new rt(-256,256,256,-256));fo.autoUpdate=!1;fo.needsUpdate=!1;cr.prototype.shadow=fo;var Yt={},re={exports:{}};(function(n){function e(t){return t&&t.__esModule?t:{default:t}}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(re);var Z={exports:{}},Vl={};function mo(n){throw n}function Kl(n){}function ne(n,e,t,r){const i=n,s=new SyntaxError(String(i));return s.code=n,s.loc=e,s}const zn=Symbol(""),kn=Symbol(""),Ii=Symbol(""),Cr=Symbol(""),go=Symbol(""),qt=Symbol(""),yo=Symbol(""),vo=Symbol(""),Di=Symbol(""),ji=Symbol(""),$n=Symbol(""),Ni=Symbol(""),bo=Symbol(""),zi=Symbol(""),wr=Symbol(""),ki=Symbol(""),$i=Symbol(""),Bi=Symbol(""),Fi=Symbol(""),Eo=Symbol(""),Mo=Symbol(""),_r=Symbol(""),xr=Symbol(""),Gi=Symbol(""),Hi=Symbol(""),Bn=Symbol(""),Fn=Symbol(""),Ui=Symbol(""),Vi=Symbol(""),Wl=Symbol(""),Ki=Symbol(""),Or=Symbol(""),Yl=Symbol(""),ql=Symbol(""),Wi=Symbol(""),Xl=Symbol(""),Zl=Symbol(""),Yi=Symbol(""),So=Symbol(""),Pt={[zn]:"Fragment",[kn]:"Teleport",[Ii]:"Suspense",[Cr]:"KeepAlive",[go]:"BaseTransition",[qt]:"openBlock",[yo]:"createBlock",[vo]:"createElementBlock",[Di]:"createVNode",[ji]:"createElementVNode",[$n]:"createCommentVNode",[Ni]:"createTextVNode",[bo]:"createStaticVNode",[zi]:"resolveComponent",[wr]:"resolveDynamicComponent",[ki]:"resolveDirective",[$i]:"resolveFilter",[Bi]:"withDirectives",[Fi]:"renderList",[Eo]:"renderSlot",[Mo]:"createSlots",[_r]:"toDisplayString",[xr]:"mergeProps",[Gi]:"normalizeClass",[Hi]:"normalizeStyle",[Bn]:"normalizeProps",[Fn]:"guardReactiveProps",[Ui]:"toHandlers",[Vi]:"camelize",[Wl]:"capitalize",[Ki]:"toHandlerKey",[Or]:"setBlockTracking",[Yl]:"pushScopeId",[ql]:"popScopeId",[Wi]:"withCtx",[Xl]:"unref",[Zl]:"isRef",[Yi]:"withMemo",[So]:"isMemoSame"};function Ql(n){Object.getOwnPropertySymbols(n).forEach(e=>{Pt[e]=n[e]})}const de={source:"",start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0}};function Jl(n,e=de){return{type:0,children:n,helpers:[],components:[],directives:[],hoists:[],imports:[],cached:0,temps:0,codegenNode:void 0,loc:e}}function Gn(n,e,t,r,i,s,o,a=!1,c=!1,l=!1,u=de){return n&&(a?(n.helper(qt),n.helper(dn(n.inSSR,l))):n.helper(hn(n.inSSR,l)),o&&n.helper(Bi)),{type:13,tag:e,props:t,children:r,patchFlag:i,dynamicProps:s,directives:o,isBlock:a,disableTracking:c,isComponent:l,loc:u}}function Hn(n,e=de){return{type:17,loc:e,elements:n}}function Ge(n,e=de){return{type:15,loc:e,properties:n}}function oe(n,e){return{type:16,loc:de,key:fe(n)?H(n,!0):n,value:e}}function H(n,e=!1,t=de,r=0){return{type:4,loc:t,content:n,isStatic:e,constType:e?3:r}}function sy(n,e){return{type:5,loc:e,content:fe(n)?H(n,!1,e):n}}function ot(n,e=de){return{type:8,loc:e,children:n}}function ae(n,e=[],t=de){return{type:14,loc:t,callee:n,arguments:e}}function cn(n,e=void 0,t=!1,r=!1,i=de){return{type:18,params:n,returns:e,newline:t,isSlot:r,loc:i}}function qi(n,e,t,r=!0){return{type:19,test:n,consequent:e,alternate:t,newline:r,loc:de}}function ec(n,e,t=!1){return{type:20,index:n,value:e,isVNode:t,loc:de}}function tc(n){return{type:21,body:n,loc:de}}function oy(n){return{type:22,elements:n,loc:de}}function ay(n,e,t){return{type:23,test:n,consequent:e,alternate:t,loc:de}}function ly(n,e){return{type:24,left:n,right:e,loc:de}}function cy(n){return{type:25,expressions:n,loc:de}}function uy(n){return{type:26,returns:n,loc:de}}const De=n=>n.type===4&&n.isStatic,un=(n,e)=>n===e||n===Nh(e);function Co(n){if(un(n,"Teleport"))return kn;if(un(n,"Suspense"))return Ii;if(un(n,"KeepAlive"))return Cr;if(un(n,"BaseTransition"))return go}const hy=/^\d|[^\$\w]/,Tr=n=>!hy.test(n),dy=/[A-Za-z_$\xA0-\uFFFF]/,py=/[\.\?\w$\xA0-\uFFFF]/,fy=/\s+[.[]\s*|\s*[.[]\s+/g,nc=n=>{n=n.trim().replace(fy,o=>o.trim());let e=0,t=[],r=0,i=0,s=null;for(let o=0;o<n.length;o++){const a=n.charAt(o);switch(e){case 0:if(a==="[")t.push(e),e=1,r++;else if(a==="(")t.push(e),e=2,i++;else if(!(o===0?dy:py).test(a))return!1;break;case 1:a==="'"||a==='"'||a==="`"?(t.push(e),e=3,s=a):a==="["?r++:a==="]"&&(--r||(e=t.pop()));break;case 2:if(a==="'"||a==='"'||a==="`")t.push(e),e=3,s=a;else if(a==="(")i++;else if(a===")"){if(o===n.length-1)return!1;--i||(e=t.pop())}break;case 3:a===s&&(e=t.pop(),s=null);break}}return!r&&!i},my=zs,wo=nc;function _o(n,e,t){const i={source:n.source.slice(e,e+t),start:Rr(n.start,n.source,e),end:n.end};return t!=null&&(i.end=Rr(n.start,n.source,e+t)),i}function Rr(n,e,t=e.length){return Ar(Ct({},n),e,t)}function Ar(n,e,t=e.length){let r=0,i=-1;for(let s=0;s<t;s++)e.charCodeAt(s)===10&&(r++,i=s);return n.offset+=t,n.line+=r,n.column=i===-1?n.column+t:t-i,n}function gy(n,e){if(!n)throw new Error(e||"unexpected compiler condition")}function ke(n,e,t=!1){for(let r=0;r<n.props.length;r++){const i=n.props[r];if(i.type===7&&(t||i.exp)&&(fe(e)?i.name===e:e.test(i.name)))return i}}function Un(n,e,t=!1,r=!1){for(let i=0;i<n.props.length;i++){const s=n.props[i];if(s.type===6){if(t)continue;if(s.name===e&&(s.value||r))return s}else if(s.name==="bind"&&(s.exp||r)&&Pr(s.arg,e))return s}}function Pr(n,e){return!!(n&&De(n)&&n.content===e)}function rc(n){return n.props.some(e=>e.type===7&&e.name==="bind"&&(!e.arg||e.arg.type!==4||!e.arg.isStatic))}function Xi(n){return n.type===5||n.type===2}function xo(n){return n.type===7&&n.name==="slot"}function Vn(n){return n.type===1&&n.tagType===3}function Lr(n){return n.type===1&&n.tagType===2}function hn(n,e){return n||e?Di:ji}function dn(n,e){return n||e?yo:vo}const yy=new Set([Bn,Fn]);function ic(n,e=[]){if(n&&!fe(n)&&n.type===14){const t=n.callee;if(!fe(t)&&yy.has(t))return ic(n.arguments[0],e.concat(n))}return[n,e]}function Ir(n,e,t){let r,s=n.type===13?n.props:n.arguments[2],o=[],a;if(s&&!fe(s)&&s.type===14){const c=ic(s);s=c[0],o=c[1],a=o[o.length-1]}if(s==null||fe(s))r=Ge([e]);else if(s.type===14){const c=s.arguments[0];!fe(c)&&c.type===15?c.properties.unshift(e):s.callee===Ui?r=ae(t.helper(xr),[Ge([e]),s]):s.arguments.unshift(Ge([e])),!r&&(r=s)}else if(s.type===15){let c=!1;if(e.key.type===4){const l=e.key.content;c=s.properties.some(u=>u.key.type===4&&u.key.content===l)}c||s.properties.unshift(e),r=s}else r=ae(t.helper(xr),[Ge([e]),s]),a&&a.callee===Fn&&(a=o[o.length-2]);n.type===13?a?a.arguments[0]=r:n.props=r:a?a.arguments[0]=r:n.arguments[2]=r}function Kn(n,e){return`_${e}_${n.replace(/[^\w]/g,(t,r)=>t==="-"?"_":n.charCodeAt(r).toString())}`}function at(n,e){if(!n||Object.keys(e).length===0)return!1;switch(n.type){case 1:for(let t=0;t<n.props.length;t++){const r=n.props[t];if(r.type===7&&(at(r.arg,e)||at(r.exp,e)))return!0}return n.children.some(t=>at(t,e));case 11:return at(n.source,e)?!0:n.children.some(t=>at(t,e));case 9:return n.branches.some(t=>at(t,e));case 10:return at(n.condition,e)?!0:n.children.some(t=>at(t,e));case 4:return!n.isStatic&&Tr(n.content)&&!!e[n.content];case 8:return n.children.some(t=>Na(t)&&at(t,e));case 5:case 12:return at(n.content,e);case 2:case 3:return!1;default:return!1}}function sc(n){return n.type===14&&n.callee===Yi?n.arguments[1].returns:n}function Zi(n,{helper:e,removeHelper:t,inSSR:r}){n.isBlock||(n.isBlock=!0,t(hn(r,n.isComponent)),e(qt),e(dn(r,n.isComponent)))}const vy={COMPILER_IS_ON_ELEMENT:{message:'Platform-native elements with "is" prop will no longer be treated as components in Vue 3 unless the "is" value is explicitly prefixed with "vue:".',link:"https://v3.vuejs.org/guide/migration/custom-elements-interop.html"},COMPILER_V_BIND_SYNC:{message:n=>`.sync modifier for v-bind has been removed. Use v-model with argument instead. \`v-bind:${n}.sync\` should be changed to \`v-model:${n}\`.`,link:"https://v3.vuejs.org/guide/migration/v-model.html"},COMPILER_V_BIND_PROP:{message:".prop modifier for v-bind has been removed and no longer necessary. Vue 3 will automatically set a binding as DOM property when appropriate."},COMPILER_V_BIND_OBJECT_ORDER:{message:'v-bind="obj" usage is now order sensitive and behaves like JavaScript object spread: it will now overwrite an existing non-mergeable attribute that appears before v-bind in the case of conflict. To retain 2.x behavior, move v-bind to make it the first attribute. You can also suppress this warning if the usage is intended.',link:"https://v3.vuejs.org/guide/migration/v-bind.html"},COMPILER_V_ON_NATIVE:{message:".native modifier for v-on has been removed as is no longer necessary.",link:"https://v3.vuejs.org/guide/migration/v-on-native-modifier-removed.html"},COMPILER_V_IF_V_FOR_PRECEDENCE:{message:"v-if / v-for precedence when used on the same element has changed in Vue 3: v-if now takes higher precedence and will no longer have access to v-for scope variables. It is best to avoid the ambiguity with <template> tags or use a computed property that filters v-for data source.",link:"https://v3.vuejs.org/guide/migration/v-if-v-for.html"},COMPILER_V_FOR_REF:{message:"Ref usage on v-for no longer creates array ref values in Vue 3. Consider using function refs or refactor to avoid ref usage altogether.",link:"https://v3.vuejs.org/guide/migration/array-refs.html"},COMPILER_NATIVE_TEMPLATE:{message:"<template> with no special directives will render as a native template element instead of its inner content in Vue 3."},COMPILER_INLINE_TEMPLATE:{message:'"inline-template" has been removed in Vue 3.',link:"https://v3.vuejs.org/guide/migration/inline-template-attribute.html"},COMPILER_FILTER:{message:'filters have been removed in Vue 3. The "|" symbol will be treated as native JavaScript bitwise OR operator. Use method calls or computed properties instead.',link:"https://v3.vuejs.org/guide/migration/filters.html"}};function Oo(n,e){const t=e.options?e.options.compatConfig:e.compatConfig,r=t&&t[n];return n==="MODE"?r||3:r}function pn(n,e){const t=Oo("MODE",e),r=Oo(n,e);return t===3?r===!0:r!==!1}function fn(n,e,t,...r){return pn(n,e)}function by(n,e,t,...r){if(Oo(n,e)==="suppress-warning")return;const{message:s,link:o}=vy[n],a=`(deprecation ${n}) ${typeof s=="function"?s(...r):s}${o?`
  Details: ${o}`:""}`,c=new SyntaxError(a);c.code=n,t&&(c.loc=t),e.onWarn(c)}const Ey=/&(gt|lt|amp|apos|quot);/g,My={gt:">",lt:"<",amp:"&",apos:"'",quot:'"'},oc={delimiters:["{{","}}"],getNamespace:()=>0,getTextMode:()=>0,isVoidTag:Bs,isPreTag:Bs,isCustomElement:Bs,decodeEntities:n=>n.replace(Ey,(e,t)=>My[t]),onError:mo,onWarn:Kl,comments:!1};function To(n,e={}){const t=Sy(n,e),r=He(t);return Jl(Ro(t,0,[]),We(t,r))}function Sy(n,e){const t=Ct({},oc);let r;for(r in e)t[r]=e[r]===void 0?oc[r]:e[r];return{options:t,column:1,line:1,offset:0,originalSource:n,source:n,inPre:!1,inVPre:!1,onWarn:t.onWarn}}function Ro(n,e,t){const r=Qi(t),i=r?r.ns:0,s=[];for(;!Py(n,e,t);){const a=n.source;let c;if(e===0||e===1){if(!n.inVPre&&_e(a,n.options.delimiters[0]))c=Ry(n,e);else if(e===0&&a[0]==="<")if(a.length===1)q(n,5,1);else if(a[1]==="!")_e(a,"<!--")?c=wy(n):_e(a,"<!DOCTYPE")?c=Dr(n):_e(a,"<![CDATA[")?i!==0?c=Cy(n,t):(q(n,1),c=Dr(n)):(q(n,11),c=Dr(n));else if(a[1]==="/")if(a.length===2)q(n,5,2);else if(a[2]===">"){q(n,14,2),pe(n,3);continue}else if(/[a-z]/i.test(a[2])){q(n,23),Ao(n,1,r);continue}else q(n,12,2),c=Dr(n);else/[a-z]/i.test(a[1])?(c=_y(n,t),pn("COMPILER_NATIVE_TEMPLATE",n)&&c&&c.tag==="template"&&!c.props.some(l=>l.type===7&&lc(l.name))&&(c=c.children)):a[1]==="?"?(q(n,21,1),c=Dr(n)):q(n,12,1)}if(c||(c=Ay(n,e)),bn(c))for(let l=0;l<c.length;l++)ac(s,c[l]);else ac(s,c)}let o=!1;if(e!==2&&e!==1){const a=n.options.whitespace!=="preserve";for(let c=0;c<s.length;c++){const l=s[c];if(!n.inPre&&l.type===2)if(/[^\t\r\n\f ]/.test(l.content))a&&(l.content=l.content.replace(/[\t\r\n\f ]+/g," "));else{const u=s[c-1],h=s[c+1];!u||!h||a&&(u.type===3||h.type===3||u.type===1&&h.type===1&&/[\r\n]/.test(l.content))?(o=!0,s[c]=null):l.content=" "}else l.type===3&&!n.options.comments&&(o=!0,s[c]=null)}if(n.inPre&&r&&n.options.isPreTag(r.tag)){const c=s[0];c&&c.type===2&&(c.content=c.content.replace(/^\r?\n/,""))}}return o?s.filter(Boolean):s}function ac(n,e){if(e.type===2){const t=Qi(n);if(t&&t.type===2&&t.loc.end.offset===e.loc.start.offset){t.content+=e.content,t.loc.end=e.loc.end,t.loc.source+=e.loc.source;return}}n.push(e)}function Cy(n,e){pe(n,9);const t=Ro(n,3,e);return n.source.length===0?q(n,6):pe(n,3),t}function wy(n){const e=He(n);let t;const r=/--(\!)?>/.exec(n.source);if(!r)t=n.source.slice(4),pe(n,n.source.length),q(n,7);else{r.index<=3&&q(n,0),r[1]&&q(n,10),t=n.source.slice(4,r.index);const i=n.source.slice(0,r.index);let s=1,o=0;for(;(o=i.indexOf("<!--",s))!==-1;)pe(n,o-s+1),o+4<i.length&&q(n,16),s=o+1;pe(n,r.index+r[0].length-s+1)}return{type:3,content:t,loc:We(n,e)}}function Dr(n){const e=He(n),t=n.source[1]==="?"?1:2;let r;const i=n.source.indexOf(">");return i===-1?(r=n.source.slice(t),pe(n,n.source.length)):(r=n.source.slice(t,i),pe(n,i+1)),{type:3,content:r,loc:We(n,e)}}function _y(n,e){const t=n.inPre,r=n.inVPre,i=Qi(e),s=Ao(n,0,i),o=n.inPre&&!t,a=n.inVPre&&!r;if(s.isSelfClosing||n.options.isVoidTag(s.tag))return o&&(n.inPre=!1),a&&(n.inVPre=!1),s;e.push(s);const c=n.options.getTextMode(s,i),l=Ro(n,c,e);e.pop();{const u=s.props.find(h=>h.type===6&&h.name==="inline-template");if(u&&fn("COMPILER_INLINE_TEMPLATE",n,u.loc)){const h=We(n,s.loc.end);u.value={type:2,content:h.source,loc:h}}}if(s.children=l,Po(n.source,s.tag))Ao(n,1,i);else if(q(n,24,0,s.loc.start),n.source.length===0&&s.tag.toLowerCase()==="script"){const u=l[0];u&&_e(u.loc.source,"<!--")&&q(n,8)}return s.loc=We(n,s.loc.start),o&&(n.inPre=!1),a&&(n.inVPre=!1),s}const lc=En("if,else,else-if,for,slot");function Ao(n,e,t){const r=He(n),i=/^<\/?([a-z][^\t\r\n\f />]*)/i.exec(n.source),s=i[1],o=n.options.getNamespace(s,t);pe(n,i[0].length),Nr(n);const a=He(n),c=n.source;n.options.isPreTag(s)&&(n.inPre=!0);let l=cc(n,e);e===0&&!n.inVPre&&l.some(d=>d.type===7&&d.name==="pre")&&(n.inVPre=!0,Ct(n,a),n.source=c,l=cc(n,e).filter(d=>d.name!=="v-pre"));let u=!1;if(n.source.length===0?q(n,9):(u=_e(n.source,"/>"),e===1&&u&&q(n,4),pe(n,u?2:1)),e===1)return;let h=0;return n.inVPre||(s==="slot"?h=2:s==="template"?l.some(d=>d.type===7&&lc(d.name))&&(h=3):xy(s,l,n)&&(h=1)),{type:1,ns:o,tag:s,tagType:h,props:l,isSelfClosing:u,children:[],loc:We(n,r),codegenNode:void 0}}function xy(n,e,t){const r=t.options;if(r.isCustomElement(n))return!1;if(n==="component"||/^[A-Z]/.test(n)||Co(n)||r.isBuiltInComponent&&r.isBuiltInComponent(n)||r.isNativeTag&&!r.isNativeTag(n))return!0;for(let i=0;i<e.length;i++){const s=e[i];if(s.type===6){if(s.name==="is"&&s.value){if(s.value.content.startsWith("vue:"))return!0;if(fn("COMPILER_IS_ON_ELEMENT",t,s.loc))return!0}}else{if(s.name==="is")return!0;if(s.name==="bind"&&Pr(s.arg,"is")&&!0&&fn("COMPILER_IS_ON_ELEMENT",t,s.loc))return!0}}}function cc(n,e){const t=[],r=new Set;for(;n.source.length>0&&!_e(n.source,">")&&!_e(n.source,"/>");){if(_e(n.source,"/")){q(n,22),pe(n,1),Nr(n);continue}e===1&&q(n,3);const i=Oy(n,r);i.type===6&&i.value&&i.name==="class"&&(i.value.content=i.value.content.replace(/\s+/g," ").trim()),e===0&&t.push(i),/^[^\t\r\n\f />]/.test(n.source)&&q(n,15),Nr(n)}return t}function Oy(n,e){const t=He(n),i=/^[^\t\r\n\f />][^\t\r\n\f />=]*/.exec(n.source)[0];e.has(i)&&q(n,2),e.add(i),i[0]==="="&&q(n,19);{const a=/["'<]/g;let c;for(;c=a.exec(i);)q(n,17,c.index)}pe(n,i.length);let s;/^[\t\r\n\f ]*=/.test(n.source)&&(Nr(n),pe(n,1),Nr(n),s=Ty(n),s||q(n,13));const o=We(n,t);if(!n.inVPre&&/^(v-[A-Za-z0-9-]|:|\.|@|#)/.test(i)){const a=/(?:^v-([a-z0-9-]+))?(?:(?::|^\.|^@|^#)(\[[^\]]+\]|[^\.]+))?(.+)?$/i.exec(i);let c=_e(i,"."),l=a[1]||(c||_e(i,":")?"bind":_e(i,"@")?"on":"slot"),u;if(a[2]){const d=l==="slot",p=i.lastIndexOf(a[2]),v=We(n,uc(n,t,p),uc(n,t,p+a[2].length+(d&&a[3]||"").length));let M=a[2],_=!0;M.startsWith("[")?(_=!1,M.endsWith("]")?M=M.slice(1,M.length-1):(q(n,27),M=M.slice(1))):d&&(M+=a[3]||""),u={type:4,content:M,isStatic:_,constType:_?3:0,loc:v}}if(s&&s.isQuoted){const d=s.loc;d.start.offset++,d.start.column++,d.end=Rr(d.start,s.content),d.source=d.source.slice(1,-1)}const h=a[3]?a[3].slice(1).split("."):[];return c&&h.push("prop"),l==="bind"&&u&&h.includes("sync")&&fn("COMPILER_V_BIND_SYNC",n,o,u.loc.source)&&(l="model",h.splice(h.indexOf("sync"),1)),{type:7,name:l,exp:s&&{type:4,content:s.content,isStatic:!1,constType:0,loc:s.loc},arg:u,modifiers:h,loc:o}}return!n.inVPre&&_e(i,"v-")&&q(n,26),{type:6,name:i,value:s&&{type:2,content:s.content,loc:s.loc},loc:o}}function Ty(n){const e=He(n);let t;const r=n.source[0],i=r==='"'||r==="'";if(i){pe(n,1);const s=n.source.indexOf(r);s===-1?t=jr(n,n.source.length,4):(t=jr(n,s,4),pe(n,1))}else{const s=/^[^\t\r\n\f >]+/.exec(n.source);if(!s)return;const o=/["'<=`]/g;let a;for(;a=o.exec(s[0]);)q(n,18,a.index);t=jr(n,s[0].length,4)}return{content:t,isQuoted:i,loc:We(n,e)}}function Ry(n,e){const[t,r]=n.options.delimiters,i=n.source.indexOf(r,t.length);if(i===-1){q(n,25);return}const s=He(n);pe(n,t.length);const o=He(n),a=He(n),c=i-t.length,l=n.source.slice(0,c),u=jr(n,c,e),h=u.trim(),d=u.indexOf(h);d>0&&Ar(o,l,d);const p=c-(u.length-h.length-d);return Ar(a,l,p),pe(n,r.length),{type:5,content:{type:4,isStatic:!1,constType:0,content:h,loc:We(n,o,a)},loc:We(n,s)}}function Ay(n,e){const t=e===3?["]]>"]:["<",n.options.delimiters[0]];let r=n.source.length;for(let o=0;o<t.length;o++){const a=n.source.indexOf(t[o],1);a!==-1&&r>a&&(r=a)}const i=He(n),s=jr(n,r,e);return{type:2,content:s,loc:We(n,i)}}function jr(n,e,t){const r=n.source.slice(0,e);return pe(n,e),t===2||t===3||r.indexOf("&")===-1?r:n.options.decodeEntities(r,t===4)}function He(n){const{column:e,line:t,offset:r}=n;return{column:e,line:t,offset:r}}function We(n,e,t){return t=t||He(n),{start:e,end:t,source:n.originalSource.slice(e.offset,t.offset)}}function Qi(n){return n[n.length-1]}function _e(n,e){return n.startsWith(e)}function pe(n,e){const{source:t}=n;Ar(n,t,e),n.source=t.slice(e)}function Nr(n){const e=/^[\t\r\n\f ]+/.exec(n.source);e&&pe(n,e[0].length)}function uc(n,e,t){return Rr(e,n.originalSource.slice(e.offset,t),t)}function q(n,e,t,r=He(n)){t&&(r.offset+=t,r.column+=t),n.options.onError(ne(e,{start:r,end:r,source:""}))}function Py(n,e,t){const r=n.source;switch(e){case 0:if(_e(r,"</")){for(let i=t.length-1;i>=0;--i)if(Po(r,t[i].tag))return!0}break;case 1:case 2:{const i=Qi(t);if(i&&Po(r,i.tag))return!0;break}case 3:if(_e(r,"]]>"))return!0;break}return!r}function Po(n,e){return _e(n,"</")&&n.slice(2,2+e.length).toLowerCase()===e.toLowerCase()&&/[\t\r\n\f />]/.test(n[2+e.length]||">")}function Ly(n,e){Ji(n,e,hc(n,n.children[0]))}function hc(n,e){const{children:t}=n;return t.length===1&&e.type===1&&!Lr(e)}function Ji(n,e,t=!1){let r=!0;const{children:i}=n,s=i.length;let o=0;for(let a=0;a<i.length;a++){const c=i[a];if(c.type===1&&c.tagType===0){const l=t?0:Ye(c,e);if(l>0){if(l<3&&(r=!1),l>=2){c.codegenNode.patchFlag=-1+"",c.codegenNode=e.hoist(c.codegenNode),o++;continue}}else{const u=c.codegenNode;if(u.type===13){const h=mc(u);if((!h||h===512||h===1)&&pc(c,e)>=2){const d=fc(c);d&&(u.props=e.hoist(d))}u.dynamicProps&&(u.dynamicProps=e.hoist(u.dynamicProps))}}}else if(c.type===12){const l=Ye(c.content,e);l>0&&(l<3&&(r=!1),l>=2&&(c.codegenNode=e.hoist(c.codegenNode),o++))}if(c.type===1){const l=c.tagType===1;l&&e.scopes.vSlot++,Ji(c,e),l&&e.scopes.vSlot--}else if(c.type===11)Ji(c,e,c.children.length===1);else if(c.type===9)for(let l=0;l<c.branches.length;l++)Ji(c.branches[l],e,c.branches[l].children.length===1)}r&&o&&e.transformHoist&&e.transformHoist(i,e,n),o&&o===s&&n.type===1&&n.tagType===0&&n.codegenNode&&n.codegenNode.type===13&&bn(n.codegenNode.children)&&(n.codegenNode.children=e.hoist(Hn(n.codegenNode.children)))}function Ye(n,e){const{constantCache:t}=e;switch(n.type){case 1:if(n.tagType!==0)return 0;const r=t.get(n);if(r!==void 0)return r;const i=n.codegenNode;if(i.type!==13)return 0;if(mc(i))return t.set(n,0),0;{let a=3;const c=pc(n,e);if(c===0)return t.set(n,0),0;c<a&&(a=c);for(let l=0;l<n.children.length;l++){const u=Ye(n.children[l],e);if(u===0)return t.set(n,0),0;u<a&&(a=u)}if(a>1)for(let l=0;l<n.props.length;l++){const u=n.props[l];if(u.type===7&&u.name==="bind"&&u.exp){const h=Ye(u.exp,e);if(h===0)return t.set(n,0),0;h<a&&(a=h)}}return i.isBlock&&(e.removeHelper(qt),e.removeHelper(dn(e.inSSR,i.isComponent)),i.isBlock=!1,e.helper(hn(e.inSSR,i.isComponent))),t.set(n,a),a}case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return Ye(n.content,e);case 4:return n.constType;case 8:let o=3;for(let a=0;a<n.children.length;a++){const c=n.children[a];if(fe(c)||$s(c))continue;const l=Ye(c,e);if(l===0)return 0;l<o&&(o=l)}return o;default:return 0}}const Iy=new Set([Gi,Hi,Bn,Fn]);function dc(n,e){if(n.type===14&&!fe(n.callee)&&Iy.has(n.callee)){const t=n.arguments[0];if(t.type===4)return Ye(t,e);if(t.type===14)return dc(t,e)}return 0}function pc(n,e){let t=3;const r=fc(n);if(r&&r.type===15){const{properties:i}=r;for(let s=0;s<i.length;s++){const{key:o,value:a}=i[s],c=Ye(o,e);if(c===0)return c;c<t&&(t=c);let l;if(a.type===4?l=Ye(a,e):a.type===14?l=dc(a,e):l=0,l===0)return l;l<t&&(t=l)}}return t}function fc(n){const e=n.codegenNode;if(e.type===13)return e.props}function mc(n){const e=n.patchFlag;return e?parseInt(e,10):void 0}function gc(n,{filename:e="",prefixIdentifiers:t=!1,hoistStatic:r=!1,cacheHandlers:i=!1,nodeTransforms:s=[],directiveTransforms:o={},transformHoist:a=null,isBuiltInComponent:c=zs,isCustomElement:l=zs,expressionPlugins:u=[],scopeId:h=null,slotted:d=!0,ssr:p=!1,inSSR:v=!1,ssrCssVars:M="",bindingMetadata:_=zh,inline:m=!1,isTS:C=!1,onError:g=mo,onWarn:y=Kl,compatConfig:E}){const S=e.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),w={selfName:S&&za(ks(S[1])),prefixIdentifiers:t,hoistStatic:r,cacheHandlers:i,nodeTransforms:s,directiveTransforms:o,transformHoist:a,isBuiltInComponent:c,isCustomElement:l,expressionPlugins:u,scopeId:h,slotted:d,ssr:p,inSSR:v,ssrCssVars:M,bindingMetadata:_,inline:m,isTS:C,onError:g,onWarn:y,compatConfig:E,root:n,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],constantCache:new Map,temps:0,cached:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,currentNode:n,childIndex:0,inVOnce:!1,helper(x){const R=w.helpers.get(x)||0;return w.helpers.set(x,R+1),x},removeHelper(x){const R=w.helpers.get(x);if(R){const I=R-1;I?w.helpers.set(x,I):w.helpers.delete(x)}},helperString(x){return`_${Pt[w.helper(x)]}`},replaceNode(x){w.parent.children[w.childIndex]=w.currentNode=x},removeNode(x){const R=w.parent.children,I=x?R.indexOf(x):w.currentNode?w.childIndex:-1;!x||x===w.currentNode?(w.currentNode=null,w.onNodeRemoved()):w.childIndex>I&&(w.childIndex--,w.onNodeRemoved()),w.parent.children.splice(I,1)},onNodeRemoved:()=>{},addIdentifiers(x){},removeIdentifiers(x){},hoist(x){fe(x)&&(x=H(x)),w.hoists.push(x);const R=H(`_hoisted_${w.hoists.length}`,!1,x.loc,2);return R.hoisted=x,R},cache(x,R=!1){return ec(w.cached++,x,R)}};return w.filters=new Set,w}function yc(n,e){const t=gc(n,e);zr(n,t),e.hoistStatic&&Ly(n,t),e.ssr||Dy(n,t),n.helpers=[...t.helpers.keys()],n.components=[...t.components],n.directives=[...t.directives],n.imports=t.imports,n.hoists=t.hoists,n.temps=t.temps,n.cached=t.cached,n.filters=[...t.filters]}function Dy(n,e){const{helper:t}=e,{children:r}=n;if(r.length===1){const i=r[0];if(hc(n,i)&&i.codegenNode){const s=i.codegenNode;s.type===13&&Zi(s,e),n.codegenNode=s}else n.codegenNode=i}else if(r.length>1){let i=64;ka[64],n.codegenNode=Gn(e,t(zn),void 0,n.children,i+"",void 0,void 0,!0,void 0,!1)}}function jy(n,e){let t=0;const r=()=>{t--};for(;t<n.children.length;t++){const i=n.children[t];fe(i)||(e.parent=n,e.childIndex=t,e.onNodeRemoved=r,zr(i,e))}}function zr(n,e){e.currentNode=n;const{nodeTransforms:t}=e,r=[];for(let s=0;s<t.length;s++){const o=t[s](n,e);if(o&&(bn(o)?r.push(...o):r.push(o)),e.currentNode)n=e.currentNode;else return}switch(n.type){case 3:e.ssr||e.helper($n);break;case 5:e.ssr||e.helper(_r);break;case 9:for(let s=0;s<n.branches.length;s++)zr(n.branches[s],e);break;case 10:case 11:case 1:case 0:jy(n,e);break}e.currentNode=n;let i=r.length;for(;i--;)r[i]()}function Lo(n,e){const t=fe(n)?r=>r===n:r=>n.test(r);return(r,i)=>{if(r.type===1){const{props:s}=r;if(r.tagType===3&&s.some(xo))return;const o=[];for(let a=0;a<s.length;a++){const c=s[a];if(c.type===7&&t(c.name)){s.splice(a,1),a--;const l=e(r,c,i);l&&o.push(l)}}return o}}}const es="/*#__PURE__*/";function Ny(n,{mode:e="function",prefixIdentifiers:t=e==="module",sourceMap:r=!1,filename:i="template.vue.html",scopeId:s=null,optimizeImports:o=!1,runtimeGlobalName:a="Vue",runtimeModuleName:c="vue",ssrRuntimeModuleName:l="vue/server-renderer",ssr:u=!1,isTS:h=!1,inSSR:d=!1}){const p={mode:e,prefixIdentifiers:t,sourceMap:r,filename:i,scopeId:s,optimizeImports:o,runtimeGlobalName:a,runtimeModuleName:c,ssrRuntimeModuleName:l,ssr:u,isTS:h,inSSR:d,source:n.loc.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(M){return`_${Pt[M]}`},push(M,_){p.code+=M},indent(){v(++p.indentLevel)},deindent(M=!1){M?--p.indentLevel:v(--p.indentLevel)},newline(){v(p.indentLevel)}};function v(M){p.push(`
`+"  ".repeat(M))}return p}function vc(n,e={}){const t=Ny(n,e);e.onContextCreated&&e.onContextCreated(t);const{mode:r,push:i,prefixIdentifiers:s,indent:o,deindent:a,newline:c,scopeId:l,ssr:u}=t,h=n.helpers.length>0,d=!s&&r!=="module";zy(n,t);const v=u?"ssrRender":"render",_=(u?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(i(`function ${v}(${_}) {`),o(),d&&(i("with (_ctx) {"),o(),h&&(i(`const { ${n.helpers.map(m=>`${Pt[m]}: _${Pt[m]}`).join(", ")} } = _Vue`),i(`
`),c())),n.components.length&&(Io(n.components,"component",t),(n.directives.length||n.temps>0)&&c()),n.directives.length&&(Io(n.directives,"directive",t),n.temps>0&&c()),n.filters&&n.filters.length&&(c(),Io(n.filters,"filter",t),c()),n.temps>0){i("let ");for(let m=0;m<n.temps;m++)i(`${m>0?", ":""}_temp${m}`)}return(n.components.length||n.directives.length||n.temps)&&(i(`
`),c()),u||i("return "),n.codegenNode?xe(n.codegenNode,t):i("null"),d&&(a(),i("}")),a(),i("}"),{ast:n,code:t.code,preamble:"",map:t.map?t.map.toJSON():void 0}}function zy(n,e){const{ssr:t,prefixIdentifiers:r,push:i,newline:s,runtimeModuleName:o,runtimeGlobalName:a,ssrRuntimeModuleName:c}=e,l=a,u=h=>`${Pt[h]}: _${Pt[h]}`;if(n.helpers.length>0&&(i(`const _Vue = ${l}
`),n.hoists.length)){const h=[Di,ji,$n,Ni,bo].filter(d=>n.helpers.includes(d)).map(u).join(", ");i(`const { ${h} } = _Vue
`)}ky(n.hoists,e),s(),i("return ")}function Io(n,e,{helper:t,push:r,newline:i,isTS:s}){const o=t(e==="filter"?$i:e==="component"?zi:ki);for(let a=0;a<n.length;a++){let c=n[a];const l=c.endsWith("__self");l&&(c=c.slice(0,-6)),r(`const ${Kn(c,e)} = ${o}(${JSON.stringify(c)}${l?", true":""})${s?"!":""}`),a<n.length-1&&i()}}function ky(n,e){if(!n.length)return;e.pure=!0;const{push:t,newline:r,helper:i,scopeId:s,mode:o}=e;r();for(let a=0;a<n.length;a++){const c=n[a];c&&(t(`const _hoisted_${a+1} = `),xe(c,e),r())}e.pure=!1}function Do(n,e){const t=n.length>3||!1;e.push("["),t&&e.indent(),kr(n,e,t),t&&e.deindent(),e.push("]")}function kr(n,e,t=!1,r=!0){const{push:i,newline:s}=e;for(let o=0;o<n.length;o++){const a=n[o];fe(a)?i(a):bn(a)?Do(a,e):xe(a,e),o<n.length-1&&(t?(r&&i(","),s()):r&&i(", "))}}function xe(n,e){if(fe(n)){e.push(n);return}if($s(n)){e.push(e.helper(n));return}switch(n.type){case 1:case 9:case 11:xe(n.codegenNode,e);break;case 2:$y(n,e);break;case 4:bc(n,e);break;case 5:By(n,e);break;case 12:xe(n.codegenNode,e);break;case 8:Ec(n,e);break;case 3:Gy(n,e);break;case 13:Hy(n,e);break;case 14:Vy(n,e);break;case 15:Ky(n,e);break;case 17:Wy(n,e);break;case 18:Yy(n,e);break;case 19:qy(n,e);break;case 20:Xy(n,e);break;case 21:kr(n.body,e,!0,!1);break}}function $y(n,e){e.push(JSON.stringify(n.content),n)}function bc(n,e){const{content:t,isStatic:r}=n;e.push(r?JSON.stringify(t):t,n)}function By(n,e){const{push:t,helper:r,pure:i}=e;i&&t(es),t(`${r(_r)}(`),xe(n.content,e),t(")")}function Ec(n,e){for(let t=0;t<n.children.length;t++){const r=n.children[t];fe(r)?e.push(r):xe(r,e)}}function Fy(n,e){const{push:t}=e;if(n.type===8)t("["),Ec(n,e),t("]");else if(n.isStatic){const r=Tr(n.content)?n.content:JSON.stringify(n.content);t(r,n)}else t(`[${n.content}]`,n)}function Gy(n,e){const{push:t,helper:r,pure:i}=e;i&&t(es),t(`${r($n)}(${JSON.stringify(n.content)})`,n)}function Hy(n,e){const{push:t,helper:r,pure:i}=e,{tag:s,props:o,children:a,patchFlag:c,dynamicProps:l,directives:u,isBlock:h,disableTracking:d,isComponent:p}=n;u&&t(r(Bi)+"("),h&&t(`(${r(qt)}(${d?"true":""}), `),i&&t(es);const v=h?dn(e.inSSR,p):hn(e.inSSR,p);t(r(v)+"(",n),kr(Uy([s,o,a,c,l]),e),t(")"),h&&t(")"),u&&(t(", "),xe(u,e),t(")"))}function Uy(n){let e=n.length;for(;e--&&n[e]==null;);return n.slice(0,e+1).map(t=>t||"null")}function Vy(n,e){const{push:t,helper:r,pure:i}=e,s=fe(n.callee)?n.callee:r(n.callee);i&&t(es),t(s+"(",n),kr(n.arguments,e),t(")")}function Ky(n,e){const{push:t,indent:r,deindent:i,newline:s}=e,{properties:o}=n;if(!o.length){t("{}",n);return}const a=o.length>1||!1;t(a?"{":"{ "),a&&r();for(let c=0;c<o.length;c++){const{key:l,value:u}=o[c];Fy(l,e),t(": "),xe(u,e),c<o.length-1&&(t(","),s())}a&&i(),t(a?"}":" }")}function Wy(n,e){Do(n.elements,e)}function Yy(n,e){const{push:t,indent:r,deindent:i}=e,{params:s,returns:o,body:a,newline:c,isSlot:l}=n;l&&t(`_${Pt[Wi]}(`),t("(",n),bn(s)?kr(s,e):s&&xe(s,e),t(") => "),(c||a)&&(t("{"),r()),o?(c&&t("return "),bn(o)?Do(o,e):xe(o,e)):a&&xe(a,e),(c||a)&&(i(),t("}")),l&&(n.isNonScopedSlot&&t(", undefined, true"),t(")"))}function qy(n,e){const{test:t,consequent:r,alternate:i,newline:s}=n,{push:o,indent:a,deindent:c,newline:l}=e;if(t.type===4){const h=!Tr(t.content);h&&o("("),bc(t,e),h&&o(")")}else o("("),xe(t,e),o(")");s&&a(),e.indentLevel++,s||o(" "),o("? "),xe(r,e),e.indentLevel--,s&&l(),s||o(" "),o(": ");const u=i.type===19;u||e.indentLevel++,xe(i,e),u||e.indentLevel--,s&&c(!0)}function Xy(n,e){const{push:t,helper:r,indent:i,deindent:s,newline:o}=e;t(`_cache[${n.index}] || (`),n.isVNode&&(i(),t(`${r(Or)}(-1),`),o()),t(`_cache[${n.index}] = `),xe(n.value,e),n.isVNode&&(t(","),o(),t(`${r(Or)}(1),`),o(),t(`_cache[${n.index}]`),s()),t(")")}function Zy(n,e,t=!1,r=[],i=Object.create(null)){}function Qy(n,e,t){return!1}function Jy(n,e){if(n&&(n.type==="ObjectProperty"||n.type==="ArrayPattern")){let t=e.length;for(;t--;){const r=e[t];if(r.type==="AssignmentExpression")return!0;if(r.type!=="ObjectProperty"&&!r.type.endsWith("Pattern"))break}}return!1}function ev(n,e){for(const t of n.params)for(const r of Xt(t))e(r)}function tv(n,e){for(const t of n.body)if(t.type==="VariableDeclaration"){if(t.declare)continue;for(const r of t.declarations)for(const i of Xt(r.id))e(i)}else if(t.type==="FunctionDeclaration"||t.type==="ClassDeclaration"){if(t.declare||!t.id)continue;e(t.id)}}function Xt(n,e=[]){switch(n.type){case"Identifier":e.push(n);break;case"MemberExpression":let t=n;for(;t.type==="MemberExpression";)t=t.object;e.push(t);break;case"ObjectPattern":for(const r of n.properties)r.type==="RestElement"?Xt(r.argument,e):Xt(r.value,e);break;case"ArrayPattern":n.elements.forEach(r=>{r&&Xt(r,e)});break;case"RestElement":Xt(n.argument,e);break;case"AssignmentPattern":Xt(n.left,e);break}return e}const nv=n=>/Function(?:Expression|Declaration)$|Method$/.test(n.type),Mc=n=>n&&(n.type==="ObjectProperty"||n.type==="ObjectMethod")&&!n.computed,rv=(n,e)=>Mc(e)&&e.key===n;new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments,typeof,void".split(",").join("\\b|\\b")+"\\b");const iv=(n,e)=>{if(n.type===5)n.content=ts(n.content,e);else if(n.type===1)for(let t=0;t<n.props.length;t++){const r=n.props[t];if(r.type===7&&r.name!=="for"){const i=r.exp,s=r.arg;i&&i.type===4&&!(r.name==="on"&&s)&&(r.exp=ts(i,e,r.name==="slot")),s&&s.type===4&&!s.isStatic&&(r.arg=ts(s,e))}}};function ts(n,e,t=!1,r=!1,i=Object.create(e.identifiers)){return n}const sv=Lo(/^(if|else|else-if)$/,(n,e,t)=>Sc(n,e,t,(r,i,s)=>{const o=t.parent.children;let a=o.indexOf(r),c=0;for(;a-->=0;){const l=o[a];l&&l.type===9&&(c+=l.branches.length)}return()=>{if(s)r.codegenNode=wc(i,c,t);else{const l=ov(r.codegenNode);l.alternate=wc(i,c+r.branches.length-1,t)}}}));function Sc(n,e,t,r){if(e.name!=="else"&&(!e.exp||!e.exp.content.trim())){const i=e.exp?e.exp.loc:n.loc;t.onError(ne(28,e.loc)),e.exp=H("true",!1,i)}if(e.name==="if"){const i=Cc(n,e),s={type:9,loc:n.loc,branches:[i]};if(t.replaceNode(s),r)return r(s,i,!0)}else{const i=t.parent.children;let s=i.indexOf(n);for(;s-->=-1;){const o=i[s];if(o&&o.type===2&&!o.content.trim().length){t.removeNode(o);continue}if(o&&o.type===9){e.name==="else-if"&&o.branches[o.branches.length-1].condition===void 0&&t.onError(ne(30,n.loc)),t.removeNode();const a=Cc(n,e);o.branches.push(a);const c=r&&r(o,a,!1);zr(a,t),c&&c(),t.currentNode=null}else t.onError(ne(30,n.loc));break}}}function Cc(n,e){return{type:10,loc:n.loc,condition:e.name==="else"?void 0:e.exp,children:n.tagType===3&&!ke(n,"for")?n.children:[n],userKey:Un(n,"key")}}function wc(n,e,t){return n.condition?qi(n.condition,_c(n,e,t),ae(t.helper($n),['""',"true"])):_c(n,e,t)}function _c(n,e,t){const{helper:r}=t,i=oe("key",H(`${e}`,!1,de,2)),{children:s}=n,o=s[0];if(s.length!==1||o.type!==1)if(s.length===1&&o.type===11){const c=o.codegenNode;return Ir(c,i,t),c}else{let c=64;return ka[64],Gn(t,r(zn),Ge([i]),s,c+"",void 0,void 0,!0,!1,!1,n.loc)}else{const c=o.codegenNode,l=sc(c);return l.type===13&&Zi(l,t),Ir(l,i,t),c}}function ov(n){for(;;)if(n.type===19)if(n.alternate.type===19)n=n.alternate;else return n;else n.type===20&&(n=n.value)}const av=Lo("for",(n,e,t)=>{const{helper:r,removeHelper:i}=t;return xc(n,e,t,s=>{const o=ae(r(Fi),[s.source]),a=ke(n,"memo"),c=Un(n,"key"),l=c&&(c.type===6?H(c.value.content,!0):c.exp),u=c?oe("key",l):null,h=s.source.type===4&&s.source.constType>0,d=h?64:c?128:256;return s.codegenNode=Gn(t,r(zn),void 0,o,d+"",void 0,void 0,!0,!h,!1,n.loc),()=>{let p;const v=Vn(n),{children:M}=s,_=M.length!==1||M[0].type!==1,m=Lr(n)?n:v&&n.children.length===1&&Lr(n.children[0])?n.children[0]:null;if(m?(p=m.codegenNode,v&&u&&Ir(p,u,t)):_?p=Gn(t,r(zn),u?Ge([u]):void 0,n.children,64+"",void 0,void 0,!0,void 0,!1):(p=M[0].codegenNode,v&&u&&Ir(p,u,t),p.isBlock!==!h&&(p.isBlock?(i(qt),i(dn(t.inSSR,p.isComponent))):i(hn(t.inSSR,p.isComponent))),p.isBlock=!h,p.isBlock?(r(qt),r(dn(t.inSSR,p.isComponent))):r(hn(t.inSSR,p.isComponent))),a){const C=cn(rs(s.parseResult,[H("_cached")]));C.body=tc([ot(["const _memo = (",a.exp,")"]),ot(["if (_cached",...l?[" && _cached.key === ",l]:[],` && ${t.helperString(So)}(_cached, _memo)) return _cached`]),ot(["const _item = ",p]),H("_item.memo = _memo"),H("return _item")]),o.arguments.push(C,H("_cache"),H(String(t.cached++)))}else o.arguments.push(cn(rs(s.parseResult),p,!0))}})});function xc(n,e,t,r){if(!e.exp){t.onError(ne(31,e.loc));return}const i=jo(e.exp);if(!i){t.onError(ne(32,e.loc));return}const{addIdentifiers:s,removeIdentifiers:o,scopes:a}=t,{source:c,value:l,key:u,index:h}=i,d={type:11,loc:e.loc,source:c,valueAlias:l,keyAlias:u,objectIndexAlias:h,parseResult:i,children:Vn(n)?n.children:[n]};t.replaceNode(d),a.vFor++;const p=r&&r(d);return()=>{a.vFor--,p&&p()}}const lv=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,Oc=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,cv=/^\(|\)$/g;function jo(n,e){const t=n.loc,r=n.content,i=r.match(lv);if(!i)return;const[,s,o]=i,a={source:ns(t,o.trim(),r.indexOf(o,s.length)),value:void 0,key:void 0,index:void 0};let c=s.trim().replace(cv,"").trim();const l=s.indexOf(c),u=c.match(Oc);if(u){c=c.replace(Oc,"").trim();const h=u[1].trim();let d;if(h&&(d=r.indexOf(h,l+c.length),a.key=ns(t,h,d)),u[2]){const p=u[2].trim();p&&(a.index=ns(t,p,r.indexOf(p,a.key?d+h.length:l+c.length)))}}return c&&(a.value=ns(t,c,l)),a}function ns(n,e,t){return H(e,!1,_o(n,t,e.length))}function rs({value:n,key:e,index:t},r=[]){return uv([n,e,t,...r])}function uv(n){let e=n.length;for(;e--&&!n[e];);return n.slice(0,e+1).map((t,r)=>t||H("_".repeat(r+1),!1))}const Tc=H("undefined",!1),Rc=(n,e)=>{if(n.type===1&&(n.tagType===1||n.tagType===3)){const t=ke(n,"slot");if(t)return t.exp,e.scopes.vSlot++,()=>{e.scopes.vSlot--}}},hv=(n,e)=>{let t;if(Vn(n)&&n.props.some(xo)&&(t=ke(n,"for"))){const r=t.parseResult=jo(t.exp);if(r){const{value:i,key:s,index:o}=r,{addIdentifiers:a,removeIdentifiers:c}=e;return i&&a(i),s&&a(s),o&&a(o),()=>{i&&c(i),s&&c(s),o&&c(o)}}}},dv=(n,e,t)=>cn(n,e,!1,!0,e.length?e[0].loc:t);function Ac(n,e,t=dv){e.helper(Wi);const{children:r,loc:i}=n,s=[],o=[];let a=e.scopes.vSlot>0||e.scopes.vFor>0;const c=ke(n,"slot",!0);if(c){const{arg:M,exp:_}=c;M&&!De(M)&&(a=!0),s.push(oe(M||H("default",!0),t(_,r,i)))}let l=!1,u=!1;const h=[],d=new Set;for(let M=0;M<r.length;M++){const _=r[M];let m;if(!Vn(_)||!(m=ke(_,"slot",!0))){_.type!==3&&h.push(_);continue}if(c){e.onError(ne(37,m.loc));break}l=!0;const{children:C,loc:g}=_,{arg:y=H("default",!0),exp:E,loc:S}=m;let w;De(y)?w=y?y.content:"default":a=!0;const x=t(E,C,g);let R,I,k;if(R=ke(_,"if"))a=!0,o.push(qi(R.exp,is(y,x),Tc));else if(I=ke(_,/^else(-if)?$/,!0)){let B=M,Y;for(;B--&&(Y=r[B],Y.type===3););if(Y&&Vn(Y)&&ke(Y,"if")){r.splice(M,1),M--;let X=o[o.length-1];for(;X.alternate.type===19;)X=X.alternate;X.alternate=I.exp?qi(I.exp,is(y,x),Tc):is(y,x)}else e.onError(ne(30,I.loc))}else if(k=ke(_,"for")){a=!0;const B=k.parseResult||jo(k.exp);B?o.push(ae(e.helper(Fi),[B.source,cn(rs(B),is(y,x),!0)])):e.onError(ne(32,k.loc))}else{if(w){if(d.has(w)){e.onError(ne(38,S));continue}d.add(w),w==="default"&&(u=!0)}s.push(oe(y,x))}}if(!c){const M=(_,m)=>{const C=t(_,m,i);return e.compatConfig&&(C.isNonScopedSlot=!0),oe("default",C)};l?h.length&&h.some(_=>Pc(_))&&(u?e.onError(ne(39,h[0].loc)):s.push(M(void 0,h))):s.push(M(void 0,r))}const p=a?2:ss(n.children)?3:1;let v=Ge(s.concat(oe("_",H(p+"",!1))),i);return o.length&&(v=ae(e.helper(Mo),[v,Hn(o)])),{slots:v,hasDynamicSlots:a}}function is(n,e){return Ge([oe("name",n),oe("fn",e)])}function ss(n){for(let e=0;e<n.length;e++){const t=n[e];switch(t.type){case 1:if(t.tagType===2||ss(t.children))return!0;break;case 9:if(ss(t.branches))return!0;break;case 10:case 11:if(ss(t.children))return!0;break}}return!1}function Pc(n){return n.type!==2&&n.type!==12?!0:n.type===2?!!n.content.trim():Pc(n.content)}const Lc=new WeakMap,Ic=(n,e)=>function(){if(n=e.currentNode,!(n.type===1&&(n.tagType===0||n.tagType===1)))return;const{tag:r,props:i}=n,s=n.tagType===1;let o=s?Dc(n,e):`"${r}"`;const a=Na(o)&&o.callee===wr;let c,l,u,h=0,d,p,v,M=a||o===kn||o===Ii||!s&&(r==="svg"||r==="foreignObject"||Un(n,"key",!0));if(i.length>0){const _=No(n,e);c=_.props,h=_.patchFlag,p=_.dynamicPropNames;const m=_.directives;v=m&&m.length?Hn(m.map(C=>fv(C,e))):void 0}if(n.children.length>0)if(o===Cr&&(M=!0,h|=1024),s&&o!==kn&&o!==Cr){const{slots:m,hasDynamicSlots:C}=Ac(n,e);l=m,C&&(h|=1024)}else if(n.children.length===1&&o!==kn){const m=n.children[0],C=m.type,g=C===5||C===8;g&&Ye(m,e)===0&&(h|=1),g||C===2?l=m:l=n.children}else l=n.children;h!==0&&(u=String(h),p&&p.length&&(d=mv(p))),n.codegenNode=Gn(e,o,c,l,u,d,v,!!M,!1,s,n.loc)};function Dc(n,e,t=!1){let{tag:r}=n;const i=ko(r),s=Un(n,"is");if(s)if(i||pn("COMPILER_IS_ON_ELEMENT",e)){const c=s.type===6?s.value&&H(s.value.content,!0):s.exp;if(c)return ae(e.helper(wr),[c])}else s.type===6&&s.value.content.startsWith("vue:")&&(r=s.value.content.slice(4));const o=!i&&ke(n,"is");if(o&&o.exp)return ae(e.helper(wr),[o.exp]);const a=Co(r)||e.isBuiltInComponent(r);return a?(t||e.helper(a),a):(e.helper(zi),e.components.add(r),Kn(r,"component"))}function No(n,e,t=n.props,r=!1){const{tag:i,loc:s}=n,o=n.tagType===1;let a=[];const c=[],l=[];let u=0,h=!1,d=!1,p=!1,v=!1,M=!1,_=!1;const m=[],C=({key:y,value:E})=>{if(De(y)){const S=y.content,w=$a(S);if(!o&&w&&S.toLowerCase()!=="onclick"&&S!=="onUpdate:modelValue"&&!Ba(S)&&(v=!0),w&&Ba(S)&&(_=!0),E.type===20||(E.type===4||E.type===8)&&Ye(E,e)>0)return;S==="ref"?h=!0:S==="class"?d=!0:S==="style"?p=!0:S!=="key"&&!m.includes(S)&&m.push(S),o&&(S==="class"||S==="style")&&!m.includes(S)&&m.push(S)}else M=!0};for(let y=0;y<t.length;y++){const E=t[y];if(E.type===6){const{loc:S,name:w,value:x}=E;let R=H(x?x.content:"",!0,x?x.loc:S);if(w==="ref"&&(h=!0),w==="is"&&(ko(i)||x&&x.content.startsWith("vue:")||pn("COMPILER_IS_ON_ELEMENT",e)))continue;a.push(oe(H(w,!0,_o(S,0,w.length)),R))}else{const{name:S,arg:w,exp:x,loc:R}=E,I=S==="bind",k=S==="on";if(S==="slot"){o||e.onError(ne(40,R));continue}if(S==="once"||S==="memo"||S==="is"||I&&Pr(w,"is")&&(ko(i)||pn("COMPILER_IS_ON_ELEMENT",e))||k&&r)continue;if(!w&&(I||k)){if(M=!0,x)if(a.length&&(c.push(Ge(zo(a),s)),a=[]),I){if(pn("COMPILER_V_BIND_OBJECT_ORDER",e)){c.unshift(x);continue}c.push(x)}else c.push({type:14,loc:R,callee:e.helper(Ui),arguments:[x]});else e.onError(ne(I?34:35,R));continue}const B=e.directiveTransforms[S];if(B){const{props:Y,needRuntime:X}=B(E,n,e);!r&&Y.forEach(C),a.push(...Y),X&&(l.push(E),$s(X)&&Lc.set(E,X))}else l.push(E)}E.type===6&&E.name==="ref"&&e.scopes.vFor>0&&fn("COMPILER_V_FOR_REF",e,E.loc)&&a.push(oe(H("refInFor",!0),H("true",!1)))}let g;if(c.length?(a.length&&c.push(Ge(zo(a),s)),c.length>1?g=ae(e.helper(xr),c,s):g=c[0]):a.length&&(g=Ge(zo(a),s)),M?u|=16:(d&&!o&&(u|=2),p&&!o&&(u|=4),m.length&&(u|=8),v&&(u|=32)),(u===0||u===32)&&(h||_||l.length>0)&&(u|=512),!e.inSSR&&g)switch(g.type){case 15:let y=-1,E=-1,S=!1;for(let R=0;R<g.properties.length;R++){const I=g.properties[R].key;De(I)?I.content==="class"?y=R:I.content==="style"&&(E=R):I.isHandlerKey||(S=!0)}const w=g.properties[y],x=g.properties[E];S?g=ae(e.helper(Bn),[g]):(w&&!De(w.value)&&(w.value=ae(e.helper(Gi),[w.value])),x&&!De(x.value)&&(p||x.value.type===17)&&(x.value=ae(e.helper(Hi),[x.value])));break;case 14:break;default:g=ae(e.helper(Bn),[ae(e.helper(Fn),[g])]);break}return{props:g,directives:l,patchFlag:u,dynamicPropNames:m}}function zo(n){const e=new Map,t=[];for(let r=0;r<n.length;r++){const i=n[r];if(i.key.type===8||!i.key.isStatic){t.push(i);continue}const s=i.key.content,o=e.get(s);o?(s==="style"||s==="class"||$a(s))&&pv(o,i):(e.set(s,i),t.push(i))}return t}function pv(n,e){n.value.type===17?n.value.elements.push(e.value):n.value=Hn([n.value,e.value],n.loc)}function fv(n,e){const t=[],r=Lc.get(n);r?t.push(e.helperString(r)):(e.helper(ki),e.directives.add(n.name),t.push(Kn(n.name,"directive")));const{loc:i}=n;if(n.exp&&t.push(n.exp),n.arg&&(n.exp||t.push("void 0"),t.push(n.arg)),Object.keys(n.modifiers).length){n.arg||(n.exp||t.push("void 0"),t.push("void 0"));const s=H("true",!1,i);t.push(Ge(n.modifiers.map(o=>oe(o,s)),i))}return Hn(t,n.loc)}function mv(n){let e="[";for(let t=0,r=n.length;t<r;t++)e+=JSON.stringify(n[t]),t<r-1&&(e+=", ");return e+"]"}function ko(n){return n[0].toLowerCase()+n.slice(1)==="component"}const gv=n=>{const e=Object.create(null);return t=>e[t]||(e[t]=n(t))},yv=/-(\w)/g,jc=gv(n=>n.replace(yv,(e,t)=>t?t.toUpperCase():"")),vv=(n,e)=>{if(Lr(n)){const{children:t,loc:r}=n,{slotName:i,slotProps:s}=Nc(n,e),o=[e.prefixIdentifiers?"_ctx.$slots":"$slots",i,"{}","undefined","true"];let a=2;s&&(o[2]=s,a=3),t.length&&(o[3]=cn([],t,!1,!1,r),a=4),e.scopeId&&!e.slotted&&(a=5),o.splice(a),n.codegenNode=ae(e.helper(Eo),o,r)}};function Nc(n,e){let t='"default"',r;const i=[];for(let s=0;s<n.props.length;s++){const o=n.props[s];o.type===6?o.value&&(o.name==="name"?t=JSON.stringify(o.value.content):(o.name=jc(o.name),i.push(o))):o.name==="bind"&&Pr(o.arg,"name")?o.exp&&(t=o.exp):(o.name==="bind"&&o.arg&&De(o.arg)&&(o.arg.content=jc(o.arg.content)),i.push(o))}if(i.length>0){const{props:s,directives:o}=No(n,e,i);r=s,o.length&&e.onError(ne(36,o[0].loc))}return{slotName:t,slotProps:r}}const bv=/^\s*([\w$_]+|(async\s*)?\([^)]*?\))\s*=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,$o=(n,e,t,r)=>{const{loc:i,modifiers:s,arg:o}=n;!n.exp&&!s.length&&t.onError(ne(35,i));let a;if(o.type===4)if(o.isStatic){const h=o.content;a=H(kh(ks(h)),!0,o.loc)}else a=ot([`${t.helperString(Ki)}(`,o,")"]);else a=o,a.children.unshift(`${t.helperString(Ki)}(`),a.children.push(")");let c=n.exp;c&&!c.content.trim()&&(c=void 0);let l=t.cacheHandlers&&!c&&!t.inVOnce;if(c){const h=wo(c.content),d=!(h||bv.test(c.content)),p=c.content.includes(";");(d||l&&h)&&(c=ot([`${d?"$event":"(...args)"} => ${p?"{":"("}`,c,p?"}":")"]))}let u={props:[oe(a,c||H("() => {}",!1,i))]};return r&&(u=r(u)),l&&(u.props[0].value=t.cache(u.props[0].value)),u.props.forEach(h=>h.key.isHandlerKey=!0),u},zc=(n,e,t)=>{const{exp:r,modifiers:i,loc:s}=n,o=n.arg;return o.type!==4?(o.children.unshift("("),o.children.push(') || ""')):o.isStatic||(o.content=`${o.content} || ""`),i.includes("camel")&&(o.type===4?o.isStatic?o.content=ks(o.content):o.content=`${t.helperString(Vi)}(${o.content})`:(o.children.unshift(`${t.helperString(Vi)}(`),o.children.push(")"))),t.inSSR||(i.includes("prop")&&kc(o,"."),i.includes("attr")&&kc(o,"^")),!r||r.type===4&&!r.content.trim()?(t.onError(ne(34,s)),{props:[oe(o,H("",!0,s))]}):{props:[oe(o,r)]}},kc=(n,e)=>{n.type===4?n.isStatic?n.content=e+n.content:n.content=`\`${e}\${${n.content}}\``:(n.children.unshift(`'${e}' + (`),n.children.push(")"))},Ev=(n,e)=>{if(n.type===0||n.type===1||n.type===11||n.type===10)return()=>{const t=n.children;let r,i=!1;for(let s=0;s<t.length;s++){const o=t[s];if(Xi(o)){i=!0;for(let a=s+1;a<t.length;a++){const c=t[a];if(Xi(c))r||(r=t[s]={type:8,loc:o.loc,children:[o]}),r.children.push(" + ",c),t.splice(a,1),a--;else{r=void 0;break}}}}if(!(!i||t.length===1&&(n.type===0||n.type===1&&n.tagType===0&&!n.props.find(s=>s.type===7&&!e.directiveTransforms[s.name])&&n.tag!=="template")))for(let s=0;s<t.length;s++){const o=t[s];if(Xi(o)||o.type===8){const a=[];(o.type!==2||o.content!==" ")&&a.push(o),!e.ssr&&Ye(o,e)===0&&a.push(1+""),t[s]={type:12,content:o,loc:o.loc,codegenNode:ae(e.helper(Ni),a)}}}}},$c=new WeakSet,Mv=(n,e)=>{if(n.type===1&&ke(n,"once",!0))return $c.has(n)||e.inVOnce?void 0:($c.add(n),e.inVOnce=!0,e.helper(Or),()=>{e.inVOnce=!1;const t=e.currentNode;t.codegenNode&&(t.codegenNode=e.cache(t.codegenNode,!0))})},Bo=(n,e,t)=>{const{exp:r,arg:i}=n;if(!r)return t.onError(ne(41,n.loc)),Fo();const s=r.loc.source,o=r.type===4?r.content:s;t.bindingMetadata[s];const a=!1;if(!o.trim()||!wo(o)&&!a)return t.onError(ne(42,r.loc)),Fo();const c=i||H("modelValue",!0),l=i?De(i)?`onUpdate:${i.content}`:ot(['"onUpdate:" + ',i]):"onUpdate:modelValue";let u;const h=t.isTS?"($event: any)":"$event";u=ot([`${h} => ((`,r,") = $event)"]);const d=[oe(c,n.exp),oe(l,u)];if(n.modifiers.length&&e.tagType===1){const p=n.modifiers.map(M=>(Tr(M)?M:JSON.stringify(M))+": true").join(", "),v=i?De(i)?`${i.content}Modifiers`:ot([i,' + "Modifiers"']):"modelModifiers";d.push(oe(v,H(`{ ${p} }`,!1,n.loc,2)))}return Fo(d)};function Fo(n=[]){return{props:n}}const Sv=/[\w).+\-_$\]]/,Cv=(n,e)=>{!pn("COMPILER_FILTER",e)||(n.type===5&&os(n.content,e),n.type===1&&n.props.forEach(t=>{t.type===7&&t.name!=="for"&&t.exp&&os(t.exp,e)}))};function os(n,e){if(n.type===4)Bc(n,e);else for(let t=0;t<n.children.length;t++){const r=n.children[t];typeof r=="object"&&(r.type===4?Bc(r,e):r.type===8?os(n,e):r.type===5&&os(r.content,e))}}function Bc(n,e){const t=n.content;let r=!1,i=!1,s=!1,o=!1,a=0,c=0,l=0,u=0,h,d,p,v,M=[];for(p=0;p<t.length;p++)if(d=h,h=t.charCodeAt(p),r)h===39&&d!==92&&(r=!1);else if(i)h===34&&d!==92&&(i=!1);else if(s)h===96&&d!==92&&(s=!1);else if(o)h===47&&d!==92&&(o=!1);else if(h===124&&t.charCodeAt(p+1)!==124&&t.charCodeAt(p-1)!==124&&!a&&!c&&!l)v===void 0?(u=p+1,v=t.slice(0,p).trim()):_();else{switch(h){case 34:i=!0;break;case 39:r=!0;break;case 96:s=!0;break;case 40:l++;break;case 41:l--;break;case 91:c++;break;case 93:c--;break;case 123:a++;break;case 125:a--;break}if(h===47){let m=p-1,C;for(;m>=0&&(C=t.charAt(m),C===" ");m--);(!C||!Sv.test(C))&&(o=!0)}}v===void 0?v=t.slice(0,p).trim():u!==0&&_();function _(){M.push(t.slice(u,p).trim()),u=p+1}if(M.length){for(p=0;p<M.length;p++)v=wv(v,M[p],e);n.content=v}}function wv(n,e,t){t.helper($i);const r=e.indexOf("(");if(r<0)return t.filters.add(e),`${Kn(e,"filter")}(${n})`;{const i=e.slice(0,r),s=e.slice(r+1);return t.filters.add(i),`${Kn(i,"filter")}(${n}${s!==")"?","+s:s}`}}const Fc=new WeakSet,_v=(n,e)=>{if(n.type===1){const t=ke(n,"memo");return!t||Fc.has(n)?void 0:(Fc.add(n),()=>{const r=n.codegenNode||e.currentNode.codegenNode;r&&r.type===13&&(n.tagType!==1&&Zi(r,e),n.codegenNode=ae(e.helper(Yi),[t.exp,cn(void 0,r),"_cache",String(e.cached++)]))})}};function Gc(n){return[[Mv,sv,_v,av,Cv,vv,Ic,Rc,Ev],{on:$o,bind:zc,model:Bo}]}function Hc(n,e={}){const t=e.onError||mo,r=e.mode==="module";e.prefixIdentifiers===!0?t(ne(46)):r&&t(ne(47));const i=!1;e.cacheHandlers&&t(ne(48)),e.scopeId&&!r&&t(ne(49));const s=fe(n)?To(n,e):n,[o,a]=Gc();return yc(s,Ct({},e,{prefixIdentifiers:i,nodeTransforms:[...o,...e.nodeTransforms||[]],directiveTransforms:Ct({},a,e.directiveTransforms||{})})),vc(s,Ct({},e,{prefixIdentifiers:i}))}const Uc=()=>({props:[]}),Go=Symbol(""),Ho=Symbol(""),Uo=Symbol(""),Vo=Symbol(""),as=Symbol(""),Ko=Symbol(""),Wo=Symbol(""),Yo=Symbol(""),qo=Symbol(""),Xo=Symbol("");Ql({[Go]:"vModelRadio",[Ho]:"vModelCheckbox",[Uo]:"vModelText",[Vo]:"vModelSelect",[as]:"vModelDynamic",[Ko]:"withModifiers",[Wo]:"withKeys",[Yo]:"vShow",[qo]:"Transition",[Xo]:"TransitionGroup"});let Wn;function xv(n,e=!1){return Wn||(Wn=document.createElement("div")),e?(Wn.innerHTML=`<div foo="${n.replace(/"/g,"&quot;")}">`,Wn.children[0].getAttribute("foo")):(Wn.innerHTML=n,Wn.textContent)}const Ov=En("style,iframe,script,noscript",!0),Zo={isVoidTag:$h,isNativeTag:n=>Bh(n)||Fh(n),isPreTag:n=>n==="pre",decodeEntities:xv,isBuiltInComponent:n=>{if(un(n,"Transition"))return qo;if(un(n,"TransitionGroup"))return Xo},getNamespace(n,e){let t=e?e.ns:0;if(e&&t===2)if(e.tag==="annotation-xml"){if(n==="svg")return 1;e.props.some(r=>r.type===6&&r.name==="encoding"&&r.value!=null&&(r.value.content==="text/html"||r.value.content==="application/xhtml+xml"))&&(t=0)}else/^m(?:[ions]|text)$/.test(e.tag)&&n!=="mglyph"&&n!=="malignmark"&&(t=0);else e&&t===1&&(e.tag==="foreignObject"||e.tag==="desc"||e.tag==="title")&&(t=0);if(t===0){if(n==="svg")return 1;if(n==="math")return 2}return t},getTextMode({tag:n,ns:e}){if(e===0){if(n==="textarea"||n==="title")return 1;if(Ov(n))return 2}return 0}},Vc=n=>{n.type===1&&n.props.forEach((e,t)=>{e.type===6&&e.name==="style"&&e.value&&(n.props[t]={type:7,name:"bind",arg:H("style",!0,e.loc),exp:Tv(e.value.content,e.loc),modifiers:[],loc:e.loc})})},Tv=(n,e)=>{const t=Gh(n);return H(JSON.stringify(t),!1,e,3)};function vt(n,e){return ne(n,e)}const Rv=(n,e,t)=>{const{exp:r,loc:i}=n;return r||t.onError(vt(50,i)),e.children.length&&(t.onError(vt(51,i)),e.children.length=0),{props:[oe(H("innerHTML",!0,i),r||H("",!0))]}},Av=(n,e,t)=>{const{exp:r,loc:i}=n;return r||t.onError(vt(52,i)),e.children.length&&(t.onError(vt(53,i)),e.children.length=0),{props:[oe(H("textContent",!0),r?ae(t.helperString(_r),[r],i):H("",!0))]}},Pv=(n,e,t)=>{const r=Bo(n,e,t);if(!r.props.length||e.tagType===1)return r;n.arg&&t.onError(vt(55,n.arg.loc));const{tag:i}=e,s=t.isCustomElement(i);if(i==="input"||i==="textarea"||i==="select"||s){let o=Uo,a=!1;if(i==="input"||s){const c=Un(e,"type");if(c){if(c.type===7)o=as;else if(c.value)switch(c.value.content){case"radio":o=Go;break;case"checkbox":o=Ho;break;case"file":a=!0,t.onError(vt(56,n.loc));break}}else rc(e)&&(o=as)}else i==="select"&&(o=Vo);a||(r.needRuntime=t.helper(o))}else t.onError(vt(54,n.loc));return r.props=r.props.filter(o=>!(o.key.type===4&&o.key.content==="modelValue")),r},Lv=En("passive,once,capture"),Iv=En("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),Dv=En("left,right"),Kc=En("onkeyup,onkeydown,onkeypress",!0),jv=(n,e,t,r)=>{const i=[],s=[],o=[];for(let a=0;a<e.length;a++){const c=e[a];c==="native"&&fn("COMPILER_V_ON_NATIVE",t)||Lv(c)?o.push(c):Dv(c)?De(n)?Kc(n.content)?i.push(c):s.push(c):(i.push(c),s.push(c)):Iv(c)?s.push(c):i.push(c)}return{keyModifiers:i,nonKeyModifiers:s,eventOptionModifiers:o}},Wc=(n,e)=>De(n)&&n.content.toLowerCase()==="onclick"?H(e,!0):n.type!==4?ot(["(",n,`) === "onClick" ? "${e}" : (`,n,")"]):n,Nv=(n,e,t)=>$o(n,e,t,r=>{const{modifiers:i}=n;if(!i.length)return r;let{key:s,value:o}=r.props[0];const{keyModifiers:a,nonKeyModifiers:c,eventOptionModifiers:l}=jv(s,i,t,n.loc);if(c.includes("right")&&(s=Wc(s,"onContextmenu")),c.includes("middle")&&(s=Wc(s,"onMouseup")),c.length&&(o=ae(t.helper(Ko),[o,JSON.stringify(c)])),a.length&&(!De(s)||Kc(s.content))&&(o=ae(t.helper(Wo),[o,JSON.stringify(a)])),l.length){const u=l.map(za).join("");s=De(s)?H(`${s.content}${u}`,!0):ot(["(",s,`) + "${u}"`])}return{props:[oe(s,o)]}}),zv=(n,e,t)=>{const{exp:r,loc:i}=n;return r||t.onError(vt(58,i)),{props:[],needRuntime:t.helper(Yo)}},kv=(n,e)=>{n.type===1&&n.tagType===0&&(n.tag==="script"||n.tag==="style")&&(e.onError(vt(60,n.loc)),e.removeNode())},Yc=[Vc],qc={cloak:Uc,html:Rv,text:Av,model:Pv,on:Nv,show:zv};function $v(n,e={}){return Hc(n,Ct({},Zo,e,{nodeTransforms:[kv,...Yc,...e.nodeTransforms||[]],directiveTransforms:Ct({},qc,e.directiveTransforms||{}),transformHoist:null}))}function Bv(n,e={}){return To(n,Ct({},Zo,e))}var Fv=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",DOMDirectiveTransforms:qc,DOMNodeTransforms:Yc,TRANSITION:qo,TRANSITION_GROUP:Xo,V_MODEL_CHECKBOX:Ho,V_MODEL_DYNAMIC:as,V_MODEL_RADIO:Go,V_MODEL_SELECT:Vo,V_MODEL_TEXT:Uo,V_ON_WITH_KEYS:Wo,V_ON_WITH_MODIFIERS:Ko,V_SHOW:Yo,compile:$v,createDOMCompilerError:vt,parse:Bv,parserOptions:Zo,transformStyle:Vc,generateCodeFrame:Hh,BASE_TRANSITION:go,CAMELIZE:Vi,CAPITALIZE:Wl,CREATE_BLOCK:yo,CREATE_COMMENT:$n,CREATE_ELEMENT_BLOCK:vo,CREATE_ELEMENT_VNODE:ji,CREATE_SLOTS:Mo,CREATE_STATIC:bo,CREATE_TEXT:Ni,CREATE_VNODE:Di,FRAGMENT:zn,GUARD_REACTIVE_PROPS:Fn,IS_MEMO_SAME:So,IS_REF:Zl,KEEP_ALIVE:Cr,MERGE_PROPS:xr,NORMALIZE_CLASS:Gi,NORMALIZE_PROPS:Bn,NORMALIZE_STYLE:Hi,OPEN_BLOCK:qt,POP_SCOPE_ID:ql,PUSH_SCOPE_ID:Yl,RENDER_LIST:Fi,RENDER_SLOT:Eo,RESOLVE_COMPONENT:zi,RESOLVE_DIRECTIVE:ki,RESOLVE_DYNAMIC_COMPONENT:wr,RESOLVE_FILTER:$i,SET_BLOCK_TRACKING:Or,SUSPENSE:Ii,TELEPORT:kn,TO_DISPLAY_STRING:_r,TO_HANDLERS:Ui,TO_HANDLER_KEY:Ki,UNREF:Xl,WITH_CTX:Wi,WITH_DIRECTIVES:Bi,WITH_MEMO:Yi,advancePositionWithClone:Rr,advancePositionWithMutation:Ar,assert:gy,baseCompile:Hc,baseParse:To,buildProps:No,buildSlots:Ac,checkCompatEnabled:fn,createArrayExpression:Hn,createAssignmentExpression:ly,createBlockStatement:tc,createCacheExpression:ec,createCallExpression:ae,createCompilerError:ne,createCompoundExpression:ot,createConditionalExpression:qi,createForLoopParams:rs,createFunctionExpression:cn,createIfStatement:ay,createInterpolation:sy,createObjectExpression:Ge,createObjectProperty:oe,createReturnStatement:uy,createRoot:Jl,createSequenceExpression:cy,createSimpleExpression:H,createStructuralDirectiveTransform:Lo,createTemplateLiteral:oy,createTransformContext:gc,createVNodeCall:Gn,extractIdentifiers:Xt,findDir:ke,findProp:Un,generate:vc,getBaseTransformPreset:Gc,getInnerRange:_o,getMemoedVNodeCall:sc,getVNodeBlockHelper:dn,getVNodeHelper:hn,hasDynamicKeyVBind:rc,hasScopeRef:at,helperNameMap:Pt,injectProp:Ir,isBindKey:Pr,isBuiltInType:un,isCoreComponent:Co,isFunctionType:nv,isInDestructureAssignment:Jy,isMemberExpression:wo,isMemberExpressionBrowser:nc,isMemberExpressionNode:my,isReferencedIdentifier:Qy,isSimpleIdentifier:Tr,isSlotOutlet:Lr,isStaticExp:De,isStaticProperty:Mc,isStaticPropertyKey:rv,isTemplateNode:Vn,isText:Xi,isVSlot:xo,locStub:de,makeBlock:Zi,noopDirectiveTransform:Uc,processExpression:ts,processFor:xc,processIf:Sc,processSlotOutlet:Nc,registerRuntimeHelpers:Ql,resolveComponentType:Dc,toValidAssetId:Kn,trackSlotScopes:Rc,trackVForSlotScopes:hv,transform:yc,transformBind:zc,transformElement:Ic,transformExpression:iv,transformModel:Bo,transformOn:$o,traverseNode:zr,walkBlockDeclarations:tv,walkFunctionParams:ev,walkIdentifiers:Zy,warnDeprecation:by}),Gv=Mn(Fv),Hv=Mn(Uh),Uv=Mn(Vh);(function(n){Object.defineProperty(n,"__esModule",{value:!0});var e=Gv,t=Hv,r=Uv;function i(c){if(c&&c.__esModule)return c;var l=Object.create(null);return c&&Object.keys(c).forEach(function(u){l[u]=c[u]}),l.default=c,Object.freeze(l)}var s=i(t);const o=Object.create(null);function a(c,l){if(!r.isString(c))if(c.nodeType)c=c.innerHTML;else return r.NOOP;const u=c,h=o[u];if(h)return h;if(c[0]==="#"){const v=document.querySelector(c);c=v?v.innerHTML:""}const{code:d}=e.compile(c,r.extend({hoistStatic:!0,onError:void 0,onWarn:r.NOOP},l)),p=new Function("Vue",d)(s);return p._rc=!0,o[u]=p}t.registerRuntimeCompiler(a),Object.keys(t).forEach(function(c){c!=="default"&&(n[c]=t[c])}),n.compile=a})(Vl);Z.exports=Vl;var qe={exports:{}};(function(n){function e(){return n.exports=e=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},n.exports.__esModule=!0,n.exports.default=n.exports,e.apply(this,arguments)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(qe);var mn={exports:{}};(function(n){function e(t,r,i){return r in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(mn);var $r={},ls={},cs={exports:{}};(function(n){var e=mn.exports;function t(i,s){var o=Object.keys(i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);s&&(a=a.filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable})),o.push.apply(o,a)}return o}function r(i){for(var s=1;s<arguments.length;s++){var o=arguments[s]!=null?arguments[s]:{};s%2?t(Object(o),!0).forEach(function(a){e(i,a,o[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach(function(a){Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(o,a))})}return i}n.exports=r,n.exports.__esModule=!0,n.exports.default=n.exports})(cs);var me={},bt={};Object.defineProperty(bt,"__esModule",{value:!0});bt.withInstall=bt.tupleNum=bt.tuple=void 0;var Vv=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t};bt.tuple=Vv;var Kv=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t};bt.tupleNum=Kv;var Wv=function(e){var t=e;return t.install=function(r){r.component(t.displayName||t.name,e)},e};bt.withInstall=Wv;var Yv=re.exports;Object.defineProperty(me,"__esModule",{value:!0});me.getTransitionProps=me.getTransitionName=me.getTransitionGroupProps=me.getTransitionDirection=me.default=me.collapseMotion=me.TransitionGroup=me.Transition=void 0;var Qo=Z.exports,us=Yv(qe.exports),qv=bt;(0,qv.tuple)("bottomLeft","bottomRight","topLeft","topRight");var Xv=function(e){return e!==void 0&&(e==="topLeft"||e==="topRight")?"slide-down":"slide-up"};me.getTransitionDirection=Xv;var Zv=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e?(0,us.default)({name:e,appear:!0,enterFromClass:"".concat(e,"-enter ").concat(e,"-enter-prepare"),enterActiveClass:"".concat(e,"-enter ").concat(e,"-enter-prepare"),enterToClass:"".concat(e,"-enter ").concat(e,"-enter-active"),leaveFromClass:" ".concat(e,"-leave"),leaveActiveClass:"".concat(e,"-leave"),leaveToClass:"".concat(e,"-leave ").concat(e,"-leave-active")},t):(0,us.default)({css:!1},t);return r};me.getTransitionProps=Zv;var Qv=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e?(0,us.default)({name:e,appear:!0,appearActiveClass:"".concat(e),appearToClass:"".concat(e,"-appear ").concat(e,"-appear-active"),enterFromClass:"".concat(e,"-appear ").concat(e,"-enter ").concat(e,"-appear-prepare ").concat(e,"-enter-prepare"),enterActiveClass:"".concat(e),enterToClass:"".concat(e,"-enter ").concat(e,"-appear ").concat(e,"-appear-active ").concat(e,"-enter-active"),leaveActiveClass:"".concat(e," ").concat(e,"-leave"),leaveToClass:"".concat(e,"-leave-active")},t):(0,us.default)({css:!1},t);return r};me.getTransitionGroupProps=Qv;var Xc=Qo.Transition;me.Transition=Xc;var Jv=Qo.TransitionGroup;me.TransitionGroup=Jv;var Zc=function(){return{height:0,opacity:0}},e0=function(e){return{height:"".concat(e.scrollHeight,"px"),opacity:1}},t0=function(e){return{height:"".concat(e.offsetHeight,"px")}},n0=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ant-motion-collapse",t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;return{name:e,appear:!0,css:!0,onBeforeEnter:function(s){r.value=e,t.value=Zc()},onEnter:function(s){(0,Qo.nextTick)(function(){t.value=e0(s)})},onAfterEnter:function(){r.value="",t.value={}},onBeforeLeave:function(s){r.value=e,t.value=t0(s)},onLeave:function(s){setTimeout(function(){t.value=Zc()})},onAfterLeave:function(){r.value="",t.value={}}}};me.collapseMotion=n0;var r0=function(e,t,r){return r!==void 0?r:"".concat(e,"-").concat(t)};me.getTransitionName=r0;var i0=Xc;me.default=i0;var hs={},Jo={exports:{}},Qc={exports:{}};(function(n){function e(t){if(Array.isArray(t))return t}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(Qc);var Jc={exports:{}};(function(n){function e(t,r){var i=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var s=[],o=!0,a=!1,c,l;try{for(i=i.call(t);!(o=(c=i.next()).done)&&(s.push(c.value),!(r&&s.length===r));o=!0);}catch(u){a=!0,l=u}finally{try{!o&&i.return!=null&&i.return()}finally{if(a)throw l}}return s}}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(Jc);var ea={exports:{}},ta={exports:{}};(function(n){function e(t,r){(r==null||r>t.length)&&(r=t.length);for(var i=0,s=new Array(r);i<r;i++)s[i]=t[i];return s}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(ta);(function(n){var e=ta.exports;function t(r,i){if(!!r){if(typeof r=="string")return e(r,i);var s=Object.prototype.toString.call(r).slice(8,-1);if(s==="Object"&&r.constructor&&(s=r.constructor.name),s==="Map"||s==="Set")return Array.from(r);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return e(r,i)}}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports})(ea);var eu={exports:{}};(function(n){function e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(eu);(function(n){var e=Qc.exports,t=Jc.exports,r=ea.exports,i=eu.exports;function s(o,a){return e(o)||t(o,a)||r(o,a)||i()}n.exports=s,n.exports.__esModule=!0,n.exports.default=n.exports})(Jo);var Zt={},W={},s0=re.exports;Object.defineProperty(W,"__esModule",{value:!0});W.controlDefaultValue=W.capitalize=W.camelize=W.cacheStringFunction=void 0;W.getDataAndAriaProps=E0;W.isSymbol=W.isString=W.isOn=W.isObject=W.isFunction=W.isArray=W.hyphenate=void 0;W.renderHelper=S0;W.resolvePropValue=b0;W.toPx=M0;var tu=s0(Sn.exports),nu=function(e){return typeof e=="function"};W.isFunction=nu;var o0=Symbol("controlDefaultValue");W.controlDefaultValue=o0;var a0=Array.isArray;W.isArray=a0;var l0=function(e){return typeof e=="string"};W.isString=l0;var c0=function(e){return(0,tu.default)(e)==="symbol"};W.isSymbol=c0;var u0=function(e){return e!==null&&(0,tu.default)(e)==="object"};W.isObject=u0;var h0=/^on[^a-z]/,d0=function(e){return h0.test(e)};W.isOn=d0;var ds=function(e){var t=Object.create(null);return function(r){var i=t[r];return i||(t[r]=e(r))}};W.cacheStringFunction=ds;var p0=/-(\w)/g,f0=ds(function(n){return n.replace(p0,function(e,t){return t?t.toUpperCase():""})});W.camelize=f0;var m0=/\B([A-Z])/g,g0=ds(function(n){return n.replace(m0,"-$1").toLowerCase()});W.hyphenate=g0;var y0=ds(function(n){return n.charAt(0).toUpperCase()+n.slice(1)});W.capitalize=y0;var v0=Object.prototype.hasOwnProperty,ru=function(e,t){return v0.call(e,t)};function b0(n,e,t,r){var i=n[t];if(i!=null){var s=ru(i,"default");if(s&&r===void 0){var o=i.default;r=i.type!==Function&&nu(o)?o():o}i.type===Boolean&&(!ru(e,t)&&!s?r=!1:r===""&&(r=!0))}return r}function E0(n){return Object.keys(n).reduce(function(e,t){return(t.substr(0,5)==="data-"||t.substr(0,5)==="aria-")&&(e[t]=n[t]),e},{})}function M0(n){return typeof n=="number"?"".concat(n,"px"):n}function S0(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2?arguments[2]:void 0;return typeof n=="function"?n(e):n!=null?n:t}Object.defineProperty(Zt,"__esModule",{value:!0});Zt.default=void 0;var na=W;function iu(){for(var n=[],e=0;e<arguments.length;e++){var t=e<0||arguments.length<=e?void 0:arguments[e];if(!!t){if((0,na.isString)(t))n.push(t);else if((0,na.isArray)(t))for(var r=0;r<t.length;r++){var i=iu(t[r]);i&&n.push(i)}else if((0,na.isObject)(t))for(var s in t)t[s]&&n.push(s)}}return n.join(" ")}var C0=iu;Zt.default=C0;var ps=re.exports;Object.defineProperty(hs,"__esModule",{value:!0});hs.default=void 0;var lt=Z.exports,w0=ps(cs.exports),_0=ps(mn.exports),su=ps(Jo.exports),x0=ps(Zt),O0=(0,lt.defineComponent)({name:"Notice",inheritAttrs:!1,props:["prefixCls","duration","updateMark","noticeKey","closeIcon","closable","props","onClick","onClose","holder","visible"],setup:function(e,t){var r=t.attrs,i=t.slots,s,o=(0,lt.computed)(function(){return e.duration===void 0?1.5:e.duration}),a=function(){o.value&&(s=setTimeout(function(){l()},o.value*1e3))},c=function(){s&&(clearTimeout(s),s=null)},l=function(d){d&&d.stopPropagation(),c();var p=e.onClose,v=e.noticeKey;p&&p(v)},u=function(){c(),a()};return(0,lt.onMounted)(function(){a()}),(0,lt.onUnmounted)(function(){c()}),(0,lt.watch)([o,function(){return e.updateMark},function(){return e.visible}],function(h,d){var p=(0,su.default)(h,3),v=p[0],M=p[1],_=p[2],m=(0,su.default)(d,3),C=m[0],g=m[1],y=m[2];(v!==C||M!==g||_!==y&&y)&&u()},{flush:"post"}),function(){var h,d,p=e.prefixCls,v=e.closable,M=e.closeIcon,_=M===void 0?(h=i.closeIcon)===null||h===void 0?void 0:h.call(i):M,m=e.onClick,C=e.holder,g=r.class,y=r.style,E="".concat(p,"-notice"),S=Object.keys(r).reduce(function(x,R){return(R.substr(0,5)==="data-"||R.substr(0,5)==="aria-"||R==="role")&&(x[R]=r[R]),x},{}),w=(0,lt.createVNode)("div",(0,w0.default)({class:(0,x0.default)(E,g,(0,_0.default)({},"".concat(E,"-closable"),v)),style:y,onMouseenter:c,onMouseleave:a,onClick:m},S),[(0,lt.createVNode)("div",{class:"".concat(E,"-content")},[(d=i.default)===null||d===void 0?void 0:d.call(i)]),v?(0,lt.createVNode)("a",{tabindex:0,onClick:l,class:"".concat(E,"-close")},[_||(0,lt.createVNode)("span",{class:"".concat(E,"-close-x")},null)]):null]);return C?(0,lt.createVNode)(lt.Teleport,{to:C},{default:function(){return w}}):w}}});hs.default=O0;var $e={},fs={},ms={},Yn={},gs={},Br={},ys={};Object.defineProperty(ys,"__esModule",{value:!0});ys.default=void 0;var T0={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages"};ys.default=T0;var Fr={},vs={};Object.defineProperty(vs,"__esModule",{value:!0});vs.default=void 0;var R0={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},A0=R0;vs.default=A0;var Gr={};Object.defineProperty(Gr,"__esModule",{value:!0});Gr.default=void 0;var P0={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},L0=P0;Gr.default=L0;var ra=re.exports;Object.defineProperty(Fr,"__esModule",{value:!0});Fr.default=void 0;var ou=ra(qe.exports),I0=ra(vs),D0=ra(Gr),j0={lang:(0,ou.default)({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},I0.default),timePickerLocale:(0,ou.default)({},D0.default)},N0=j0;Fr.default=N0;var bs={},z0=re.exports;Object.defineProperty(bs,"__esModule",{value:!0});bs.default=void 0;var k0=z0(Fr),$0=k0.default;bs.default=$0;var Es=re.exports;Object.defineProperty(Br,"__esModule",{value:!0});Br.default=void 0;var B0=Es(ys),F0=Es(Fr),G0=Es(Gr),H0=Es(bs),Ue="${label} is not a valid ${type}",U0={locale:"en",Pagination:B0.default,DatePicker:F0.default,TimePicker:G0.default,Calendar:H0.default,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No Data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:Ue,method:Ue,array:Ue,object:Ue,number:Ue,date:Ue,boolean:Ue,integer:Ue,float:Ue,regexp:Ue,email:Ue,url:Ue,hex:Ue},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"}},V0=U0;Br.default=V0;var K0=re.exports;Object.defineProperty(gs,"__esModule",{value:!0});gs.default=void 0;var W0=K0(Br),Y0=W0.default;gs.default=Y0;var au=re.exports;Object.defineProperty(Yn,"__esModule",{value:!0});Yn.default=void 0;Yn.useLocaleReceiver=X0;var Hr=au(qe.exports),Qt=Z.exports,ia=au(gs),q0=(0,Qt.defineComponent)({name:"LocaleReceiver",props:{componentName:String,defaultLocale:{type:[Object,Function]},children:{type:Function}},setup:function(e,t){var r=t.slots,i=(0,Qt.inject)("localeData",{}),s=(0,Qt.computed)(function(){var a=e.componentName,c=a===void 0?"global":a,l=e.defaultLocale,u=l||ia.default[c||"global"],h=i.antLocale,d=c&&h?h[c]:{};return(0,Hr.default)((0,Hr.default)({},typeof u=="function"?u():u),d||{})}),o=(0,Qt.computed)(function(){var a=i.antLocale,c=a&&a.locale;return a&&a.exist&&!c?ia.default.locale:c});return function(){var a=e.children||r.default,c=i.antLocale;return a==null?void 0:a(s.value,o.value,c)}}});Yn.default=q0;function X0(n,e,t){var r=(0,Qt.inject)("localeData",{}),i=(0,Qt.computed)(function(){var s=r.antLocale,o=(0,Qt.unref)(e)||ia.default[n||"global"],a=n&&s?s[n]:{};return(0,Hr.default)((0,Hr.default)((0,Hr.default)({},typeof o=="function"?o():o),a||{}),(0,Qt.unref)(t)||{})});return[i]}var Ms={},gn={};Object.defineProperty(gn,"__esModule",{value:!0});gn.default=void 0;var Oe=Z.exports,Z0=$e,Q0=function(e,t){var r=(0,Oe.inject)("configProvider",Z0.defaultConfigProvider),i=(0,Oe.computed)(function(){return r.getPrefixCls(e,t.prefixCls)}),s=(0,Oe.computed)(function(){var g;return(g=t.direction)!==null&&g!==void 0?g:r.direction}),o=(0,Oe.computed)(function(){return r.getPrefixCls()}),a=(0,Oe.computed)(function(){return r.autoInsertSpaceInButton}),c=(0,Oe.computed)(function(){return r.renderEmpty}),l=(0,Oe.computed)(function(){return r.space}),u=(0,Oe.computed)(function(){return r.pageHeader}),h=(0,Oe.computed)(function(){return r.form}),d=(0,Oe.computed)(function(){return t.getTargetContainer||r.getTargetContainer}),p=(0,Oe.computed)(function(){return t.getPopupContainer||r.getPopupContainer}),v=(0,Oe.computed)(function(){var g;return(g=t.dropdownMatchSelectWidth)!==null&&g!==void 0?g:r.dropdownMatchSelectWidth}),M=(0,Oe.computed)(function(){return(t.virtual===void 0?r.virtual!==!1:t.virtual!==!1)&&v.value!==!1}),_=(0,Oe.computed)(function(){return t.size||r.componentSize}),m=(0,Oe.computed)(function(){var g;return t.autocomplete||((g=r.input)===null||g===void 0?void 0:g.autocomplete)}),C=(0,Oe.computed)(function(){return r.csp});return{configProvider:r,prefixCls:i,direction:s,size:_,getTargetContainer:d,getPopupContainer:p,space:l,pageHeader:u,form:h,autoInsertSpaceInButton:a,renderEmpty:c,virtual:M,dropdownMatchSelectWidth:v,rootPrefixCls:o,getPrefixCls:r.getPrefixCls,autocomplete:m,csp:C}};gn.default=Q0;var J0=re.exports;Object.defineProperty(Ms,"__esModule",{value:!0});Ms.default=void 0;var Xe=Z.exports,eb=J0(gn),lu=function(){var e=(0,eb.default)("empty",{}),t=e.getPrefixCls,r=t("empty-img-default");return(0,Xe.createVNode)("svg",{class:r,width:"184",height:"152",viewBox:"0 0 184 152"},[(0,Xe.createVNode)("g",{fill:"none","fill-rule":"evenodd"},[(0,Xe.createVNode)("g",{transform:"translate(24 31.67)"},[(0,Xe.createVNode)("ellipse",{class:"".concat(r,"-ellipse"),cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"},null),(0,Xe.createVNode)("path",{class:"".concat(r,"-path-1"),d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z"},null),(0,Xe.createVNode)("path",{class:"".concat(r,"-path-2"),d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",transform:"translate(13.56)"},null),(0,Xe.createVNode)("path",{class:"".concat(r,"-path-3"),d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z"},null),(0,Xe.createVNode)("path",{class:"".concat(r,"-path-4"),d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z"},null)]),(0,Xe.createVNode)("path",{class:"".concat(r,"-path-5"),d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z"},null),(0,Xe.createVNode)("g",{class:"".concat(r,"-g"),transform:"translate(149.65 15.383)"},[(0,Xe.createVNode)("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"},null),(0,Xe.createVNode)("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"},null)])])])};lu.PRESENTED_IMAGE_DEFAULT=!0;var tb=lu;Ms.default=tb;var Ss={},nb=re.exports;Object.defineProperty(Ss,"__esModule",{value:!0});Ss.default=void 0;var qn=Z.exports,rb=nb(gn),cu=function(){var e=(0,rb.default)("empty",{}),t=e.getPrefixCls,r=t("empty-img-simple");return(0,qn.createVNode)("svg",{class:r,width:"64",height:"41",viewBox:"0 0 64 41"},[(0,qn.createVNode)("g",{transform:"translate(0 1)",fill:"none","fill-rule":"evenodd"},[(0,qn.createVNode)("ellipse",{class:"".concat(r,"-ellipse"),fill:"#F5F5F5",cx:"32",cy:"33",rx:"32",ry:"7"},null),(0,qn.createVNode)("g",{class:"".concat(r,"-g"),"fill-rule":"nonzero",stroke:"#D9D9D9"},[(0,qn.createVNode)("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"},null),(0,qn.createVNode)("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:"#FAFAFA",class:"".concat(r,"-path")},null)])])])};cu.PRESENTED_IMAGE_SIMPLE=!0;var ib=cu;Ss.default=ib;var uu={},hu={exports:{}},du={exports:{}};(function(n){var e=ta.exports;function t(r){if(Array.isArray(r))return e(r)}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports})(du);var pu={exports:{}};(function(n){function e(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(pu);var fu={exports:{}};(function(n){function e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(fu);(function(n){var e=du.exports,t=pu.exports,r=ea.exports,i=fu.exports;function s(o){return e(o)||t(o)||r(o)||i()}n.exports=s,n.exports.__esModule=!0,n.exports.default=n.exports})(hu);var sb=typeof si=="object"&&si&&si.Object===Object&&si,ob=sb,ab=ob,lb=typeof self=="object"&&self&&self.Object===Object&&self,cb=ab||lb||Function("return this")(),ub=cb,hb=ub,db=hb.Symbol,mu=db,gu=mu,yu=Object.prototype,pb=yu.hasOwnProperty,fb=yu.toString,Ur=gu?gu.toStringTag:void 0;function mb(n){var e=pb.call(n,Ur),t=n[Ur];try{n[Ur]=void 0;var r=!0}catch{}var i=fb.call(n);return r&&(e?n[Ur]=t:delete n[Ur]),i}var gb=mb,yb=Object.prototype,vb=yb.toString;function bb(n){return vb.call(n)}var Eb=bb,vu=mu,Mb=gb,Sb=Eb,Cb="[object Null]",wb="[object Undefined]",bu=vu?vu.toStringTag:void 0;function _b(n){return n==null?n===void 0?wb:Cb:bu&&bu in Object(n)?Mb(n):Sb(n)}var xb=_b;function Ob(n,e){return function(t){return n(e(t))}}var Tb=Ob,Rb=Tb,Ab=Rb(Object.getPrototypeOf,Object),Pb=Ab;function Lb(n){return n!=null&&typeof n=="object"}var Ib=Lb,Db=xb,jb=Pb,Nb=Ib,zb="[object Object]",kb=Function.prototype,$b=Object.prototype,Eu=kb.toString,Bb=$b.hasOwnProperty,Fb=Eu.call(Object);function Gb(n){if(!Nb(n)||Db(n)!=zb)return!1;var e=jb(n);if(e===null)return!0;var t=Bb.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&Eu.call(t)==Fb}var Hb=Gb,Cs={};Object.defineProperty(Cs,"__esModule",{value:!0});Cs.default=void 0;var Ub=function(e){return e!=null&&e!==""},Vb=Ub;Cs.default=Vb;var ws={},Kb=re.exports;Object.defineProperty(ws,"__esModule",{value:!0});ws.default=void 0;var Wb=Kb(qe.exports),Yb=function(e,t){var r=(0,Wb.default)({},e);return Object.keys(t).forEach(function(i){var s=r[i];if(s)s.type||s.default?s.default=t[i]:s.def?s.def(t[i]):r[i]={type:s,default:t[i]};else throw new Error("not have ".concat(i," prop"))}),r},qb=Yb;ws.default=qb;(function(n){var e=re.exports;Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"camelize",{enumerable:!0,get:function(){return l.camelize}}),n.default=void 0,n.filterEmpty=nr,n.filterEmptyWithUndefined=ni,n.getAttrs=n.getAllProps=n.getAllChildren=n.flattenChildren=n.findDOMNode=void 0,n.getClass=ht,n.getComponentFromProp=n.getComponent=void 0,n.getComponentName=tr,n.getDataEvents=Ae,n.getEvent=Se,n.getEvents=ie,n.getKey=void 0,n.getListeners=Ve,n.getPropsData=n.getOptionProps=void 0,n.getPropsSlot=js,n.getSlots=n.getSlotOptions=n.getSlot=void 0,n.getStyle=et,n.hasProp=n.getValueByProp=n.getTextFromElement=void 0,Object.defineProperty(n,"initDefaultProps",{enumerable:!0,get:function(){return h.default}}),n.isEmptyContent=ei,n.isEmptyElement=jt,n.isEmptySlot=Ds,n.isFragment=vn,n.isStringElement=ti,n.isValidElement=ii,n.mergeProps=ri,n.splitAttrs=n.slotHasProp=n.parseStyleText=void 0;var t=e(Jo.exports),r=e(hu.exports),i=e(qe.exports),s=e(Sn.exports),o=e(Hb),a=e(Zt),c=Z.exports,l=W,u=e(Cs),h=e(ws),d=void 0,p=function(T){for(var P=Object.keys(T),N={},z={},D={},U=0,F=P.length;U<F;U++){var Q=P[U];(0,l.isOn)(Q)?(N[Q[2].toLowerCase()+Q.slice(3)]=T[Q],z[Q]=T[Q]):D[Q]=T[Q]}return{onEvents:z,events:N,extraAttrs:D}};n.splitAttrs=p;var v=function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",P=arguments.length>1?arguments[1]:void 0,N={},z=/;(?![^(]*\))/g,D=/:(.+)/;return(0,s.default)(T)==="object"?T:(T.split(z).forEach(function(U){if(U){var F=U.split(D);if(F.length>1){var Q=P?(0,l.camelize)(F[0].trim()):F[0].trim();N[Q]=F[1].trim()}}}),N)};n.parseStyleText=v;var M=function(T,P){return T[P]!==void 0};n.hasProp=M;var _=function(T,P){return M(T,P)};n.slotHasProp=_;var m=function(T){return T.data&&T.data.scopedSlots||{}},C=function(T){var P=T.componentOptions||{};T.$vnode&&(P=T.$vnode.componentOptions||{});var N=T.children||P.children||[],z={};return N.forEach(function(D){if(!jt(D)){var U=D.data&&D.data.slot||"default";z[U]=z[U]||[],z[U].push(D)}}),(0,i.default)((0,i.default)({},z),m(T))};n.getSlots=C;var g=function L(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,N=Array.isArray(T)?T:[T],z=[];return N.forEach(function(D){Array.isArray(D)?z.push.apply(z,(0,r.default)(L(D,P))):D&&D.type===c.Fragment?z.push.apply(z,(0,r.default)(L(D.children,P))):D&&(0,c.isVNode)(D)?P&&!jt(D)?z.push(D):P||z.push(D):(0,u.default)(D)&&z.push(D)}),z};n.flattenChildren=g;var y=function(T){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"default",N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if((0,c.isVNode)(T))return T.type===c.Fragment?P==="default"?g(T.children):[]:T.children&&T.children[P]?g(T.children[P](N)):[];var z=T.$slots[P]&&T.$slots[P](N);return g(z)};n.getSlot=y;var E=function(T){var P=T.componentOptions||{};return T.$vnode&&(P=T.$vnode.componentOptions||{}),T.children||P.children||[]};n.getAllChildren=E;var S=function(){throw Error("\u4F7F\u7528 .type \u76F4\u63A5\u53D6\u503C")};n.getSlotOptions=S;var w=function(T){for(var P,N=((P=T==null?void 0:T.vnode)===null||P===void 0?void 0:P.el)||T&&(T.$el||T);N&&!N.tagName;)N=N.nextSibling;return N};n.findDOMNode=w;var x=function(T){var P={};if(T.$&&T.$.vnode){var N=T.$.vnode.props||{};Object.keys(T.$props).forEach(function(F){var Q=T.$props[F],O=(0,l.hyphenate)(F);(Q!==void 0||O in N)&&(P[F]=Q)})}else if((0,c.isVNode)(T)&&(0,s.default)(T.type)==="object"){var z=T.props||{},D={};Object.keys(z).forEach(function(F){D[(0,l.camelize)(F)]=z[F]});var U=T.type.props||{};Object.keys(U).forEach(function(F){var Q=(0,l.resolvePropValue)(U,D,F,D[F]);(Q!==void 0||F in D)&&(P[F]=Q)})}return P};n.getOptionProps=x;var R=function(T){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"default",N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:T,z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,D=void 0;if(T.$){var U=T[P];if(U!==void 0)return typeof U=="function"&&z?U(N):U;D=T.$slots[P],D=z&&D?D(N):D}else if((0,c.isVNode)(T)){var F=T.props&&T.props[P];if(F!==void 0&&T.props!==null)return typeof F=="function"&&z?F(N):F;T.type===c.Fragment?D=T.children:T.children&&T.children[P]&&(D=T.children[P],D=z&&D?D(N):D)}return Array.isArray(D)&&(D=g(D),D=D.length===1?D[0]:D,D=D.length===0?void 0:D),D};n.getComponent=R;var I=function(T,P){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:T,z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;if(T.$createElement){var D=T[P];return D!==void 0?typeof D=="function"&&z?D(c.h,N):D:T.$scopedSlots[P]&&z&&T.$scopedSlots[P](N)||T.$scopedSlots[P]||T.$slots[P]||void 0}else{var U=B(T)[P];if(U!==void 0)return typeof U=="function"&&z?U(c.h,N):U;var F=m(T)[P];if(F!==void 0)return typeof F=="function"&&z?F(c.h,N):F;var Q=[],O=T.componentOptions||{};return(O.children||[]).forEach(function(j){j.data&&j.data.slot===P&&(j.data.attrs&&delete j.data.attrs.slot,j.tag==="template"?Q.push(j.children):Q.push(j))}),Q.length?Q:void 0}};n.getComponentFromProp=I;var k=function(T){var P=x(T);return T.$?P=(0,i.default)((0,i.default)({},P),d.$attrs):P=(0,i.default)((0,i.default)({},T.props),P),P};n.getAllProps=k;var B=function(T){var P=T.$?T.$:T,N={},z=P.props||{},D={};Object.keys(z).forEach(function(F){D[(0,l.camelize)(F)]=z[F]});var U=(0,o.default)(P.type)?P.type.props:{};return U&&Object.keys(U).forEach(function(F){var Q=(0,l.resolvePropValue)(U,D,F,D[F]);F in D&&(N[F]=Q)}),(0,i.default)((0,i.default)({},D),N)};n.getPropsData=B;var Y=function(T,P){return B(T)[P]};n.getValueByProp=Y;var X=function(T){var P=T.data;return T.$vnode&&(P=T.$vnode.data),P?P.attrs||{}:{}};n.getAttrs=X;var Me=function(T){var P=T.key;return P};n.getKey=Me;function ie(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,P={};return L.$?P=(0,i.default)((0,i.default)({},P),L.$attrs):P=(0,i.default)((0,i.default)({},P),L.props),p(P)[T?"onEvents":"events"]}function Se(L,T){return L.props&&L.props[T]}function Ae(L){var T={};return L.data&&L.data.on&&(T=L.data.on),(0,i.default)({},T)}function Ve(L){return(L.$vnode?L.$vnode.componentOptions.listeners:L.$listeners)||{}}function ht(L){var T=((0,c.isVNode)(L)?L.props:L.$attrs)||{},P=T.class||{},N={};return typeof P=="string"?P.split(" ").forEach(function(z){N[z.trim()]=!0}):Array.isArray(P)?(0,a.default)(P).split(" ").forEach(function(z){N[z.trim()]=!0}):N=(0,i.default)((0,i.default)({},N),P),N}function et(L,T){var P=((0,c.isVNode)(L)?L.props:L.$attrs)||{},N=P.style||{};if(typeof N=="string")N=v(N,T);else if(T&&N){var z={};return Object.keys(N).forEach(function(D){return z[(0,l.camelize)(D)]=N[D]}),z}return N}function tr(L){return L&&(L.Ctor.options.name||L.tag)}function vn(L){return L.length===1&&L[0].type===c.Fragment}function ei(L){return L==null||L===""||Array.isArray(L)&&L.length===0}function jt(L){return L&&(L.type===c.Comment||L.type===c.Fragment&&L.children.length===0||L.type===c.Text&&L.children.trim()==="")}function Ds(L){return!L||L().every(jt)}function ti(L){return L&&L.type===c.Text}function nr(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],T=[];return L.forEach(function(P){Array.isArray(P)?T.push.apply(T,(0,r.default)(P)):P.type===c.Fragment?T.push.apply(T,(0,r.default)(P.children)):T.push(P)}),T.filter(function(P){return!jt(P)})}function ni(L){if(L){var T=nr(L);return T.length?T:void 0}else return L}function ri(){var L=[].slice.call(arguments,0),T={};return L.forEach(function(){for(var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},N=0,z=Object.entries(P);N<z.length;N++){var D=(0,t.default)(z[N],2),U=D[0],F=D[1];T[U]=T[U]||{},(0,o.default)(F)?(0,i.default)(T[U],F):T[U]=F}}),T}function ii(L){return Array.isArray(L)&&L.length===1&&(L=L[0]),L&&L.__v_isVNode&&(0,s.default)(L.type)!=="symbol"}function js(L,T){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"default",N,z;return(N=T[P])!==null&&N!==void 0?N:(z=L[P])===null||z===void 0?void 0:z.call(L)}var rr=function(T){return ii(T)&&ti(T[0])?T[0].children:T};n.getTextFromElement=rr;var Ns=M;n.default=Ns})(uu);var Vr={},Xb=Mn(Kh);Object.defineProperty(Vr,"__esModule",{value:!0});Vr.default=void 0;Vr.withUndefined=Qb;var Zb=Xb,Mu=(0,Zb.createTypes)({func:void 0,bool:void 0,string:void 0,number:void 0,array:void 0,object:void 0,integer:void 0});Mu.extend([{name:"looseBool",getter:!0,type:Boolean,default:void 0},{name:"style",getter:!0,type:[String,Object],default:void 0},{name:"VueNode",getter:!0,type:null}]);function Qb(n){return n.default=void 0,n}var Jb=Mu;Vr.default=Jb;var Lt=re.exports;Object.defineProperty(ms,"__esModule",{value:!0});ms.default=void 0;var Jt=Z.exports,eE=Lt(cs.exports),Su=Lt(mn.exports),Cu=Lt(qe.exports),tE=Lt(Zt),nE=Lt(Yn),rE=Lt(Ms),iE=Lt(Ss),sE=uu,wu=Lt(Vr),oE=bt,aE=Lt(gn),lE=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},_u=(0,Jt.createVNode)(rE.default,null,null),xu=(0,Jt.createVNode)(iE.default,null,null),Xn=function(e,t){var r=t.slots,i=r===void 0?{}:r,s=t.attrs,o,a=(0,aE.default)("empty",e),c=a.direction,l=a.prefixCls,u=l.value,h=(0,Cu.default)((0,Cu.default)({},e),s),d=h.image,p=d===void 0?_u:d,v=h.description,M=v===void 0?((o=i.description)===null||o===void 0?void 0:o.call(i))||void 0:v,_=h.imageStyle,m=h.class,C=m===void 0?"":m,g=lE(h,["image","description","imageStyle","class"]);return(0,Jt.createVNode)(nE.default,{componentName:"Empty",children:function(E){var S,w=typeof M!="undefined"?M:E.description,x=typeof w=="string"?w:"empty",R=null;return typeof p=="string"?R=(0,Jt.createVNode)("img",{alt:x,src:p},null):R=p,(0,Jt.createVNode)("div",(0,eE.default)({class:(0,tE.default)(u,C,(S={},(0,Su.default)(S,"".concat(u,"-normal"),p===xu),(0,Su.default)(S,"".concat(u,"-rtl"),c.value==="rtl"),S))},g),[(0,Jt.createVNode)("div",{class:"".concat(u,"-image"),style:_},[R]),w&&(0,Jt.createVNode)("p",{class:"".concat(u,"-description")},[w]),i.default&&(0,Jt.createVNode)("div",{class:"".concat(u,"-footer")},[(0,sE.filterEmpty)(i.default())])])}},null)};Xn.displayName="AEmpty";Xn.PRESENTED_IMAGE_DEFAULT=_u;Xn.PRESENTED_IMAGE_SIMPLE=xu;Xn.inheritAttrs=!1;Xn.props={prefixCls:String,image:wu.default.any,description:wu.default.any,imageStyle:{type:Object,default:void 0}};var cE=(0,oE.withInstall)(Xn);ms.default=cE;var Ou=re.exports;Object.defineProperty(fs,"__esModule",{value:!0});fs.default=void 0;var _s=Z.exports,Kr=Ou(ms),uE=Ou(gn),hE=function(e){var t=(0,uE.default)("empty",e),r=t.prefixCls,i=function(o){switch(o){case"Table":case"List":return(0,_s.createVNode)(Kr.default,{image:Kr.default.PRESENTED_IMAGE_SIMPLE},null);case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return(0,_s.createVNode)(Kr.default,{image:Kr.default.PRESENTED_IMAGE_SIMPLE,class:"".concat(r.value,"-small")},null);default:return(0,_s.createVNode)(Kr.default,null,null)}};return i(e.componentName)};function dE(n){return(0,_s.createVNode)(hE,{componentName:n},null)}var pE=dE;fs.default=pE;var Zn={},Tu={},ct={};Object.defineProperty(ct,"__esModule",{value:!0});ct.call=oa;ct.default=void 0;ct.note=Au;ct.noteOnce=mE;ct.resetWarned=fE;ct.warning=Ru;ct.warningOnce=Pu;var sa={};function Ru(n,e){}function Au(n,e){}function fE(){sa={}}function oa(n,e,t){!e&&!sa[t]&&(n(!1,t),sa[t]=!0)}function Pu(n,e){oa(Ru,n,e)}function mE(n,e){oa(Au,n,e)}var gE=Pu;ct.default=gE;(function(n){var e=Sn.exports;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,Object.defineProperty(n,"resetWarned",{enumerable:!0,get:function(){return t.resetWarned}});var t=i(ct);function r(o){if(typeof WeakMap!="function")return null;var a=new WeakMap,c=new WeakMap;return(r=function(u){return u?c:a})(o)}function i(o,a){if(!a&&o&&o.__esModule)return o;if(o===null||e(o)!=="object"&&typeof o!="function")return{default:o};var c=r(a);if(c&&c.has(o))return c.get(o);var l={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in o)if(h!=="default"&&Object.prototype.hasOwnProperty.call(o,h)){var d=u?Object.getOwnPropertyDescriptor(o,h):null;d&&(d.get||d.set)?Object.defineProperty(l,h,d):l[h]=o[h]}return l.default=o,c&&c.set(o,l),l}var s=function(a,c){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";(0,t.default)(a,"[antdv: ".concat(c,"] ").concat(l))};n.default=s})(Tu);var Lu=re.exports;Object.defineProperty(Zn,"__esModule",{value:!0});Zn.default=Zn.ANT_MARK=void 0;var xs=Lu(qe.exports),Os=Z.exports,yE=Lu(Tu),vE=bt,aa="internalMark";Zn.ANT_MARK=aa;var Ts=(0,Os.defineComponent)({name:"ALocaleProvider",props:{locale:{type:Object},ANT_MARK__:String},setup:function(e,t){var r=t.slots;(0,yE.default)(e.ANT_MARK__===aa,"LocaleProvider","`LocaleProvider` is deprecated. Please use `locale` with `ConfigProvider` instead");var i=(0,Os.reactive)({antLocale:(0,xs.default)((0,xs.default)({},e.locale),{exist:!0}),ANT_MARK__:aa});return(0,Os.provide)("localeData",i),(0,Os.watch)(function(){return e.locale},function(){i.antLocale=(0,xs.default)((0,xs.default)({},e.locale),{exist:!0})},{immediate:!0}),function(){var s;return(s=r.default)===null||s===void 0?void 0:s.call(r)}}});Ts.install=function(n){return n.component(Ts.name,Ts),n};var bE=(0,vE.withInstall)(Ts);Zn.default=bE;var Qn={},Iu={},la={};Object.defineProperty(la,"__esModule",{value:!0});var EE={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"};la.default=EE;var ut={},ca={},Ee={},Du=Mn(Wh),ju={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=[],t=[],r="insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).";function i(){var a=document.createElement("style");return a.setAttribute("type","text/css"),a}function s(a,c){if(c=c||{},a===void 0)throw new Error(r);var l=c.prepend===!0?"prepend":"append",u=c.container!==void 0?c.container:document.querySelector("head"),h=e.indexOf(u);h===-1&&(h=e.push(u)-1,t[h]={});var d;return t[h]!==void 0&&t[h][l]!==void 0?d=t[h][l]:(d=t[h][l]=i(),l==="prepend"?u.insertBefore(d,u.childNodes[0]):u.appendChild(d)),a.charCodeAt(0)===65279&&(a=a.substr(1,a.length)),d.styleSheet?d.styleSheet.cssText+=a:d.textContent+=a,d}var o=s;n.default=o})(ju);Object.defineProperty(Ee,"__esModule",{value:!0});Ee.warn=_E;Ee.warning=xE;Ee.isIconDefinition=OE;Ee.normalizeAttrs=TE;Ee.generate=ha;Ee.getSecondaryColor=RE;Ee.normalizeTwoToneColors=AE;Ee.useInsertStyles=Ee.iconStyles=Ee.svgBaseProps=void 0;var ua=Z.exports,ME=Du,SE=CE(ju);function CE(n){return n&&n.__esModule?n:{default:n}}function Nu(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),r.forEach(function(i){wE(n,i,t[i])})}return n}function wE(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function _E(n,e){}function xE(n,e){}function OE(n){return typeof n=="object"&&typeof n.name=="string"&&typeof n.theme=="string"&&(typeof n.icon=="object"||typeof n.icon=="function")}function TE(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(n).reduce(function(e,t){var r=n[t];switch(t){case"class":e.className=r,delete e.class;break;default:e[t]=r}return e},{})}function ha(n,e,t){return t?(0,ua.h)(n.tag,Nu({key:e},t,n.attrs),(n.children||[]).map(function(r,i){return ha(r,"".concat(e,"-").concat(n.tag,"-").concat(i))})):(0,ua.h)(n.tag,Nu({key:e},n.attrs),(n.children||[]).map(function(r,i){return ha(r,"".concat(e,"-").concat(n.tag,"-").concat(i))}))}function RE(n){return(0,ME.generate)(n)[0]}function AE(n){return n?Array.isArray(n)?n:[n]:[]}var PE={width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",focusable:"false"};Ee.svgBaseProps=PE;var zu=`
.anticon {
  display: inline-block;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`;Ee.iconStyles=zu;var ku=!1,LE=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:zu;(0,ua.nextTick)(function(){ku||(typeof window!="undefined"&&window.document&&window.document.documentElement&&(0,SE.default)(e,{prepend:!0}),ku=!0)})};Ee.useInsertStyles=LE;(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=Ee,t=["icon","primaryColor","secondaryColor"];function r(d,p){if(d==null)return{};var v=i(d,p),M,_;if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(d);for(_=0;_<m.length;_++)M=m[_],!(p.indexOf(M)>=0)&&(!Object.prototype.propertyIsEnumerable.call(d,M)||(v[M]=d[M]))}return v}function i(d,p){if(d==null)return{};var v={},M=Object.keys(d),_,m;for(m=0;m<M.length;m++)_=M[m],!(p.indexOf(_)>=0)&&(v[_]=d[_]);return v}function s(d){for(var p=1;p<arguments.length;p++){var v=arguments[p]!=null?Object(arguments[p]):{},M=Object.keys(v);typeof Object.getOwnPropertySymbols=="function"&&(M=M.concat(Object.getOwnPropertySymbols(v).filter(function(_){return Object.getOwnPropertyDescriptor(v,_).enumerable}))),M.forEach(function(_){o(d,_,v[_])})}return d}function o(d,p,v){return p in d?Object.defineProperty(d,p,{value:v,enumerable:!0,configurable:!0,writable:!0}):d[p]=v,d}var a={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function c(d){var p=d.primaryColor,v=d.secondaryColor;a.primaryColor=p,a.secondaryColor=v||(0,e.getSecondaryColor)(p),a.calculated=!!v}function l(){return s({},a)}var u=function(p,v){var M=s({},p,v.attrs),_=M.icon,m=M.primaryColor,C=M.secondaryColor,g=r(M,t),y=a;if(m&&(y={primaryColor:m,secondaryColor:C||(0,e.getSecondaryColor)(m)}),(0,e.useInsertStyles)(),(0,e.warning)((0,e.isIconDefinition)(_),"icon should be icon definiton, but got ".concat(_)),!(0,e.isIconDefinition)(_))return null;var E=_;return E&&typeof E.icon=="function"&&(E=s({},E,{icon:E.icon(y.primaryColor,y.secondaryColor)})),(0,e.generate)(E.icon,"svg-".concat(E.name),s({},g,{"data-icon":E.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"}))};u.props={icon:Object,primaryColor:String,secondaryColor:String,focusable:String},u.inheritAttrs=!1,u.displayName="IconBase",u.getTwoToneColors=l,u.setTwoToneColors=c;var h=u;n.default=h})(ca);var Rs={};Object.defineProperty(Rs,"__esModule",{value:!0});Rs.setTwoToneColor=BE;Rs.getTwoToneColor=FE;var $u=DE(ca),IE=Ee;function DE(n){return n&&n.__esModule?n:{default:n}}function jE(n,e){return $E(n)||kE(n,e)||zE(n,e)||NE()}function NE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zE(n,e){if(!!n){if(typeof n=="string")return Bu(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Bu(n,e)}}function Bu(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function kE(n,e){var t=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],i=!0,s=!1,o,a;try{for(t=t.call(n);!(i=(o=t.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(c){s=!0,a=c}finally{try{!i&&t.return!=null&&t.return()}finally{if(s)throw a}}return r}}function $E(n){if(Array.isArray(n))return n}function BE(n){var e=(0,IE.normalizeTwoToneColors)(n),t=jE(e,2),r=t[0],i=t[1];return $u.default.setTwoToneColors({primaryColor:r,secondaryColor:i})}function FE(){var n=$u.default.getTwoToneColors();return n.calculated?[n.primaryColor,n.secondaryColor]:n.primaryColor}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=Z.exports,t=o(ca),r=Rs,i=Ee,s=["class","icon","spin","rotate","tabindex","twoToneColor","onClick"];function o(g){return g&&g.__esModule?g:{default:g}}function a(g,y){return d(g)||h(g,y)||l(g,y)||c()}function c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l(g,y){if(!!g){if(typeof g=="string")return u(g,y);var E=Object.prototype.toString.call(g).slice(8,-1);if(E==="Object"&&g.constructor&&(E=g.constructor.name),E==="Map"||E==="Set")return Array.from(g);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return u(g,y)}}function u(g,y){(y==null||y>g.length)&&(y=g.length);for(var E=0,S=new Array(y);E<y;E++)S[E]=g[E];return S}function h(g,y){var E=g==null?null:typeof Symbol!="undefined"&&g[Symbol.iterator]||g["@@iterator"];if(E!=null){var S=[],w=!0,x=!1,R,I;try{for(E=E.call(g);!(w=(R=E.next()).done)&&(S.push(R.value),!(y&&S.length===y));w=!0);}catch(k){x=!0,I=k}finally{try{!w&&E.return!=null&&E.return()}finally{if(x)throw I}}return S}}function d(g){if(Array.isArray(g))return g}function p(g){for(var y=1;y<arguments.length;y++){var E=arguments[y]!=null?Object(arguments[y]):{},S=Object.keys(E);typeof Object.getOwnPropertySymbols=="function"&&(S=S.concat(Object.getOwnPropertySymbols(E).filter(function(w){return Object.getOwnPropertyDescriptor(E,w).enumerable}))),S.forEach(function(w){v(g,w,E[w])})}return g}function v(g,y,E){return y in g?Object.defineProperty(g,y,{value:E,enumerable:!0,configurable:!0,writable:!0}):g[y]=E,g}function M(g,y){if(g==null)return{};var E=_(g,y),S,w;if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(g);for(w=0;w<x.length;w++)S=x[w],!(y.indexOf(S)>=0)&&(!Object.prototype.propertyIsEnumerable.call(g,S)||(E[S]=g[S]))}return E}function _(g,y){if(g==null)return{};var E={},S=Object.keys(g),w,x;for(x=0;x<S.length;x++)w=S[x],!(y.indexOf(w)>=0)&&(E[w]=g[w]);return E}(0,r.setTwoToneColor)("#1890ff");var m=function(y,E){var S,w=p({},y,E.attrs),x=w.class,R=w.icon,I=w.spin,k=w.rotate,B=w.tabindex,Y=w.twoToneColor,X=w.onClick,Me=M(w,s),ie=(S={anticon:!0},v(S,"anticon-".concat(R.name),Boolean(R.name)),v(S,x,x),S),Se=I===""||!!I||R.name==="loading"?"anticon-spin":"",Ae=B;Ae===void 0&&X&&(Ae=-1,Me.tabindex=Ae);var Ve=k?{msTransform:"rotate(".concat(k,"deg)"),transform:"rotate(".concat(k,"deg)")}:void 0,ht=(0,i.normalizeTwoToneColors)(Y),et=a(ht,2),tr=et[0],vn=et[1];return(0,e.createVNode)("span",p({role:"img","aria-label":R.name},Me,{onClick:X,class:ie}),[(0,e.createVNode)(t.default,{class:Se,icon:R,primaryColor:tr,secondaryColor:vn,style:Ve},null)])};m.props={spin:Boolean,rotate:Number,icon:Object,twoToneColor:String},m.displayName="AntdIcon",m.inheritAttrs=!1,m.getTwoToneColor=r.getTwoToneColor,m.setTwoToneColor=r.setTwoToneColor;var C=m;n.default=C})(ut);(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=Z.exports,t=i(la),r=i(ut);function i(l){return l&&l.__esModule?l:{default:l}}function s(l){for(var u=1;u<arguments.length;u++){var h=arguments[u]!=null?Object(arguments[u]):{},d=Object.keys(h);typeof Object.getOwnPropertySymbols=="function"&&(d=d.concat(Object.getOwnPropertySymbols(h).filter(function(p){return Object.getOwnPropertyDescriptor(h,p).enumerable}))),d.forEach(function(p){o(l,p,h[p])})}return l}function o(l,u,h){return u in l?Object.defineProperty(l,u,{value:h,enumerable:!0,configurable:!0,writable:!0}):l[u]=h,l}var a=function(u,h){var d=s({},u,h.attrs);return(0,e.createVNode)(r.default,s({},d,{icon:t.default}),null)};a.displayName="CheckCircleOutlined",a.inheritAttrs=!1;var c=a;n.default=c})(Iu);var Fu={},da={};Object.defineProperty(da,"__esModule",{value:!0});var GE={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"};da.default=GE;(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=Z.exports,t=i(da),r=i(ut);function i(l){return l&&l.__esModule?l:{default:l}}function s(l){for(var u=1;u<arguments.length;u++){var h=arguments[u]!=null?Object(arguments[u]):{},d=Object.keys(h);typeof Object.getOwnPropertySymbols=="function"&&(d=d.concat(Object.getOwnPropertySymbols(h).filter(function(p){return Object.getOwnPropertyDescriptor(h,p).enumerable}))),d.forEach(function(p){o(l,p,h[p])})}return l}function o(l,u,h){return u in l?Object.defineProperty(l,u,{value:h,enumerable:!0,configurable:!0,writable:!0}):l[u]=h,l}var a=function(u,h){var d=s({},u,h.attrs);return(0,e.createVNode)(r.default,s({},d,{icon:t.default}),null)};a.displayName="InfoCircleOutlined",a.inheritAttrs=!1;var c=a;n.default=c})(Fu);var Gu={},pa={};Object.defineProperty(pa,"__esModule",{value:!0});var HE={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"}},{tag:"path",attrs:{d:"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"close-circle",theme:"outlined"};pa.default=HE;(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=Z.exports,t=i(pa),r=i(ut);function i(l){return l&&l.__esModule?l:{default:l}}function s(l){for(var u=1;u<arguments.length;u++){var h=arguments[u]!=null?Object(arguments[u]):{},d=Object.keys(h);typeof Object.getOwnPropertySymbols=="function"&&(d=d.concat(Object.getOwnPropertySymbols(h).filter(function(p){return Object.getOwnPropertyDescriptor(h,p).enumerable}))),d.forEach(function(p){o(l,p,h[p])})}return l}function o(l,u,h){return u in l?Object.defineProperty(l,u,{value:h,enumerable:!0,configurable:!0,writable:!0}):l[u]=h,l}var a=function(u,h){var d=s({},u,h.attrs);return(0,e.createVNode)(r.default,s({},d,{icon:t.default}),null)};a.displayName="CloseCircleOutlined",a.inheritAttrs=!1;var c=a;n.default=c})(Gu);var Hu={},fa={};Object.defineProperty(fa,"__esModule",{value:!0});var UE={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"};fa.default=UE;(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=Z.exports,t=i(fa),r=i(ut);function i(l){return l&&l.__esModule?l:{default:l}}function s(l){for(var u=1;u<arguments.length;u++){var h=arguments[u]!=null?Object(arguments[u]):{},d=Object.keys(h);typeof Object.getOwnPropertySymbols=="function"&&(d=d.concat(Object.getOwnPropertySymbols(h).filter(function(p){return Object.getOwnPropertyDescriptor(h,p).enumerable}))),d.forEach(function(p){o(l,p,h[p])})}return l}function o(l,u,h){return u in l?Object.defineProperty(l,u,{value:h,enumerable:!0,configurable:!0,writable:!0}):l[u]=h,l}var a=function(u,h){var d=s({},u,h.attrs);return(0,e.createVNode)(r.default,s({},d,{icon:t.default}),null)};a.displayName="ExclamationCircleOutlined",a.inheritAttrs=!1;var c=a;n.default=c})(Hu);var Uu={},ma={};Object.defineProperty(ma,"__esModule",{value:!0});var VE={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"};ma.default=VE;(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=Z.exports,t=i(ma),r=i(ut);function i(l){return l&&l.__esModule?l:{default:l}}function s(l){for(var u=1;u<arguments.length;u++){var h=arguments[u]!=null?Object(arguments[u]):{},d=Object.keys(h);typeof Object.getOwnPropertySymbols=="function"&&(d=d.concat(Object.getOwnPropertySymbols(h).filter(function(p){return Object.getOwnPropertyDescriptor(h,p).enumerable}))),d.forEach(function(p){o(l,p,h[p])})}return l}function o(l,u,h){return u in l?Object.defineProperty(l,u,{value:h,enumerable:!0,configurable:!0,writable:!0}):l[u]=h,l}var a=function(u,h){var d=s({},u,h.attrs);return(0,e.createVNode)(r.default,s({},d,{icon:t.default}),null)};a.displayName="CloseOutlined",a.inheritAttrs=!1;var c=a;n.default=c})(Uu);var Et=re.exports;Object.defineProperty(Qn,"__esModule",{value:!0});Qn.getInstance=Qn.default=void 0;var It=Z.exports,Vu=Et(Yh),Ku=Et(qe.exports),KE=Et(mn.exports),WE=Et($r),YE=Et(Iu),qE=Et(Fu),XE=Et(Gu),ZE=Et(Hu),QE=Et(Uu),Wr=W,JE=$e,eM=Et(Zt),tM=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(h){o(h)}}function c(u){try{l(r.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})},yn={},Wu=4.5,Yu="24px",qu="24px",ga="",Xu="topRight",Zu=function(){return document.body},Qu=null,ya=!1,Ju;function nM(n){var e=n.duration,t=n.placement,r=n.bottom,i=n.top,s=n.getContainer,o=n.closeIcon,a=n.prefixCls;a!==void 0&&(ga=a),e!==void 0&&(Wu=e),t!==void 0&&(Xu=t),r!==void 0&&(qu=typeof r=="number"?"".concat(r,"px"):r),i!==void 0&&(Yu=typeof i=="number"?"".concat(i,"px"):i),s!==void 0&&(Zu=s),o!==void 0&&(Qu=o),n.rtl!==void 0&&(ya=n.rtl),n.maxCount!==void 0&&(Ju=n.maxCount)}function rM(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Yu,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:qu,r;switch(n){case"topLeft":r={left:"0px",top:e,bottom:"auto"};break;case"topRight":r={right:"0px",top:e,bottom:"auto"};break;case"bottomLeft":r={left:"0px",top:"auto",bottom:t};break;default:r={right:"0px",top:"auto",bottom:t};break}return r}function iM(n,e){var t=n.prefixCls,r=n.placement,i=r===void 0?Xu:r,s=n.getContainer,o=s===void 0?Zu:s,a=n.top,c=n.bottom,l=n.closeIcon,u=l===void 0?Qu:l,h=n.appContext,d=(0,JE.globalConfig)(),p=d.getPrefixCls,v=p("notification",t||ga),M="".concat(v,"-").concat(i,"-").concat(ya),_=yn[M];if(_){Promise.resolve(_).then(function(C){e(C)});return}var m=(0,eM.default)("".concat(v,"-").concat(i),(0,KE.default)({},"".concat(v,"-rtl"),ya===!0));WE.default.newInstance({name:"notification",prefixCls:t||ga,class:m,style:rM(i,a,c),appContext:h,getContainer:o,closeIcon:function(g){var y=g.prefixCls,E=(0,It.createVNode)("span",{class:"".concat(y,"-close-x")},[(0,Wr.renderHelper)(u,{},(0,It.createVNode)(QE.default,{class:"".concat(y,"-close-icon")},null))]);return E},maxCount:Ju,hasTransitionName:!0},function(C){yn[M]=C,e(C)})}var sM={success:YE.default,info:qE.default,error:XE.default,warning:ZE.default};function oM(n){var e=n.icon,t=n.type,r=n.description,i=n.message,s=n.btn,o=n.duration===void 0?Wu:n.duration;iM(n,function(a){a.notice({content:function(l){var u=l.prefixCls,h="".concat(u,"-notice"),d=null;if(e)d=function(){return(0,It.createVNode)("span",{class:"".concat(h,"-icon")},[(0,Wr.renderHelper)(e)])};else if(t){var p=sM[t];d=function(){return(0,It.createVNode)(p,{class:"".concat(h,"-icon ").concat(h,"-icon-").concat(t)},null)}}return(0,It.createVNode)("div",{class:d?"".concat(h,"-with-icon"):""},[d&&d(),(0,It.createVNode)("div",{class:"".concat(h,"-message")},[!r&&d?(0,It.createVNode)("span",{class:"".concat(h,"-message-single-line-auto-margin")},null):null,(0,Wr.renderHelper)(i)]),(0,It.createVNode)("div",{class:"".concat(h,"-description")},[(0,Wr.renderHelper)(r)]),s?(0,It.createVNode)("span",{class:"".concat(h,"-btn")},[(0,Wr.renderHelper)(s)]):null])},duration:o,closable:!0,onClose:n.onClose,onClick:n.onClick,key:n.key,style:n.style||{},class:n.class})})}var Yr={open:oM,close:function(e){Object.keys(yn).forEach(function(t){return Promise.resolve(yn[t]).then(function(r){r.removeNotice(e)})})},config:nM,destroy:function(){Object.keys(yn).forEach(function(e){Promise.resolve(yn[e]).then(function(t){t.destroy()}),delete yn[e]})}},aM=["success","info","warning","error"];aM.forEach(function(n){Yr[n]=function(e){return Yr.open((0,Ku.default)((0,Ku.default)({},e),{type:n}))}});Yr.warn=Yr.warning;var lM=function(e){return tM(void 0,void 0,void 0,Vu.default.mark(function t(){return Vu.default.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",null);case 1:case"end":return i.stop()}},t)}))};Qn.getInstance=lM;var cM=Yr;Qn.default=cM;var va={},uM=Mn(qh),qr={},Xr={};Object.defineProperty(Xr,"__esModule",{value:!0});Xr.default=void 0;function hM(){return!!(typeof window!="undefined"&&window.document&&window.document.createElement)}var dM=hM;Xr.default=dM;var pM=re.exports;Object.defineProperty(qr,"__esModule",{value:!0});qr.injectCSS=Ea;qr.removeCSS=gM;qr.updateCSS=yM;var fM=pM(Xr),mM="vc-util-key";function eh(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=n.mark;return e?e.startsWith("data-")?e:"data-".concat(e):mM}function ba(n){if(n.attachTo)return n.attachTo;var e=document.querySelector("head");return e||document.body}function Ea(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t,r;if(!(0,fM.default)())return null;var i=document.createElement("style");((t=e.csp)===null||t===void 0?void 0:t.nonce)&&(i.nonce=(r=e.csp)===null||r===void 0?void 0:r.nonce),i.innerHTML=n;var s=ba(e),o=s.firstChild;return e.prepend&&s.prepend?s.prepend(i):e.prepend&&o?s.insertBefore(i,o):s.appendChild(i),i}var Ma=new Map;function th(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=ba(e);return Array.from(Ma.get(t).children).find(function(r){return r.tagName==="STYLE"&&r.getAttribute(eh(e))===n})}function gM(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t,r=th(n,e);(t=r==null?void 0:r.parentNode)===null||t===void 0||t.removeChild(r)}function yM(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r,i,s,o=ba(t);if(!Ma.has(o)){var a=Ea("",t),c=a.parentNode;Ma.set(o,c),c.removeChild(a)}var l=th(e,t);if(l)return((r=t.csp)===null||r===void 0?void 0:r.nonce)&&l.nonce!==((i=t.csp)===null||i===void 0?void 0:i.nonce)&&(l.nonce=(s=t.csp)===null||s===void 0?void 0:s.nonce),l.innerHTML!==n&&(l.innerHTML=n),l;var u=Ea(n,t);return u.setAttribute(eh(t),e),u}var nh={};(function(n){var e=Sn.exports;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,Object.defineProperty(n,"resetWarned",{enumerable:!0,get:function(){return t.resetWarned}});var t=i(ct);function r(o){if(typeof WeakMap!="function")return null;var a=new WeakMap,c=new WeakMap;return(r=function(u){return u?c:a})(o)}function i(o,a){if(!a&&o&&o.__esModule)return o;if(o===null||e(o)!=="object"&&typeof o!="function")return{default:o};var c=r(a);if(c&&c.has(o))return c.get(o);var l={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in o)if(h!=="default"&&Object.prototype.hasOwnProperty.call(o,h)){var d=u?Object.getOwnPropertyDescriptor(o,h):null;d&&(d.get||d.set)?Object.defineProperty(l,h,d):l[h]=o[h]}return l.default=o,c&&c.set(o,l),l}var s=function(a,c,l){(0,t.default)(a,"[ant-design-vue: ".concat(c,"] ").concat(l))};n.default=s})(nh);var rh=re.exports;Object.defineProperty(va,"__esModule",{value:!0});va.registerTheme=SM;var Sa=uM,ih=Du,vM=qr,bM=rh(Xr),EM=rh(nh),MM="-ant-".concat(Date.now(),"-").concat(Math.random());function SM(n,e){var t={},r=function(u,h){var d=u.clone();return d=(h==null?void 0:h(d))||d,d.toRgbString()},i=function(u,h){var d=new Sa.TinyColor(u),p=(0,ih.generate)(d.toRgbString());t["".concat(h,"-color")]=r(d),t["".concat(h,"-color-disabled")]=p[1],t["".concat(h,"-color-hover")]=p[4],t["".concat(h,"-color-active")]=p[7],t["".concat(h,"-color-outline")]=d.clone().setAlpha(.2).toRgbString(),t["".concat(h,"-color-deprecated-bg")]=p[1],t["".concat(h,"-color-deprecated-border")]=p[3]};if(e.primaryColor){i(e.primaryColor,"primary");var s=new Sa.TinyColor(e.primaryColor),o=(0,ih.generate)(s.toRgbString());o.forEach(function(l,u){t["primary-".concat(u+1)]=l}),t["primary-color-deprecated-l-35"]=r(s,function(l){return l.lighten(35)}),t["primary-color-deprecated-l-20"]=r(s,function(l){return l.lighten(20)}),t["primary-color-deprecated-t-20"]=r(s,function(l){return l.tint(20)}),t["primary-color-deprecated-t-50"]=r(s,function(l){return l.tint(50)}),t["primary-color-deprecated-f-12"]=r(s,function(l){return l.setAlpha(l.getAlpha()*.12)});var a=new Sa.TinyColor(o[0]);t["primary-color-active-deprecated-f-30"]=r(a,function(l){return l.setAlpha(l.getAlpha()*.3)}),t["primary-color-active-deprecated-d-02"]=r(a,function(l){return l.darken(2)})}e.successColor&&i(e.successColor,"success"),e.warningColor&&i(e.warningColor,"warning"),e.errorColor&&i(e.errorColor,"error"),e.infoColor&&i(e.infoColor,"info");var c=Object.keys(t).map(function(l){return"--".concat(n,"-").concat(l,": ").concat(t[l],";")});(0,bM.default)()?(0,vM.updateCSS)(`
  :root {
    `.concat(c.join(`
`),`
  }
  `),"".concat(MM,"-dynamic-theme")):(0,EM.default)(!1,"ConfigProvider","SSR do not support dynamic theme with css variables.")}var Ze={};Object.defineProperty(Ze,"__esModule",{value:!0});Ze.useProvideGlobalForm=Ze.useInjectGlobalForm=Ze.configProviderProps=Ze.GlobalFormContextKey=Ze.GlobalConfigContextKey=void 0;var sh=Z.exports,Ca=Symbol("GlobalFormContextKey");Ze.GlobalFormContextKey=Ca;var CM=function(e){(0,sh.provide)(Ca,e)};Ze.useProvideGlobalForm=CM;var wM=function(){return(0,sh.inject)(Ca,{})};Ze.useInjectGlobalForm=wM;var _M=Symbol("GlobalConfigContextKey");Ze.GlobalConfigContextKey=_M;var xM=function(){return{getTargetContainer:{type:Function},getPopupContainer:{type:Function},prefixCls:String,getPrefixCls:{type:Function},renderEmpty:{type:Function},transformCellText:{type:Function},csp:{type:Object,default:void 0},input:{type:Object},autoInsertSpaceInButton:{type:Boolean,default:void 0},locale:{type:Object,default:void 0},pageHeader:{type:Object},componentSize:{type:String},direction:{type:String},space:{type:Object},virtual:{type:Boolean,default:void 0},dropdownMatchSelectWidth:{type:[Number,Boolean],default:!0},form:{type:Object,default:void 0},notUpdateGlobalConfig:Boolean}};Ze.configProviderProps=xM;var Jn=re.exports,OM=Sn.exports;Object.defineProperty($e,"__esModule",{value:!0});$e.globalConfigForApi=$e.globalConfig=$e.defaultPrefixCls=$e.defaultConfigProvider=$e.default=void 0;var Te=Z.exports,en=Jn(qe.exports),oh=Jn(fs),ah=IM(Zn),TM=Jn(Yn),RM=Jn(Yt),AM=Jn(Qn),PM=va,LM=Jn(Br),lh=Ze;function ch(n){if(typeof WeakMap!="function")return null;var e=new WeakMap,t=new WeakMap;return(ch=function(i){return i?t:e})(n)}function IM(n,e){if(!e&&n&&n.__esModule)return n;if(n===null||OM(n)!=="object"&&typeof n!="function")return{default:n};var t=ch(e);if(t&&t.has(n))return t.get(n);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in n)if(s!=="default"&&Object.prototype.hasOwnProperty.call(n,s)){var o=i?Object.getOwnPropertyDescriptor(n,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=n[s]}return r.default=n,t&&t.set(n,r),r}var uh="ant";$e.defaultPrefixCls=uh;function er(){return Qe.prefixCls||uh}var wa=(0,Te.reactive)({}),hh=(0,Te.reactive)({}),Qe=(0,Te.reactive)({});$e.globalConfigForApi=Qe;(0,Te.watchEffect)(function(){(0,en.default)(Qe,wa,hh),Qe.prefixCls=er(),Qe.getPrefixCls=function(n,e){return e||(n?"".concat(Qe.prefixCls,"-").concat(n):Qe.prefixCls)},Qe.getRootPrefixCls=function(n,e){return n||(Qe.prefixCls?Qe.prefixCls:e&&e.includes("-")?e.replace(/^(.*)-[^-]*$/,"$1"):er())}});var _a,DM=function(e){_a&&_a(),_a=(0,Te.watchEffect)(function(){(0,en.default)(hh,(0,Te.reactive)(e))}),e.theme&&(0,PM.registerTheme)(er(),e.theme)},jM=function(){return{getPrefixCls:function(t,r){return r||(t?"".concat(er(),"-").concat(t):er())},getRootPrefixCls:function(t,r){return t||(Qe.prefixCls?Qe.prefixCls:r&&r.includes("-")?r.replace(/^(.*)-[^-]*$/,"$1"):er())}}};$e.globalConfig=jM;var Zr=(0,Te.defineComponent)({name:"AConfigProvider",inheritAttrs:!1,props:(0,lh.configProviderProps)(),setup:function(e,t){var r=t.slots,i=function(h,d){var p=e.prefixCls,v=p===void 0?"ant":p;return d||(h?"".concat(v,"-").concat(h):v)},s=function(h){var d=e.renderEmpty||r.renderEmpty||oh.default;return d(h)},o=function(h,d){var p=e.prefixCls;if(d)return d;var v=p||i("");return h?"".concat(v,"-").concat(h):v},a=(0,Te.reactive)((0,en.default)((0,en.default)({},e),{getPrefixCls:o,renderEmpty:s}));Object.keys(e).forEach(function(u){(0,Te.watch)(function(){return e[u]},function(){a[u]=e[u]})}),e.notUpdateGlobalConfig||((0,en.default)(wa,a),(0,Te.watch)(a,function(){(0,en.default)(wa,a)}));var c=(0,Te.computed)(function(){var u,h,d={};return e.locale&&(d=((u=e.locale.Form)===null||u===void 0?void 0:u.defaultValidateMessages)||((h=LM.default.Form)===null||h===void 0?void 0:h.defaultValidateMessages)||{}),e.form&&e.form.validateMessages&&(d=(0,en.default)((0,en.default)({},d),e.form.validateMessages)),d});(0,lh.useProvideGlobalForm)({validateMessages:c}),(0,Te.provide)("configProvider",a);var l=function(h){var d;return(0,Te.createVNode)(ah.default,{locale:e.locale||h,ANT_MARK__:ah.ANT_MARK},{default:function(){return[(d=r.default)===null||d===void 0?void 0:d.call(r)]}})};return(0,Te.watchEffect)(function(){e.direction&&(RM.default.config({rtl:e.direction==="rtl"}),AM.default.config({rtl:e.direction==="rtl"}))}),function(){return(0,Te.createVNode)(TM.default,{children:function(h,d,p){return l(p)}},null)}}}),NM=(0,Te.reactive)({getPrefixCls:function(e,t){return t||(e?"ant-".concat(e):"ant")},renderEmpty:oh.default,direction:"ltr"});$e.defaultConfigProvider=NM;Zr.config=DM;Zr.install=function(n){n.component(Zr.name,Zr)};var zM=Zr;$e.default=zM;var As=re.exports,kM=Sn.exports;Object.defineProperty(ls,"__esModule",{value:!0});ls.default=void 0;var Re=Z.exports,Qr=As(cs.exports),dh=As(mn.exports),Jr=As(qe.exports),$M=me,BM=As(hs),ph=FM($e);function fh(n){if(typeof WeakMap!="function")return null;var e=new WeakMap,t=new WeakMap;return(fh=function(i){return i?t:e})(n)}function FM(n,e){if(!e&&n&&n.__esModule)return n;if(n===null||kM(n)!=="object"&&typeof n!="function")return{default:n};var t=fh(e);if(t&&t.has(n))return t.get(n);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in n)if(s!=="default"&&Object.prototype.hasOwnProperty.call(n,s)){var o=i?Object.getOwnPropertyDescriptor(n,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=n[s]}return r.default=n,t&&t.set(n,r),r}var GM=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},mh=0,HM=Date.now();function gh(){var n=mh;return mh+=1,"rcNotification_".concat(HM,"_").concat(n)}var xa=(0,Re.defineComponent)({name:"Notification",inheritAttrs:!1,props:["prefixCls","transitionName","animation","maxCount","closeIcon"],setup:function(e,t){var r=t.attrs,i=t.expose,s=t.slots,o=new Map,a=(0,Re.ref)([]),c=(0,Re.computed)(function(){var h=e.prefixCls,d=e.animation,p=d===void 0?"fade":d,v=e.transitionName;return!v&&p&&(v="".concat(h,"-").concat(p)),(0,$M.getTransitionGroupProps)(v)}),l=function(d,p){var v=d.key||gh(),M=(0,Jr.default)((0,Jr.default)({},d),{key:v}),_=e.maxCount,m=a.value.map(function(g){return g.notice.key}).indexOf(v),C=a.value.concat();m!==-1?C.splice(m,1,{notice:M,holderCallback:p}):(_&&a.value.length>=_&&(M.key=C[0].notice.key,M.updateMark=gh(),M.userPassKey=v,C.shift()),C.push({notice:M,holderCallback:p})),a.value=C},u=function(d){a.value=a.value.filter(function(p){var v=p.notice,M=v.key,_=v.userPassKey,m=_||M;return m!==d})};return i({add:l,remove:u,notices:a}),function(){var h,d,p=e.prefixCls,v=e.closeIcon,M=v===void 0?(d=s.closeIcon)===null||d===void 0?void 0:d.call(s,{prefixCls:p}):v,_=a.value.map(function(C,g){var y=C.notice,E=C.holderCallback,S=g===a.value.length-1?y.updateMark:void 0,w=y.key,x=y.userPassKey,R=y.content,I=(0,Jr.default)((0,Jr.default)((0,Jr.default)({prefixCls:p,closeIcon:typeof M=="function"?M({prefixCls:p}):M},y),y.props),{key:w,noticeKey:x||w,updateMark:S,onClose:function(B){var Y;u(B),(Y=y.onClose)===null||Y===void 0||Y.call(y)},onClick:y.onClick});return E?(0,Re.createVNode)("div",{key:w,class:"".concat(p,"-hook-holder"),ref:function(B){typeof w!="undefined"&&(B?(o.set(w,B),E(B,I)):o.delete(w))}},null):(0,Re.createVNode)(BM.default,I,{default:function(){return[typeof R=="function"?R({prefixCls:p}):R]}})}),m=(h={},(0,dh.default)(h,p,1),(0,dh.default)(h,r.class,!!r.class),h);return(0,Re.createVNode)("div",{class:m,style:r.style||{top:"65px",left:"50%"}},[(0,Re.createVNode)(Re.TransitionGroup,(0,Qr.default)({tag:"div"},c.value),{default:function(){return[_]}})])}}});xa.newInstance=function(e,t){var r=e||{},i=r.name,s=i===void 0?"notification":i,o=r.getContainer,a=r.appContext,c=r.prefixCls,l=r.rootPrefixCls,u=r.transitionName,h=r.hasTransitionName,d=GM(r,["name","getContainer","appContext","prefixCls","rootPrefixCls","transitionName","hasTransitionName"]),p=document.createElement("div");if(o){var v=o();v.appendChild(p)}else document.body.appendChild(p);var M=(0,Re.defineComponent)({name:"NotificationWrapper",setup:function(C,g){var y=g.attrs,E=(0,Re.ref)();return(0,Re.onMounted)(function(){t({notice:function(w){var x;(x=E.value)===null||x===void 0||x.add(w)},removeNotice:function(w){var x;(x=E.value)===null||x===void 0||x.remove(w)},destroy:function(){(0,Re.render)(null,p),p.parentNode&&p.parentNode.removeChild(p)},component:E})}),function(){var S=ph.globalConfigForApi,w=S.getPrefixCls(s,c),x=S.getRootPrefixCls(l,w),R=h?u:"".concat(x,"-").concat(u);return(0,Re.createVNode)(ph.default,(0,Qr.default)((0,Qr.default)({},S),{},{notUpdateGlobalConfig:!0,prefixCls:x}),{default:function(){return[(0,Re.createVNode)(xa,(0,Qr.default)((0,Qr.default)({ref:E},y),{},{prefixCls:w,transitionName:R}),null)]}})}}}),_=(0,Re.createVNode)(M,d);_.appContext=a||_.appContext,(0,Re.render)(_,p)};var UM=xa;ls.default=UM;var VM=re.exports;Object.defineProperty($r,"__esModule",{value:!0});$r.default=void 0;var KM=VM(ls),WM=KM.default;$r.default=WM;var yh={},Oa={};Object.defineProperty(Oa,"__esModule",{value:!0});var YM={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"};Oa.default=YM;(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=Z.exports,t=i(Oa),r=i(ut);function i(l){return l&&l.__esModule?l:{default:l}}function s(l){for(var u=1;u<arguments.length;u++){var h=arguments[u]!=null?Object(arguments[u]):{},d=Object.keys(h);typeof Object.getOwnPropertySymbols=="function"&&(d=d.concat(Object.getOwnPropertySymbols(h).filter(function(p){return Object.getOwnPropertyDescriptor(h,p).enumerable}))),d.forEach(function(p){o(l,p,h[p])})}return l}function o(l,u,h){return u in l?Object.defineProperty(l,u,{value:h,enumerable:!0,configurable:!0,writable:!0}):l[u]=h,l}var a=function(u,h){var d=s({},u,h.attrs);return(0,e.createVNode)(r.default,s({},d,{icon:t.default}),null)};a.displayName="LoadingOutlined",a.inheritAttrs=!1;var c=a;n.default=c})(yh);var vh={},Ta={};Object.defineProperty(Ta,"__esModule",{value:!0});var qM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"};Ta.default=qM;(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=Z.exports,t=i(Ta),r=i(ut);function i(l){return l&&l.__esModule?l:{default:l}}function s(l){for(var u=1;u<arguments.length;u++){var h=arguments[u]!=null?Object(arguments[u]):{},d=Object.keys(h);typeof Object.getOwnPropertySymbols=="function"&&(d=d.concat(Object.getOwnPropertySymbols(h).filter(function(p){return Object.getOwnPropertyDescriptor(h,p).enumerable}))),d.forEach(function(p){o(l,p,h[p])})}return l}function o(l,u,h){return u in l?Object.defineProperty(l,u,{value:h,enumerable:!0,configurable:!0,writable:!0}):l[u]=h,l}var a=function(u,h){var d=s({},u,h.attrs);return(0,e.createVNode)(r.default,s({},d,{icon:t.default}),null)};a.displayName="ExclamationCircleFilled",a.inheritAttrs=!1;var c=a;n.default=c})(vh);var bh={},Ra={};Object.defineProperty(Ra,"__esModule",{value:!0});var XM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"}}]},name:"close-circle",theme:"filled"};Ra.default=XM;(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=Z.exports,t=i(Ra),r=i(ut);function i(l){return l&&l.__esModule?l:{default:l}}function s(l){for(var u=1;u<arguments.length;u++){var h=arguments[u]!=null?Object(arguments[u]):{},d=Object.keys(h);typeof Object.getOwnPropertySymbols=="function"&&(d=d.concat(Object.getOwnPropertySymbols(h).filter(function(p){return Object.getOwnPropertyDescriptor(h,p).enumerable}))),d.forEach(function(p){o(l,p,h[p])})}return l}function o(l,u,h){return u in l?Object.defineProperty(l,u,{value:h,enumerable:!0,configurable:!0,writable:!0}):l[u]=h,l}var a=function(u,h){var d=s({},u,h.attrs);return(0,e.createVNode)(r.default,s({},d,{icon:t.default}),null)};a.displayName="CloseCircleFilled",a.inheritAttrs=!1;var c=a;n.default=c})(bh);var Eh={},Aa={};Object.defineProperty(Aa,"__esModule",{value:!0});var ZM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};Aa.default=ZM;(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=Z.exports,t=i(Aa),r=i(ut);function i(l){return l&&l.__esModule?l:{default:l}}function s(l){for(var u=1;u<arguments.length;u++){var h=arguments[u]!=null?Object(arguments[u]):{},d=Object.keys(h);typeof Object.getOwnPropertySymbols=="function"&&(d=d.concat(Object.getOwnPropertySymbols(h).filter(function(p){return Object.getOwnPropertyDescriptor(h,p).enumerable}))),d.forEach(function(p){o(l,p,h[p])})}return l}function o(l,u,h){return u in l?Object.defineProperty(l,u,{value:h,enumerable:!0,configurable:!0,writable:!0}):l[u]=h,l}var a=function(u,h){var d=s({},u,h.attrs);return(0,e.createVNode)(r.default,s({},d,{icon:t.default}),null)};a.displayName="CheckCircleFilled",a.inheritAttrs=!1;var c=a;n.default=c})(Eh);var Mh={},Pa={};Object.defineProperty(Pa,"__esModule",{value:!0});var QM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"};Pa.default=QM;(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=Z.exports,t=i(Pa),r=i(ut);function i(l){return l&&l.__esModule?l:{default:l}}function s(l){for(var u=1;u<arguments.length;u++){var h=arguments[u]!=null?Object(arguments[u]):{},d=Object.keys(h);typeof Object.getOwnPropertySymbols=="function"&&(d=d.concat(Object.getOwnPropertySymbols(h).filter(function(p){return Object.getOwnPropertyDescriptor(h,p).enumerable}))),d.forEach(function(p){o(l,p,h[p])})}return l}function o(l,u,h){return u in l?Object.defineProperty(l,u,{value:h,enumerable:!0,configurable:!0,writable:!0}):l[u]=h,l}var a=function(u,h){var d=s({},u,h.attrs);return(0,e.createVNode)(r.default,s({},d,{icon:t.default}),null)};a.displayName="InfoCircleFilled",a.inheritAttrs=!1;var c=a;n.default=c})(Mh);var Dt=re.exports;Object.defineProperty(Yt,"__esModule",{value:!0});Yt.attachTypeApi=Ih;Yt.getInstance=Dh=Yt.default=void 0;Yt.getKeyThenIncreaseKey=Lh;var La=Z.exports,Sh=Dt(qe.exports),Ch=Dt(mn.exports),JM=Dt($r),e1=Dt(yh),t1=Dt(vh),n1=Dt(bh),r1=Dt(Eh),i1=Dt(Mh),s1=Dt(Zt),wh=3,_h,je,o1=1,xh="",Oh="move-up",Th=!1,Rh=function(){return document.body},Ah,Ph=!1;function Lh(){return o1++}function a1(n){n.top!==void 0&&(_h=n.top,je=null),n.duration!==void 0&&(wh=n.duration),n.prefixCls!==void 0&&(xh=n.prefixCls),n.getContainer!==void 0&&(Rh=n.getContainer,je=null),n.transitionName!==void 0&&(Oh=n.transitionName,je=null,Th=!0),n.maxCount!==void 0&&(Ah=n.maxCount,je=null),n.rtl!==void 0&&(Ph=n.rtl)}function l1(n,e){if(je){e(je);return}JM.default.newInstance({appContext:n.appContext,prefixCls:n.prefixCls||xh,rootPrefixCls:n.rootPrefixCls,transitionName:Oh,hasTransitionName:Th,style:{top:_h},getContainer:Rh||n.getPopupContainer,maxCount:Ah,name:"message"},function(t){if(je){e(je);return}je=t,e(t)})}var c1={info:i1.default,success:r1.default,error:n1.default,warning:t1.default,loading:e1.default};function u1(n){var e=n.duration!==void 0?n.duration:wh,t=n.key||Lh(),r=new Promise(function(s){var o=function(){return typeof n.onClose=="function"&&n.onClose(),s(!0)};l1(n,function(a){a.notice({key:t,duration:e,style:n.style||{},class:n.class,content:function(l){var u,h=l.prefixCls,d=c1[n.type],p=d?(0,La.createVNode)(d,null,null):"",v=(0,s1.default)("".concat(h,"-custom-content"),(u={},(0,Ch.default)(u,"".concat(h,"-").concat(n.type),n.type),(0,Ch.default)(u,"".concat(h,"-rtl"),Ph===!0),u));return(0,La.createVNode)("div",{class:v},[typeof n.icon=="function"?n.icon():n.icon||p,(0,La.createVNode)("span",null,[typeof n.content=="function"?n.content():n.content])])},onClose:o,onClick:n.onClick})})}),i=function(){je&&je.removeNotice(t)};return i.then=function(s,o){return r.then(s,o)},i.promise=r,i}function h1(n){return Object.prototype.toString.call(n)==="[object Object]"&&!!n.content}var Ps={open:u1,config:a1,destroy:function(e){if(je)if(e){var t=je,r=t.removeNotice;r(e)}else{var i=je,s=i.destroy;s(),je=null}}};function Ih(n,e){n[e]=function(t,r,i){return h1(t)?n.open((0,Sh.default)((0,Sh.default)({},t),{type:e})):(typeof r=="function"&&(i=r,r=void 0),n.open({content:t,duration:r,type:e,onClose:i}))}}["success","info","warning","error","loading"].forEach(function(n){return Ih(Ps,n)});Ps.warn=Ps.warning;var d1=function(){return null};Yt.getInstance=d1;var p1=Ps,Dh=Yt.default=p1;const Je=new Hg;Je.loaderManager.setPath("/vis-three/");const Ls=Fa("\u6B63\u5728\u52A0\u8F7D3D\u8D44\u6E90\uFF1A0%");let Ia;Je.loaderManager.addEventListener("beforeLoad",()=>{Ls.value="\u6B63\u5728\u52A0\u8F7D3D\u8D44\u6E90\uFF1A0%",Ia=Dh.loading({content:()=>Ls.value,duration:0})});Je.loaderManager.addEventListener("loading",n=>{Ls.value=`\u6B63\u5728\u52A0\u8F7D3D\u8D44\u6E90\uFF1A${parseInt((n.loadSuccess/n.loadTotal*100).toString())}
    %`});Je.loaderManager.addEventListener("loaded",n=>{Ia&&Ia(),Ls.value="\u6B63\u5728\u52A0\u8F7D3D\u8D44\u6E90\uFF1A0%"});(async()=>{$.injectEngine=Je,$.injectScene=!0,$(b.WEBGLRENDERER,{clearColor:"rgba(10, 2, 10, 1)",physicallyCorrectLights:!0,toneMapping:Hd,toneMappingExposure:3}),$(b.ORBITCONTROLS,{autoRotate:!0,autoRotateSpeed:.5,enableDamping:!0,maxDistance:200,minDistance:100,enablePan:!1});const n=$(b.SCENE);Je.setScene(n.vid);const e=$(b.PERSPECTIVECAMERA,{far:1e4,near:.01,position:{x:90,y:-90,z:100}});Je.setCamera(e.vid).setSize();const t=await Je.loadResourcesAsync(["/model/three.obj","/model/vis.obj","/texture/vis/colorMap.png","/skyBox/lightblue/px.png","/skyBox/lightblue/py.png","/skyBox/lightblue/pz.png","/skyBox/lightblue/nx.png","/skyBox/lightblue/ny.png","/skyBox/lightblue/nz.png"]),r=$(b.CUBETEXTURE,{cube:{px:"/skyBox/lightblue/px.png",py:"/skyBox/lightblue/py.png",pz:"/skyBox/lightblue/pz.png",nx:"/skyBox/lightblue/nx.png",ny:"/skyBox/lightblue/ny.png",nz:"/skyBox/lightblue/nz.png"}});n.background=r.vid,n.environment=r.vid,$(b.AMBIENTLIGHT,{intensity:1}),$(b.DIRECTIONALLIGHT,{color:"rgb(255, 255, 255)",position:{x:-10,y:40,z:20},intensity:1e3*4*Math.PI}),$(b.DIRECTIONALLIGHT,{color:"rgb(255, 255, 255)",position:{x:10,y:40,z:-20},intensity:1e3*4*Math.PI});const i=t.resourceConfig,s=$(b.LOADGEOMETRY,Object.assign(Object.values(i["/model/three.obj"].geometry)[0],{rotation:{x:Math.PI/2,y:-(Math.PI/180)*30},position:{x:.13,y:-.14},scale:{x:80,y:80,z:80}})),o=$(b.MESHSTANDARDMATERIAL,{color:"white",metalness:1,roughness:0,envMapIntensity:.8}),a=$(b.MESH,{geometry:s.vid,material:o.vid}),c=$(b.LOADGEOMETRY,Object.assign(Object.values(i["/model/vis.obj"].geometry)[0],{scale:{x:6,y:6,z:6}})),l=$(b.IMAGETEXTURE,{url:"/texture/vis/colorMap.png"}),u=$(b.MESHSTANDARDMATERIAL,{map:l.vid,metalness:1,roughness:0,transparent:!0,opacity:.8}),h=$(b.MESH,{geometry:c.vid,material:u.vid});$(b.SCRIPTANIMATION,{target:a.vid,attribute:".rotation.z",script:Gt.generateConfig("linearTime",{multiply:.2})}),$(b.SCRIPTANIMATION,{target:h.vid,attribute:".rotation.y",script:Gt.generateConfig("linearTime",{multiply:.7})}),console.log(Je),ja.done()})();const f1=Xh({setup(){const n=Fa(),e=t=>{window.location.href=t};return Zh(()=>{Je.setDom(n.value).setSize().play(),window.addEventListener("resize",()=>{Je.setSize()})}),Qh(()=>{Je.dispose()}),{jump:e,docs:"/vis-three/docs/index.html",demo:"/vis-three/examples.html",github:"https://github.com/Shiotsukikaedesari/vis-three",gitee:"https://gitee.com/Shiotsukikaedesari/vis-three",renderWindow:n}}}),Is=n=>(ed("data-v-887054fc"),n=n(),td(),n),m1={class:"App-container"},g1={class:"ui"},y1=Is(()=>tn("div",{class:"title"},"VIS-THREE",-1)),v1=Is(()=>tn("div",{class:"intro"},"more convenient development for three.js",-1)),b1=Is(()=>tn("div",{class:"split-line"},null,-1)),E1={class:"operation"},M1=oi(" \u6587\u6863\uFF08docs\uFF09 "),S1=oi(" \u793A\u4F8B\uFF08demo\uFF09 "),C1=oi(" github "),w1=oi("gitee"),_1=Is(()=>tn("div",{class:"mask"},null,-1)),x1={ref:"renderWindow",class:"three"};function O1(n,e,t,r,i,s){const o=Ga("a-button"),a=Ga("github-outlined");return nd(),Jh("div",m1,[tn("div",g1,[y1,v1,b1,tn("div",E1,[ir(o,{type:"link",size:"large",onClick:e[0]||(e[0]=c=>n.jump(n.docs))},{default:sr(()=>[M1]),_:1}),ir(o,{type:"link",size:"large",onClick:e[1]||(e[1]=c=>n.jump(n.demo))},{default:sr(()=>[S1]),_:1}),ir(o,{type:"link",size:"large",onClick:e[2]||(e[2]=c=>n.jump(n.github))},{icon:sr(()=>[ir(a)]),default:sr(()=>[C1]),_:1}),ir(o,{type:"link",size:"large",onClick:e[3]||(e[3]=c=>n.jump(n.gitee))},{default:sr(()=>[w1]),_:1})])]),_1,tn("div",x1,null,512)])}var T1=jh(f1,[["render",O1],["__scopeId","data-v-887054fc"]]);ja.start();rd(T1).use(id).component(Ha.displayName,Ha).mount("#app");
