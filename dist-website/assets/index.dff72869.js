import{n as Fa,_ as Fh}from"./nprogress.fe173de5.js";import{i as ye,h as Hh,N as Fs,e as xt,a as Ha,b as Er,m as Sr,E as Gh,c as Ga,d as Hs,P as Ua,f as Gs,g as Va,t as Uh,j as Us,k as Ka,l as Vh,n as Kh,o as Wh,p as Yh,q as qh,r as Cr,s as Xh,u as Qh,_ as wr,v as ci,w as Zh,x as Jh,y as ed,z as td,A as Wa,B as rd,C as nd,D as id,F as Ya,G as sd,H as rr,I as nn,J as sn,K as od,L as ad,M as ld,O as ui,Q as cd,R as ud,S as qa}from"./Antd.3618a1e2.js";import{m as xe,c as xr,b as U,a as re,n as Vs,o as Xa,G as Qa,B as We,F as ve,L as _t,p as hi,q as it,r as Ks,s as st,t as ft,M as mt,u as hd,v as Za,w as dd,V as ne,x as pd,y as fd,z as Ja,H as md,P as Ot,I as di,J as pi,K as el,X as tl,Y as Ws,Z as gd,g as on,j as rl,_ as yd,$ as vd,f as bd,a0 as nr,T as Md,a1 as Ed,Q as Ys,E as qs,k as an,a2 as Sd,l as fi,a3 as Cd,d as nl,O as Ye,a4 as Xs,h as il,e as mi,a5 as ir,a6 as sr,a7 as ln,a8 as sl,a9 as Qs,aa as cn,ab as ot,W as un,ac as Zs,ad as wd,ae as Js,af as xd,ag as _d,ah as ol,ai as Od,aj as al,ak as Td,al as Rd,am as Ad,an as Pd,ao as Ld,ap as ll,aq as cl,ar as Id,as as Dd,at as jd,au as Nd,av as zd,aw as kd,ax as ul,ay as $d,i as hn,az as hl,aA as Bd,aB as dl,C as Fd,aC as dn,aD as _r,aE as pl,R as Hd,aF as Gd,aG as Ud,U as Vd,S as pn,A as Kd,aH as Wd,aI as Yd,aJ as fl,aK as ml,aL as qd}from"./three.8ecb3bcc.js";import{T as Xd,C as fn,E as eo,R as to,a as Qd,S as Zd,L as gl,b as Jd,c as ep,U as tp}from"./vis-three.b8a6dc24.js";var rp=Object.defineProperty,yl=Object.getOwnPropertySymbols,np=Object.prototype.hasOwnProperty,ip=Object.prototype.propertyIsEnumerable,ro=(r,e,t)=>e in r?rp(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,sp=(r,e)=>{for(var t in e||(e={}))np.call(e,t)&&ro(r,t,e[t]);if(yl)for(var t of yl(e))ip.call(e,t)&&ro(r,t,e[t]);return r},f=(r,e,t)=>(ro(r,typeof e!="symbol"?e+"":e,t),t);class gt{constructor(){f(this,"listeners",new Map)}addEventListener(e,t){const n=this.listeners;n.has(e)||n.set(e,new Set),n.get(e).add(t)}hasEventListener(e,t){const n=this.listeners;return n.has(e)?n.get(e).has(t):!1}removeEventListener(e,t){const n=this.listeners;!n.has(e)||!n.get(e).has(t)||n.get(e).delete(t)}dispatchEvent(e){var t;const n=e.type,i=this.listeners;if(i.has(n))try{(t=i.get(n))==null||t.forEach(s=>{s.call(this,e)})}catch(s){console.error(s)}}clear(){this.listeners=new Map}useful(){return Boolean([...this.listeners.keys()].length)}}class op extends gt{constructor(e=0){super();f(this,"clock",new Fd),f(this,"animationFrame",-1),f(this,"fps",0),f(this,"timer",null),f(this,"playFun",()=>{}),f(this,"render",()=>{this.dispatchEvent({type:"render",delta:this.clock.getDelta(),total:this.clock.getElapsedTime()})}),f(this,"play",()=>{if(this.hasRendering()){console.warn("render manager is rendering.");return}this.dispatchEvent({type:"play"}),this.playFun()}),f(this,"stop",()=>{this.animationFrame!==-1&&(cancelAnimationFrame(this.animationFrame),this.animationFrame=-1),this.timer&&(clearTimeout(this.timer),this.timer=null),this.dispatchEvent({type:"stop"})}),f(this,"hasRendering",()=>Boolean(this.animationFrame!==-1||this.timer)),f(this,"hasVaildRender",()=>this.useful()),this.setFPS(e)}setFPS(e){return this.animationFrame!==-1&&cancelAnimationFrame(this.animationFrame),this.timer&&clearTimeout(this.timer),this.fps=e,e<=0?(this.fps=0,this.playFun=()=>{this.render(),this.animationFrame=requestAnimationFrame(this.playFun)}):this.playFun=()=>{this.timer=setTimeout(()=>{this.playFun()},e),this.render()},this.playFun(),this}dispose(){this.hasRendering()&&this.stop(),this.clear()}}const ap=function(){return this.renderManager?(console.warn("has installed render manager plugin."),!1):(this.renderManager=new op,this.render=function(){return this.renderManager.render(),this},this.play=function(){return this.renderManager.play(),this},this.stop=function(){return this.renderManager.stop(),this},this.addEventListener("dispose",()=>{this.renderManager.dispose()}),!0)};class lp extends gt{constructor(e,t){super();f(this,"object"),f(this,"domElement"),f(this,"enabled",!0),f(this,"target",new U),f(this,"minDistance",0),f(this,"maxDistance",1/0),f(this,"minZoom",0),f(this,"maxZoom",1/0),f(this,"minPolarAngle",0),f(this,"maxPolarAngle",Math.PI),f(this,"minAzimuthAngle",-1/0),f(this,"maxAzimuthAngle",1/0),f(this,"enableDamping",!1),f(this,"dampingFactor",.05),f(this,"enableZoom",!0),f(this,"zoomSpeed",1),f(this,"enableRotate",!0),f(this,"rotateSpeed",1),f(this,"enablePan",!0),f(this,"panSpeed",1),f(this,"screenSpacePanning",!0),f(this,"keyPanSpeed",7),f(this,"autoRotate",!1),f(this,"autoRotateSpeed",2),f(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),f(this,"mouseButtons",{LEFT:null,MIDDLE:dn.DOLLY,RIGHT:dn.ROTATE}),f(this,"touches",{ONE:_r.ROTATE,TWO:_r.DOLLY_PAN}),f(this,"target0"),f(this,"position0"),f(this,"zoom0"),f(this,"_domElementKeyEvents",null),f(this,"spherical"),f(this,"reset"),f(this,"update"),f(this,"onContextMenu"),f(this,"onPointerDown"),f(this,"onPointerCancel"),f(this,"onMouseWheel"),f(this,"onPointerMove"),f(this,"onPointerUp"),f(this,"onKeyDown"),this.object=e||new xe,this.domElement=t||document.createElement("div"),this.domElement.style.touchAction="none",this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.update=(()=>{const O=new U,j=new Ys().setFromUnitVectors(this.object.up,new U(0,1,0)),pe=j.clone().invert(),we=new U,$t=new Ys,Bt=2*Math.PI;return()=>{const Ba=this.object.position;O.copy(Ba).sub(this.target),O.applyQuaternion(j),o.setFromVector3(O),this.autoRotate&&i===n.NONE&&_(S()),this.enableDamping?(o.theta+=a.theta*this.dampingFactor,o.phi+=a.phi*this.dampingFactor):(o.theta+=a.theta,o.phi+=a.phi);let Ct=this.minAzimuthAngle,wt=this.maxAzimuthAngle;return isFinite(Ct)&&isFinite(wt)&&(Ct<-Math.PI?Ct+=Bt:Ct>Math.PI&&(Ct-=Bt),wt<-Math.PI?wt+=Bt:wt>Math.PI&&(wt-=Bt),Ct<=wt?o.theta=Math.max(Ct,Math.min(wt,o.theta)):o.theta=o.theta>(Ct+wt)/2?Math.max(Ct,o.theta):Math.min(wt,o.theta)),o.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,o.phi)),o.makeSafe(),o.radius*=c,o.radius=Math.max(this.minDistance,Math.min(this.maxDistance,o.radius)),this.enableDamping===!0?this.target.addScaledVector(l,this.dampingFactor):this.target.add(l),O.setFromSpherical(o),O.applyQuaternion(pe),Ba.copy(this.target).add(O),this.object.lookAt(this.target),this.enableDamping===!0?(a.theta*=1-this.dampingFactor,a.phi*=1-this.dampingFactor,l.multiplyScalar(1-this.dampingFactor)):(a.set(0,0,0),l.set(0,0,0)),c=1,u||we.distanceToSquared(this.object.position)>s||8*(1-$t.dot(this.object.quaternion))>s?(this.dispatchEvent({type:"change"}),we.copy(this.object.position),$t.copy(this.object.quaternion),u=!1,!0):!1}})();const n={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let i=n.NONE;const s=1e-6,o=new pl,a=new pl;let c=1;const l=new U;let u=!1;const h=new ne,d=new ne,p=new ne,v=new ne,E=new ne,x=new ne,m=new ne,C=new ne,g=new ne,y=[],M={},S=()=>2*Math.PI/60/60*this.autoRotateSpeed,w=()=>Math.pow(.95,this.zoomSpeed),_=O=>{a.theta-=O},R=O=>{a.phi-=O},I=function(){const O=new U;return function(pe,we){O.setFromMatrixColumn(we,0),O.multiplyScalar(-pe),l.add(O)}}(),k=(()=>{const O=new U;return(j,pe)=>{this.screenSpacePanning===!0?O.setFromMatrixColumn(pe,1):(O.setFromMatrixColumn(pe,0),O.crossVectors(this.object.up,O)),O.multiplyScalar(j),l.add(O)}})(),B=(()=>{const O=new U;return(j,pe)=>{const we=this.domElement;if(this.object instanceof xe){const $t=this.object.position;O.copy($t).sub(this.target);let Bt=O.length();Bt*=Math.tan(this.object.fov/2*Math.PI/180),I(2*j*Bt/we.clientHeight,this.object.matrix),k(2*pe*Bt/we.clientHeight,this.object.matrix)}else this.object instanceof Ye?(I(j*(this.object.right-this.object.left)/this.object.zoom/we.clientWidth,this.object.matrix),k(pe*(this.object.top-this.object.bottom)/this.object.zoom/we.clientHeight,this.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),this.enablePan=!1)}})(),Y=O=>{this.object instanceof xe?c/=O:this.object instanceof Ye?(this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom*O)),this.object.updateProjectionMatrix(),u=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)},X=O=>{this.object instanceof xe?c*=O:this.object instanceof Ye?(this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/O)),this.object.updateProjectionMatrix(),u=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)};function Se(O){h.set(O.clientX,O.clientY)}function ae(O){m.set(O.clientX,O.clientY)}function Ce(O){v.set(O.clientX,O.clientY)}const Pe=O=>{d.set(O.clientX,O.clientY),p.subVectors(d,h).multiplyScalar(this.rotateSpeed);const j=this.domElement;_(2*Math.PI*p.x/j.clientHeight),R(2*Math.PI*p.y/j.clientHeight),h.copy(d),this.update()},Ke=O=>{C.set(O.clientX,O.clientY),g.subVectors(C,m),g.y>0?Y(w()):g.y<0&&X(w()),m.copy(C),this.update()},pt=O=>{E.set(O.clientX,O.clientY),x.subVectors(E,v).multiplyScalar(this.panSpeed),B(x.x,x.y),v.copy(E),this.update()},nt=O=>{O.deltaY<0?X(w()):O.deltaY>0&&Y(w()),this.update()},en=O=>{let j=!1;switch(O.code){case this.keys.UP:B(0,this.keyPanSpeed),j=!0;break;case this.keys.BOTTOM:B(0,-this.keyPanSpeed),j=!0;break;case this.keys.LEFT:B(this.keyPanSpeed,0),j=!0;break;case this.keys.RIGHT:B(-this.keyPanSpeed,0),j=!0;break}j&&(O.preventDefault(),this.update())};function Mr(){if(y.length===1)h.set(y[0].pageX,y[0].pageY);else{const O=.5*(y[0].pageX+y[1].pageX),j=.5*(y[0].pageY+y[1].pageY);h.set(O,j)}}function ii(){if(y.length===1)v.set(y[0].pageX,y[0].pageY);else{const O=.5*(y[0].pageX+y[1].pageX),j=.5*(y[0].pageY+y[1].pageY);v.set(O,j)}}function kt(){const O=y[0].pageX-y[1].pageX,j=y[0].pageY-y[1].pageY,pe=Math.sqrt(O*O+j*j);m.set(0,pe)}const ks=()=>{this.enableZoom&&kt(),this.enablePan&&ii()},si=()=>{this.enableZoom&&kt(),this.enableRotate&&Mr()},tn=O=>{if(y.length==1)d.set(O.pageX,O.pageY);else{const pe=Z(O),we=.5*(O.pageX+pe.x),$t=.5*(O.pageY+pe.y);d.set(we,$t)}p.subVectors(d,h).multiplyScalar(this.rotateSpeed);const j=this.domElement;_(2*Math.PI*p.x/j.clientHeight),R(2*Math.PI*p.y/j.clientHeight),h.copy(d)},oi=O=>{if(y.length===1)E.set(O.pageX,O.pageY);else{const j=Z(O),pe=.5*(O.pageX+j.x),we=.5*(O.pageY+j.y);E.set(pe,we)}x.subVectors(E,v).multiplyScalar(this.panSpeed),B(x.x,x.y),v.copy(E)},ai=O=>{const j=Z(O),pe=O.pageX-j.x,we=O.pageY-j.y,$t=Math.sqrt(pe*pe+we*we);C.set(0,$t),g.set(0,Math.pow(C.y/m.y,this.zoomSpeed)),Y(g.y),m.copy(C)},li=O=>{this.enableZoom&&ai(O),this.enablePan&&oi(O)},$s=O=>{this.enableZoom&&ai(O),this.enableRotate&&tn(O)};this.onPointerDown=O=>{this.enabled!==!1&&(y.length===0&&(this.domElement.addEventListener("pointermove",this.onPointerMove),this.domElement.addEventListener("pointerup",this.onPointerUp)),D(O),O.pointerType==="touch"?P(O):Bs(O))};let rn=!1;this.onPointerMove=O=>{this.enabled!==!1&&(rn||(this.domElement.setPointerCapture(O.pointerId),rn=!0),O.pointerType==="touch"?N(O):L(O))},this.onPointerUp=O=>{this.enabled!==!1&&(rn=!1,O.pointerType==="touch"?z():T(O),V(O),y.length===0&&(this.domElement.releasePointerCapture(O.pointerId),this.domElement.removeEventListener("pointermove",this.onPointerMove),this.domElement.removeEventListener("pointerup",this.onPointerUp)))},this.onPointerCancel=O=>{V(O)};const Bs=O=>{let j;switch(O.button){case 0:j=this.mouseButtons.LEFT;break;case 1:j=this.mouseButtons.MIDDLE;break;case 2:j=this.mouseButtons.RIGHT;break;default:j=-1}switch(j){case dn.DOLLY:if(this.enableZoom===!1)return;ae(O),i=n.DOLLY;break;case dn.ROTATE:if(O.ctrlKey||O.metaKey||O.shiftKey){if(this.enablePan===!1)return;Ce(O),i=n.PAN}else{if(this.enableRotate===!1)return;Se(O),i=n.ROTATE}break;case dn.PAN:if(O.ctrlKey||O.metaKey||O.shiftKey){if(this.enableRotate===!1)return;Se(O),i=n.ROTATE}else{if(this.enablePan===!1)return;Ce(O),i=n.PAN}break;default:i=n.NONE}i!==n.NONE&&this.dispatchEvent({type:"start"})},L=O=>{if(this.enabled!==!1)switch(i){case n.ROTATE:if(this.enableRotate===!1)return;Pe(O);break;case n.DOLLY:if(this.enableZoom===!1)return;Ke(O);break;case n.PAN:if(this.enablePan===!1)return;pt(O);break}},T=O=>{this.dispatchEvent({type:"end"}),i=n.NONE};this.onMouseWheel=O=>{this.enabled===!1||this.enableZoom===!1||i!==n.NONE||(O.preventDefault(),this.dispatchEvent({type:"start"}),nt(O),this.dispatchEvent({type:"end"}))},this.onKeyDown=O=>{this.enabled===!1||this.enablePan===!1||en(O)};const P=O=>{switch(F(O),y.length){case 1:switch(this.touches.ONE){case _r.ROTATE:if(this.enableRotate===!1)return;Mr(),i=n.TOUCH_ROTATE;break;case _r.PAN:if(this.enablePan===!1)return;ii(),i=n.TOUCH_PAN;break;default:i=n.NONE}break;case 2:switch(this.touches.TWO){case _r.DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;ks(),i=n.TOUCH_DOLLY_PAN;break;case _r.DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;si(),i=n.TOUCH_DOLLY_ROTATE;break;default:i=n.NONE}break;default:i=n.NONE}i!==n.NONE&&this.dispatchEvent({type:"start"})},N=O=>{switch(F(O),i){case n.TOUCH_ROTATE:if(this.enableRotate===!1)return;tn(O),this.update();break;case n.TOUCH_PAN:if(this.enablePan===!1)return;oi(O),this.update();break;case n.TOUCH_DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;li(O),this.update();break;case n.TOUCH_DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;$s(O),this.update();break;default:i=n.NONE}},z=O=>{this.dispatchEvent({type:"end"}),i=n.NONE};this.onContextMenu=O=>{this.enabled!==!1&&O.preventDefault()};function D(O){y.push(O)}const V=O=>{delete M[O.pointerId];for(let j=0;j<y.length;j++)if(y[j].pointerId==O.pointerId){y.splice(j,1);return}};function F(O){let j=M[O.pointerId];j===void 0&&(j=new ne,M[O.pointerId]=j),j.set(O.pageX,O.pageY)}function Z(O){const j=O.pointerId===y[0].pointerId?y[1]:y[0];return M[j.pointerId]}this.spherical=o,this.domElement.addEventListener("contextmenu",this.onContextMenu),this.domElement.addEventListener("pointerdown",this.onPointerDown),this.domElement.addEventListener("pointercancel",this.onPointerCancel),this.domElement.addEventListener("wheel",this.onMouseWheel,{passive:!1}),this.reset=()=>{this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent({type:"change"}),this.update(),i=n.NONE},this.update()}getPolarAngle(){return this.spherical.phi}getAzimuthalAngle(){return this.spherical.theta}getDistance(){return this.object.position.distanceTo(this.target)}listenToKeyEvents(e){e.addEventListener("keydown",this.onKeyDown),this._domElementKeyEvents=e}saveState(){this.target0.copy(this.target),this.position0.copy(this.object.position),this.zoom0=this.object.zoom}setCamera(e){this.object=e}setDom(e){this.dispose(),this.domElement=e,this.domElement.addEventListener("contextmenu",this.onContextMenu),this.domElement.addEventListener("pointerdown",this.onPointerDown),this.domElement.addEventListener("pointercancel",this.onPointerCancel),this.domElement.addEventListener("wheel",this.onMouseWheel,{passive:!1})}dispose(){this.domElement.removeEventListener("contextmenu",this.onContextMenu),this.domElement.removeEventListener("pointerdown",this.onPointerDown),this.domElement.removeEventListener("pointercancel",this.onPointerCancel),this.domElement.removeEventListener("wheel",this.onMouseWheel),this.domElement.removeEventListener("pointermove",this.onPointerMove),this.domElement.removeEventListener("pointerup",this.onPointerUp),this._domElementKeyEvents!==null&&this._domElementKeyEvents.removeEventListener("keydown",this.onKeyDown)}}var ee;(function(r){r.DEFAULT="default",r.TOP="top",r.BOTTOM="bottom",r.LEFT="left",r.RIGHT="right",r.FRONT="front",r.BACK="back"})(ee||(ee={}));const cp=function(r={}){var e;if(!this.webGLRenderer)return console.error("must install some renderer before BasicViewpoint plugin."),!1;!r.viewpoint&&(r.viewpoint=ee.DEFAULT),!r.perspective&&(r.perspective={}),!r.perspective.position&&(r.perspective.position={x:60,y:60,z:60}),!r.perspective.lookAt&&(r.perspective.lookAt={x:0,y:0,z:0}),!r.perspective.up&&(r.perspective.up={x:0,y:1,z:0}),!r.orthograpbic&&(r.orthograpbic={}),!r.orthograpbic.up&&(r.orthograpbic.up={x:0,y:1,z:0});const t=new xe;t.position.set(r.perspective.position.x,r.perspective.position.y,r.perspective.position.z),t.lookAt(r.perspective.lookAt.x,r.perspective.lookAt.y,r.perspective.lookAt.z),t.up.set(r.perspective.up.x,r.perspective.up.y,r.perspective.up.z);const n=r.orthograpbic.distance||1e4,i=new Ye(-window.innerWidth/8,window.innerWidth/8,-window.innerHeight/8,window.innerHeight/8,0,n);return i.up.set(r.perspective.up.x,r.perspective.up.y,r.perspective.up.z),this.setViewpoint=function(s){return this.dispatchEvent({type:"setViewpoint",viewpoint:s}),this},this.addEventListener("setSize",s=>{const o=s.width,a=s.height,c=o/a;t.aspect=c,t.updateProjectionMatrix(),i.left=-n*c,i.right=n*c,i.top=n,i.bottom=-n,i.zoom=n/a*5,i.updateProjectionMatrix()}),(e=r.orthograpbic.allowRotate)!=null,this.addEventListener("setViewpoint",s=>{const o=s.viewpoint;if(o===ee.DEFAULT){this.setCamera(t);return}o===ee.TOP?i.position.set(0,n/2,0):o===ee.BOTTOM?i.position.set(0,-n/2,0):o===ee.RIGHT?i.position.set(n/2,0,0):o===ee.LEFT?i.position.set(-n/2,0,0):o===ee.FRONT?i.position.set(0,0,n/2):o===ee.BACK&&i.position.set(0,0,-n/2),this.setCamera(i)}),this.completeSet.add(()=>{r.viewpoint===ee.DEFAULT?this.setCamera(t):this.setCamera(i),this.objectHelperManager&&this.objectHelperManager.addFilteredObject(t,i)}),!0},up=function(r){return this.orbitControls?(console.warn("this has installed orbitControls plugin."),!1):this.renderManager?(this.orbitControls=new lp(this.camera,this.dom),this.addEventListener("setCamera",e=>{e.options.orbitControls&&this.orbitControls.setCamera(e.camera)}),this.addEventListener("setDom",e=>{this.orbitControls.setDom(e.dom)}),this.renderManager.addEventListener("render",()=>{this.orbitControls.update()}),this.completeSet.add(()=>{this.setViewpoint&&this.addEventListener("setViewpoint",e=>{const t=e.viewpoint;this.orbitControls.target.set(0,0,0),t===ee.DEFAULT?this.orbitControls.enableRotate=!0:t===ee.TOP?this.orbitControls.enableRotate=!1:t===ee.BOTTOM?this.orbitControls.enableRotate=!1:t===ee.RIGHT?this.orbitControls.enableRotate=!1:t===ee.LEFT?this.orbitControls.enableRotate=!1:t===ee.FRONT?this.orbitControls.enableRotate=!1:t===ee.BACK&&(this.orbitControls.enableRotate=!1)})}),!0):(console.warn("this must install renderManager before install orbitControls plugin."),!1)};class hp{constructor(e){f(this,"REVISION"),f(this,"dom"),f(this,"addPanel"),f(this,"showPanel"),f(this,"begin"),f(this,"end"),f(this,"update"),f(this,"domElement"),f(this,"setMode");const t=Zd();this.REVISION=t.REVISION,this.dom=t.dom,this.domElement=t.domElement,this.begin=t.begin.bind(t),this.end=t.end.bind(t),this.update=t.update.bind(t),this.addPanel=t.addPanel.bind(t),this.showPanel=t.showPanel.bind(t),this.setMode=t.setMode.bind(t);const n=this.domElement;n.style.position="absolute",n.style.top="0",n.style.left="35px",e&&(n.style.top=`${e.top}px`,n.style.left=`${e.left}px`,n.style.right=`${e.right}px`,n.style.bottom=`${e.bottom}px`)}}const dp=function(r){if(this.stats)return console.warn("this has installed stats plugin."),!1;if(!this.renderManager)return console.warn("this must install renderManager before install stats plugin."),!1;const e=new hp(r);this.stats=e;const t=()=>{this.stats.update()};return this.setStats=function(n){if(n)this.dom.appendChild(this.stats.domElement),this.renderManager.addEventListener("render",t);else try{this.dom.removeChild(this.stats.domElement),this.renderManager.removeEventListener("render",t)}catch{}return this},!0},pp=function(r={}){if(this.effectComposer)return console.warn("this has installed effect composer plugin."),!1;if(!this.webGLRenderer)return console.error("must install some renderer before this plugin."),!1;let e;if(r.WebGLMultisampleRenderTarget||r.MSAA){const n=this.webGLRenderer,i=n.getPixelRatio(),s=n.getDrawingBufferSize(new ne);Number(window.__THREE__)>137?e=new eo(n,new un(s.width*i,s.height*i,{format:r.format||Zs,samples:r.samples||4})):e=new eo(n,new wd(s.width*i,s.height*i,{format:r.format||Zs}))}else e=new eo(this.webGLRenderer);this.effectComposer=e;let t;return this.scene&&this.camera&&(t=new to(this.scene,this.camera),e.addPass(t)),this.addEventListener("setCamera",n=>{if(!t&&this.scene){t=new to(this.scene,n.camera),e.addPass(t);return}else t&&(t.camera=n.camera)}),this.addEventListener("setScene",n=>{if(!t&&this.camera){t=new to(n.scene,this.camera),e.addPass(t);return}else t&&(t.scene=n.scene)}),this.addEventListener("setSize",n=>{e.setSize(n.width,n.height)}),this.renderManager?(this.renderManager.removeEventListener("render",this.render),this.renderManager.addEventListener("render",n=>{this.effectComposer.render(n.delta)})):this.render=function(){return this.effectComposer.render(),this},!0};class fp extends gt{constructor(e){super();f(this,"dom"),f(this,"mouse"),f(this,"canMouseMove"),f(this,"mouseEventTimer"),f(this,"throttleTime"),f(this,"pointerDownHandler"),f(this,"pointerMoveHandler"),f(this,"pointerUpHandler"),f(this,"mouseDownHandler"),f(this,"mouseUpHandler"),f(this,"clickHandler"),f(this,"dblclickHandler"),f(this,"contextmenuHandler"),this.dom=e.dom,this.mouse=new ne,this.canMouseMove=!0,this.mouseEventTimer=null,this.throttleTime=e.throttleTime||1e3/60;const t=i=>{const s={mouse:{x:this.mouse.x,y:this.mouse.y}};for(const o in i)s[o]=i[o];return s},n=i=>{this.dispatchEvent(t(i))};this.pointerMoveHandler=i=>{!this.canMouseMove||(this.canMouseMove=!1,this.mouseEventTimer=window.setTimeout(()=>{const s=this.mouse,o=this.dom,a=o.getBoundingClientRect();s.x=(i.clientX-a.left)/o.offsetWidth*2-1,s.y=-((i.clientY-a.top)/o.offsetHeight)*2+1,this.canMouseMove=!0,this.dispatchEvent(t(i))},this.throttleTime))},this.mouseDownHandler=n,this.mouseUpHandler=n,this.pointerDownHandler=n,this.pointerUpHandler=n,this.clickHandler=n,this.dblclickHandler=n,this.contextmenuHandler=n}setDom(e){if(this.dom){const t=this.dom;t.removeEventListener("mousedown",this.mouseDownHandler),t.removeEventListener("mouseup",this.mouseUpHandler),t.removeEventListener("pointerdown",this.pointerDownHandler),t.removeEventListener("pointermove",this.pointerMoveHandler),t.removeEventListener("pointerup",this.pointerUpHandler),t.removeEventListener("click",this.clickHandler),t.removeEventListener("dblclick",this.dblclickHandler),t.removeEventListener("contextmenu",this.contextmenuHandler)}return e.addEventListener("mousedown",this.mouseDownHandler),e.addEventListener("mouseup",this.mouseUpHandler),e.addEventListener("pointerdown",this.pointerDownHandler),e.addEventListener("pointermove",this.pointerMoveHandler),e.addEventListener("pointerup",this.pointerUpHandler),e.addEventListener("click",this.clickHandler),e.addEventListener("dblclick",this.dblclickHandler),e.addEventListener("contextmenu",this.contextmenuHandler),this.dom=e,this}getNormalMouse(){return this.mouse}}const mp=function(r){if(this.pointerManager)return console.warn("this has installed pointerManager plugin."),!1;const e=new fp(Object.assign(r||{},{dom:this.dom}));return this.addEventListener("setDom",t=>{e.setDom(t.dom)}),this.pointerManager=e,!0};var mn;(function(r){r.POINTERDOWN="pointerdown",r.POINTERUP="pointerup",r.POINTERMOVE="pointermove",r.POINTERENTER="pointerenter",r.POINTERLEAVE="pointerleave",r.CLICK="click",r.DBLCLICK="dblclick",r.CONTEXTMENU="contextmenu"})(mn||(mn={}));class gp extends gt{constructor(e){super();f(this,"raycaster"),f(this,"scene"),f(this,"camera"),f(this,"filter",new Set),f(this,"recursive",!1),f(this,"penetrate",!1),f(this,"propagation",!1),f(this,"delegation",!1),this.raycaster=new Hd,this.camera=e.camera,this.scene=e.scene,e.recursive&&(this.recursive=e.recursive),e.penetrate&&(this.penetrate=e.penetrate)}setScene(e){return this.scene=e,this}setCamera(e){return this.camera=e,this}addFilterObject(e){return this.filter.add(e),this}removeFilterObject(e){return this.filter.delete(e),this}intersectObject(e){this.raycaster.setFromCamera(e,this.camera);const t=this.filter,n=this.scene.children.filter(i=>!t.has(i));return this.raycaster.intersectObjects(n,this.recursive)}use(e){const t=function(a,c){return Object.assign({},a,c)},n=(a,c)=>{const l=this.intersectObject(a.mouse);if(l.length)if(this.penetrate)for(const u of l)u.object.dispatchEvent(t(a,{type:c,intersection:u}));else{const u=l[0];u.object.dispatchEvent(t(a,{type:c,intersection:u}))}this.dispatchEvent(t(a,{type:c,intersections:l}))},i=["pointerdown","pointerup","mousedown","mouseup","pointermove","click","dblclick","contextmenu"];for(const a of i)e.addEventListener(a,c=>{n(c,a)});const s=new Map;let o=null;return e.addEventListener("pointermove",a=>{const c=this.intersectObject(a.mouse);if(this.penetrate){if(!c.length){s.forEach(l=>{l.object.dispatchEvent(t(a,{type:"pointerleave",intersection:l})),l.object.dispatchEvent(t(a,{type:"mouseleave",intersection:l}))}),s.clear();return}for(const l of c)s.has(l.object)?(l.object.dispatchEvent(t(a,{type:"pointermove",intersection:l})),l.object.dispatchEvent(t(a,{type:"mousemove",intersection:l})),s.delete(l.object)):(l.object.dispatchEvent(t(a,{type:"pointerenter",intersection:l})),l.object.dispatchEvent(t(a,{type:"mouseenter",intersection:l})));for(const l of s.values())l.object.dispatchEvent(t(a,{type:"pointerleave",intersection:l})),l.object.dispatchEvent(t(a,{type:"mouseleave",intersection:l}));s.clear();for(const l of c)s.set(l.object,l)}else{if(!c.length){o&&(o.object.dispatchEvent(t(a,{type:"pointerleave",intersection:o})),o.object.dispatchEvent(t(a,{type:"mouseleave",intersection:o})),o=null);return}const l=c[0];if(!o){l.object.dispatchEvent(t(a,{type:"pointerenter",intersection:l})),l.object.dispatchEvent(t(a,{type:"mouseenter",intersection:l})),o=l;return}if(l.object!==o.object){o.object.dispatchEvent(t(a,{type:"pointerleave",intersection:l})),o.object.dispatchEvent(t(a,{type:"mouseleave",intersection:l})),l.object.dispatchEvent(t(a,{type:"pointerenter",intersection:l})),l.object.dispatchEvent(t(a,{type:"mouseenter",intersection:l})),o=l;return}l.object===o.object&&(l.object.dispatchEvent(t(a,{type:"pointermove",intersection:l})),l.object.dispatchEvent(t(a,{type:"mousemove",intersection:l})))}this.dispatchEvent(t(a,{type:"pointermove",intersections:c})),this.dispatchEvent(t(a,{type:"mousemove",intersections:c}))}),this}}const yp=function(r){if(this.eventManager)return console.warn("engine has installed eventManager plugin."),!1;if(!this.pointerManager)return console.error("must install pointerManager before this plugin."),!1;const e=new gp(Object.assign({scene:this.scene,camera:this.camera},r));return e.use(this.pointerManager),this.eventManager=e,this.addEventListener("setCamera",t=>{this.eventManager.setCamera(t.camera)}),this.addEventListener("setScene",t=>{this.eventManager.setScene(t.scene)}),!0};var gi;(function(r){r.OBJECTCHANGED="objectChanged"})(gi||(gi={}));class vp extends Xd{constructor(e,t){!e&&(e=new xe),!t&&(t=document.body);super(e,t);f(this,"target"),f(this,"transObjectSet"),this.domElement.removeEventListener("pointerdown",this._onPointerDown),this._onPointerDown=c=>{var l;!this.enabled||!((l=this.object)==null?void 0:l.parent)||(this.domElement.addEventListener("pointermove",this._onPointerMove),this.pointerHover(this._getPointer(c)),this.pointerDown(this._getPointer(c)))},this.domElement.addEventListener("pointerdown",this._onPointerDown),this.target=new xr,this.transObjectSet=new Set;let n="";const i=this.target,s=this.transObjectSet,o={x:0,y:0,z:0},a=new WeakMap;this.addEventListener("mouseDown",c=>{n=c.target.mode,n==="translate"&&(n="position"),n==="rotate"&&(n="rotation"),o.x=i[n].x,o.y=i[n].y,o.z=i[n].z,s.forEach(l=>{a.set(l,l.matrixAutoUpdate),l.matrixAutoUpdate=!1})}),this.addEventListener("objectChange",c=>{const l=i[n].x-o.x,u=i[n].y-o.y,h=i[n].z-o.z;o.x=i[n].x,o.y=i[n].y,o.z=i[n].z,s.forEach(d=>{d[n].x+=l,d[n].y+=u,d[n].z+=h,d.updateMatrix(),d.updateMatrixWorld()}),this.dispatchEvent({type:gi.OBJECTCHANGED,transObjectSet:s,mode:n,target:i})}),this.addEventListener("mouseUp",c=>{s.forEach(l=>{l.matrixAutoUpdate=a.get(l),a.delete(l)})})}setDom(e){return this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerHover),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),e.addEventListener("pointerdown",this._onPointerDown),e.addEventListener("pointermove",this._onPointerHover),e.addEventListener("pointerup",this._onPointerUp),this.domElement=e,this}setCamera(e){return this.camera=e,this}getTarget(){return this.target}getTransObjectSet(){return this.transObjectSet}setAttach(...e){if(this.transObjectSet.clear(),!e.length||!e[0])return this.detach(),this;this.attach(this.target);const t=this.target;if(e.length===1){const o=e[0];return o.matrixWorld.decompose(t.position,t.quaternion,t.scale),t.updateMatrix(),t.updateMatrixWorld(),this.transObjectSet.add(o),this}const n=[],i=[],s=[];return e.forEach(o=>{n.push(o.matrixWorld.elements[12]),i.push(o.matrixWorld.elements[13]),s.push(o.matrixWorld.elements[14])}),t.rotation.set(0,0,0),t.scale.set(0,0,0),t.position.x=(Math.max(...n)-Math.min(...n))/2+Math.min(...n),t.position.y=(Math.max(...i)-Math.min(...i))/2+Math.min(...i),t.position.z=(Math.max(...s)-Math.min(...s))/2+Math.min(...s),t.updateMatrix(),t.updateMatrixWorld(),e.forEach(o=>{this.transObjectSet.add(o)}),this}}const bp=function(r){if(this.transformControls)return console.warn("this has installed transformControls plugin."),!1;if(!this.pointerManager)return console.warn("this must install pointerManager before install transformControls plugin."),!1;if(!this.eventManager)return console.warn("this must install eventManager before install transformControls plugin."),!1;const e=new vp(this.camera,this.dom);return e.detach(),this.transformControls=e,this.scene.add(this.transformControls),this.scene.add(this.transformControls.target),this.transformControls.addEventListener("mouseDown",()=>{this.transing=!0}),this.setTransformControls=function(t){return t?this.scene.add(this.transformControls):this.scene.remove(this.transformControls),this},this.addEventListener("setCamera",t=>{t.options.transformControls&&e.setCamera(t.camera)}),this.addEventListener("setDom",t=>{e.setDom(t.dom)}),this.addEventListener("setScene",t=>{const n=t.scene;n.add(this.transformControls.target),n.add(this.transformControls)}),this.selectionBox?this.addEventListener("selected",t=>{e.setAttach(...t.objects)}):this.eventManager.addEventListener("click",t=>{if(this.transing){this.transing=!1;return}if(t.button===0){const i=t.intersections.map(s=>s.object)[0]||null;i?e.setAttach(i):e.detach()}}),this.eventManager.addFilterObject(e),this.completeSet.add(()=>{if(this.IS_ENGINESUPPORT){const t=s=>{const o=this.compilerManager.getObjectSymbol(s);return o?this.dataSupportManager.getConfigBySymbol(o):null};let n=null,i;e.addEventListener(gi.OBJECTCHANGED,s=>{const o=s;o.transObjectSet.forEach(a=>{n=t(a),i=o.mode,n&&(n[i].x=a[i].x,n[i].y=a[i].y,n[i].z=a[i].z)})})}}),!0},Mp=function(r={}){if(this.webGLRenderer)return console.warn("this has installed webglRenderer plugin."),!1;this.webGLRenderer=new Js(r);const e=this.webGLRenderer.domElement;return e.style.position="absolute",e.style.top="0",e.style.left="0",e.classList.add("vis-webgl"),this.getScreenshot=async function(t={}){const n={width:this.dom.offsetWidth,height:this.dom.offsetHeight};!t.width&&(t.width=this.dom.offsetWidth),!t.height&&(t.height=this.dom.offsetHeight),!t.mine&&(t.mine="image/png");let i=!1;this.renderManager.hasRendering()&&(this.renderManager.stop(),i=!0);let s="";const o=this.webGLRenderer.getContext(),c=o.getParameter(o.MAX_RENDERBUFFER_SIZE)/4;if(t.width>c||t.height>c){const l=[],u=Math.ceil(t.width/c),h=Math.ceil(t.height/c),d=t.width/u,p=t.height/h,v=document.createElement("canvas");v.setAttribute("width",t.width.toString()),v.setAttribute("height",t.height.toString());const E=v.getContext("2d");if(!E)return console.warn("can not support canvas 2d;"),s;this.setSize(d,p);for(let m=0;m<u;m+=1)for(let C=0;C<h;C+=1)l.push({x:d*m,y:p*C});const x=[];l.forEach(m=>{this.camera.setViewOffset(t.width,t.height,m.x,m.y,d,p),this.renderManager.render();const C=this.webGLRenderer.domElement.toDataURL(t.mine);x.push(new Promise((g,y)=>{const M=new Image;M.src=C,M.onload=()=>{E.drawImage(M,m.x,m.y,d,p),g(null)}}))}),this.setSize(n.width,n.height),await Promise.all(x).catch(m=>{console.warn(m)}),s=v.toDataURL(t.mine),this.camera.clearViewOffset()}else this.setSize(t.width,t.height),this.renderManager.render(),s=this.webGLRenderer.domElement.toDataURL(t.mine),this.setSize(n.width,n.height);return i&&this.renderManager.play(),s},this.addEventListener("setDom",t=>{t.dom.appendChild(this.webGLRenderer.domElement)}),this.addEventListener("setSize",t=>{this.webGLRenderer.setSize(t.width,t.height,!0)}),this.addEventListener("dispose",()=>{this.webGLRenderer.dispose()}),this.renderManager?(this.renderManager.removeEventListener("render",this.render),this.renderManager.addEventListener("render",t=>{this.webGLRenderer.render(this.scene,this.camera)})):this.render=function(){return this.webGLRenderer.render(this.scene,this.camera),this},!0},Ep=/^[og]\s*(.+)?/,Sp=/^mtllib /,Cp=/^usemtl /,wp=/^usemap /,vl=new U,no=new U,bl=new U,Ml=new U,qe=new U,yi=new re;function xp(){const r={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materials:{},materialLibraries:[],startObject:function(e,t){if(this.object&&this.object.fromDeclaration===!1){this.object.name=e,this.object.fromDeclaration=t!==!1;return}const n=this.object&&typeof this.object.currentMaterial=="function"?this.object.currentMaterial():void 0;if(this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0),this.object={name:e||"",fromDeclaration:t!==!1,geometry:{vertices:[],normals:[],colors:[],uvs:[],hasUVIndices:!1},materials:[],smooth:!0,startMaterial:function(i,s){const o=this._finalize(!1);o&&(o.inherited||o.groupCount<=0)&&this.materials.splice(o.index,1);const a={index:this.materials.length,name:i||"",mtllib:Array.isArray(s)&&s.length>0?s[s.length-1]:"",smooth:o!==void 0?o.smooth:this.smooth,groupStart:o!==void 0?o.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(c){const l={index:typeof c=="number"?c:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return l.clone=this.clone.bind(l),l}};return this.materials.push(a),a},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(i){const s=this.currentMaterial();if(s&&s.groupEnd===-1&&(s.groupEnd=this.geometry.vertices.length/3,s.groupCount=s.groupEnd-s.groupStart,s.inherited=!1),i&&this.materials.length>1)for(let o=this.materials.length-1;o>=0;o--)this.materials[o].groupCount<=0&&this.materials.splice(o,1);return i&&this.materials.length===0&&this.materials.push({name:"",smooth:this.smooth}),s}},n&&n.name&&typeof n.clone=="function"){const i=n.clone(0);i.inherited=!0,this.object.materials.push(i)}this.objects.push(this.object)},finalize:function(){this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0)},parseVertexIndex:function(e,t){const n=parseInt(e,10);return(n>=0?n-1:n+t/3)*3},parseNormalIndex:function(e,t){const n=parseInt(e,10);return(n>=0?n-1:n+t/3)*3},parseUVIndex:function(e,t){const n=parseInt(e,10);return(n>=0?n-1:n+t/2)*2},addVertex:function(e,t,n){const i=this.vertices,s=this.object.geometry.vertices;s.push(i[e+0],i[e+1],i[e+2]),s.push(i[t+0],i[t+1],i[t+2]),s.push(i[n+0],i[n+1],i[n+2])},addVertexPoint:function(e){const t=this.vertices;this.object.geometry.vertices.push(t[e+0],t[e+1],t[e+2])},addVertexLine:function(e){const t=this.vertices;this.object.geometry.vertices.push(t[e+0],t[e+1],t[e+2])},addNormal:function(e,t,n){const i=this.normals,s=this.object.geometry.normals;s.push(i[e+0],i[e+1],i[e+2]),s.push(i[t+0],i[t+1],i[t+2]),s.push(i[n+0],i[n+1],i[n+2])},addFaceNormal:function(e,t,n){const i=this.vertices,s=this.object.geometry.normals;vl.fromArray(i,e),no.fromArray(i,t),bl.fromArray(i,n),qe.subVectors(bl,no),Ml.subVectors(vl,no),qe.cross(Ml),qe.normalize(),s.push(qe.x,qe.y,qe.z),s.push(qe.x,qe.y,qe.z),s.push(qe.x,qe.y,qe.z)},addColor:function(e,t,n){const i=this.colors,s=this.object.geometry.colors;i[e]!==void 0&&s.push(i[e+0],i[e+1],i[e+2]),i[t]!==void 0&&s.push(i[t+0],i[t+1],i[t+2]),i[n]!==void 0&&s.push(i[n+0],i[n+1],i[n+2])},addUV:function(e,t,n){const i=this.uvs,s=this.object.geometry.uvs;s.push(i[e+0],i[e+1]),s.push(i[t+0],i[t+1]),s.push(i[n+0],i[n+1])},addDefaultUV:function(){const e=this.object.geometry.uvs;e.push(0,0),e.push(0,0),e.push(0,0)},addUVLine:function(e){const t=this.uvs;this.object.geometry.uvs.push(t[e+0],t[e+1])},addFace:function(e,t,n,i,s,o,a,c,l){const u=this.vertices.length;let h=this.parseVertexIndex(e,u),d=this.parseVertexIndex(t,u),p=this.parseVertexIndex(n,u);if(this.addVertex(h,d,p),this.addColor(h,d,p),a!==void 0&&a!==""){const v=this.normals.length;h=this.parseNormalIndex(a,v),d=this.parseNormalIndex(c,v),p=this.parseNormalIndex(l,v),this.addNormal(h,d,p)}else this.addFaceNormal(h,d,p);if(i!==void 0&&i!==""){const v=this.uvs.length;h=this.parseUVIndex(i,v),d=this.parseUVIndex(s,v),p=this.parseUVIndex(o,v),this.addUV(h,d,p),this.object.geometry.hasUVIndices=!0}else this.addDefaultUV()},addPointGeometry:function(e){this.object.geometry.type="Points";const t=this.vertices.length;for(let n=0,i=e.length;n<i;n++){const s=this.parseVertexIndex(e[n],t);this.addVertexPoint(s),this.addColor(s)}},addLineGeometry:function(e,t){this.object.geometry.type="Line";const n=this.vertices.length,i=this.uvs.length;for(let s=0,o=e.length;s<o;s++)this.addVertexLine(this.parseVertexIndex(e[s],n));for(let s=0,o=t.length;s<o;s++)this.addUVLine(this.parseUVIndex(t[s],i))}};return r.startObject("",!1),r}class _p extends Vs{constructor(e){super(e);this.materials=null}load(e,t,n,i){const s=this,o=new Xa(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(a))}catch(c){i?i(c):console.error(c),s.manager.itemError(e)}},n,i)}setMaterials(e){return this.materials=e,this}parse(e){const t=new xp;e.indexOf(`\r
`)!==-1&&(e=e.replace(/\r\n/g,`
`)),e.indexOf(`\\
`)!==-1&&(e=e.replace(/\\\n/g,""));const n=e.split(`
`);let i="",s="",o=0,a=[];const c=typeof"".trimLeft=="function";for(let h=0,d=n.length;h<d;h++)if(i=n[h],i=c?i.trimLeft():i.trim(),o=i.length,o!==0&&(s=i.charAt(0),s!=="#"))if(s==="v"){const p=i.split(/\s+/);switch(p[0]){case"v":t.vertices.push(parseFloat(p[1]),parseFloat(p[2]),parseFloat(p[3])),p.length>=7?(yi.setRGB(parseFloat(p[4]),parseFloat(p[5]),parseFloat(p[6])).convertSRGBToLinear(),t.colors.push(yi.r,yi.g,yi.b)):t.colors.push(void 0,void 0,void 0);break;case"vn":t.normals.push(parseFloat(p[1]),parseFloat(p[2]),parseFloat(p[3]));break;case"vt":t.uvs.push(parseFloat(p[1]),parseFloat(p[2]));break}}else if(s==="f"){const v=i.slice(1).trim().split(/\s+/),E=[];for(let m=0,C=v.length;m<C;m++){const g=v[m];if(g.length>0){const y=g.split("/");E.push(y)}}const x=E[0];for(let m=1,C=E.length-1;m<C;m++){const g=E[m],y=E[m+1];t.addFace(x[0],g[0],y[0],x[1],g[1],y[1],x[2],g[2],y[2])}}else if(s==="l"){const p=i.substring(1).trim().split(" ");let v=[];const E=[];if(i.indexOf("/")===-1)v=p;else for(let x=0,m=p.length;x<m;x++){const C=p[x].split("/");C[0]!==""&&v.push(C[0]),C[1]!==""&&E.push(C[1])}t.addLineGeometry(v,E)}else if(s==="p"){const v=i.slice(1).trim().split(" ");t.addPointGeometry(v)}else if((a=Ep.exec(i))!==null){const p=(" "+a[0].slice(1).trim()).slice(1);t.startObject(p)}else if(Cp.test(i))t.object.startMaterial(i.substring(7).trim(),t.materialLibraries);else if(Sp.test(i))t.materialLibraries.push(i.substring(7).trim());else if(wp.test(i))console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.');else if(s==="s"){if(a=i.split(" "),a.length>1){const v=a[1].trim().toLowerCase();t.object.smooth=v!=="0"&&v!=="off"}else t.object.smooth=!0;const p=t.object.currentMaterial();p&&(p.smooth=t.object.smooth)}else{if(i==="\0")continue;console.warn('THREE.OBJLoader: Unexpected line: "'+i+'"')}t.finalize();const l=new Qa;if(l.materialLibraries=[].concat(t.materialLibraries),!(t.objects.length===1&&t.objects[0].geometry.vertices.length===0)===!0)for(let h=0,d=t.objects.length;h<d;h++){const p=t.objects[h],v=p.geometry,E=p.materials,x=v.type==="Line",m=v.type==="Points";let C=!1;if(v.vertices.length===0)continue;const g=new We;g.setAttribute("position",new ve(v.vertices,3)),v.normals.length>0&&g.setAttribute("normal",new ve(v.normals,3)),v.colors.length>0&&(C=!0,g.setAttribute("color",new ve(v.colors,3))),v.hasUVIndices===!0&&g.setAttribute("uv",new ve(v.uvs,2));const y=[];for(let S=0,w=E.length;S<w;S++){const _=E[S],R=_.name+"_"+_.smooth+"_"+C;let I=t.materials[R];if(this.materials!==null){if(I=this.materials.create(_.name),x&&I&&!(I instanceof _t)){const k=new _t;hi.prototype.copy.call(k,I),k.color.copy(I.color),I=k}else if(m&&I&&!(I instanceof it)){const k=new it({size:10,sizeAttenuation:!1});hi.prototype.copy.call(k,I),k.color.copy(I.color),k.map=I.map,I=k}}I===void 0&&(x?I=new _t:m?I=new it({size:1,sizeAttenuation:!1}):I=new Ks,I.name=_.name,I.flatShading=!_.smooth,I.vertexColors=C,t.materials[R]=I),y.push(I)}let M;if(y.length>1){for(let S=0,w=E.length;S<w;S++){const _=E[S];g.addGroup(_.groupStart,_.groupCount,S)}x?M=new st(g,y):m?M=new ft(g,y):M=new mt(g,y)}else x?M=new st(g,y[0]):m?M=new ft(g,y[0]):M=new mt(g,y[0]);M.name=p.name,l.add(M)}else if(t.vertices.length>0){const h=new it({size:1,sizeAttenuation:!1}),d=new We;d.setAttribute("position",new ve(t.vertices,3)),t.colors.length>0&&t.colors[0]!==void 0&&(d.setAttribute("color",new ve(t.colors,3)),h.vertexColors=!0);const p=new ft(d,h);l.add(p)}return l}}class Op extends Vs{constructor(e){super(e)}load(e,t,n,i){const s=this,o=this.path===""?hd.extractUrlBase(e):this.path,a=new Xa(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(c){try{t(s.parse(c,o))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},n,i)}setMaterialOptions(e){return this.materialOptions=e,this}parse(e,t){const n=e.split(`
`);let i={};const s=/\s+/,o={};for(let c=0;c<n.length;c++){let l=n[c];if(l=l.trim(),l.length===0||l.charAt(0)==="#")continue;const u=l.indexOf(" ");let h=u>=0?l.substring(0,u):l;h=h.toLowerCase();let d=u>=0?l.substring(u+1):"";if(d=d.trim(),h==="newmtl")i={name:d},o[d]=i;else if(h==="ka"||h==="kd"||h==="ks"||h==="ke"){const p=d.split(s,3);i[h]=[parseFloat(p[0]),parseFloat(p[1]),parseFloat(p[2])]}else i[h]=d}const a=new Tp(this.resourcePath||t,this.materialOptions);return a.setCrossOrigin(this.crossOrigin),a.setManager(this.manager),a.setMaterials(o),a}}class Tp{constructor(e="",t={}){this.baseUrl=e,this.options=t,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.crossOrigin="anonymous",this.side=this.options.side!==void 0?this.options.side:Za,this.wrap=this.options.wrap!==void 0?this.options.wrap:dd}setCrossOrigin(e){return this.crossOrigin=e,this}setManager(e){this.manager=e}setMaterials(e){this.materialsInfo=this.convert(e),this.materials={},this.materialsArray=[],this.nameLookup={}}convert(e){if(!this.options)return e;const t={};for(const n in e){const i=e[n],s={};t[n]=s;for(const o in i){let a=!0,c=i[o];const l=o.toLowerCase();switch(l){case"kd":case"ka":case"ks":this.options&&this.options.normalizeRGB&&(c=[c[0]/255,c[1]/255,c[2]/255]),this.options&&this.options.ignoreZeroRGBs&&c[0]===0&&c[1]===0&&c[2]===0&&(a=!1);break}a&&(s[l]=c)}}return t}preload(){for(const e in this.materialsInfo)this.create(e)}getIndex(e){return this.nameLookup[e]}getAsArray(){let e=0;for(const t in this.materialsInfo)this.materialsArray[e]=this.create(t),this.nameLookup[t]=e,e++;return this.materialsArray}create(e){return this.materials[e]===void 0&&this.createMaterial_(e),this.materials[e]}createMaterial_(e){const t=this,n=this.materialsInfo[e],i={name:e,side:this.side};function s(a,c){return typeof c!="string"||c===""?"":/^https?:\/\//i.test(c)?c:a+c}function o(a,c){if(i[a])return;const l=t.getTextureParams(c,i),u=t.loadTexture(s(t.baseUrl,l.url));u.repeat.copy(l.scale),u.offset.copy(l.offset),u.wrapS=t.wrap,u.wrapT=t.wrap,(a==="map"||a==="emissiveMap")&&(u.encoding=xd),i[a]=u}for(const a in n){const c=n[a];let l;if(c!=="")switch(a.toLowerCase()){case"kd":i.color=new re().fromArray(c).convertSRGBToLinear();break;case"ks":i.specular=new re().fromArray(c).convertSRGBToLinear();break;case"ke":i.emissive=new re().fromArray(c).convertSRGBToLinear();break;case"map_kd":o("map",c);break;case"map_ks":o("specularMap",c);break;case"map_ke":o("emissiveMap",c);break;case"norm":o("normalMap",c);break;case"map_bump":case"bump":o("bumpMap",c);break;case"map_d":o("alphaMap",c),i.transparent=!0;break;case"ns":i.shininess=parseFloat(c);break;case"d":l=parseFloat(c),l<1&&(i.opacity=l,i.transparent=!0);break;case"tr":l=parseFloat(c),this.options&&this.options.invertTrProperty&&(l=1-l),l>0&&(i.opacity=1-l,i.transparent=!0);break}}return this.materials[e]=new Ks(i),this.materials[e]}getTextureParams(e,t){const n={scale:new ne(1,1),offset:new ne(0,0)},i=e.split(/\s+/);let s;return s=i.indexOf("-bm"),s>=0&&(t.bumpScale=parseFloat(i[s+1]),i.splice(s,2)),s=i.indexOf("-s"),s>=0&&(n.scale.set(parseFloat(i[s+1]),parseFloat(i[s+2])),i.splice(s,4)),s=i.indexOf("-o"),s>=0&&(n.offset.set(parseFloat(i[s+1]),parseFloat(i[s+2])),i.splice(s,4)),n.url=i.join(" ").trim(),n}loadTexture(e,t,n,i,s){const o=this.manager!==void 0?this.manager:pd;let a=o.getHandler(e);a===null&&(a=new fd(o)),a.setCrossOrigin&&a.setCrossOrigin(this.crossOrigin);const c=a.load(e,n,i,s);return t!==void 0&&(c.mapping=t),c}}const gn=class extends Vs{constructor(r){super(r)}load(r,e,t,n){this.path!==void 0&&(r=this.path+r),this.manager.itemStart(r),r=this.manager.resolveURL(r);const i=Ja.get(r);if(i!==void 0)return setTimeout(()=>{e&&e(i),this.manager.itemEnd(r)},0),i;const s=document.createElement("video");return s.preload=gn.preload,s.autoplay=gn.autoplay,s.loop=gn.loop,s.muted=gn.muted,s.src=r,s.style.position="fixed",s.style.top="0",s.style.left="0",s.style.zIndex="-1",document.body.appendChild(s),s.oncanplay=()=>{Ja.add(r,s),this.manager.itemEnd(r),e&&e(s)},s.onerror=o=>{this.manager.itemEnd(r),n&&n(o)},s}};let yn=gn;f(yn,"autoplay",!0);f(yn,"preload","auto");f(yn,"muted",!0);f(yn,"loop",!0);var Le;(function(r){r.BEFORELOAD="beforeLoad",r.LOADING="loading",r.DETAILLOADING="detailLoading",r.DETAILLOADED="detailLoaded",r.LOADED="loaded"})(Le||(Le={}));class Rp extends gt{constructor(e){super();f(this,"resourceMap"),f(this,"loaderMap"),f(this,"loadTotal"),f(this,"loadSuccess"),f(this,"loadError"),f(this,"isError"),f(this,"isLoading"),f(this,"isLoaded"),f(this,"loadDetailMap"),f(this,"path",""),this.resourceMap=new Map,this.loadTotal=0,this.loadSuccess=0,this.loadError=0,this.isError=!1,this.isLoading=!1,this.isLoaded=!1,this.loadDetailMap={};const t=new Gd,n=new yn;this.loaderMap={jpg:t,png:t,jpeg:t,obj:new _p,mtl:new Op,mp4:n,webm:n,ogg:n},e&&(this.loaderMap=Object.assign(this.loaderMap,e.loaderExtends))}loaded(){return this.dispatchEvent({type:Le.LOADED,loadTotal:this.loadTotal,loadSuccess:this.loadSuccess,loadError:this.loadError,resourceMap:this.resourceMap}),this}checkLoaded(){return this.loadTotal===this.loadSuccess+this.loadError&&(this.isError=!0,this.isLoaded=!0,this.isLoading=!1,this.loaded()),this}setPath(e){const t=this.loaderMap;return Object.keys(t).forEach(n=>{t[n].setPath(e)}),this.path=e,this}load(e){var t;if(this.reset(),this.isLoading=!0,this.dispatchEvent({type:Le.BEFORELOAD,urlList:[...e]}),e.length<=0)return this.checkLoaded(),console.warn("url list is empty."),this;this.loadTotal+=e.length;const n=this.resourceMap,i=this.loaderMap,s=this.loadDetailMap;for(const o of e){let a,c;typeof o=="string"?(a=o,c=((t=a.split(".").pop())==null?void 0:t.toLocaleLowerCase())||""):(a=o.url,c=o.ext.toLocaleLowerCase());const l={url:a,progress:0,error:!1,message:a};if(s[a]=l,n.has(a)){l.progress=1,this.loadSuccess+=1,this.dispatchEvent({type:Le.DETAILLOADED,detail:l}),this.dispatchEvent({type:Le.LOADING,loadTotal:this.loadTotal,loadSuccess:this.loadSuccess,loadError:this.loadError}),this.checkLoaded();continue}if(!c){l.message=`url: ${a} \u5730\u5740\u6709\u8BEF\uFF0C\u65E0\u6CD5\u83B7\u53D6\u6587\u4EF6\u683C\u5F0F\u3002`,console.warn(l.message),l.error=!0,this.isError=!0,this.loadError+=1,this.dispatchEvent({type:Le.DETAILLOADED,detail:l}),this.dispatchEvent({type:Le.LOADING,loadTotal:this.loadTotal,loadSuccess:this.loadSuccess,loadError:this.loadError});continue}const u=i[c];if(!u){l.message=`url: ${a} \u4E0D\u652F\u6301\u6B64\u6587\u4EF6\u683C\u5F0F\u52A0\u8F7D\u3002`,console.warn(l.message),l.error=!0,this.isError=!0,this.loadError+=1,this.dispatchEvent({type:Le.DETAILLOADED,detail:l}),this.dispatchEvent({type:Le.LOADING,loadTotal:this.loadTotal,loadSuccess:this.loadSuccess,loadError:this.loadError});continue}u.loadAsync(a,h=>{l.progress=Number((h.loaded/h.total).toFixed(2)),this.dispatchEvent({type:Le.DETAILLOADING,detail:l})}).then(h=>{l.progress=1,this.loadSuccess+=1,this.resourceMap.set(a,h),this.dispatchEvent({type:Le.DETAILLOADED,detail:l}),this.dispatchEvent({type:Le.LOADING,loadTotal:this.loadTotal,loadSuccess:this.loadSuccess,loadError:this.loadError}),this.checkLoaded()}).catch(h=>{l.error=!0,l.message=JSON.stringify(h),this.loadError+=1,this.dispatchEvent({type:Le.DETAILLOADED,detail:l}),this.dispatchEvent({type:Le.LOADING,loadTotal:this.loadTotal,loadSuccess:this.loadSuccess,loadError:this.loadError}),this.checkLoaded()})}return this}reset(){return this.loadTotal=0,this.loadSuccess=0,this.loadError=0,this.isError=!1,this.isLoading=!1,this.isLoaded=!1,this.loadDetailMap={},this}register(e,t){return this.loaderMap[e]=t,this}hasLoaded(e){return this.resourceMap.has(e)}getResource(e){return this.resourceMap.get(e)}getLoadDetailMap(){return this.loadDetailMap}setLoadDetailMap(e){return this.loadDetailMap=e,this}remove(e){}toJSON(){const e=[];return this.resourceMap.forEach((t,n)=>{e.push(n)}),JSON.stringify(e)}exportConfig(){const e=[];return this.resourceMap.forEach((t,n)=>{e.push(n)}),e}dispose(){return this.resourceMap.clear(),this}}const Ap=function(r){if(this.loaderManager)return console.warn("engine has installed loaderManager plugin."),!1;const e=new Rp(r);return this.loaderManager=e,this.loadResources=(t,n)=>{if(this.resourceManager){const i=s=>{n(void 0,s),this.resourceManager.removeEventListener("mapped",i)};try{this.resourceManager.addEventListener("mapped",i)}catch(s){n(s)}}else{const i=s=>{n(void 0,s),this.loaderManager.removeEventListener("loaded",i)};try{this.loaderManager.addEventListener("loaded",i)}catch(s){n(s)}}return this.loaderManager.load(t),this},this.loadResourcesAsync=t=>new Promise((n,i)=>{if(this.resourceManager){const s=o=>{n(o),this.resourceManager.removeEventListener("mapped",s)};try{this.resourceManager.addEventListener("mapped",s)}catch(o){i(o)}}else{const s=o=>{n(o),this.loaderManager.removeEventListener("loaded",s)};try{this.loaderManager.addEventListener("loaded",s)}catch(o){i(o)}}this.loaderManager.load(t)}),!0};var vi,Pp=new Uint8Array(16);function Lp(){if(!vi&&(vi=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!vi))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return vi(Pp)}var Ip=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function J(r){return typeof r=="string"&&Ip.test(r)}var Me=[];for(var io=0;io<256;++io)Me.push((io+256).toString(16).substr(1));function Dp(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(Me[r[e+0]]+Me[r[e+1]]+Me[r[e+2]]+Me[r[e+3]]+"-"+Me[r[e+4]]+Me[r[e+5]]+"-"+Me[r[e+6]]+Me[r[e+7]]+"-"+Me[r[e+8]]+Me[r[e+9]]+"-"+Me[r[e+10]]+Me[r[e+11]]+Me[r[e+12]]+Me[r[e+13]]+Me[r[e+14]]+Me[r[e+15]]).toLowerCase();if(!J(t))throw TypeError("Stringified UUID is invalid");return t}function jp(r,e,t){r=r||{};var n=r.random||(r.rng||Lp)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(var i=0;i<16;++i)e[t+i]=n[i];return e}return Dp(n)}const Np={name:"uvPulseShader",uniforms:{time:{value:0},width:{value:.5},color:{value:{r:1,g:0,b:0}},center:{value:{x:.5,y:.5}}},vertexShader:`
    varying vec2 vUv;

    void main () {

      vUv = uv;

      gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
    }`,fragmentShader:`
    uniform float width;
    uniform float time;
    uniform vec3 color;
    uniform vec2 center;

    varying vec2 vUv;

    void main () {
      // \u6839\u636EuTime\u6C42\u51FA\u767E\u5206\u6BD4
      float deg = mod(degrees(time), 360.0);
      if (deg > 0.0 && deg < 180.0) {
        discard;
      }

      float percent = cos(time);
      float distancePercent = distance(center, vUv);

      // \u4ECE\u5916\u5411\u91CC
      if (distancePercent > 0.5) {
        discard;
      }

      if (distancePercent < percent) {
        discard;
      }

      if (distancePercent - percent > width) {
        discard;
      }

      float opacity =  (width - (distancePercent - percent)) / width;

      // float opacity = distancePercent;
      gl_FragColor = vec4(color, opacity);
    }`},zp={name:"fragCoordTestingShader",uniforms:{resolution:{value:{x:1920,y:1080}}},vertexShader:`
  void main () {
    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
  }`,fragmentShader:`
    uniform vec2 resolution;

    void main () {
      vec2 st = gl_FragCoord.xy / resolution;
      gl_FragColor = vec4(st.x,st.y,0.0,1.0);
    }`},kp={name:"colorMixShader",uniforms:{colorA:{value:{r:1,g:0,b:0}},colorB:{value:{r:0,g:1,b:0}},percent:{value:.5}},vertexShader:`
  void main () {
    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
  }`,fragmentShader:`
    uniform vec3 colorA;
    uniform vec3 colorB;
    uniform float percent;

    void main () {
      gl_FragColor = vec4(mix(colorA, colorB, percent), 1.0);
    }`},$p={name:"BloomShader",uniforms:{brightness:{value:.5},width:{value:5},color:{value:{r:1,g:1,b:1}}},vertexShader:`
  uniform float width;

  varying vec3 vNormal; // \u6CD5\u7EBF
  varying vec3 vPositionNormal;
  void main () {
    vec3 vNormal = normalize( normalMatrix * normal ); // \u8F6C\u6362\u5230\u89C6\u56FE\u7A7A\u95F4
    vec3 vPositionNormal = normalize(normalMatrix * -cameraPosition);
    gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position + normalize(position) * width, 1.0);
    // gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.0);
  }`,fragmentShader:`
    uniform vec3 color;
    uniform float brightness;

    varying vec3 vNormal;
    varying vec3 vPositionNormal;
    
    void main () {
      float a = dot(vNormal, vPositionNormal);
      gl_FragColor = vec4(color, a);
    }`},Ft=class{static getShader(r){return Ft.library.has(r)?Ft.cloneShader(Ft.library.get(r)):(console.warn(`con not found shader in shader library: ${r}`),null)}static generateConfig(r){if(!Ft.library.has(r))return console.warn(`con not found shader in shader library: ${r}`),{};const e=Ft.library.get(r),t={shader:r,uniforms:{}};return e.uniforms&&(t.uniforms=JSON.parse(JSON.stringify(e.uniforms))),t}static cloneShader(r){const e={name:r.name};return r.vertexShader&&(e.vertexShader=r.vertexShader),r.fragmentShader&&(e.fragmentShader=r.fragmentShader),r.uniforms&&(e.uniforms=JSON.parse(JSON.stringify(r.uniforms))),e}};let Tt=Ft;f(Tt,"library",new Map);f(Tt,"reigster",function(r){Ft.library.has(r.name)&&console.warn(`shader library has exist shader: ${r.name} that will be cover.`),Ft.library.set(r.name,r)});const Bp={name:"defaultShader"};Tt.reigster(Bp);Tt.reigster(Np);Tt.reigster(zp);Tt.reigster(kp);Tt.reigster($p);var b;(function(r){r.BOXGEOMETRY="BoxGeometry",r.SPHEREGEOMETRY="SphereGeometry",r.LOADGEOMETRY="LoadGeometry",r.PLANEGEOMETRY="PlaneGeometry",r.CIRCLEGEOMETRY="CircleGeometry",r.CONEGEOMETRY="ConeGeometry",r.CYLINDERGEOMETRY="CylinderGeometry",r.DODECAHEDRONGEOMETRY="DodecahedronGeometry",r.TORUSGEOMETRY="TorusGeometry",r.RINGGEOMETRY="RingGeometry",r.EDGESGEOMETRY="EdgesGeometry",r.LINECURVEGEOMETRY="LineCurveGeometry",r.SPLINECURVEGEOMETRY="SplineCurveGeometry",r.CUBICBEZIERCURVEGEOMETRY="CubicBezierCurveGeometry",r.QUADRATICBEZIERCURVEGEOMETRY="QuadraticBezierCurveGeometry",r.CUSTOMGEOMETRY="CustomGeometry",r.LINETUBEGEOMETRY="LineTubeGeometry",r.SPLINETUBEGEOMETRY="SplineTubeGeometry",r.LINESHAPEGEOMETRY="LineShapeGeometry",r.MESH="Mesh",r.LINE="Line",r.POINTS="Points",r.SPRITE="Sprite",r.GROUP="Group",r.CSS3DOBJECT="CSS3DObject",r.CSS3DSPRITE="CSS3DSprite",r.CSS3DPLANE="CSS3DPlane",r.IMAGETEXTURE="ImageTexture",r.CUBETEXTURE="CubeTexture",r.CANVASTEXTURE="CanvasTexture",r.VIDEOTEXTURE="VideoTexture",r.MESHBASICMATERIAL="MeshBasicMaterial",r.MESHSTANDARDMATERIAL="MeshStandardMaterial",r.MESHPHONGMATERIAL="MeshPhongMaterial",r.SPRITEMATERIAL="SpriteMaterial",r.LINEBASICMATERIAL="LineBasicMaterial",r.POINTSMATERIAL="PointsMaterial",r.SHADERMATERIAL="ShaderMaterial",r.AMBIENTLIGHT="AmbientLight",r.SPOTLIGHT="SpotLight",r.POINTLIGHT="PointLight",r.DIRECTIONALLIGHT="DirectionalLight",r.HEMISPHERELIGHT="HemisphereLight",r.PERSPECTIVECAMERA="PerspectiveCamera",r.ORTHOGRAPHICCAMERA="OrthographicCamera",r.WEBGLRENDERER="WebGLRenderer",r.CSS3DRENDERER="CSS3DRenderer",r.SCENE="Scene",r.TRNASFORMCONTROLS="TransformControls",r.ORBITCONTROLS="OrbitControls",r.SMAAPASS="SMAAPass",r.UNREALBLOOMPASS="UnrealBloomPass",r.SCRIPTANIMATION="ScriptAnimation",r.KEYFRAMEANIMATION="KeyframeAnimation"})(b||(b={}));const Ht=()=>({vid:"",name:"",type:"Object3D",castShadow:!0,receiveShadow:!0,lookAt:"",visible:!0,matrixAutoUpdate:!0,renderOrder:0,position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},scale:{x:1,y:1,z:1},up:{x:0,y:1,z:0},parent:"",children:[],pointerdown:[],pointermove:[],pointerup:[],pointerenter:[],pointerleave:[],click:[],dblclick:[],contextmenu:[]}),bi=function(){return Object.assign(Ht(),{type:"Light",color:"rgb(255, 255, 255)",intensity:1})},Fp=function(){return Object.assign(Ht(),{type:b.AMBIENTLIGHT,color:"rgb(255, 255, 255)",intensity:1})},Hp=function(){return Object.assign(bi(),{type:b.POINTLIGHT,distance:30,decay:.01})},Gp=function(){return Object.assign(bi(),{type:b.SPOTLIGHT,distance:30,angle:Math.PI/180*45,penumbra:.01,decay:.01})},Up=function(){return Object.assign(bi(),{type:b.DIRECTIONALLIGHT,shadow:{mapSize:{width:512,height:512},camera:{near:.5,far:500}}})},Vp=function(){return Object.assign(bi(),{type:b.HEMISPHERELIGHT,color:"rgb(255, 255, 255)",groundColor:"rgb(0, 0, 0)"})},Ie=function(){return{vid:"",type:"Geometry",position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},scale:{x:1,y:1,z:1},groups:[]}},Kp=function(){return Object.assign(Ie(),{type:b.BOXGEOMETRY,width:5,height:5,depth:5,widthSegments:1,heightSegments:1,depthSegments:1})},Wp=function(){return Object.assign(Ie(),{type:b.SPHEREGEOMETRY,radius:3,widthSegments:32,heightSegments:32,phiStart:0,phiLength:Math.PI*2,thetaStart:0,thetaLength:Math.PI})},Yp=function(){return Object.assign(Ie(),{type:b.PLANEGEOMETRY,width:5,height:5,widthSegments:1,heightSegments:1})},qp=function(){return Object.assign(Ie(),{type:b.CIRCLEGEOMETRY,radius:3,segments:8,thetaStart:0,thetaLength:Math.PI*2})},Xp=function(){return Object.assign(Ie(),{type:b.CONEGEOMETRY,radius:3,height:5,radialSegments:8,heightSegments:1,openEnded:!1,thetaStart:0,thetaLength:Math.PI*2})},Qp=function(){return Object.assign(Ie(),{type:b.TORUSGEOMETRY,radius:3,tube:.4,radialSegments:8,tubularSegments:6,arc:Math.PI*2})},Zp=function(){return Object.assign(Ie(),{type:b.RINGGEOMETRY,innerRadius:2,outerRadius:3,thetaSegments:8,phiSegments:8,thetaStart:0,thetaLength:Math.PI*2})},Jp=function(){return Object.assign(Ie(),{type:b.LOADGEOMETRY,url:""})},ef=function(){return Object.assign(Ie(),{type:b.CUSTOMGEOMETRY,attribute:{position:[],color:[],index:[],normal:[],uv:[],uv2:[]}})},tf=function(){return Object.assign(Ie(),{type:b.CYLINDERGEOMETRY,radiusTop:3,radiusBottom:3,height:5,radialSegments:8,heightSegments:1,openEnded:!1,thetaStart:0,thetaLength:Math.PI*2})},rf=function(){return Object.assign(Ie(),{type:"",radius:3,detail:0})},nf=function(){return Object.assign(Ie(),{type:b.LOADGEOMETRY,url:"",thresholdAngle:1})},Mi=function(){return Object.assign(Ie(),{path:[],divisions:36,space:!0})},sf=function(){return Object.assign(Mi(),{type:b.LINECURVEGEOMETRY})},of=function(){return Object.assign(Mi(),{type:b.SPLINECURVEGEOMETRY})},af=function(){return Object.assign(Mi(),{type:b.CUBICBEZIERCURVEGEOMETRY})},lf=function(){return Object.assign(Mi(),{type:b.QUADRATICBEZIERCURVEGEOMETRY})},El=function(){return Object.assign(Ie(),{type:"TubeGeometry",path:[],tubularSegments:64,radius:1,radialSegments:8,closed:!1})},cf=function(){return Object.assign(El(),{type:b.LINETUBEGEOMETRY})},uf=function(){return Object.assign(El(),{type:b.SPLINETUBEGEOMETRY})},hf=function(){return Object.assign(Ie(),{path:[],curveSegments:12})},df=function(){return Object.assign(hf(),{type:b.LINESHAPEGEOMETRY})},Ei=function(){return{vid:"",type:"Texture",name:"",mapping:_d,wrapS:ol,wrapT:ol,magFilter:fi,minFilter:Od,anisotropy:1,format:Zs,offset:{x:0,y:0},repeat:{x:1,y:1},rotation:0,center:{x:0,y:0},matrixAutoUpdate:!0,encoding:al,needsUpdate:!1}},pf=function(){return Object.assign(Ei(),{type:b.IMAGETEXTURE,url:""})},ff=function(){return Object.assign(Ei(),{type:b.VIDEOTEXTURE,url:"",minFilter:fi})},mf=function(){return Object.assign(Ei(),{type:b.CUBETEXTURE,cube:{nx:"",ny:"",nz:"",px:"",py:"",pz:""},mapping:Td,flipY:!1})},gf=function(){return Object.assign(Ei(),{type:b.CANVASTEXTURE,url:"",needsUpdate:!1})},or=function(){return{vid:"",type:"Material",alphaTest:0,colorWrite:!0,depthTest:!0,depthWrite:!0,fog:!0,name:"",needsUpdate:!1,opacity:1,dithering:!1,shadowSide:null,side:Za,toneMapped:!0,transparent:!1,visible:!0,blendDst:Rd,blendDstAlpha:null,blendEquation:Ad,blendEquationAlpha:null,blending:Pd,blendSrc:Ld,blendSrcAlpha:null,polygonOffset:!1,polygonOffsetFactor:0,polygonOffsetUnits:0}},yf=function(){return Object.assign(or(),{type:b.MESHBASICMATERIAL,color:"rgb(255, 255, 255)",combine:ll,aoMapIntensity:1,fog:!0,lightMapIntensity:1,reflectivity:1,refractionRatio:.98,wireframe:!1,wireframeLinecap:"round",wireframeLinejoin:"round",wireframeLinewidth:1,map:"",envMap:"",alphaMap:"",aoMap:"",lightMap:"",specularMap:""})},vf=function(){return Object.assign(or(),{type:b.MESHSTANDARDMATERIAL,aoMapIntensity:1,bumpScale:1,color:"rgb(255, 255, 255)",displacementScale:1,displacementBias:0,emissive:"rgb(0, 0, 0)",emissiveIntensity:1,envMapIntensity:1,flatShading:!1,lightMapIntensity:1,metalness:0,normalMapType:cl,refractionRatio:.98,roughness:1,wireframe:!1,wireframeLinecap:"round",wireframeLinejoin:"round",roughnessMap:"",normalMap:"",metalnessMap:"",map:"",lightMap:"",envMap:"",emissiveMap:"",displacementMap:"",bumpMap:"",alphaMap:"",aoMap:""})},bf=function(){return Object.assign(or(),{type:b.MESHPHONGMATERIAL,aoMapIntensity:1,bumpScale:1,color:"rgb(255, 255, 255)",displacementScale:1,displacementBias:0,emissive:"rgb(0, 0, 0)",emissiveIntensity:1,envMapIntensity:1,flatShading:!1,lightMapIntensity:1,normalMapType:cl,refractionRatio:.98,wireframe:!1,wireframeLinecap:"round",wireframeLinejoin:"round",specular:"rgb(17, 17, 17)",shininess:30,combine:ll,normalMap:"",map:"",lightMap:"",envMap:"",emissiveMap:"",displacementMap:"",bumpMap:"",alphaMap:"",aoMap:"",specularMap:""})},Mf=function(){return Object.assign(or(),{type:b.SPRITEMATERIAL,color:"rgb(255, 255, 255)",rotation:0,map:"",alphaMap:"",sizeAttenuation:!0})},Ef=function(){return Object.assign(or(),{type:b.LINEBASICMATERIAL,color:"rgb(255, 255, 255)",linecap:"round",linejoin:"round",linewidth:1})},Sf=function(){return Object.assign(or(),{type:b.POINTSMATERIAL,map:"",alphaMap:"",color:"rgb(255, 255, 255)",sizeAttenuation:!0,size:1})},Cf=function(){return Object.assign(or(),{type:b.SHADERMATERIAL,shader:"defaultShader",uniforms:{}})},wf=function(){return Object.assign(Ht(),{type:b.PERSPECTIVECAMERA,adaptiveWindow:!1,fov:45,aspect:1920/1080,near:5,far:50})},xf=function(){return Object.assign(Ht(),{type:b.ORTHOGRAPHICCAMERA,adaptiveWindow:!1,left:-1920/32,right:1920/32,top:1080/32,bottom:-1080/32,near:5,far:50,zoom:1})},Sl=function(){return{vid:"",type:"Renderer",size:null}},_f=function(){return Object.assign(Sl(),{vid:b.WEBGLRENDERER,type:b.WEBGLRENDERER,clearColor:"rgba(0, 0, 0, 0)",outputEncoding:al,physicallyCorrectLights:!1,shadowMap:{enabled:!1,autoUpdate:!0,needsUpdate:!1,type:Id},toneMapping:Dd,toneMappingExposure:1,pixelRatio:window.devicePixelRatio,adaptiveCamera:!1,viewport:null,scissor:null})},Of=function(){return Object.assign(Sl(),{vid:b.CSS3DRENDERER,type:b.CSS3DRENDERER})},Tf=function(){return Object.assign(Ht(),{vid:b.SCENE,type:b.SCENE,background:"",environment:"",fog:{type:"",color:"rgb(150, 150, 150)",near:1,far:200,density:.003}})},Rf=function(){return{vid:b.TRNASFORMCONTROLS,type:b.TRNASFORMCONTROLS,axis:"XYZ",enabled:!0,mode:"translate",snapAllow:!1,rotationSnap:Math.PI/180*10,translationSnap:5,scaleSnap:.1,showX:!0,showY:!0,showZ:!0,size:1,space:"world"}},Af=function(){return{vid:b.ORBITCONTROLS,type:b.ORBITCONTROLS,autoRotate:!1,autoRotateSpeed:2,enableDamping:!1,dampingFactor:.05,enabled:!0,enablePan:!0,enableRotate:!0,enableZoom:!0,maxAzimuthAngle:1/0,maxDistance:1/0,maxPolarAngle:Math.PI,maxZoom:1/0,minAzimuthAngle:-1/0,minDistance:0,minPolarAngle:0,minZoom:0,panSpeed:1,rotateSpeed:1,zoomSpeed:1,screenSpacePanning:!0,target:null}},Si=function(){return Object.assign(Ht(),{material:"",geometry:""})},Pf=function(){return Object.assign(Si(),{type:"Sprite",material:"",center:{x:.5,y:.5}})},Lf=function(){return Object.assign(Si(),{type:b.MESH,geometry:"",material:""})},If=function(){return Object.assign(Si(),{type:b.POINTS,geometry:"",material:""})},Df=function(){return Object.assign(Si(),{type:b.LINE,geometry:"",material:""})},jf=function(){return Object.assign(Ht(),{type:b.GROUP,children:[]})},Cl=function(){return{vid:"",type:"Pass"}},Nf=function(){return Object.assign(Cl(),{type:b.SMAAPASS})},zf=function(){return Object.assign(Cl(),{type:b.UNREALBLOOMPASS,strength:1.5,threshold:0,radius:0})},wl=function(){return{vid:"",type:"",name:"",target:"",attribute:"",play:!0}},kf=function(){return Object.assign(wl(),{type:b.SCRIPTANIMATION,script:{name:""}})},$f=function(){return Object.assign(wl(),{type:b.KEYFRAMEANIMATION,script:{name:""}})},so=function(){return Object.assign(Ht(),{type:b.CSS3DOBJECT,element:"",width:50,height:50})},Bf=function(){return Object.assign(so(),{type:b.CSS3DPLANE})},Ff=function(){return Object.assign(so(),{type:b.CSS3DSPRITE,rotation2D:0})},Or={[b.IMAGETEXTURE]:pf,[b.CUBETEXTURE]:mf,[b.CANVASTEXTURE]:gf,[b.VIDEOTEXTURE]:ff,[b.MESHBASICMATERIAL]:yf,[b.MESHSTANDARDMATERIAL]:vf,[b.MESHPHONGMATERIAL]:bf,[b.SPRITEMATERIAL]:Mf,[b.LINEBASICMATERIAL]:Ef,[b.POINTSMATERIAL]:Sf,[b.SHADERMATERIAL]:Cf,[b.AMBIENTLIGHT]:Fp,[b.SPOTLIGHT]:Gp,[b.POINTLIGHT]:Hp,[b.DIRECTIONALLIGHT]:Up,[b.HEMISPHERELIGHT]:Vp,[b.BOXGEOMETRY]:Kp,[b.SPHEREGEOMETRY]:Wp,[b.LOADGEOMETRY]:Jp,[b.CUSTOMGEOMETRY]:ef,[b.PLANEGEOMETRY]:Yp,[b.CIRCLEGEOMETRY]:qp,[b.CONEGEOMETRY]:Xp,[b.CYLINDERGEOMETRY]:tf,[b.EDGESGEOMETRY]:nf,[b.LINECURVEGEOMETRY]:sf,[b.SPLINECURVEGEOMETRY]:of,[b.CUBICBEZIERCURVEGEOMETRY]:af,[b.QUADRATICBEZIERCURVEGEOMETRY]:lf,[b.DODECAHEDRONGEOMETRY]:rf,[b.SPLINETUBEGEOMETRY]:uf,[b.LINETUBEGEOMETRY]:cf,[b.TORUSGEOMETRY]:Qp,[b.RINGGEOMETRY]:Zp,[b.LINESHAPEGEOMETRY]:df,[b.SPRITE]:Pf,[b.LINE]:Df,[b.MESH]:Lf,[b.POINTS]:If,[b.GROUP]:jf,[b.CSS3DOBJECT]:so,[b.CSS3DSPRITE]:Ff,[b.CSS3DPLANE]:Bf,[b.PERSPECTIVECAMERA]:wf,[b.ORTHOGRAPHICCAMERA]:xf,[b.WEBGLRENDERER]:_f,[b.CSS3DRENDERER]:Of,[b.SCENE]:Tf,[b.TRNASFORMCONTROLS]:Rf,[b.ORBITCONTROLS]:Af,[b.SMAAPASS]:Nf,[b.UNREALBLOOMPASS]:zf,[b.SCRIPTANIMATION]:kf,[b.KEYFRAMEANIMATION]:$f};var A;(function(r){r.CAMERA="camera",r.LIGHT="light",r.GEOMETRY="geometry",r.TEXTURE="texture",r.MATERIAL="material",r.RENDERER="renderer",r.SCENE="scene",r.SPRITE="sprite",r.CONTROLS="controls",r.LINE="line",r.MESH="mesh",r.POINTS="points",r.GROUP="group",r.CSS3D="css3D",r.PASS="pass",r.MODIFIER="modifier",r.ANIMATION="animation"})(A||(A={}));var oo;(function(r){r[r.CAMERA=A.CAMERA]="CAMERA",r[r.LIGHT=A.LIGHT]="LIGHT",r[r.SCENE=A.SCENE]="SCENE",r[r.SPRITE=A.SPRITE]="SPRITE",r[r.LINE=A.LINE]="LINE",r[r.MESH=A.MESH]="MESH",r[r.POINTS=A.POINTS]="POINTS",r[r.GROUP=A.GROUP]="GROUP",r[r.CSS3D=A.CSS3D]="CSS3D"})(oo||(oo={}));const Ci={[b.IMAGETEXTURE]:A.TEXTURE,[b.CUBETEXTURE]:A.TEXTURE,[b.CANVASTEXTURE]:A.TEXTURE,[b.VIDEOTEXTURE]:A.TEXTURE,[b.MESHBASICMATERIAL]:A.MATERIAL,[b.MESHSTANDARDMATERIAL]:A.MATERIAL,[b.MESHPHONGMATERIAL]:A.MATERIAL,[b.SPRITEMATERIAL]:A.MATERIAL,[b.LINEBASICMATERIAL]:A.MATERIAL,[b.POINTSMATERIAL]:A.MATERIAL,[b.SHADERMATERIAL]:A.MATERIAL,[b.AMBIENTLIGHT]:A.LIGHT,[b.SPOTLIGHT]:A.LIGHT,[b.POINTLIGHT]:A.LIGHT,[b.DIRECTIONALLIGHT]:A.LIGHT,[b.BOXGEOMETRY]:A.GEOMETRY,[b.SPHEREGEOMETRY]:A.GEOMETRY,[b.LOADGEOMETRY]:A.GEOMETRY,[b.CUSTOMGEOMETRY]:A.GEOMETRY,[b.PLANEGEOMETRY]:A.GEOMETRY,[b.CIRCLEGEOMETRY]:A.GEOMETRY,[b.CONEGEOMETRY]:A.GEOMETRY,[b.CIRCLEGEOMETRY]:A.GEOMETRY,[b.EDGESGEOMETRY]:A.GEOMETRY,[b.CYLINDERGEOMETRY]:A.GEOMETRY,[b.LINECURVEGEOMETRY]:A.GEOMETRY,[b.SPLINECURVEGEOMETRY]:A.GEOMETRY,[b.CUBICBEZIERCURVEGEOMETRY]:A.GEOMETRY,[b.QUADRATICBEZIERCURVEGEOMETRY]:A.GEOMETRY,[b.LINETUBEGEOMETRY]:A.GEOMETRY,[b.SPLINETUBEGEOMETRY]:A.GEOMETRY,[b.TORUSGEOMETRY]:A.GEOMETRY,[b.RINGGEOMETRY]:A.GEOMETRY,[b.LINESHAPEGEOMETRY]:A.GEOMETRY,[b.SPRITE]:A.SPRITE,[b.LINE]:A.LINE,[b.MESH]:A.MESH,[b.POINTS]:A.POINTS,[b.GROUP]:A.GROUP,[b.CSS3DOBJECT]:A.CSS3D,[b.CSS3DSPRITE]:A.CSS3D,[b.CSS3DPLANE]:A.CSS3D,[b.PERSPECTIVECAMERA]:A.CAMERA,[b.ORTHOGRAPHICCAMERA]:A.CAMERA,[b.WEBGLRENDERER]:A.RENDERER,[b.SCENE]:A.SCENE,[b.TRNASFORMCONTROLS]:A.CONTROLS,[b.ORBITCONTROLS]:A.CONTROLS,[b.SMAAPASS]:A.PASS,[b.UNREALBLOOMPASS]:A.PASS,[b.SCRIPTANIMATION]:A.ANIMATION,[b.KEYFRAMEANIMATION]:A.ANIMATION},$=function(r,e,t=!0,n=!0){if(!Or[r])return console.error(`type: ${r} can not be found in configList.`),{vid:"",type:r};const i=(o,a)=>{for(const c in a){if(o[c]===void 0){!t&&(o[c]=a[c]),t&&n&&console.warn(`'${r}' config can not set key: ${c}`);continue}typeof a[c]=="object"&&a[c]!==null&&!Array.isArray(a[c])?(o[c]===null&&(o[c]=sp({},a[c])),i(o[c],a[c])):o[c]=a[c]}},s=Or[r]();if([b.SHADERMATERIAL].includes(r)){const o=Tt.generateConfig((e==null?void 0:e.shader)||"defaultShader"),a=t;t=!1,i(s,o),t=a}if([b.SCRIPTANIMATION,b.KEYFRAMEANIMATION].includes(r)&&(t=!1),s.vid===""&&(s.vid=jp()),e&&i(s,e),$.autoInject&&$.injectEngine){const o=$.injectEngine,a=o.reactiveConfig(s);if($.injectScene&&Ci[s.type]in oo&&s.type!==b.SCENE){let c=null;typeof $.injectScene=="boolean"?c=o.getObjectConfig(o.scene):typeof $.injectScene=="string"&&(c=o.getConfigBySymbol($.injectScene)),c?c.children.push(s.vid):console.warn("current engine scene can not found it config",o,o.scene)}return a}return s};$.autoInject=!0;$.injectScene=!1;$.injectEngine=null;const vn=(r,e)=>e===1/0?"Infinity":e===-1/0?"-Infinity":e,xl=(r,e)=>e==="Infinity"?1/0:e==="-Infinity"?-1/0:e,wi=r=>JSON.parse(JSON.stringify(r,vn),xl);var _l;(function(r){r.MAPPED="mapped"})(_l||(_l={}));class Hf extends gt{constructor(e={}){super();f(this,"structureMap",new Map),f(this,"configMap",new Map),f(this,"resourceMap",new Map),f(this,"configModuleMap",Ci),f(this,"mappingHandler",new Map);const t=this.mappingHandler;t.set(HTMLImageElement,this.HTMLImageElementHandler),t.set(HTMLCanvasElement,this.HTMLCanvasElementHandler),t.set(HTMLVideoElement,this.HTMLVideoElementHandler),t.set(xr,this.Object3DHandler),t.set(HTMLDivElement,this.HTMLDivElementHandler),t.set(HTMLSpanElement,this.HTMLSpanElementHandler);const n=new Map;for(const i in e)n.has(i)&&console.warn(`resourceManager construct params rescource already exist: ${i}, that will be cover.`),n.set(i,e[i]);this.mappingResource(n)}Object3DHandler(e,t){const n=this.structureMap,i=this.configMap,s=this.resourceMap,o=function(a,c){let l=a;s.set(l,c);const u=$(c.type,c,!0,!1);i.set(l,u);const h={type:`${c.type}`,url:l};if(c.geometry){const d=c.geometry;d.computeBoundingBox();const p=d.boundingBox,v=p.getCenter(new U);l=`${a}.geometry`,s.set(l,d);const E=$(b.LOADGEOMETRY,{url:l,position:{x:v.x/(p.max.x-p.min.x)*2,y:v.y/(p.max.y-p.min.y)*2,z:v.z/(p.max.z-p.min.z)*2}});i.set(l,E),h.geometry=l,u.geometry=E.vid}if(c.material){const d=c.material;if(d instanceof Array)h.material=[],u.material=[],d.forEach((p,v,E)=>{l=`${a}.material.${v}`,s.set(l,p);const x=$(p.type,p,!0,!1);i.set(l,x),h.material[v]=l,u.material.push(x.vid)});else{l=`${a}.material`,s.set(l,d);const p=$(d.type,d,!0,!1);i.set(l,p),h.material=l,u.material=p.vid}}if([b.GROUP,b.SCENE].includes(c.type)&&(i.get(h.url).children=[]),c.children.length)if(h.children=[],[b.GROUP,b.SCENE].includes(c.type)){const d=i.get(h.url);c.children.forEach((p,v,E)=>{l=`${a}.children.${v}`,d.children.push(l),h.children[v]=o(l,p)})}else c.children.forEach((d,p,v)=>{l=`${a}.children.${p}`,h.children[p]=o(l,d)});return h};return n.set(e,o(e,t)),this}HTMLImageElementHandler(e,t){return this.resourceMap.set(e,t),this.configMap.set(e,$(b.IMAGETEXTURE,{url:e})),this.structureMap.set(e,e),this}HTMLCanvasElementHandler(e,t){return this.resourceMap.set(e,t),this.configMap.set(e,$(b.CANVASTEXTURE,{url:e})),this.structureMap.set(e,e),this}HTMLVideoElementHandler(e,t){return this.resourceMap.set(e,t),this.configMap.set(e,$(b.VIDEOTEXTURE,{url:e})),this.structureMap.set(e,e),this}HTMLDivElementHandler(e,t){return this.resourceMap.set(e,t),this.configMap.set(e,$(b.CSS3DOBJECT,{element:e})),this.structureMap.set(e,e),this}HTMLSpanElementHandler(e,t){return this.resourceMap.set(e,t),this.configMap.set(e,$(b.CSS3DSPRITE,{element:e})),this.structureMap.set(e,e),this}mappingResource(e){const t=this.structureMap,n=this.configMap,i=this.resourceMap,s=this.mappingHandler,o=(l,u,h)=>Object.getPrototypeOf(h)?s.has(Object.getPrototypeOf(h).constructor)?(s.get(Object.getPrototypeOf(h).constructor).call(this,l,u),!0):o(l,u,Object.getPrototypeOf(h)):!1,a=$.autoInject;$.autoInject=!1;const c={};return e.forEach((l,u)=>{o(u,l,l)?c[u]=this.getResourceConfig(u):(i.set(u,l),t.set(u,u),console.warn("resource manager can not support this resource to generate config",l))}),$.autoInject=a,this.dispatchEvent({type:"mapped",structureMap:t,configMap:n,resourceMap:i,resourceConfig:c}),this}getResourceConfig(e){if(this.structureMap.has(e))if(this.structureMap.get(e)===e){const t=this.configMap.get(e);return t?{[this.configModuleMap[t.type]]:{[t.vid]:wi(t)}}:{}}else{const t={},n=this.configMap,i=this.configModuleMap,s=this.structureMap.get(e),o=a=>{let c=n.get(a.url),l=i[c.type];if(t[l]||(t[l]={}),t[l][c.vid]=wi(c),a.geometry&&(c=n.get(a.geometry),l=i[c.type],t[l]||(t[l]={}),t[l][c.vid]=wi(c)),a.material&&(c=n.get(a.material),l=i[c.type],t[l]||(t[l]={}),t[l][c.vid]=wi(c)),a.children&&a.children.length)for(const u of a.children)o(u)};return o(s),t}else return console.warn(`resource manager can not found this url resource: ${e}`),{}}hasResource(e){return this.resourceMap.has(e)}remove(e){if(this.structureMap.has(e))if(this.structureMap.get(e)===e){this.structureMap.delete(e),this.configMap.delete(e);const t=this.resourceMap.get(e);return(t==null?void 0:t.dispose)&&t.dispose(),this.resourceMap.delete(e),this}else{const t=this.configMap,n=this.resourceMap,i=this.structureMap.get(e),s=o=>{if(t.delete(o.url),n.delete(o.url),o.geometry&&(t.delete(o.geometry),n.delete(o.geometry)),o.material&&(t.delete(o.material),n.delete(o.material)),o.children&&o.children.length)for(const a of o.children)s(a)};return s(i),this}else return console.warn(`resource manager can not found this url resource: ${e}`),this}dispose(){this.resourceMap.forEach((e,t)=>{e.dispose&&e.dispose()}),this.resourceMap.clear(),this.configMap.clear(),this.structureMap.clear()}}const Gf=function(r){if(this.resourceManager)return console.warn("engine has installed resourceManager plugin."),!1;const e=new Hf(r.resources);return this.resourceManager=e,this.loaderManager&&this.loaderManager.addEventListener("loaded",t=>{this.resourceManager.mappingResource(t.resourceMap)}),this.registerResources=t=>{const n=new Map;return Object.keys(t).forEach(i=>{n.set(i,t[i])}),this.resourceManager.mappingResource(n),this},this.addEventListener("dispose",()=>{this.resourceManager.dispose()}),!0};function xi(r,e){return r in e}const yt=class extends gt{constructor(r){super();f(this,"ignoreAttribute"),this.ignoreAttribute=r||{}}static proxyGetter(r,e,t){return Reflect.get(r,e,t)}static proxySetter(r,e,t,n,i,s){if(typeof e=="symbol")return Reflect.set(r,e,t,n);let o;if(r[e]===void 0){if(typeof t=="object"&&t!==null&&!yt.proxyWeakSet.has(t)&&!i.ignoreAttribute[e]){const a=s.concat([e]);t=i.proxyExtends(t,a)}o=Reflect.set(r,e,t),i.broadcast({operate:"add",path:s.concat([]),key:e,value:t})}else{if(typeof t=="object"&&t!==null&&!yt.proxyWeakSet.has(t)&&!i.ignoreAttribute[e]){const a=s.concat([e]);t=i.proxyExtends(t,a)}if(o=Reflect.set(r,e,t),Array.isArray(r)&&e==="length"){const a=r[Symbol.for(yt.arraySymobl)],c=a.length-r.length;if(c>0){let l=0,u=0;for(const h of a)if(!r.includes(h)&&(i.broadcast({operate:"delete",path:s.concat([]),key:u.toString(),value:h}),l+=1,u+=1,l===c))break}return r[Symbol.for(this.arraySymobl)]=r.concat([]),o}i.broadcast({operate:"set",path:s.concat([]),key:e,value:t})}return o}static proxyDeleter(r,e,t,n){const i=r[e],s=Reflect.deleteProperty(r,e);return Array.isArray(r)||typeof e=="symbol"||t.broadcast({operate:"delete",path:n.concat([]),key:e,value:i}),s}proxyExtends(r,e=[]){if(yt.proxyWeakSet.has(r)||typeof r!="object")return r;const t={get:yt.proxyGetter,set:(i,s,o,a)=>yt.proxySetter(i,s,o,a,this,e),deleteProperty:(i,s)=>yt.proxyDeleter(i,s,this,e)};if(typeof r=="object"&&r!==null)for(const i in r){const s=e.concat([i]);let o=this.ignoreAttribute,a=!1;for(const c of s.slice(1)){if(o[c]===!0){a=!0;break}o[c]&&(o=o[c])}a||xi(i,r)&&typeof r[i]=="object"&&r[i]!==null&&(Array.isArray(r[i])&&(r[i][Symbol.for(yt.arraySymobl)]=r[i].concat([])),r[i]=this.proxyExtends(r[i],s))}const n=new Proxy(r,t);return yt.proxyWeakSet.add(n),n}broadcast({operate:r,path:e,key:t,value:n}){return{__poto__:!0,length:!0}[t]?this:(this.dispatchEvent({type:"broadcast",notice:{operate:r,path:e,key:t,value:n}}),this)}};let ao=yt;f(ao,"proxyWeakSet",new WeakSet);f(ao,"arraySymobl","vis.array");class Uf{constructor(){f(this,"rule"),f(this,"memberSet"),this.rule=function(){},this.memberSet=new Set}apply(e){return this.memberSet.add(e),this}cancel(e){return this.memberSet.delete(e),this}setRule(e){return this.rule=e,this}translate(e){const t=this.rule;return this.memberSet.forEach(n=>{t(e,n)}),this}}class vt{constructor(e,t,n){f(this,"data"),f(this,"broadcast"),f(this,"translater"),this.translater=new Uf().setRule(e),this.broadcast=new ao(n),this.data=this.broadcast.proxyExtends(t),this.broadcast.addEventListener("broadcast",i=>{this.translater.translate(i.notice)})}getData(){return this.data}setData(e){return this.data=e,this}proxyData(e){return this.data=this.broadcast.proxyExtends(e),this.data}existSymbol(e){return Boolean(this.data[e])}addConfig(e){return this.data[e.vid]=e,this}getConfig(e){return this.data[e]}removeConfig(e){const t=this.data;t[e]!==void 0&&delete t[e]}addCompiler(e){return e.setTarget(this.data),e.compileAll(),this.translater.apply(e),this}toJSON(e=!0){return e?JSON.stringify(this.exportConfig(),vn):JSON.stringify(this.data,vn)}exportConfig(e=!0){if(e){const t=this.data,n={},i={},s=(o,a,c={})=>{for(const l in o){if(["vid","type"].includes(l)){c[l]=o[l];continue}if(typeof o[l]=="object"&&o[l]!==null){if(Array.isArray(o[l])){if(!o[l].length)continue;c[l]=o[l].map(u=>typeof u=="object"&&u!==null?JSON.parse(JSON.stringify(u)):u);continue}c[l]={},a[l]?(s(o[l],a[l],c[l]),Object.keys(c[l]).length===0&&delete c[l]):c[l]=JSON.parse(JSON.stringify(o[l]))}else a[l]!==o[l]&&(c[l]=o[l])}};for(const o of Object.values(t)){if(!i[o.type]){if(!Or[o.type]){console.error(`can not font some config with: ${o.type}`);continue}i[o.type]=Or[o.type]()}n[o.vid]={},s(o,i[o.type],n[o.vid])}return n}else return JSON.parse(JSON.stringify(this.data,vn),xl)}load(e){const t=this.data,n={},i=(s,o)=>{for(const a in o)typeof s[a]=="object"&&s[a]!==null&&typeof o[a]=="object"&&o[a]!==null?i(s[a],o[a]):s[a]===void 0&&(s[a]=o[a])};for(const s in e){const o=e[s];if(!n[o.type]){if(!Or[o.type]){console.error(`can not font some config with: ${o.type}`);continue}n[o.type]=Or[o.type]()}i(o,n[o.type]),t[s]=o}return this}remove(e){const t=this.data;for(const n in e)t[n]!==void 0&&delete t[n];return this}getModule(){return this.MODULE}}const Vf=function(r,e){const{operate:t,key:n,path:i,value:s}=r;if(t==="add"){J(n)&&e.add(n,s);return}if(t==="set"){const o=i.concat([]),a=o.shift()||n;a&&J(a)?e.set(a,o,n,s):console.warn(`texture rule vid is illeage: '${a}'`);return}if(t==="delete"){const o=i[0]||n;J(o)?e.remove(o):console.warn(`texture rule vid is illeage: '${o}'`);return}};class Kf extends vt{constructor(e,t){!e&&(e={});super(Vf,e,t);f(this,"MODULE",A.TEXTURE)}}const Wf=function(r,e){const{operate:t,key:n,path:i,value:s}=r;if(t==="add"){J(n)&&e.add(n,s);return}if(t==="set"){if(J(n)&&!i.length&&typeof s=="object"){e.cover(n,s);return}const o=i.concat([]),a=o.shift();a&&J(a)?e.set(a,o,n,s):console.warn(`material rule vid is illeage: '${a}'`);return}if(t==="delete"){const o=i[0]||n;J(o)?e.remove(o):console.warn(`texture rule vid is illeage: '${o}'`);return}};class Yf extends vt{constructor(e,t){!e&&(e={});super(Wf,e,t);f(this,"MODULE",A.MATERIAL)}}class bn extends vt{constructor(e,t,n){!t&&(t=Object.create(Object.prototype));super(e,t,n);f(this,"MODULE",A.GROUP)}}const _i={[b.WEBGLRENDERER]:!0,[b.CSS3DRENDERER]:!0,[b.SCENE]:!0},Rt=function(r,e){const{operate:t,key:n,path:i,value:s}=r;if(n==="parent")return;const o=i.concat([]);let a=n,c=n;if(o.length&&(a=o.shift(),o.length&&(c=o[0])),c==="children"){if(t==="add"){e.addChildren(a,s);return}if(t==="delete"){e.removeChildren(a,s);return}}if(c.toLocaleUpperCase()in mn){const l=Number(o.length>2?o[1]:n);if(t==="add"){if(Number.isInteger(Number(n))&&o.length===1){e.addEvent(a,c,s);return}if(!Number.isInteger(l)){console.error(`${e.MODULE} rule: event analysis error.`,r);return}e.updateEvent(a,c,l);return}if(t==="set"){if(!Number.isInteger(l)){console.error(`${e.MODULE} rule: event analysis error.`,r);return}e.updateEvent(a,c,l);return}if(t==="delete"){if(!Number.isInteger(l)){console.error(`${e.MODULE} rule: event analysis error.`,r);return}e.removeEvent(a,c,s);return}}if(t==="add"){J(n)||_i[n]?e.add(n,s):console.warn(`Object Rule: key is illeage: ${n}`);return}if(t==="set"){if((a&&J(n)||_i[a])&&!i.length&&typeof s=="object"){e.cover(a,s);return}a&&J(a)||_i[a]?e.set(a,o,n,s):console.warn(`${e.MODULE} rule vid is illeage: '${a}'`);return}if(t==="delete"){(J(n)||_i[n])&&e.remove(n,s);return}},qf=function(r,e){Rt(r,e)};class Xf extends bn{constructor(e,t){!e&&(e={});super(qf,e,t);f(this,"MODULE",A.LIGHT)}}const Qf=function(r,e){const{operate:t,key:n,path:i,value:s}=r,o=i.length?i[0]:n,a=i.length>=2?i[1]:n,c=i.length?i.concat([]).slice(1):[];if(t==="add"){if(J(o)){if(a==="groups")if(Number.isInteger(Number(n))){e.addGroup(o,s);return}else{console.warn(`geometry rule illeage groups index: ${n}`);return}c.length>0?e.set(o,c,s):e.add(o,s)}else console.warn(`geometry rule vid is illeage: '${n}'`);return}if(t==="set"){if(o&&J(o)){if(a==="groups"){const l=Number(i[2]||n);if(!Number.isInteger(l)){console.warn(`geometry rule illeage groups index: ${l}`);return}e.updateGroup(o,l);return}e.set(o,c,s)}else console.warn(`geometry rule vid is illeage: '${o}'`);return}if(t==="delete"){if(J(o)){if(a==="groups"){const l=Number(i[2]||n);if(!Number.isInteger(l)){console.warn(`geometry rule illeage groups index: ${l}`);return}e.removeGroup(o,l);return}if(i.length&&i[1]==="path"){e.set(o,c,s);return}e.remove(o)}else console.warn(`geometry rule vid is illeage: '${o}'`);return}};class Zf extends vt{constructor(e,t){!e&&(e={});super(Qf,e,t);f(this,"MODULE",A.GEOMETRY)}}const Jf=function(r,e){Rt(r,e)};class em extends bn{constructor(e,t){!e&&(e={});super(Jf,e,t);f(this,"MODULE",A.CAMERA)}}const tm=function(r,e){const{operate:t,key:n,value:i}=r,s=r.path.concat([]);if(t==="add"){e.add(i);return}if(t==="set"){if(J(n)||n===b.WEBGLRENDERER){e.add(i);return}let o=n;s.length&&(o=s.shift()),J(o)||o===b.WEBGLRENDERER?e.assembly(o,a=>{a.process({path:s.concat([]),key:n,value:i})}):console.warn(`renderer rule can not support this vid: ${o}`);return}};class rm extends vt{constructor(e,t){!e&&(e={});super(tm,e,t);f(this,"MODULE",A.RENDERER)}}const nm=function(r,e){Rt(r,e)};class im extends bn{constructor(e,t){!e&&(e={});super(nm,e,t);f(this,"MODULE",A.SCENE)}}const sm=function(r,e){const{operate:t,key:n,path:i,value:s}=r;if(t==="set"){const o=i.concat([]),a=o.shift();a?e.set(a,o,n,s):n?e.setAll(n):console.warn(`controls rule can not found controls type in set operate: ${a}`)}};class om extends vt{constructor(e,t){!e&&(e={});super(sm,e,t);f(this,"MODULE",A.CONTROLS)}}class Oi extends vt{constructor(e,t,n){!t&&(t=Object.create(Object.prototype));super(e,t,n);f(this,"MODULE",A.MESH)}}const am=function(r,e){r.key!=="geometry"&&Rt(r,e)};class lm extends Oi{constructor(e,t){!e&&(e={});super(am,e,t);f(this,"MODULE",A.SPRITE)}}const cm=function(r,e){Rt(r,e)};class um extends Oi{constructor(e,t){!e&&(e={});super(cm,e,t);f(this,"MODULE",A.LINE)}}const hm=function(r,e){Rt(r,e)};class dm extends Oi{constructor(e,t){!e&&(e={});super(hm,e,t);f(this,"MODULE",A.MESH)}}const pm=function(r,e){Rt(r,e)};class fm extends Oi{constructor(e,t){!e&&(e={});super(pm,e,t);f(this,"MODULE",A.POINTS)}}const mm=function(r,e){Rt(r,e)};class gm extends bn{constructor(e,t){!e&&(e={});super(mm,e,t);f(this,"MODULE",A.GROUP)}}const ym=function(r,e){const{operate:t,key:n,path:i,value:s}=r,o=i.concat([]);let a=n;if(o.length&&(a=o.shift()),t==="add"){e.add(s);return}if(t==="set"&&e.set(a,o,n,s),t==="delete"){e.remove(s.vid);return}};class vm extends vt{constructor(e,t){!e&&(e={});super(ym,e,t);f(this,"MODULE",A.PASS)}}const bm=function(r,e){const{operate:t,key:n,path:i,value:s}=r;if(!(n==="name"&&i.length===1)){if(t==="add"){J(n)?e.add(n,s):console.warn(`animation rule vid is illeage: '${n}'`);return}if(t==="set"){const o=i.concat([]),a=o.shift();a&&J(a)?e.update(a,o,n,s):console.warn(`animation rule vid is illeage: '${a}'`);return}if(t==="delete"||t==="set"&&n==="play"&&s==="false"){J(n)?e.remove(s):console.warn(`animation rule vid is illeage: '${n}'`);return}}};class Mm extends vt{constructor(e,t){!e&&(e={});super(bm,e,t);f(this,"MODULE",A.ANIMATION)}}const Em=function(r,e){Rt(r,e)};class Sm extends bn{constructor(e,t){!e&&(e={});super(Em,e,t);f(this,"MODULE",A.CSS3D)}}const lo=class{constructor(r){f(this,"cameraDataSupport",new em),f(this,"lightDataSupport",new Xf),f(this,"geometryDataSupport",new Zf),f(this,"textureDataSupport",new Kf),f(this,"materialDataSupport",new Yf),f(this,"rendererDataSupport",new rm),f(this,"sceneDataSupport",new im),f(this,"controlsDataSupport",new om),f(this,"spriteDataSupport",new lm),f(this,"lineDataSupport",new um),f(this,"meshDataSupport",new dm),f(this,"pointsDataSupport",new fm),f(this,"groupDataSupport",new gm),f(this,"css3DDataSupport",new Sm),f(this,"passDataSupport",new vm),f(this,"animationDataSupport",new Mm),f(this,"dataSupportMap"),r&&Object.keys(r).forEach(t=>{this[t]!==void 0&&(this[t]=r[t])});const e=new Map;Object.keys(this).forEach(t=>{const n=this[t];n instanceof vt&&e.set(n.MODULE,n)}),this.dataSupportMap=e}getDataSupport(r){return this.dataSupportMap.has(r)?this.dataSupportMap.get(r):(console.warn(`can not found this type in dataSupportManager: ${r}`),null)}getSupportData(r){return this.dataSupportMap.has(r)?this.dataSupportMap.get(r).getData():(console.warn(`can not found this type in dataSupportManager: ${r}`),null)}setSupportData(r,e){return this.dataSupportMap.has(r)?this.dataSupportMap.get(r).setData(e):console.warn(`can not found this type in dataSupportManager: ${r}`),this}getConfigBySymbol(r){const e=this.dataSupportMap.values();for(const t of e){const n=t.getConfig(r);if(n)return n}return null}removeConfigBySymbol(...r){const e=this.dataSupportMap.values();for(const t of r)for(const n of e)if(n.existSymbol(t)){n.removeConfig(t);break}return this}getModuleBySymbol(r){const e=this.dataSupportMap.values();for(const t of e)if(t.existSymbol(r))return t.MODULE;return null}applyConfig(...r){for(const e of r){const t=lo.configModuleMap[e.type];t?this.dataSupportMap.get(t).addConfig(e):console.warn(`dataSupportManager can not found this config module: ${e.type}`)}return this}reactiveConfig(r){const e=lo.configModuleMap[r.type];return e?this.dataSupportMap.get(e).addConfig(r).getConfig(r.vid):(console.warn(`dataSupportManager can not found this config module: ${r.type}`),r)}load(r){return this.dataSupportMap.forEach((t,n)=>{r[n]&&t.load(r[n])}),this}remove(r){return this.dataSupportMap.forEach((t,n)=>{r[n]&&t.remove(r[n])}),this}toJSON(r={},e=!0){return JSON.stringify(this.exportConfig(r,e),vn)}exportConfig(r={},e=!0){return this.dataSupportMap.forEach((n,i)=>{r[i]=n.exportConfig(e)}),r}};let Ol=lo;f(Ol,"configModuleMap",Ci);const Cm=function(r){if(this.dataSupportManager)return console.warn("engine has installed dataSupportManager plugin."),!1;const e=new Ol(r);return this.dataSupportManager=e,this.applyConfig=function(...t){return this.dataSupportManager.applyConfig(...t),this},this.reactiveConfig=function(t){return this.dataSupportManager.reactiveConfig(t)},this.getConfigBySymbol=function(t){return this.dataSupportManager.getConfigBySymbol(t)},this.removeConfigBySymbol=function(...t){return this.dataSupportManager.removeConfigBySymbol(...t),this},this.toJSON=function(){if(this.loaderManager){const t={assets:JSON.parse(this.loaderManager.toJSON())};return this.dataSupportManager.toJSON(t)}return this.dataSupportManager.toJSON()},this.exportConfig=function(){let t={};return this.loaderManager&&(t={assets:this.loaderManager.exportConfig()}),this.dataSupportManager.exportConfig(t)},this.completeSet.add(()=>{const t=this.dataSupportManager.getDataSupport(A.RENDERER).getData();t.WebGLRenderer||(t.WebGLRenderer=$(b.WEBGLRENDERER));const n=this.dataSupportManager.getDataSupport(A.CONTROLS).getData();this.transformControls&&(n[b.TRNASFORMCONTROLS]||(n[b.TRNASFORMCONTROLS]=$(b.TRNASFORMCONTROLS))),this.orbitControls&&(n[b.ORBITCONTROLS]||(n[b.ORBITCONTROLS]=$(b.ORBITCONTROLS)))}),!0};class Fe{static applyConfig(e,t,n={},i){const s=Object.assign({vid:!0,type:!0},n),o=(a,c)=>{for(const l in a)if(!s[l]){if(typeof a[l]=="object"&&typeof a[l]!==null&&xi(l,c)){o(a[l],c[l]);continue}xi(l,c)&&(c[l]=a[l])}};o(e,t),i&&i()}constructor(){}}const wm={name:"linearTime",multiply:1},xm=function(r,e,t,n){return e[t]===void 0?(console.warn(`object not exist attribute: ${t}`,e),i=>{}):typeof e[t]!="number"?(console.warn("object attribute is not typeof number.",e,t),i=>{}):i=>{e[t]+=i.delta*n.multiply}},_m={name:"sinWave",wavelength:1,offset:0,amplitude:1,speed:1},Om=function(r,e,t,n){if(e[t]===void 0)return console.warn(`object not exist attribute: ${t}`,e),s=>{};if(typeof e[t]!="number")return console.warn("object attribute is not typeof number.",e,t),s=>{};const i=e[t];return s=>{e[t]=i+n.amplitude*Math.sin(s.total*n.speed/n.wavelength)+n.offset}},At=class{static generateConfig(r,e){if(!At.configLibrary.has(r))return console.warn(`event library can not found config by name: ${r}`),{name:""};const t=(i,s)=>{for(const o in s)i[o]!==void 0&&(typeof s[o]=="object"&&s[o]!==null&&!Array.isArray(s[o])?t(i[o],s[o]):i[o]=s[o])},n=JSON.parse(JSON.stringify(At.configLibrary.get(r)));return t(n,e),n}static generateScript(r,e,t,n){return At.generatorLibrary.has(n.name)?At.generatorLibrary.get(n.name)(r,e,t,n):(console.error(`event library can not found generator by name: ${n.name}`),()=>{})}static has(r){return At.configLibrary.has(r)}};let Gt=At;f(Gt,"configLibrary",new Map);f(Gt,"generatorLibrary",new Map);f(Gt,"register",function(r,e){At.configLibrary.has(r.name)&&console.warn(`EventLibrary has already exist this event generator: ${r.name}, that will be cover.`),At.configLibrary.set(r.name,JSON.parse(JSON.stringify(r))),At.generatorLibrary.set(r.name,e)});Gt.register(wm,xm);Gt.register(_m,Om);class Tm extends Fe{constructor(){super();f(this,"MODULE",A.ANIMATION),f(this,"target",{}),f(this,"engine"),f(this,"objectMapSet",new Set),f(this,"scriptAniSymbol","vis.scriptAni")}linkObjectMap(...e){for(const t of e)this.objectMapSet.has(t)||this.objectMapSet.add(t);return this}linkTextureMap(e){return this.objectMapSet.add(e),this}linkMaterialMap(e){return this.objectMapSet.add(e),this}getObject(e){for(const t of this.objectMapSet)if(t.has(e))return t.get(e);return console.error(`animation compiler can not found object which vid: ${e}`),{}}add(e,t){const n=this.engine.renderManager;let i=this.getObject(t.target);const s=t.attribute.split(".");s.shift();const o=s.pop();for(const a of s){if(i[a]===void 0){console.error(`animaton compiler: target object can not found key: ${a}`,i);break}i=i[a]}if(t.type===b.SCRIPTANIMATION){const a=Gt.generateScript(this.engine,i,o,t.script);t[Symbol.for(this.scriptAniSymbol)]=a,t.play&&n.addEventListener("render",a)}else console.warn(`animation compiler can not support this type config: ${t.type}`);return this}update(e,t,n,i){if(!this.target[e])return console.warn(`AnimationCompiler can not found vid config: ${e}`),this;const s=this.target[e];if(s.type===b.SCRIPTANIMATION){const o=this.engine.renderManager,a=s[Symbol.for(this.scriptAniSymbol)];if(a===void 0)return console.warn(`AnimationCompiler can not found function in update fun: ${e}`),this;if(n==="play"&&i)return o.hasEventListener("render",a)||o.addEventListener("render",a),this;if(n==="play"&&!i)return o.removeEventListener("render",a),this}return this.remove(this.target[e]).add(e,this.target[e])}remove(e){if(e.type===b.SCRIPTANIMATION){this.engine.renderManager.removeEventListener("render",e[Symbol.for(this.scriptAniSymbol)]);let t=this.engine.getConfigBySymbol(e.target);if(!t)return console.warn(`AnimationCompiler can not found vid object: ${e.target}`),this;const n=e.attribute.split(".");n.shift();const i=n.pop();for(const s of n){if(t[s]===void 0)return console.warn(`animaton compiler: target object can not found key: ${s}`,t),this;t=t[s]}t[i]=t[i]}return this}setTarget(e){return this.target=e,this}useEngine(e){return this.engine=e,this}compileAll(){for(const e of Object.values(this.target))this.add(e.vid,e);return this}dispose(e){for(const t of Object.values(this.target))this.remove(t);return this}getObjectSymbol(e){return null}getObjectBySymbol(e){return null}}const Rm={name:"openWindow",params:{url:""}},Am=function(r,e){return()=>{window.open(e.params.url)}},Pm={name:"visibleObject",params:{target:"",visible:!0,delay:0}},Lm=function(r,e){const t=e.params,n=r.getObjectBySymbol(t.target);return n?()=>{setTimeout(()=>{n.visible=t.visible},t.delay)}:(console.warn(`basic event visibleObject: can not found vid object: ${t.target}`),()=>{})},Im={name:"addClass",params:{target:"",className:"",delay:0}},Dm=function(r,e){const t=e.params,n=[];if(t.target==="all")r.scene.traverse(i=>{i instanceof fn&&n.push(i)});else if(Array.isArray(t.target))t.target.forEach(i=>{const s=r.getObjectBySymbol(i);s?n.push(s):console.warn(`basic event AddClass: can not found vid object: ${t.target}`)});else{const i=r.getObjectBySymbol(t.target);if(!i)return console.warn(`basic event AddClass: can not found vid object: ${t.target}`),()=>{};if(!(i instanceof fn))return console.warn("basic event AddClass: object is not a CSS3DObject."),()=>{};n.push(i)}return n.length?()=>{setTimeout(()=>{n.forEach(i=>{i.element.classList.add(t.className)})},t.delay)}:(console.warn(`basic event AddClass: can not found vid object: ${t.target}`),()=>{})},jm={name:"changeScene",params:{scene:"Scene",delay:0}},Nm=function(r,e){const t=e.params;return()=>{setTimeout(()=>{r.setScene(t.scene)},t.delay)}},zm={name:"changeCamera",params:{camera:"",delay:0}},km=function(r,e){const t=e.params;return()=>{setTimeout(()=>{r.setCamera(t.camera)},t.delay)}},$m={name:"switchAnimate",params:{target:"",toggle:"auto",delay:0}},Bm=function(r,e){const t=e.params,n=r.getConfigBySymbol(t.target);return n?()=>{setTimeout(()=>{if(t.toggle==="auto"){n.play!=n.play;return}if(t.toggle==="off"){n.play=!1;return}if(t.toggle==="on"){n.play=!0;return}},t.delay)}:(console.warn(`basic event switchAnimate: can not found vid config: ${t.target}`),()=>{})};var Ne={Linear:{None:function(r){return r}},Quadratic:{In:function(r){return r*r},Out:function(r){return r*(2-r)},InOut:function(r){return(r*=2)<1?.5*r*r:-.5*(--r*(r-2)-1)}},Cubic:{In:function(r){return r*r*r},Out:function(r){return--r*r*r+1},InOut:function(r){return(r*=2)<1?.5*r*r*r:.5*((r-=2)*r*r+2)}},Quartic:{In:function(r){return r*r*r*r},Out:function(r){return 1- --r*r*r*r},InOut:function(r){return(r*=2)<1?.5*r*r*r*r:-.5*((r-=2)*r*r*r-2)}},Quintic:{In:function(r){return r*r*r*r*r},Out:function(r){return--r*r*r*r*r+1},InOut:function(r){return(r*=2)<1?.5*r*r*r*r*r:.5*((r-=2)*r*r*r*r+2)}},Sinusoidal:{In:function(r){return 1-Math.cos(r*Math.PI/2)},Out:function(r){return Math.sin(r*Math.PI/2)},InOut:function(r){return .5*(1-Math.cos(Math.PI*r))}},Exponential:{In:function(r){return r===0?0:Math.pow(1024,r-1)},Out:function(r){return r===1?1:1-Math.pow(2,-10*r)},InOut:function(r){return r===0?0:r===1?1:(r*=2)<1?.5*Math.pow(1024,r-1):.5*(-Math.pow(2,-10*(r-1))+2)}},Circular:{In:function(r){return 1-Math.sqrt(1-r*r)},Out:function(r){return Math.sqrt(1- --r*r)},InOut:function(r){return(r*=2)<1?-.5*(Math.sqrt(1-r*r)-1):.5*(Math.sqrt(1-(r-=2)*r)+1)}},Elastic:{In:function(r){return r===0?0:r===1?1:-Math.pow(2,10*(r-1))*Math.sin((r-1.1)*5*Math.PI)},Out:function(r){return r===0?0:r===1?1:Math.pow(2,-10*r)*Math.sin((r-.1)*5*Math.PI)+1},InOut:function(r){return r===0?0:r===1?1:(r*=2,r<1?-.5*Math.pow(2,10*(r-1))*Math.sin((r-1.1)*5*Math.PI):.5*Math.pow(2,-10*(r-1))*Math.sin((r-1.1)*5*Math.PI)+1)}},Back:{In:function(r){var e=1.70158;return r*r*((e+1)*r-e)},Out:function(r){var e=1.70158;return--r*r*((e+1)*r+e)+1},InOut:function(r){var e=1.70158*1.525;return(r*=2)<1?.5*(r*r*((e+1)*r-e)):.5*((r-=2)*r*((e+1)*r+e)+2)}},Bounce:{In:function(r){return 1-Ne.Bounce.Out(1-r)},Out:function(r){return r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375},InOut:function(r){return r<.5?Ne.Bounce.In(r*2)*.5:Ne.Bounce.Out(r*2-1)*.5+.5}}},Mn;typeof self=="undefined"&&typeof process!="undefined"&&process.hrtime?Mn=function(){var r=process.hrtime();return r[0]*1e3+r[1]/1e6}:typeof self!="undefined"&&self.performance!==void 0&&self.performance.now!==void 0?Mn=self.performance.now.bind(self.performance):Date.now!==void 0?Mn=Date.now:Mn=function(){return new Date().getTime()};var Tr=Mn,Fm=function(){function r(){this._tweens={},this._tweensAddedDuringUpdate={}}return r.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(t){return e._tweens[t]})},r.prototype.removeAll=function(){this._tweens={}},r.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},r.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},r.prototype.update=function(e,t){e===void 0&&(e=Tr()),t===void 0&&(t=!1);var n=Object.keys(this._tweens);if(n.length===0)return!1;for(;n.length>0;){this._tweensAddedDuringUpdate={};for(var i=0;i<n.length;i++){var s=this._tweens[n[i]],o=!t;s&&s.update(e,o)===!1&&!t&&delete this._tweens[n[i]]}n=Object.keys(this._tweensAddedDuringUpdate)}return!0},r}(),En={Linear:function(r,e){var t=r.length-1,n=t*e,i=Math.floor(n),s=En.Utils.Linear;return e<0?s(r[0],r[1],n):e>1?s(r[t],r[t-1],t-n):s(r[i],r[i+1>t?t:i+1],n-i)},Bezier:function(r,e){for(var t=0,n=r.length-1,i=Math.pow,s=En.Utils.Bernstein,o=0;o<=n;o++)t+=i(1-e,n-o)*i(e,o)*r[o]*s(n,o);return t},CatmullRom:function(r,e){var t=r.length-1,n=t*e,i=Math.floor(n),s=En.Utils.CatmullRom;return r[0]===r[t]?(e<0&&(i=Math.floor(n=t*(1+e))),s(r[(i-1+t)%t],r[i],r[(i+1)%t],r[(i+2)%t],n-i)):e<0?r[0]-(s(r[0],r[0],r[1],r[1],-n)-r[0]):e>1?r[t]-(s(r[t],r[t],r[t-1],r[t-1],n-t)-r[t]):s(r[i?i-1:0],r[i],r[t<i+1?t:i+1],r[t<i+2?t:i+2],n-i)},Utils:{Linear:function(r,e,t){return(e-r)*t+r},Bernstein:function(r,e){var t=En.Utils.Factorial;return t(r)/t(e)/t(r-e)},Factorial:function(){var r=[1];return function(e){var t=1;if(r[e])return r[e];for(var n=e;n>1;n--)t*=n;return r[e]=t,t}}(),CatmullRom:function(r,e,t,n,i){var s=(t-r)*.5,o=(n-e)*.5,a=i*i,c=i*a;return(2*e-2*t+s+o)*c+(-3*e+3*t-2*s-o)*a+s*i+e}}},Hm=function(){function r(){}return r.nextId=function(){return r._nextId++},r._nextId=0,r}(),Tl=new Fm,ue=function(){function r(e,t){t===void 0&&(t=Tl),this._object=e,this._group=t,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=Ne.Linear.None,this._interpolationFunction=En.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=Hm.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return r.prototype.getId=function(){return this._id},r.prototype.isPlaying=function(){return this._isPlaying},r.prototype.isPaused=function(){return this._isPaused},r.prototype.to=function(e,t){return this._valuesEnd=Object.create(e),t!==void 0&&(this._duration=t),this},r.prototype.duration=function(e){return this._duration=e,this},r.prototype.start=function(e){if(this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var t in this._valuesStartRepeat)this._swapEndStartRepeatValues(t),this._valuesStart[t]=this._valuesStartRepeat[t]}return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e!==void 0?typeof e=="string"?Tr()+parseFloat(e):e:Tr(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},r.prototype._setupProperties=function(e,t,n,i){for(var s in n){var o=e[s],a=Array.isArray(o),c=a?"array":typeof o,l=!a&&Array.isArray(n[s]);if(!(c==="undefined"||c==="function")){if(l){var u=n[s];if(u.length===0)continue;u=u.map(this._handleRelativeValue.bind(this,o)),n[s]=[o].concat(u)}if((c==="object"||a)&&o&&!l){t[s]=a?[]:{};for(var h in o)t[s][h]=o[h];i[s]=a?[]:{},this._setupProperties(o,t[s],n[s],i[s])}else typeof t[s]=="undefined"&&(t[s]=o),a||(t[s]*=1),l?i[s]=n[s].slice().reverse():i[s]=t[s]||0}}},r.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},r.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},r.prototype.pause=function(e){return e===void 0&&(e=Tr()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=e,this._group&&this._group.remove(this),this)},r.prototype.resume=function(e){return e===void 0&&(e=Tr()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this)},r.prototype.stopChainedTweens=function(){for(var e=0,t=this._chainedTweens.length;e<t;e++)this._chainedTweens[e].stop();return this},r.prototype.group=function(e){return this._group=e,this},r.prototype.delay=function(e){return this._delayTime=e,this},r.prototype.repeat=function(e){return this._initialRepeat=e,this._repeat=e,this},r.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},r.prototype.yoyo=function(e){return this._yoyo=e,this},r.prototype.easing=function(e){return this._easingFunction=e,this},r.prototype.interpolation=function(e){return this._interpolationFunction=e,this},r.prototype.chain=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._chainedTweens=e,this},r.prototype.onStart=function(e){return this._onStartCallback=e,this},r.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},r.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},r.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},r.prototype.onStop=function(e){return this._onStopCallback=e,this},r.prototype.update=function(e,t){if(e===void 0&&(e=Tr()),t===void 0&&(t=!0),this._isPaused)return!0;var n,i,s=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(e>s)return!1;t&&this.start(e)}if(this._goToEnd=!1,e<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),i=(e-this._startTime)/this._duration,i=this._duration===0||i>1?1:i;var o=this._easingFunction(i);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,o),this._onUpdateCallback&&this._onUpdateCallback(this._object,i),i===1)if(this._repeat>0){isFinite(this._repeat)&&this._repeat--;for(n in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[n]=="string"&&(this._valuesStartRepeat[n]=this._valuesStartRepeat[n]+parseFloat(this._valuesEnd[n])),this._yoyo&&this._swapEndStartRepeatValues(n),this._valuesStart[n]=this._valuesStartRepeat[n];return this._yoyo&&(this._reversed=!this._reversed),this._repeatDelayTime!==void 0?this._startTime=e+this._repeatDelayTime:this._startTime=e+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var a=0,c=this._chainedTweens.length;a<c;a++)this._chainedTweens[a].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},r.prototype._updateProperties=function(e,t,n,i){for(var s in n)if(t[s]!==void 0){var o=t[s]||0,a=n[s],c=Array.isArray(e[s]),l=Array.isArray(a),u=!c&&l;u?e[s]=this._interpolationFunction(a,i):typeof a=="object"&&a?this._updateProperties(e[s],o,a,i):(a=this._handleRelativeValue(o,a),typeof a=="number"&&(e[s]=o+(a-o)*i))}},r.prototype._handleRelativeValue=function(e,t){return typeof t!="string"?t:t.charAt(0)==="+"||t.charAt(0)==="-"?e+parseFloat(t):parseFloat(t)},r.prototype._swapEndStartRepeatValues=function(e){var t=this._valuesStartRepeat[e],n=this._valuesEnd[e];typeof n=="string"?this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(n):this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=t},r}(),bt=Tl;bt.getAll.bind(bt);bt.removeAll.bind(bt);bt.add.bind(bt);bt.remove.bind(bt);bt.update.bind(bt);var ze;(function(r){r.ELN="ELN",r.EQI="EQI",r.EQO="EQO",r.EASING_LINEAR_NONE="EASING_LINEAR_NONE",r.EASING_QUARTIC_IN="EASING_QUARTIC_IN",r.EASING_QUARTIC_OUT="EASING_QUARTIC_OUT",r.EASING_QUARTIC_INOUT="EASING_QUARTIC_INOUT",r.EASING_QUADRATIC_IN="EASING_QUADRATIC_IN",r.EASING_QUADRATIC_OUT="EASING_QUADRATIC_OUT",r.EASING_QUADRATIC_INOUT="EASING_QUADRATIC_INOUT"})(ze||(ze={}));const he={ELN:Ne.Linear.None,EQI:Ne.Quartic.In,EQO:Ne.Quartic.Out,EASING_LINEAR_NONE:Ne.Linear.None,EASING_QUARTIC_IN:Ne.Quartic.In,EASING_QUARTIC_OUT:Ne.Quartic.Out,EASING_QUARTIC_INOUT:Ne.Quartic.InOut,EASING_QUADRATIC_IN:Ne.Quadratic.In,EASING_QUADRATIC_OUT:Ne.Quadratic.Out,EASING_QUADRATIC_INOUT:Ne.Quadratic.InOut},Gm={name:"moveTo",params:{target:"",position:{x:0,y:0,z:0},delay:0,duration:1e3,timingFunction:ze.EASING_QUADRATIC_INOUT}},Um=function(r,e){const t=e.params,i=r.compilerManager.getObjectBySymbol(t.target);if(!i)return console.warn(`real time animation moveTO: can not found vid object: ${t.target}`),()=>{};const s=r.renderManager,o=r.dataSupportManager.getConfigBySymbol(t.target);if(!o)return console.warn(`can not found object config: ${t.target}`),()=>{};let a=!1;return()=>{if(a)return;a=!0;const c=new ue(i.position).to(t.position).duration(t.duration).delay(t.delay).easing(he[t.timingFunction]).start(),l=u=>{c.update()};s.addEventListener("render",l),c.onComplete(()=>{s.removeEventListener("render",l),o.position.x=t.position.x,o.position.y=t.position.y,o.position.z=t.position.z,a=!1})}},Vm={name:"rotationTo",params:{target:"",rotation:{x:0,y:0,z:0},delay:0,duration:1e3,timingFunction:ze.EASING_QUADRATIC_INOUT}},Km=function(r,e){const t=e.params,i=r.compilerManager.getObjectBySymbol(t.target);if(!i)return console.warn(`real time animation moveTO: can not found vid object: ${t.target}`),()=>{};const s=r.renderManager,o=r.dataSupportManager.getConfigBySymbol(t.target);if(!o)return console.warn(`can not found object config: ${t.target}`),()=>{};let a=!1;return()=>{if(a)return;a=!0;const c=new ue(i.rotation).to(t.rotation).duration(t.duration).delay(t.delay).easing(he[t.timingFunction]).start(),l=u=>{c.update()};s.addEventListener("render",l),c.onComplete(()=>{s.removeEventListener("render",l),o.rotation.x=t.rotation.x,o.rotation.y=t.rotation.y,o.rotation.z=t.rotation.z,a=!1})}},Wm={name:"upTo",params:{target:"",up:{x:0,y:1,z:0},delay:0,duration:1e3,timingFunction:ze.EASING_QUADRATIC_INOUT}},Ym=function(r,e){const t=e.params,i=r.compilerManager.getObjectBySymbol(t.target);if(!i)return console.warn(`real time animation upTo: can not found vid object: ${t.target}`),()=>{};const s=r.renderManager,o=r.dataSupportManager.getConfigBySymbol(t.target);if(!o)return console.warn(`can not found object config: ${t.target}`),()=>{};let a=!1;return()=>{if(a)return;a=!0;const c=new ue(i.up).to(t.up).duration(t.duration).delay(t.delay).easing(he[t.timingFunction]).start(),l=u=>{c.update()};s.addEventListener("render",l),c.onComplete(()=>{s.removeEventListener("render",l),o.up.x=t.up.x,o.up.y=t.up.y,o.up.z=t.up.z,a=!1})}},qm={name:"moveFromTo",params:{target:"",from:{x:0,y:0,z:0},to:{x:10,y:10,z:10},delay:0,duration:1e3,timingFunction:ze.EASING_QUADRATIC_INOUT}},Xm=function(r,e){const t=e.params,i=r.compilerManager.getObjectBySymbol(t.target);if(!i)return console.warn(`real time animation moveTO: can not found vid object: ${t.target}`),()=>{};const s=r.renderManager,o=r.dataSupportManager.getConfigBySymbol(t.target);if(!o)return console.warn(`can not found object config: ${t.target}`),()=>{};let a=!1;return()=>{if(a)return;a=!0,i.position.set(t.from.x,t.from.y,t.from.z),i.updateMatrix(),i.updateMatrixWorld();const c=new ue(i.position).to(t.to).duration(t.duration).delay(t.delay).easing(he[t.timingFunction]).start(),l=u=>{c.update()};s.addEventListener("render",l),c.onComplete(()=>{s.removeEventListener("render",l),o.position.x=t.to.x,o.position.y=t.to.y,o.position.z=t.to.z,a=!1})}},Qm={name:"moveSpacing",params:{target:"",spacing:{x:10,y:10,z:10},delay:0,duration:1e3,timingFunction:ze.EASING_QUADRATIC_INOUT}},Zm=function(r,e){const t=e.params,n=r.getObjectBySymbol(t.target);if(!n)return console.warn(`can not found vid object: ${t.target}`),()=>{};if(!(n instanceof xr))return console.warn(`object is not instanceof Object3D: ${t.target}`),()=>{};const i=r.renderManager,s=r.getConfigBySymbol(t.target);let o=!1;return()=>{if(o)return;o=!0;const a={x:n.position.x+t.spacing.x,y:n.position.y+t.spacing.y,z:n.position.z+t.spacing.z},c=new ue(n.position).to(a).duration(t.duration).delay(t.delay).easing(he[t.timingFunction]).start(),l=u=>{c.update()};i.addEventListener("render",l),c.onComplete(()=>{i.removeEventListener("render",l),s.position.x=a.x,s.position.y=a.y,s.position.z=a.z,o=!1})}},Jm={name:"moveToObject",params:{target:"",to:"",offset:{x:0,y:0,z:0},delay:0,duration:1e3,timingFunction:ze.EASING_QUADRATIC_INOUT}},eg=function(r,e){const t=e.params,n=r.compilerManager,i=n.getObjectBySymbol(t.target),s=n.getObjectBySymbol(t.to);if(!i)return console.warn(`real time animation MoveToObject: can not found vid object: ${t.target}`),()=>{};if(!s)return console.warn(`real time animation MoveToObject: can not found vid object: ${t.target}`),()=>{};const o=r.renderManager,a=r.dataSupportManager.getConfigBySymbol(t.target);if(!a)return console.warn(`can not found object config: ${t.target}`),()=>{};let c=!1;return()=>{if(c)return;c=!0;const l={x:s.position.x+t.offset.x,y:s.position.y+t.offset.y,z:s.position.z+t.offset.z},u=new ue(i.position).to(l).duration(t.duration).delay(t.delay).easing(he[t.timingFunction]).start(),h=d=>{u.update()};o.addEventListener("render",h),u.onComplete(()=>{o.removeEventListener("render",h),a.position.x=l.x,a.position.y=l.y,a.position.z=l.z,c=!1})}},tg={name:"vector3To",params:{target:"",attribute:".position",props:{x:"x",y:"y",z:"z"},delay:0,duration:500,to:{},timingFunction:ze.EASING_QUADRATIC_INOUT}},rg=function(r,e){var t,n,i;const s=e.params,o=r.compilerManager.getObjectBySymbol(s.target);if(!o)return console.warn(`real time animation vector3To: can not found vid object: ${s.target}`),()=>{};const a=r.renderManager;let c=r.dataSupportManager.getConfigBySymbol(s.target);if(!c)return console.warn(`real time animation vector3To: can not found object config: ${s.target}`),()=>{};const l=s.attribute.split(".");l.shift();let u=o;for(const v of l){if(u[v]===void 0)return console.error(`real time animation vector3To: object can not support key: ${v}`,o),()=>{};u=u[v],c=c[v]}const h=s.props;if(!(h.x in u)||!(h.y in u)||!(h.z in u))return console.error("real time animation vector3To: object can not support props:",u,h),()=>{};if(!(h.x in c)||!(h.y in c)||!(h.z in c))return console.error("real time animation vector3To: config can not support props:",c,h),()=>{};const d={x:(t=s.to.x)!=null?t:u[h.x],y:(n=s.to.y)!=null?n:u[h.y],z:(i=s.to.z)!=null?i:u[h.z]};let p=!1;return()=>{if(p)return;p=!0;const v=new ue(u).to(d).duration(s.duration).delay(s.delay).easing(he[s.timingFunction]).start(),E=x=>{v.update()};a.addEventListener("render",E),v.onComplete(()=>{a.removeEventListener("render",E),c[h.x]=d.x,c[h.y]=d.y,c[h.z]=d.z,p=!1})}},ng={name:"focusObject",params:{target:"",camera:"",space:"world",offset:{x:0,y:0,z:20},delay:0,duration:1e3,timingFunction:ze.EASING_QUADRATIC_INOUT,back:!0}},ig=function(r,e){const t=e.params,n=r.getObjectBySymbol(t.target),i=r.orbitControls.target;if(!n)return console.warn(`real time animation focusObject: can not found vid object: ${t.target}`),()=>{};if(!(n instanceof xr))return console.warn(`real time animation focusObject: vid object is not a class of THREE.Object3D: ${t.target}`),()=>{};let s=!1;const o=new qs;return()=>{if(s)return;s=!0;let a=r.camera;t.camera&&(a=r.getObjectBySymbol(t.camera),a||(a=r.camera,console.warn(`real time animation focusObject: can not found camera config: ${t.camera}`)));const c=r.getObjectConfig(a),l=r.orbitControls&&r.orbitControls.object===a;c||console.warn("engine current camera can not found config.");const u=r.renderManager;let h={x:n.matrixWorld.elements[12]+t.offset.x,y:n.matrixWorld.elements[13]+t.offset.y,z:n.matrixWorld.elements[14]+t.offset.z};const d={x:a.position.x,y:a.position.y,z:a.position.z};if(t.space==="local"){const g=new U(t.offset.x,t.offset.y,t.offset.z).applyEuler(o.setFromRotationMatrix(n.matrixWorld));h={x:n.matrixWorld.elements[12]+g.x,y:n.matrixWorld.elements[13]+g.y,z:n.matrixWorld.elements[14]+g.z}}const p=new ue(a.position).to(h).duration(t.duration).delay(t.delay).easing(he[t.timingFunction]).start();let v;const E={x:a.up.x,y:a.up.y,z:a.up.z};if(t.space==="local"){const g=new U(0,1,0).applyEuler(o.setFromRotationMatrix(n.matrixWorld));v=new ue(a.up).to({x:g.x,y:g.y,z:g.z}).duration(t.duration).delay(t.delay).easing(he[t.timingFunction]).start()}let x;const m={x:i.x,y:i.y,z:i.z};l&&(x=new ue(i).to({x:n.matrixWorld.elements[12],y:n.matrixWorld.elements[13],z:n.matrixWorld.elements[14]}).duration(t.duration).delay(t.delay).easing(he[t.timingFunction]).start());let C;l&&t.space==="local"?C=g=>{p.update(),v.update(),x.update()}:l?C=g=>{p.update(),x.update()}:t.space==="local"?C=g=>{p.update(),v.update()}:C=g=>{p.update()},u.addEventListener("render",C),p.onComplete(()=>{if(u.removeEventListener("render",C),c&&(c.position.x=h.x,c.position.y=h.y,c.position.z=h.z),s=!1,t.back){const g=()=>{const y=new ue(a.position).to(d).duration(t.duration).delay(t.delay).easing(he[t.timingFunction]).start();let M;t.space==="local"&&(M=new ue(a.up).to(E).duration(t.duration).delay(t.delay).easing(he[t.timingFunction]).start());let S;l&&(S=new ue(i).to(m).duration(t.duration).delay(t.delay).easing(he[t.timingFunction]).start());const w=_=>{y.update(),M&&M.update(),S&&S.update()};y.onComplete(()=>{u.removeEventListener("render",w)}),u.addEventListener("render",w),document.removeEventListener("dblclick",g)};document.addEventListener("dblclick",g)}})}},sg={name:"fadeObject",params:{target:"",direction:"out",delay:0,duration:300,timingFunction:ze.EASING_QUADRATIC_INOUT,visible:!0}},og=function(r,e){const t=e.params,n=r.getObjectBySymbol(t.target);if(!n)return console.warn(`real time animation fadeObject: can not found vid object: ${t.target}`),()=>{};const i=r.getObjectConfig(n);if(!i.material)return console.warn(`real time animation fadeObject: target can not support fade: ${t.target}`),()=>{};const s=[],o=[],a=Array.isArray(i.material)?[].concat(i.material):[i.material];for(const l of a){const u=r.getObjectBySymbol(l),h=r.getConfigBySymbol(l);if(!(u instanceof hi)){console.error(`real time animation fadeObject: object config material is not instanceof Material: ${l}`);continue}if(!h){console.error(`real time animation fadeObject: object config material can not found config: ${l}`);continue}s.push(u),o.push(h)}let c=!1;return()=>{if(c)return;c=!0;const l=r.renderManager;i.visible=!0,s.forEach((u,h,d)=>{u.visible=!0,u.transparent=!0,u.opacity=t.direction==="in"?0:1,u.needsUpdate=!0;const p=new ue(u).to({opacity:t.direction==="in"?1:0}).duration(t.duration).delay(t.delay).easing(he[t.timingFunction]).start(),v=E=>{p.update()};l.addEventListener("render",v),p.onComplete(()=>{l.removeEventListener("render",v),t.direction==="out"&&t.visible?(o[h].visible=!1,i.visible=!1):t.direction==="in"&&t.visible&&(o[h].visible=!0,i.visible=!0),o[h].opacity=t.direction==="in"?1:0,c=!1})})}},ag={name:"showToCamera",params:{target:"",offset:{x:0,y:0,z:-30},delay:0,duration:1e3,timingFunction:ze.EASING_QUADRATIC_INOUT,back:!0}},lg=function(r,e){const t=e.params,n=r.getObjectBySymbol(t.target),i=r.getConfigBySymbol(t.target),s=r.camera;if(!n)return console.warn(`real time animation showToCamera: can not found vid object: ${t.target}`),()=>{};if(!n)return console.warn(`real time animation showToCamera: can not found vid config: ${t.target}`),()=>{};if(!(n instanceof xr))return console.warn(`real time animation showToCamera: vid object is not a class of THREE.Object3D: ${t.target}`),()=>{};const o=new nl,a=new qs,c=new U;let l=!1;return()=>{if(l)return;l=!0;const u=r.renderManager;c.set(t.offset.x,t.offset.y,t.offset.z).applyEuler(s.rotation),c.set(s.position.x+c.x,s.position.y+c.y,s.position.z+c.z),o.lookAt(s.position,c,s.up),a.setFromRotationMatrix(o);const h={x:n.position.x,y:n.position.y,z:n.position.z},d={x:n.rotation.x,y:n.rotation.y,z:n.rotation.z},p=new ue(n.position).to({x:c.x,y:c.y,z:c.z}).duration(t.duration).delay(t.delay).easing(he[t.timingFunction]).start(),v=new ue(n.rotation).to({x:a.x,y:a.y,z:a.z}).duration(t.duration).delay(t.delay).easing(he[t.timingFunction]).start(),E=x=>{p.update(),v.update()};u.addEventListener("render",E),p.onComplete(()=>{if(u.removeEventListener("render",E),i.position.x=c.x,i.position.y=c.y,i.position.z=c.z,i.rotation.x=a.x,i.rotation.y=a.y,i.rotation.z=a.z,l=!1,t.back){const x=()=>{const m=new ue(n.position).to(h).duration(t.duration).delay(t.delay).easing(he[t.timingFunction]).start(),C=new ue(n.rotation).to(d).duration(t.duration).delay(t.delay).easing(he[t.timingFunction]).start(),g=y=>{m.update(),C.update()};m.onComplete(()=>{u.removeEventListener("render",g),i.position.x=h.x,i.position.y=h.y,i.position.z=h.z,i.rotation.x=d.x,i.rotation.y=d.y,i.rotation.z=d.z}),u.addEventListener("render",g),document.removeEventListener("dblclick",x)};document.addEventListener("dblclick",x)}})}},cg={name:"colorChange",params:{target:"",attribute:"color",color:"rgb(255, 255, 255)",delay:0,duration:500,timingFunction:ze.EASING_QUADRATIC_INOUT}},ug=function(r,e){const t=e.params,n=r.getObjectBySymbol(t.target);if(!n)return console.warn(`real time animation ColorChange: can not found vid material: ${t.target}`),()=>{};if(!n[t.attribute]||!(n[t.attribute]instanceof re))return console.warn(`real time animation ColorChange: material attribute is illeage: ${t.attribute}`),()=>{};const i=r.getConfigBySymbol(t.target);if(!i)return console.warn(`real time animation ColorChange: can not found material config: ${t.target}`),()=>{};const s=new re(t.color),o=r.renderManager;let a=!1;return()=>{if(a)return;a=!0;const c=new ue(n[t.attribute]).to({r:s.r,g:s.g,b:s.b}).duration(t.duration).delay(t.delay).easing(he[t.timingFunction]).start(),l=u=>{c.update()};o.addEventListener("render",l),c.onComplete(()=>{o.removeEventListener("render",l),i[t.attribute]=t.color,a=!1})}},hg={name:"orbitTargetMove",params:{target:"",offset:{x:0,y:0,z:0},delay:0,duration:1e3,timingFunction:ze.EASING_QUADRATIC_INOUT}},dg=function(r,e){const t=e.params;if(r.compilerManager,!r.orbitControls)return console.warn("real time animation orbitTargetMove: engine can not install orbitControls."),()=>{};const n=r.renderManager;let i=!1;return()=>{if(i)return;i=!0;let s=t.offset;if(t.target){const c=r.getObjectBySymbol(t.target);c?s={x:c.matrixWorld.elements[12]+s.x,y:c.matrixWorld.elements[13]+s.y,z:c.matrixWorld.elements[14]+s.z}:console.warn(`real time animation orbitTargetMove: can not found vid object: ${t.target}`)}const o=new ue(r.orbitControls.target).to(s).duration(t.duration).delay(t.delay).easing(he[t.timingFunction]).start(),a=c=>{o.update()};n.addEventListener("render",a),o.onComplete(()=>{n.removeEventListener("render",a),i=!1})}},Pt=class{static generateConfig(r,e){if(!Pt.configLibrary.has(r))return console.warn(`event library can not found config by name: ${r}`),{name:""};const t=(i,s)=>{for(const o in s)typeof s[o]=="object"&&s[o]!==null&&!Array.isArray(s[o])?t(i[o],s[o]):i[o]=s[o]},n=JSON.parse(JSON.stringify(Pt.configLibrary.get(r)));return t(n,e),n}static generateEvent(r,e){return Pt.generatorLibrary.has(r.name)?Pt.generatorLibrary.get(r.name)(e,r):(console.error(`event library can not found generator by name: ${r.name}`),()=>{})}static has(r){return Pt.configLibrary.has(r)}};let ie=Pt;f(ie,"configLibrary",new Map);f(ie,"generatorLibrary",new Map);f(ie,"register",function(r,e){Pt.configLibrary.has(r.name)&&console.warn(`EventLibrary has already exist this event generator: ${r.name}, that will be cover.`),Pt.configLibrary.set(r.name,JSON.parse(JSON.stringify(r))),Pt.generatorLibrary.set(r.name,e)});ie.register(Rm,Am);ie.register(Pm,Lm);ie.register(Im,Dm);ie.register(jm,Nm);ie.register(zm,km);ie.register($m,Bm);ie.register(Gm,Um);ie.register(Vm,Km);ie.register(Wm,Ym);ie.register(qm,Xm);ie.register(Qm,Zm);ie.register(Jm,eg);ie.register(tg,rg);ie.register(ng,ig);ie.register(sg,og);ie.register(ag,lg);ie.register(cg,ug);ie.register(hg,dg);const Sn=class extends Fe{constructor(){super();f(this,"IS_OBJECTCOMPILER",!0),f(this,"target"),f(this,"map"),f(this,"weakMap"),f(this,"objectCacheMap"),f(this,"objectMapSet"),f(this,"filterAttribute",{lookAt:!0,parent:!0,children:!0,pointerdown:!0,pointermove:!0,pointerup:!0,pointerenter:!0,pointerleave:!0,click:!0,dblclick:!0,contextmenu:!0}),f(this,"engine"),this.map=new Map,this.weakMap=new WeakMap,this.objectMapSet=new Set,this.objectCacheMap=new WeakMap}getObject(r){for(const e of this.objectMapSet)if(e.has(r))return e.get(r);return null}mergeFilterAttribute(r){const e=(t,n)=>{for(const i in n){if(t[i]===void 0){t[i]=n[i];continue}typeof n[i]=="object"?e(t[i],n[i]):t[i]=n[i]}};return e(this.filterAttribute,r),this}setLookAt(r,e){if(r===e)return console.error("can not set object lookAt itself."),this;if(!this.map.has(r))return console.error(`${this.MODULE}Compiler: can not found object which vid: ${r}.`),this;const t=this.map.get(r);let n=this.objectCacheMap.get(t);if(n||(n={lookAtTarget:null,updateMatrixWorldFun:null},this.objectCacheMap.set(t,n)),!e)return n.updateMatrixWorldFun?(t.updateMatrixWorld=n.updateMatrixWorldFun,n.lookAtTarget=null,n.updateMatrixWorldFun=null,this):this;const i=this.getObject(e);if(!i)return console.warn(`${this.MODULE}Compiler: can not found this vid mapping object: '${r}'`),this;const s=t.updateMatrixWorld;return n.updateMatrixWorldFun=s,n.lookAtTarget=i.position,t.updateMatrixWorld=o=>{s.bind(t)(o),t.lookAt(n.lookAtTarget)},this}addEvent(r,e,t){if(!this.map.has(r))return console.warn(`${this.MODULE} compiler : No matching vid found: ${r}`),this;if(!ie.has(t.name))return console.warn(`${this.MODULE} compiler: can not support this event: ${t.name}`),this;const n=this.map.get(r),i=ie.generateEvent(t,this.engine),s=Symbol.for(Sn.eventSymbol);return t[s]=i,n.addEventListener(e,i),this}removeEvent(r,e,t){if(!this.map.has(r))return console.warn(`${this.MODULE} compiler: No matching vid found: ${r}`),this;const n=this.map.get(r),i=t[Symbol.for(Sn.eventSymbol)];return i?(n.removeEventListener(e,i),delete t[Symbol.for(Sn.eventSymbol)],this):(console.warn(`${this.MODULE} compiler: event remove can not fun found event in config`,t),this)}updateEvent(r,e,t){if(!this.map.has(r))return console.warn(`${this.MODULE} compiler: No matching vid found: ${r}`),this;const n=this.map.get(r),i=Symbol.for(Sn.eventSymbol),s=this.target[r][e][t],o=s[i];if(!o)return console.warn(`${this.MODULE} compiler: can not fun found event: ${r}, ${e}, ${t}`),this;n.removeEventListener(e,o);const a=ie.generateEvent(s,this.engine);return s[i]=a,n.addEventListener(e,a),this}addChildren(r,e){if(!this.map.has(r))return console.warn(`${this.MODULE} compiler: can not found this vid in compiler: ${r}.`),this;const t=this.engine.getConfigBySymbol(e);if(!t)return console.warn(`${this.MODULE} compiler: can not foud object config: ${e}`),this;if(t.parent&&t.parent!==r){const s=this.engine.getConfigBySymbol(t.parent);if(!s)return console.warn(`${this.MODULE} compiler: can not foud object config: ${e}`),this;s.children.splice(s.children.indexOf(e),1)}t.parent=r;const n=this.map.get(r),i=this.getObject(e);return i?(n.add(i),this):(console.warn(`${this.MODULE} compiler: can not found this vid in compiler: ${e}.`),this)}removeChildren(r,e){if(!this.map.has(r))return console.warn(`${this.MODULE} compiler: can not found this vid in compiler: ${r}.`),this;const t=this.map.get(r),n=this.getObject(e);if(!n)return console.warn(`${this.MODULE} compiler: can not found this vid in compiler: ${e}.`),this;t.remove(n);const i=this.engine.getConfigBySymbol(e);return i?(i.parent="",this):(console.warn(`${this.MODULE} compiler: remove children function can not foud object config: ${e}`),this)}linkObjectMap(...r){for(const e of r)this.objectMapSet.has(e)||this.objectMapSet.add(e);return this}useEngine(r){return this.engine=r,this}setTarget(r){return this.target=r,this}getMap(){return this.map}getObjectSymbol(r){return this.weakMap.get(r)||null}getObjectBySymbol(r){return this.map.get(r)||null}compileAll(){const r=this.target;for(const e in r)this.add(e,r[e]);return this}add(r,e){const t=this.map.get(r);return t?(Promise.resolve().then(()=>{if(this.setLookAt(r,e.lookAt),e.children.length)for(const i of e.children)this.addChildren(r,i);for(const i of Object.values(mn)){const s=e[i];if(s.length)for(const o of s)this.addEvent(r,i,o)}}),Fe.applyConfig(e,t,this.filterAttribute),t.updateMatrix(),t.updateMatrixWorld(),this):(console.error(`${this.MODULE} compiler can not finish add method.`),this)}set(r,e,t,n){if(!this.map.has(r))return console.warn(`${this.MODULE} compiler can not found this vid mapping object: '${r}'`),this;if(t==="lookAt")return this.setLookAt(r,n);let i=this.map.get(r),s=this.filterAttribute;for(const o of e){if(s[o]){if(s[o]===!0)return this;s=s[o]}i=i[o]}return i[t]=n,this}cover(r,e){const t=this.map.get(r);return t?(Promise.resolve().then(()=>{if(this.setLookAt(r,e.lookAt),e.children.length)for(const i of e.children)this.addChildren(r,i);for(const i of Object.values(mn)){t._listeners&&t._listeners[i]&&(t._listeners[i]=[]);const s=e[i];if(s.length)for(const o of s)this.addEvent(r,i,o)}}),Fe.applyConfig(e,t,this.filterAttribute),this):(console.error(`${this.MODULE} compiler can not found object: ${r}.`),this)}remove(r,e){if(!this.map.has(r))return console.warn(`${this.MODULE}Compiler: can not found object which vid: ${r}.`),this;if(e.parent){const n=this.engine.getConfigBySymbol(e.parent);n?n.children.includes(r)?n.children.splice(n.children.indexOf(r),1):console.warn(`${this.MODULE} compiler: can not found vid in its parent config: ${r}`):console.warn(`${this.MODULE} compiler: can not found parent object config: ${e.parent}`)}const t=this.map.get(r);return this.weakMap.delete(t),this.objectCacheMap.delete(this.map.get(r)),this.map.delete(r),this}dispose(){return this.map.clear(),this.objectMapSet.clear(),this}};let Ut=Sn;f(Ut,"eventSymbol","vis.event");class pg extends Ut{constructor(){super();f(this,"MODULE",A.CAMERA),f(this,"constructMap"),f(this,"cacheCameraMap");const e=new Map;e.set("PerspectiveCamera",()=>new xe),e.set("OrthographicCamera",()=>new Ye(-50,50,50,-50)),this.constructMap=e,this.mergeFilterAttribute({scale:!0,adaptiveWindow:!0}),this.cacheCameraMap=new WeakMap}setAdaptiveWindow(e,t){if(!this.map.has(e))return console.warn(`camera compiler can not found this vid camera: '${e}'`),this;const n=this.map.get(e);let i=this.cacheCameraMap.get(n);if(i||(i={},this.cacheCameraMap.set(n,i)),!t){if(i.setSizeFun&&this.engine.hasEventListener("setSize",i.setSizeFun))return this.engine.removeEventListener("setSize",i.setSizeFun),i.setSizeFun=void 0,this;if(i.setSizeFun&&!this.engine.hasEventListener("setSize",i.setSizeFun))return i.setSizeFun=void 0,this}if(t){if(i.setSizeFun&&this.engine.hasEventListener("setSize",i.setSizeFun))return this;if(i.setSizeFun&&!this.engine.hasEventListener("setSize",i.setSizeFun))return this.engine.addEventListener("setSize",i.setSizeFun),this;let s=a=>{};n instanceof xe?s=a=>{n.aspect=a.width/a.height,n.updateProjectionMatrix()}:n instanceof Ye?s=a=>{const c=a.width,l=a.height;n.left=-c/2,n.right=c/2,n.top=l/2,n.bottom=-l/2,n.updateProjectionMatrix()}:console.warn("camera compiler can not support this class camera:",n),this.engine.addEventListener("setSize",s),i.setSizeFun=s;const o=this.engine.dom;s({type:"setSize",width:o.offsetWidth,height:o.offsetHeight})}return this}add(e,t){if(t.type&&this.constructMap.has(t.type)){const n=this.constructMap.get(t.type)();this.map.set(e,n),this.weakMap.set(n,e),this.setLookAt(t.vid,t.lookAt),this.setAdaptiveWindow(t.vid,t.adaptiveWindow),super.add(e,t),(n instanceof xe||n instanceof Ye)&&n.updateProjectionMatrix()}else console.warn(`CameraCompiler: can not support this config type: ${t.type}`);return this}cover(e,t){return this.setLookAt(t.vid,t.lookAt),this.setAdaptiveWindow(t.vid,t.adaptiveWindow),super.cover(e,t)}set(e,t,n,i){if(n==="adaptiveWindow")return this.setAdaptiveWindow(e,i);super.set(e,t,n,i);const s=this.map.get(e);return s&&(s instanceof xe||s instanceof Ye)&&s.updateProjectionMatrix(),this}dispose(){return super.dispose(),this}}class co{constructor(){f(this,"filterMap",{}),f(this,"assembly",!1),this.filterMap=Object.assign({vid:!0,type:!0},this.filterMap)}mergeAttribute(e,t,n){if(this.filterMap[e.concat([t]).join(".")])return;let i=this.target;if(e.length)for(const s of e)i=i[s];i[t]=n}mergeObject(e){const t=(n,i)=>{for(const s in n)if(!this.filterMap[s]){if(typeof n[s]=="object"&&typeof n[s]!==null){t(n[s],i[s]);continue}i[s]=n[s]}};t(this.config,this.target),e&&e()}processAll(){const e=(t,n)=>{for(const i in t)if(!this.filterMap[n.concat([i]).join(".")]){if(typeof t[i]=="object"&&typeof t[i]!==null){e(t[i],n.concat([i]));continue}this.process({path:n,key:i,value:t[i]})}};return e(this.config,[]),this}}class fg extends co{constructor(){super();f(this,"config"),f(this,"target"),f(this,"engine")}assemble(e){return this.config=e.config,this.target=e.control,this.engine=e.engine,this.assembly=!0,this}process(e){return this.assembly?e.key==="target"||e.path.length&&e.path[0]==="target"?(this.setTarget(this.config.target),this):(this.mergeAttribute([],e.key,e.value),this):(console.warn("OrbitControls Processor unassembled"),this)}setTarget(e){typeof e=="object"&&e!==null&&(this.target.target=new U(e.x,e.y,e.z))}dispose(){return this.config=void 0,this.target=void 0,this.assembly=!1,this}}class mg extends co{constructor(){super();f(this,"config"),f(this,"target"),f(this,"filterMap",{translationSnap:!0,rotationSnap:!0,scaleSnap:!0})}assemble(e){return this.config=e.config,this.target=e.control,this.assembly=!0,this}process(e){return this.assembly?this.filterMap[e.key]?this:this[e.key]?(this[e.key](e.value),this):(this.mergeAttribute([],e.key,e.value),this):(console.warn("transformControls Processor unassembled"),this)}dispose(){return this.config=void 0,this.target=void 0,this}snapAllow(e){const t=this.config,n=this.target;return e?(n.translationSnap=t.translationSnap,n.rotationSnap=t.rotationSnap,n.scaleSnap=t.scaleSnap):(n.translationSnap=null,n.rotationSnap=null,n.scaleSnap=null),!0}}class gg extends Fe{constructor(){super();f(this,"MODULE",A.CONTROLS),f(this,"target",{}),f(this,"map",new Map),f(this,"weakMap",new Map),f(this,"engine"),f(this,"processorMap",{[b.TRNASFORMCONTROLS]:new mg,[b.ORBITCONTROLS]:new fg})}getAssembly(e){const t=this.target[e];if(!t)return console.warn(`controls compiler can not found this config: '${e}'`),null;const n=this.processorMap[t.type];if(!n)return console.warn(`controls compiler can not support this controls: '${e}'`),null;const i=this.map.get(t.type);return i?{config:t,processer:n,control:i}:(console.warn(`controls compiler can not found type of control: '${t.type}'`),null)}set(e,t,n,i){const s=this.getAssembly(e);return s?(s.processer.assemble({config:s.config,control:s.control,engine:this.engine}).process({key:n,path:t,value:i}),this):this}setAll(e){const t=this.getAssembly(e);return t?(t.processer.assemble({config:t.config,control:t.control,engine:this.engine}).processAll().dispose(),this):this}setTarget(e){return this.target=e,this}useEngine(e){return e.transformControls&&(this.map.set(b.TRNASFORMCONTROLS,e.transformControls),this.weakMap.set(e.transformControls,b.TRNASFORMCONTROLS)),e.orbitControls&&(this.map.set(b.ORBITCONTROLS,e.orbitControls),this.weakMap.set(e.orbitControls,b.ORBITCONTROLS)),this.engine=e,this}compileAll(){for(const e of Object.keys(this.target)){const t=this.getAssembly(e);!t||t.processer.assemble({config:t.config,control:t.control,engine:this.engine}).processAll().dispose()}return this}dispose(){return this.map.forEach(e=>{e.dispose&&e.dispose()}),this.map.clear(),this}getObjectSymbol(e){return this.weakMap.get(e)||null}getObjectBySymbol(e){return this.map.get(e)||null}}class yg extends fn{constructor(e=document.createElement("div")){const t=document.createElement("div"),n=50,i=50;t.style.width=`${n}px`,t.style.height=`${i}px`,t.appendChild(e);super(t);f(this,"geometry"),f(this,"_width"),f(this,"_height"),f(this,"cacheBox",new md),this.geometry=new Ot(n,i),this.geometry.computeBoundingBox(),this._width=n,this._height=i}get width(){return this._width}set width(e){this.geometry.dispose(),this.geometry=new Ot(e,this._height),this.geometry.computeBoundingBox(),this.element.style.width=`${e}px`,this._width=e}get height(){return this._height}set height(e){this.geometry.dispose(),this.geometry=new Ot(this._width,e),this.geometry.computeBoundingBox(),this.element.style.height=`${e}px`,this._height=e}}class vg extends yg{constructor(e=document.createElement("div")){super(e);this.element.classList.add("vis-css3d-plane")}raycast(e,t){const n=this.cacheBox.copy(this.geometry.boundingBox);n.applyMatrix4(this.matrixWorld),e.ray.intersectsBox(n)&&t.push({distance:e.ray.origin.distanceTo(this.position),object:this,point:this.position})}}class bg extends Ut{constructor(){super();f(this,"MODULE",A.CSS3D),f(this,"resourceMap"),f(this,"constructMap"),this.constructMap=new Map,this.resourceMap=new Map,this.constructMap.set(b.CSS3DOBJECT,e=>new fn(this.getElement(e.element))),this.constructMap.set(b.CSS3DPLANE,e=>new vg(this.getElement(e.element))),this.constructMap.set(b.CSS3DSPRITE,e=>new Jd(this.getElement(e.element))),this.mergeFilterAttribute({element:!0,interactive:!0})}getElement(e){if(!this.resourceMap.has(e))return console.warn(`css3D compiler: can not found resource element: ${e}`),document.createElement("div");const t=this.resourceMap.get(e);return t instanceof HTMLElement?t:(console.warn("css3D compiler can not suport render this resource type.",t.constructor,e),document.createElement("div"))}linkRescourceMap(e){return this.resourceMap=e,this}add(e,t){if(t.type&&this.constructMap.has(t.type)){const n=this.constructMap.get(t.type)(t);n.type=t.type,this.map.set(e,n),this.weakMap.set(n,e),super.add(e,t)}else console.warn(`css3D compiler can not support this type: ${t.type}`);return this}set(e,t,n,i){if(!this.map.has(e))return console.warn(`css3D compiler: can not found this vid mapping object: '${e}'`),this;const s=this.map.get(e);return n==="element"?(s.element.innerHTML="",s.element.appendChild(this.getElement(i)),this):(super.set(e,t,n,i),this)}}class Rr extends We{constructor(e=[],t=36,n=!0){super();f(this,"parameters"),this.type="CurveGeometry",this.parameters={path:e.map(i=>i.clone()),space:n,divisions:t}}}class Mg extends Rr{constructor(e=[],t=36,n=!0){super(e,t,n);if(this.type="LineCurveGeometry",!e.length){console.warn("LineCurveGeometry path length at least 1.");return}const i=new pi;for(let o=1;o<e.length;o+=1)i.add(new el(e[o-1],e[o]));const s=i.curves.reduce((o,a)=>o+=a.arcLengthDivisions,0);if(t>s){const o=Math.ceil((t-s)/i.curves.length);i.curves.forEach(a=>{a.arcLengthDivisions=a.arcLengthDivisions*(o+1),a.updateArcLengths()})}this.setFromPoints(n?i.getSpacedPoints(t):i.getPoints(t))}}class Eg extends Rr{constructor(e=[],t=36,n=!0){super(e,t,n);if(this.type="SplineCurveGeometry",!e.length){console.warn("SplineCurveGeometry path length at least 1.");return}const i=new tl(e);this.setFromPoints(n?i.getSpacedPoints(t):i.getPoints(t))}}class Sg extends Rr{constructor(e=[],t=36,n=!0){super(e,t,n);this.type="CubicBezierCurveGeometry";const i=new pi;if(e.length<4){console.warn("CubicBezierCurveGeometry path length at least 4.");return}const s=4+(e.length-4)-(e.length-4)%3;for(let a=2;a<s;a+=3)i.add(new jd(e[a-2],e[a-1],e[a],e[a+1]));const o=i.curves.reduce((a,c)=>a+=c.arcLengthDivisions,0);if(t>o){const a=Math.ceil((t-o)/i.curves.length);i.curves.forEach(c=>{c.arcLengthDivisions=c.arcLengthDivisions*(a+1),c.updateArcLengths()})}this.setFromPoints(n?i.getSpacedPoints(t):i.getPoints(t))}}class Cg extends Rr{constructor(e=[],t=36,n=!0){super(e,t,n);this.type="QuadraticBezierCurveGeometry";const i=new pi;if(e.length<3){console.warn("QuadraticBezierCurveGeometry path length at least 3.");return}const s=3+(e.length-3)-(e.length-3)%2;for(let a=1;a<s;a+=2)i.add(new Nd(e[a-1],e[a],e[a+1]));const o=i.curves.reduce((a,c)=>a+=c.arcLengthDivisions,0);if(t>o){const a=Math.ceil((t-o)/i.curves.length);i.curves.forEach(c=>{c.arcLengthDivisions=c.arcLengthDivisions*(a+1),c.updateArcLengths()})}this.setFromPoints(n?i.getSpacedPoints(t):i.getPoints(t))}}class wg extends di{constructor(e=[],t=64,n=1,i=8,s=!1){if(!e.length){console.warn("LineTubeGeometry path length at least 1.");return}const o=new pi;for(let a=1;a<e.length;a+=1)o.add(new el(e[a-1],e[a]));super(o,t,n,i,s);this.type="LineTubeGeometry"}}class xg extends di{constructor(e=[],t=64,n=1,i=8,s=!1){if(!e.length){console.warn("SplineTubeGeometry path length at least 1.");return}const o=new tl(e);super(o,t,n,i,s);this.type="SplineTubeGeometry"}}class _g extends We{constructor(e){super();f(this,"type","LoadBufferGeometry"),e&&this.copy(e)}}class Og extends Ws{constructor(e=[new ne(0,0)],t=12){const n=new gd,i=e[0];if(i){n.moveTo(i.x,i.y);for(let s=1;s<e.length;s+=1)n.lineTo(e[s].x,e[s].y)}super(n,t);this.type="LineShapeGeometry"}}const fe=new Map;fe.set(b.BOXGEOMETRY,r=>de.transfromAnchor(new on(r.width,r.height,r.depth,r.widthSegments,r.heightSegments,r.depthSegments),r));fe.set(b.SPHEREGEOMETRY,r=>de.transfromAnchor(new rl(r.radius,r.widthSegments,r.heightSegments,r.phiStart,r.phiLength,r.thetaStart,r.thetaLength),r));fe.set(b.PLANEGEOMETRY,r=>de.transfromAnchor(new Ot(r.width,r.height,r.widthSegments,r.heightSegments),r));fe.set(b.LOADGEOMETRY,(r,e)=>de.transfromAnchor(new _g(e.getGeometry(r.url)),r));fe.set(b.CUSTOMGEOMETRY,(r,e)=>de.transfromAnchor(e.generateGeometry(r.attribute),r));fe.set(b.CIRCLEGEOMETRY,r=>de.transfromAnchor(new yd(r.radius,r.segments,r.thetaStart,r.thetaLength),r));fe.set(b.CONEGEOMETRY,r=>de.transfromAnchor(new vd(r.radius,r.height,r.radialSegments,r.heightSegments,r.openEnded,r.thetaStart,r.thetaLength),r));fe.set(b.CYLINDERGEOMETRY,r=>de.transfromAnchor(new bd(r.radiusTop,r.radiusBottom,r.height,r.radialSegments,r.heightSegments,r.openEnded,r.thetaStart,r.thetaLength),r));fe.set(b.EDGESGEOMETRY,(r,e)=>de.transfromAnchor(new nr(e.getGeometry(r.url),r.thresholdAngle),r));fe.set(b.LINECURVEGEOMETRY,r=>de.transfromAnchor(new Mg(r.path.map(e=>new U(e.x,e.y,e.z)),r.divisions,r.space),r));fe.set(b.SPLINECURVEGEOMETRY,r=>de.transfromAnchor(new Eg(r.path.map(e=>new U(e.x,e.y,e.z)),r.divisions,r.space),r));fe.set(b.CUBICBEZIERCURVEGEOMETRY,r=>de.transfromAnchor(new Sg(r.path.map(e=>new U(e.x,e.y,e.z)),r.divisions,r.space),r));fe.set(b.QUADRATICBEZIERCURVEGEOMETRY,r=>de.transfromAnchor(new Cg(r.path.map(e=>new U(e.x,e.y,e.z)),r.divisions,r.space),r));fe.set(b.LINETUBEGEOMETRY,r=>de.transfromAnchor(new wg(r.path.map(e=>new U(e.x,e.y,e.z)),r.tubularSegments,r.radius,r.radialSegments,r.closed),r));fe.set(b.SPLINETUBEGEOMETRY,r=>de.transfromAnchor(new xg(r.path.map(e=>new U(e.x,e.y,e.z)),r.tubularSegments,r.radius,r.radialSegments,r.closed),r));fe.set(b.TORUSGEOMETRY,r=>de.transfromAnchor(new Md(r.radius,r.tube,r.radialSegments,r.tubularSegments,r.arc),r));fe.set(b.RINGGEOMETRY,r=>de.transfromAnchor(new Ed(r.innerRadius,r.outerRadius,r.thetaSegments,r.phiSegments,r.thetaStart,r.thetaLength),r));fe.set(b.LINESHAPEGEOMETRY,r=>de.transfromAnchor(new Og(r.path.map(e=>new ne(e.x,e.y)),r.curveSegments),r));class de extends Fe{constructor(){super();f(this,"MODULE",A.GEOMETRY),f(this,"target",{}),f(this,"map",new Map),f(this,"weakMap",new WeakMap),f(this,"constructMap",fe),f(this,"resourceMap",new Map),f(this,"replaceGeometry",new on(5,5,5))}linkRescourceMap(e){return this.resourceMap=e,this}getRescource(e){return this.resourceMap.has(e)?this.resourceMap.has(e)&&this.resourceMap.get(e)instanceof We?this.resourceMap.get(e).clone():(console.error(`url mapping rescource is not class with BufferGeometry: ${e}`),this.replaceGeometry.clone()):(console.error(`rescoure can not found url: ${e}`),this.replaceGeometry.clone())}getGeometry(e){return this.map.has(e)?this.map.get(e):this.getRescource(e)}generateGeometry(e){const t=new We;return e.position.length&&t.setAttribute("position",new ve(e.position,3)),e.color.length&&t.setAttribute("color",new ve(e.color,3)),e.normal.length&&t.setAttribute("normal",new ve(e.normal,3)),e.uv.length&&t.setAttribute("uv",new ve(e.uv,2)),e.uv2.length&&t.setAttribute("uv2",new ve(e.uv2,2)),e.index.length&&t.setIndex(e.index),t}getMap(){return this.map}useEngine(e){return this}setTarget(e){return this.target=e,this}add(e,t){if(t.type&&this.constructMap.has(t.type)){const n=this.constructMap.get(t.type)(t,this);n.clearGroups();for(const i of t.groups)n.addGroup(i.start,i.count,i.materialIndex);this.map.set(e,n),this.weakMap.set(n,e)}return this}addGroup(e,t){return this.map.has(e)?(this.map.get(e).addGroup(t.start,t.count,t.materialIndex),this):(console.warn(`geometry compiler can not found object with vid: ${e}`),this)}updateGroup(e,t){return this.removeGroup(e,t).addGroup(e,this.target[e].groups[t])}removeGroup(e,t){return this.map.has(e)?(this.map.get(e).groups.splice(t,1),this):(console.warn(`geometry compiler can not found object with vid: ${e}`),this)}set(e,t,n){if(!J(e))return console.warn(`geometry compiler set function vid parameters is illeage: '${e}'`),this;if(!this.map.has(e))return console.warn(`geometry compiler set function can not found vid geometry: '${e}'`),this;const i=this.map.get(e),s=this.target[e],o=this.constructMap.get(s.type)(s,this);return i.copy(o),i.dispatchEvent({type:"update"}),i.uuid=o.uuid,o.dispose(),this}remove(e){if(!this.map.has(e))return console.warn(`Geometry Compiler: can not found vid in compiler: ${e}`),this;const t=this.map.get(e);return t.dispose(),this.map.delete(e),this.weakMap.delete(t),this}compileAll(){const e=this.target;for(const t in e)this.add(t,e[t]);return this}dispose(){return this.map.forEach((e,t)=>{e.dispose()}),this}getObjectSymbol(e){return this.weakMap.get(e)||null}getObjectBySymbol(e){return this.map.get(e)||null}}f(de,"transfromAnchor",function(r,e){!(r instanceof Rr)&&!(r instanceof di)&&!(r instanceof Ws)&&r.center(),r.computeBoundingBox();const t=r.boundingBox,n=e.position,i=e.rotation,s=e.scale,o=new Ys().setFromEuler(new qs(i.x,i.y,i.z,"XYZ"));return r.applyQuaternion(o),r.scale(s.x,s.y,s.z),!(r instanceof Rr)&&!(r instanceof di)&&!(r instanceof Ws)&&r.center(),r.computeBoundingBox(),r.translate((t.max.x-t.min.x)/2*n.x,(t.max.y-t.min.y)/2*n.y,(t.max.z-t.min.z)/2*n.z),r});class Tg extends Ut{constructor(){super();f(this,"MODULE",A.GROUP)}add(e,t){const n=new Qa;return this.map.set(e,n),this.weakMap.set(n,e),super.add(e,t),this}dispose(){return super.dispose(),this}}class Rg extends Ut{constructor(){super();f(this,"MODULE",A.LIGHT),f(this,"constructMap"),this.constructMap=new Map,this.constructMap.set(b.POINTLIGHT,()=>new sl),this.constructMap.set(b.SPOTLIGHT,()=>new Wd),this.constructMap.set(b.AMBIENTLIGHT,()=>new cn),this.constructMap.set(b.DIRECTIONALLIGHT,()=>new ul),this.mergeFilterAttribute({color:!0,scale:!0,rotation:!0})}setLookAt(e,t){return this}add(e,t){if(t.type&&this.constructMap.has(t.type)){const n=this.constructMap.get(t.type)();n.color=new re(t.color),this.map.set(e,n),this.weakMap.set(n,e),super.add(e,t)}else console.warn(`LightCompiler: can not support Light type: ${t.type}.`);return this}cover(e,t){const n=this.map.get(e);return n?(n.color=new re(t.color),super.cover(e,t)):(console.warn(`light compiler can not found light: ${e}`),this)}set(e,t,n,i){if(!this.map.has(e))return console.warn(`LightCompiler: can not found this vid mapping object: '${e}'`),this;const s=this.map.get(e);return n==="color"?(s.color=new re(i),this):(super.set(e,t,n,i),this)}dispose(){return super.dispose(),this}}class Ti extends Ut{constructor(){super();f(this,"IS_SOLIDOBJECTCOMPILER",!0),f(this,"geometryMap"),f(this,"materialMap"),this.geometryMap=new Map,this.materialMap=new Map,this.mergeFilterAttribute({geometry:!0,material:!0})}getMaterial(e){return J(e)?this.materialMap.has(e)?this.materialMap.get(e):(console.warn(`${this.MODULE}Compiler: can not found material which vid: ${e}`),this.getReplaceMaterial()):(console.warn(`${this.MODULE}Compiler: material vid parameter is illegal: ${e}`),this.getReplaceMaterial())}getGeometry(e){return J(e)?this.geometryMap.has(e)?this.geometryMap.get(e):(console.warn(`${this.MODULE}Compiler: can not found geometry which vid: ${e}`),this.getReplaceGeometry()):(console.warn(`${this.MODULE}Compiler: geometry vid parameter is illegal: ${e}`),this.getReplaceGeometry())}linkGeometryMap(e){return this.geometryMap=e,this}linkMaterialMap(e){return this.materialMap=e,this}add(e,t){const n=this.map.get(e);if(!n)return console.error(`${this.MODULE} compiler can not finish add method.`),this;if(Array.isArray(n.material))for(const s of n.material)s.dispose();else n.material.dispose();let i;return typeof t.material=="string"?i=this.getMaterial(t.material):i=t.material.map(s=>this.getMaterial(s)),n.material=i,n.isSprite||(n.geometry.dispose(),n.geometry=this.getGeometry(t.geometry)),super.add(e,t),this}set(e,t,n,i){if(!this.map.has(e))return console.warn(`${this.MODULE} compiler can not found this vid mapping object: '${e}'`),this;const s=this.map.get(e);return n==="geometry"&&!s.isSprite?(s.geometry=this.getGeometry(i),this):n==="material"?(s.material=this.getMaterial(i),this):(super.set(e,t,n,i),this)}}class Ag extends Ti{constructor(){super();f(this,"MODULE",A.LINE),f(this,"replaceMaterial",new _t({color:"rgb(150, 150, 150)"})),f(this,"replaceGeometry",new on(10,10,10))}getReplaceMaterial(){return this.replaceMaterial}getReplaceGeometry(){return this.replaceGeometry}add(e,t){const n=new hn;return this.map.set(e,n),this.weakMap.set(n,e),super.add(e,t),this}dispose(){return super.dispose(),this.replaceGeometry.dispose(),this.replaceMaterial.dispose(),this}}class Pg extends Fe{constructor(){super();f(this,"MODULE",A.MATERIAL),f(this,"target",{}),f(this,"map",new Map),f(this,"weakMap",new WeakMap),f(this,"constructMap",new Map),f(this,"mapAttribute",{roughnessMap:!0,normalMap:!0,metalnessMap:!0,map:!0,lightMap:!0,envMap:!0,emissiveMap:!0,displacementMap:!0,bumpMap:!0,alphaMap:!0,aoMap:!0,specularMap:!0}),f(this,"colorAttribute",{color:!0,emissive:!0,specular:!0}),f(this,"shaderAttribute",{shader:!0}),f(this,"needsUpdateAttribute",{transparent:!0,sizeAttenuation:!0}),f(this,"texturelMap",new Map),f(this,"resourceMap",new Map),f(this,"cachaColor",new re);const e=new Map;e.set(b.MESHBASICMATERIAL,()=>new mi),e.set(b.MESHSTANDARDMATERIAL,()=>new Qs),e.set(b.MESHPHONGMATERIAL,()=>new Ks),e.set(b.SPRITEMATERIAL,()=>new sr),e.set(b.LINEBASICMATERIAL,()=>new _t),e.set(b.POINTSMATERIAL,()=>new it),e.set(b.SHADERMATERIAL,t=>{const n=Tt.getShader(t.shader),i=new pn;return(n==null?void 0:n.vertexShader)&&(i.vertexShader=n.vertexShader),(n==null?void 0:n.fragmentShader)&&(i.fragmentShader=n.fragmentShader),(n==null?void 0:n.uniforms)&&(i.uniforms=n.uniforms),i}),this.constructMap=e}mergeMaterial(e,t){const n=JSON.parse(JSON.stringify(t)),i={},s=this.colorAttribute;for(const a in s)n[a]&&(e[a]=new re(n[a]),i[a]=!0);const o=this.mapAttribute;for(const a in o)n[a]&&(e[a]=this.getTexture(n[a]),i[a]=!0);return Fe.applyConfig(t,e,Object.assign(i,this.shaderAttribute)),e.needsUpdate=!0,this}getTexture(e){if(this.texturelMap.has(e)){const t=this.texturelMap.get(e);return t instanceof an?t:(console.error(`this object which mapped by vid is not instance of Texture: ${e}`),null)}else return console.error(`texture map can not found this vid: ${e}`),null}linkRescourceMap(e){return this.resourceMap=e,this}linkTextureMap(e){return this.texturelMap=e,this}add(e,t){if(t.type&&this.constructMap.has(t.type)){const n=this.constructMap.get(t.type)(t);this.mergeMaterial(n,t),this.map.set(e,n),this.weakMap.set(n,e)}else console.warn(`material compiler can not support this type: ${t.type}`);return this}set(e,t,n,i){if(!this.map.has(e))return console.warn(`material compiler set function: can not found material which vid is: '${e}'`),this;const s=this.map.get(e);if(this.colorAttribute[n])return s[n]=new re(i),this;if(this.mapAttribute[n])return s[n]=this.getTexture(i),s.needsUpdate=!0,this;let o=s;return t.forEach((a,c,l)=>{o=o[a]}),o[n]=i,this.needsUpdateAttribute[n]&&(s.needsUpdate=!0),this}cover(e,t){return this.map.has(e)?this.mergeMaterial(this.map.get(e),t):(console.warn(`material compiler set function: can not found material which vid is: '${e}'`),this)}remove(e){if(!this.map.has(e))return console.warn(`material compiler set function: can not found material which vid is: '${e}'`),this;const t=this.map.get(e);return t.dispose(),this.map.delete(e),this.weakMap.delete(t),this}getMap(){return this.map}setTarget(e){return this.target=e,this}useEngine(e){return this}compileAll(){const e=this.target;for(const t in e)this.add(t,e[t]);return this}dispose(){return this.map.forEach((e,t)=>{e.dispose()}),this}getObjectSymbol(e){return this.weakMap.get(e)||null}getObjectBySymbol(e){return this.map.get(e)||null}}class Lg extends Ti{constructor(){super();f(this,"MODULE",A.MESH),f(this,"replaceMaterial",new mi({color:"rgb(150, 150, 150)"})),f(this,"replaceGeometry",new on(10,10,10))}getReplaceMaterial(){return this.replaceMaterial}getReplaceGeometry(){return this.replaceGeometry}add(e,t){const n=new mt;return this.map.set(e,n),this.weakMap.set(n,e),super.add(e,t),this}dispose(){return super.dispose(),this.replaceGeometry.dispose(),this.replaceMaterial.dispose(),this}}class Ig extends Fe{constructor(){super();f(this,"MODULE",A.PASS),f(this,"target"),f(this,"map"),f(this,"weakMap"),f(this,"constructMap"),f(this,"composer"),f(this,"width",window.innerWidth*window.devicePixelRatio),f(this,"height",window.innerHeight*window.devicePixelRatio),this.map=new Map,this.weakMap=new WeakMap;const e=new Map;e.set(b.SMAAPASS,()=>new ep(this.width,this.height)),e.set(b.UNREALBLOOMPASS,t=>new tp(new ne(this.width,this.height),t.strength,t.radius,t.threshold)),this.constructMap=e}setTarget(e){return this.target=e,this}useEngine(e){if(!e.effectComposer)return console.warn("engine need install effectComposer plugin that can use pass compiler."),this;this.composer=e.effectComposer;const t=this.composer.renderer.getPixelRatio();return this.width=Number(this.composer.renderer.domElement.getAttribute("width"))*t,this.height=Number(this.composer.renderer.domElement.getAttribute("height"))*t,this}add(e){if(this.constructMap.has(e.type)){const t=this.constructMap.get(e.type)(e);this.composer.addPass(t),this.map.set(e.vid,t),this.weakMap.set(t,e.vid)}else console.warn(`pass compiler can not support this type pass: ${e.type}.`)}set(e,t,n,i){if(!this.map.has(e))return console.warn(`pass compiler set function: can not found material which vid is: '${e}'`),this;let o=this.map.get(e);return t.forEach((a,c,l)=>{o=o[a]}),o[n]=i,this}remove(e){if(!this.map.has(e))return console.warn(`pass compiler can not found this vid pass: ${e}.`),this;const t=this.map.get(e);return this.composer.removePass(t),this.map.delete(e),this.weakMap.delete(t),this}compileAll(){const e=this.target;for(const t of Object.values(e))this.add(t);return this}dispose(){return this.map.clear(),this}getObjectSymbol(e){return this.weakMap.get(e)||null}getObjectBySymbol(e){return this.map.get(e)||null}}class Dg extends Ti{constructor(){super();f(this,"MODULE",A.POINTS),f(this,"replaceMaterial",new it({color:"rgb(150, 150, 150)"})),f(this,"replaceGeometry",new Yd(5))}getReplaceMaterial(){return this.replaceMaterial}getReplaceGeometry(){return this.replaceGeometry}add(e,t){const n=new ft;return this.map.set(e,n),this.weakMap.set(n,e),super.add(e,t),this}dispose(){return super.dispose(),this.replaceGeometry.dispose(),this.replaceMaterial.dispose(),this}}class jg extends co{constructor(){super();f(this,"target"),f(this,"config"),f(this,"engine"),f(this,"rendererCacheData"),this.rendererCacheData={}}assemble(e){return this.target=e.renderer,this.config=e.config,this.engine=e.engine,this.assembly=!0,this}process(e){return this.assembly?this[e.key]?(this[e.key](e.value),this):e.path.length&&this[e.path[0]]?(this[e.path[0]](e.value),this):(this.mergeAttribute(e.path,e.key,e.value),this):(console.warn("webGLRenderer Processor unassembled"),this)}dispose(){return this.target=void 0,this.config=void 0,this.engine=void 0,this.assembly=!1,this}clearColor(e){const t=Number(e.slice(0,-1).split(",").pop().trim());return this.target.setClearColor(e,t),this.target.clear(),this}pixelRatio(e){return this.target.setPixelRatio(e),this.target.clear(),this}size(){const e=this.target,t=this.config.size;if(t)e.setSize(t.x,t.y);else{const n=e.domElement;e.setSize(n.offsetWidth,n.offsetHeight)}return this}viewport(){const e=this.target,t=this.config.viewport;if(t)e.setViewport(t.x,t.y,t.width,t.height);else{const n=e.domElement;e.setViewport(0,0,n.offsetWidth,n.offsetHeight)}return this}scissor(){const e=this.target,t=this.config.scissor;if(t)e.setScissorTest(!0),e.setScissor(t.x,t.y,t.width,t.height);else{e.setScissorTest(!1);const n=e.domElement;e.setScissor(0,0,n.offsetWidth,n.offsetHeight)}return this}adaptiveCamera(e){if(!this.engine)return console.warn("renderer compiler is not set engine."),this;const t=this.target,n=this.engine,i=n.renderManager;if(!e){if(!this.rendererCacheData.adaptiveCameraFun)return this;if(this.rendererCacheData.adaptiveCameraFun)return i.removeEventListener("render",this.rendererCacheData.adaptiveCameraFun),this.rendererCacheData.adaptiveCameraFun=void 0,this}if(e){if(this.rendererCacheData.adaptiveCameraFun)return i.addEventListener("render",this.rendererCacheData.adaptiveCameraFun),this;const s=o=>{const a=n.camera,c=t.domElement.offsetWidth,l=t.domElement.offsetHeight;let u=0,h=0,d=0,p=0,v=0;if(a instanceof xe)v=a.aspect;else if(a instanceof Ye)u=a.right-a.left,h=a.top-a.bottom,v=u/h;else{console.warn("renderer compiler can not support this camera",a);return}v>=1?(u=c,h=u/v,p=l/2-h/2):(h=l,u=h*v,d=c/2-u/2),t.setScissor(d,p,u,h),t.setViewport(d,p,u,h),t.setScissorTest(!0)};this.rendererCacheData.adaptiveCameraFun=s,i.addEventListener("render",this.rendererCacheData.adaptiveCameraFun)}return this}}class Ng extends Fe{constructor(e){super();f(this,"MODULE",A.RENDERER),f(this,"target"),f(this,"engine"),f(this,"processorMap",{[b.WEBGLRENDERER]:new jg}),f(this,"map",new Map),e?(e.target&&(this.target=e.target),e.engine&&(this.engine=e.engine)):(this.target={},this.engine=new te)}assembly(e,t){const n=this.target[e];if(!n){console.warn(`controls compiler can not found this config: '${e}'`);return}const i=this.processorMap[n.type];if(!i){console.warn(`renderer compiler can not support this renderer: '${e}'`);return}const s=this.map.get(e);if(!s){console.warn(`renderer compiler can not found type of renderer: '${n.type}'`);return}i.dispose().assemble({config:n,renderer:s,processer:i,engine:this.engine}),t(i)}add(e){e.type===b.WEBGLRENDERER&&this.map.set(e.vid,this.engine.webGLRenderer),this.assembly(e.vid,t=>{t.processAll().dispose()})}setTarget(e){return this.target=e,this}useEngine(e){return e.webGLRenderer&&this.map.set(b.WEBGLRENDERER,e.webGLRenderer),this.engine=e,this}compileAll(){const e=this.target;for(const t of Object.values(e))this.add(t);return this}dispose(){return this.map.forEach((e,t)=>{e.dispose&&e.dispose()}),this}getObjectSymbol(e){let t=null;return this.map.forEach((n,i)=>{n===e&&(t=i)}),t}getObjectBySymbol(e){return this.map.get(e)||null}}class zg extends Ut{constructor(){super();f(this,"MODULE",A.SCENE),f(this,"textureMap"),f(this,"fogCache"),this.textureMap=new Map,this.fogCache=null,this.mergeFilterAttribute({background:!0,environment:!0,fog:!0})}setLookAt(e,t){return this}background(e,t){if(!this.map.has(e)){console.warn(`${this.MODULE} compiler can not found this vid mapping object: '${e}'`);return}const n=this.map.get(e);if(!t){n.background=null;return}J(t)?this.textureMap.has(t)?n.background=this.textureMap.get(t):console.warn(`scene compiler can not found this vid texture : '${t}'`):n.background=new re(t)}environment(e,t){if(!this.map.has(e)){console.warn(`${this.MODULE} compiler can not found this vid mapping object: '${e}'`);return}const n=this.map.get(e);if(!t){n.environment=null;return}J(t)?this.textureMap.has(t)?n.environment=this.textureMap.get(t):console.warn(`scene compiler can not found this vid texture : '${t}'`):console.warn(`this vid is illegal: '${t}'`)}fog(e,t){if(!this.map.has(e)){console.warn(`${this.MODULE} compiler can not found this vid mapping object: '${e}'`);return}const n=this.map.get(e);if(t.type===""){this.fogCache=null,n.fog=null;return}if(t.type==="Fog"){if(this.fogCache instanceof fl){const i=this.fogCache;i.color=new re(t.color),i.near=t.near,i.far=t.far}else n.fog=new fl(t.color,t.near,t.far),this.fogCache=n.fog;return}if(t.type==="FogExp2"){if(this.fogCache instanceof ml){const i=this.fogCache;i.color=new re(t.color),i.density=t.density}else n.fog=new ml(t.color,t.density),this.fogCache=n.fog;return}console.warn(`scene compiler can not support this type fog:'${t.type}'`)}linkTextureMap(e){return this.textureMap=e,this}add(e,t){const n=new ot;return this.map.set(e,n),this.weakMap.set(n,e),this.background(e,t.background),this.environment(e,t.environment),this.fog(e,t.fog),super.add(e,t),this}cover(e,t){return this.background(e,t.background),this.environment(e,t.environment),this.fog(e,t.fog),super.cover(e,t)}set(e,t,n,i){if(!this.map.has(e))return console.warn(`sceneCompiler: can not found this vid mapping object: '${e}'`),this;const s=t.length?t[0]:n,o={background:()=>this.background(e,i),environment:()=>this.environment(e,i),fog:()=>this.fog(e,this.target[e].fog)};return o[s]?(o[s](),this):(super.set(e,t,n,i),this)}setTarget(e){return this.target=e,this}dispose(){return super.dispose(),this}}class kg extends Ti{constructor(){super();f(this,"MODULE",A.SPRITE),f(this,"replaceMaterial",new sr({color:"rgb(150, 150, 150)"})),f(this,"replaceGeometry",new Ot(1,1)),this.mergeFilterAttribute({geometry:!0})}getReplaceMaterial(){return this.replaceMaterial}getReplaceGeometry(){return console.warn("SpriteCompiler: can not use geometry in SpriteCompiler."),this.replaceGeometry}setLookAt(e,t){return this}getMaterial(e){const t=super.getMaterial(e);return t instanceof sr?t:(console.warn(`SpriteCompiler: sprite object can not support this type material: ${t.type}, vid: ${e}.`),this.getReplaceMaterial())}add(e,t){const n=new ir;return this.map.set(e,n),this.weakMap.set(n,e),super.add(e,t),this}dispose(){return this.map.forEach((e,t)=>{e.geometry.dispose()}),super.dispose(),this.replaceGeometry.dispose(),this.replaceMaterial.dispose(),this}}class $g extends an{constructor(e,t,n,i,s,o,a,c,l,u){super(e,t,n,i,s,o,a,c,l,u)}}class Bg extends an{constructor(e,t,n,i,s,o,a,c,l){super(e,t,n,i,s,o,a,c,l);f(this,"isVideoTexture",!0),this.format=a!==void 0?a:Sd,this.minFilter=o!==void 0?o:fi,this.magFilter=s!==void 0?s:fi,this.generateMipmaps=!1}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image,t="requestVideoFrameCallback"in e;t?this.needsUpdate=!0:t===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Cn{constructor(e){f(this,"canvas"),this.canvas=document.createElement("canvas");const t=window.devicePixelRatio;this.canvas.width=((e==null?void 0:e.width)||512)*t,this.canvas.height=((e==null?void 0:e.height)||512)*t,this.canvas.style.backgroundColor=(e==null?void 0:e.bgColor)||"rgb(255, 255, 255)";const n=this.canvas.getContext("2d");n&&n.scale(window.devicePixelRatio,window.devicePixelRatio)}get(){return this.canvas}getDom(){return this.canvas}clear(e=0,t=0,n,i){!n&&(n=this.canvas.width),!i&&(i=this.canvas.height);const s=this.canvas.getContext("2d");return s?(s.clearRect(e,t,n,i),this):(console.warn("you browser can not support canvas 2d"),this)}draw(e){const t=this.canvas.getContext("2d");return t?(e(t),this):(console.warn("you browser can not support canvas 2d"),this)}preview(e){const t=this.canvas;return t.style.position="fixed",t.style.top=(e==null?void 0:e.top)||"5%",t.style.left=(e==null?void 0:e.left)||"5%",t.style.right=(e==null?void 0:e.right)||"unset",t.style.bottom=(e==null?void 0:e.bottom)||"unset",(e==null?void 0:e.scale)&&(t.style.transform=`scale(${e.scale})`),document.body.appendChild(this.canvas),this}}const Ri=class extends Fe{constructor(){super();f(this,"MODULE",A.TEXTURE),f(this,"target",{}),f(this,"map"),f(this,"weakMap"),f(this,"constructMap"),f(this,"resourceMap"),this.map=new Map,this.weakMap=new WeakMap,this.resourceMap=new Map;const r=new Map;r.set(b.IMAGETEXTURE,()=>new $g),r.set(b.CUBETEXTURE,()=>new Ud),r.set(b.CANVASTEXTURE,()=>new ln(document.createElement("canvas"))),r.set(b.VIDEOTEXTURE,()=>new Bg(document.createElement("video"))),this.constructMap=r}getResource(r){if(!r)return Ri.replaceImage;const e=this.resourceMap;if(e.has(r)){const t=e.get(r);return t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement?t:(console.error(`this url mapping resource is not a texture image class: ${r}`),Ri.replaceImage)}else return console.warn(`resource can not font url: ${r}`),Ri.replaceImage}linkRescourceMap(r){return this.resourceMap=r,this}add(r,e){if(J(r))if(e.type&&this.constructMap.has(e.type)){const t=this.constructMap.get(e.type)(),n=JSON.parse(JSON.stringify(e));if(delete n.type,delete n.vid,[b.IMAGETEXTURE,b.CANVASTEXTURE,b.VIDEOTEXTURE].includes(e.type))t.image=this.getResource(n.url),delete n.url;else if(e.type===b.CUBETEXTURE){const i=e.cube,s=[this.getResource(i.px),this.getResource(i.nx),this.getResource(i.py),this.getResource(i.ny),this.getResource(i.pz),this.getResource(i.nz)];t.image=s,delete n.cube}Fe.applyConfig(n,t),t.needsUpdate=!0,this.map.set(r,t),this.weakMap.set(t,r)}else console.warn(`texture compiler can not support this type: ${e.type}`);else console.error(`texture vid parameter is illegal: ${r}`);return this}set(r,e,t,n){if(!J(r))return console.warn(`texture compiler set function: vid is illeage: '${r}'`),this;if(!this.map.has(r))return console.warn(`texture compiler set function: can not found texture which vid is: '${r}'`),this;const i=this.map.get(r);if(!e.length&&t==="url"){const o=this.target[r];return[b.IMAGETEXTURE,b.CANVASTEXTURE,b.VIDEOTEXTURE].includes(o.type)?i.image=this.getResource(n):console.warn(`texture compiler can not support this type config set url: ${o.type}`),this}if(t==="needsUpdate"){if(n){i.needsUpdate=!0;const o=this.target[r];o.needsUpdate=!1}return this}let s=i;for(const o of e){if(s[o]===void 0)return console.warn(`texture compiler set function: can not found key:${o} in object.`),this;s=s[o]}return s[t]=n,i.needsUpdate=!0,this}remove(r){if(!this.map.has(r))return console.warn(`texture compiler can not found vid match object: ${r}`),this;const e=this.map.get(r);return e.dispose(),this.map.delete(r),this.weakMap.delete(e),this}getMap(){return this.map}setTarget(r){return this.target=r,this}useEngine(r){return this}compileAll(){const r=this.target;for(const e in r)this.add(e,r[e]);return this}dispose(){return this.map.forEach((r,e)=>{r.dispose()}),this.map.clear(),this}getObjectSymbol(r){return this.weakMap.get(r)||null}getObjectBySymbol(r){return this.map.get(r)||null}};let Rl=Ri;f(Rl,"replaceImage",new Cn({width:512,height:512}).draw(r=>{r.translate(256,256),r.font="52px",r.fillStyle="white",r.fillText("\u6682\u65E0\u56FE\u7247",0,0)}).get());class Fg{constructor(e){f(this,"cameraCompiler",new pg),f(this,"lightCompiler",new Rg),f(this,"geometryCompiler",new de),f(this,"textureCompiler",new Rl),f(this,"materialCompiler",new Pg),f(this,"rendererCompiler",new Ng),f(this,"sceneCompiler",new zg),f(this,"controlsCompiler",new gg),f(this,"spriteCompiler",new kg),f(this,"lineCompiler",new Ag),f(this,"meshCompiler",new Lg),f(this,"pointsCompiler",new Dg),f(this,"groupCompiler",new Tg),f(this,"css3DCompiler",new bg),f(this,"passCompiler",new Ig),f(this,"animationCompiler",new Tm),f(this,"compilerMap"),e&&Object.keys(e).forEach(c=>{this[c]=e[c]});const t=this.textureCompiler.getMap();this.sceneCompiler.linkTextureMap(t),this.materialCompiler.linkTextureMap(t),this.animationCompiler.linkTextureMap(t);const n=this.geometryCompiler.getMap(),i=this.materialCompiler.getMap(),s=Object.values(this).filter(c=>c instanceof Ut),o=s.map(c=>c.getMap());for(const c of s)xi("IS_SOLIDOBJECTCOMPILER",c)&&c.linkGeometryMap(n).linkMaterialMap(i),c.linkObjectMap(...o);this.animationCompiler.linkObjectMap(...o).linkMaterialMap(i);const a=new Map;Object.keys(this).forEach(c=>{const l=this[c];l instanceof Fe&&a.set(l.MODULE,l)}),this.compilerMap=a}support(e){if(this.compilerMap.forEach(n=>{n.useEngine(e)}),e.resourceManager){const n=e.resourceManager.resourceMap;this.textureCompiler.linkRescourceMap(n),this.geometryCompiler.linkRescourceMap(n),this.css3DCompiler.linkRescourceMap(n)}const t=e.dataSupportManager;return t.textureDataSupport.addCompiler(this.textureCompiler),t.materialDataSupport.addCompiler(this.materialCompiler),t.geometryDataSupport.addCompiler(this.geometryCompiler),t.rendererDataSupport.addCompiler(this.rendererCompiler),t.controlsDataSupport.addCompiler(this.controlsCompiler),t.passDataSupport.addCompiler(this.passCompiler),t.cameraDataSupport.addCompiler(this.cameraCompiler),t.lightDataSupport.addCompiler(this.lightCompiler),t.spriteDataSupport.addCompiler(this.spriteCompiler),t.lineDataSupport.addCompiler(this.lineCompiler),t.meshDataSupport.addCompiler(this.meshCompiler),t.pointsDataSupport.addCompiler(this.pointsCompiler),t.css3DDataSupport.addCompiler(this.css3DCompiler),t.groupDataSupport.addCompiler(this.groupCompiler),t.sceneDataSupport.addCompiler(this.sceneCompiler),t.animationDataSupport.addCompiler(this.animationCompiler),this}getObjectSymbol(e){for(const t of this.compilerMap.values()){const n=t.getObjectSymbol(e);if(n)return n}return null}getObjectBySymbol(e){for(const t of this.compilerMap.values()){const n=t.getObjectBySymbol(e);if(n)return n}return null}dispose(){for(const e of this.compilerMap.values())e.dispose({});return this.compilerMap.clear(),this}}const Hg=function(r){if(this.compilerManager)return console.warn("engine has installed compilerManager plugin."),!1;if(!this.dataSupportManager)return console.warn("must install dataSupportManager before compilerManager plugin."),!1;if(!this.renderManager)return console.warn("must install renderManager before compilerManager plugin."),!1;const e=new Fg;return this.compilerManager=e,this.getObjectSymbol=function(t){return this.compilerManager.getObjectSymbol(t)},this.getObjectBySymbol=function(t){return this.compilerManager.getObjectBySymbol(t)},this.addEventListener("dispose",()=>{this.compilerManager.dispose()}),this.completeSet.add(()=>{this.compilerManager.support(this)}),!0};var uo=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Al={exports:{}};(function(r,e){(function(t,n){r.exports=n()})(uo,function(){function t(m){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(C){return typeof C}:t=function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},t(m)}function n(m,C){if(!(m instanceof C))throw new TypeError("Cannot call a class as a function")}function i(m,C){for(var g=0;g<C.length;g++){var y=C[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(m,y.key,y)}}function s(m,C,g){return C&&i(m.prototype,C),g&&i(m,g),m}function o(m){return a(m)||c(m)||l(m)||h()}function a(m){if(Array.isArray(m))return u(m)}function c(m){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(m))return Array.from(m)}function l(m,C){if(!!m){if(typeof m=="string")return u(m,C);var g=Object.prototype.toString.call(m).slice(8,-1);if(g==="Object"&&m.constructor&&(g=m.constructor.name),g==="Map"||g==="Set")return Array.from(m);if(g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return u(m,C)}}function u(m,C){(C==null||C>m.length)&&(C=m.length);for(var g=0,y=new Array(C);g<C;g++)y[g]=m[g];return y}function h(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var d=function(){function m(C){n(this,m),this.sourceStr=C,this.subCombos=m.parseComboStr(C),this.keyNames=this.subCombos.reduce(function(g,y){return g.concat(y)},[])}return s(m,[{key:"check",value:function(g){for(var y=0,M=0;M<this.subCombos.length;M+=1)if(y=this._checkSubCombo(this.subCombos[M],y,g),y===-1)return!1;return!0}},{key:"isEqual",value:function(g){if(!g||typeof g!="string"&&t(g)!=="object"||(typeof g=="string"&&(g=new m(g)),this.subCombos.length!==g.subCombos.length))return!1;for(var y=0;y<this.subCombos.length;y+=1)if(this.subCombos[y].length!==g.subCombos[y].length)return!1;for(var M=0;M<this.subCombos.length;M+=1){for(var S=this.subCombos[M],w=g.subCombos[M].slice(0),_=0;_<S.length;_+=1){var R=S[_],I=w.indexOf(R);I>-1&&w.splice(I,1)}if(w.length!==0)return!1}return!0}},{key:"_checkSubCombo",value:function(g,y,M){g=g.slice(0),M=M.slice(y);for(var S=y,w=0;w<g.length;w+=1){var _=g[w];if(_[0]==="\\"){var R=_.slice(1);(R===m.comboDeliminator||R===m.keyDeliminator)&&(_=R)}var I=M.indexOf(_);if(I>-1&&(g.splice(w,1),w-=1,I>S&&(S=I),g.length===0))return S}return-1}}]),m}();d.comboDeliminator=">",d.keyDeliminator="+",d.parseComboStr=function(m){for(var C=d._splitStr(m,d.comboDeliminator),g=[],y=0;y<C.length;y+=1)g.push(d._splitStr(C[y],d.keyDeliminator));return g},d._splitStr=function(m,C){for(var g=m,y=C,M="",S=[],w=0;w<g.length;w+=1)w>0&&g[w]===y&&g[w-1]!=="\\"&&(S.push(M.trim()),M="",w+=1),M+=g[w];return M&&S.push(M.trim()),S};var p=function(){function m(C){n(this,m),this.localeName=C,this.activeTargetKeys=[],this.pressedKeys=[],this._appliedMacros=[],this._keyMap={},this._killKeyCodes=[],this._macros=[]}return s(m,[{key:"bindKeyCode",value:function(g,y){typeof y=="string"&&(y=[y]),this._keyMap[g]=y}},{key:"bindMacro",value:function(g,y){typeof y=="string"&&(y=[y]);var M=null;typeof y=="function"&&(M=y,y=null);var S={keyCombo:new d(g),keyNames:y,handler:M};this._macros.push(S)}},{key:"getKeyCodes",value:function(g){var y=[];for(var M in this._keyMap){var S=this._keyMap[M].indexOf(g);S>-1&&y.push(M|0)}return y}},{key:"getKeyNames",value:function(g){return this._keyMap[g]||[]}},{key:"setKillKey",value:function(g){if(typeof g=="string"){for(var y=this.getKeyCodes(g),M=0;M<y.length;M+=1)this.setKillKey(y[M]);return}this._killKeyCodes.push(g)}},{key:"pressKey",value:function(g){if(typeof g=="string"){for(var y=this.getKeyCodes(g),M=0;M<y.length;M+=1)this.pressKey(y[M]);return}this.activeTargetKeys.length=0;for(var S=this.getKeyNames(g),w=0;w<S.length;w+=1)this.activeTargetKeys.push(S[w]),this.pressedKeys.indexOf(S[w])===-1&&this.pressedKeys.push(S[w]);this._applyMacros()}},{key:"releaseKey",value:function(g){if(typeof g=="string")for(var y=this.getKeyCodes(g),M=0;M<y.length;M+=1)this.releaseKey(y[M]);else{var S=this.getKeyNames(g),w=this._killKeyCodes.indexOf(g);if(w!==-1)this.pressedKeys.length=0;else for(var _=0;_<S.length;_+=1){var R=this.pressedKeys.indexOf(S[_]);R>-1&&this.pressedKeys.splice(R,1)}this.activeTargetKeys.length=0,this._clearMacros()}}},{key:"_applyMacros",value:function(){for(var g=this._macros.slice(0),y=0;y<g.length;y+=1){var M=g[y];if(M.keyCombo.check(this.pressedKeys)){M.handler&&(M.keyNames=M.handler(this.pressedKeys));for(var S=0;S<M.keyNames.length;S+=1)this.pressedKeys.indexOf(M.keyNames[S])===-1&&this.pressedKeys.push(M.keyNames[S]);this._appliedMacros.push(M)}}}},{key:"_clearMacros",value:function(){for(var g=0;g<this._appliedMacros.length;g+=1){var y=this._appliedMacros[g];if(!y.keyCombo.check(this.pressedKeys)){for(var M=0;M<y.keyNames.length;M+=1){var S=this.pressedKeys.indexOf(y.keyNames[M]);S>-1&&this.pressedKeys.splice(S,1)}y.handler&&(y.keyNames=null),this._appliedMacros.splice(g,1),g-=1}}}}]),m}(),v=function(){function m(C,g,y,M){n(this,m),this._locale=null,this._currentContext="",this._contexts={},this._listeners=[],this._appliedListeners=[],this._locales={},this._targetElement=null,this._targetWindow=null,this._targetPlatform="",this._targetUserAgent="",this._isModernBrowser=!1,this._targetKeyDownBinding=null,this._targetKeyUpBinding=null,this._targetResetBinding=null,this._paused=!1,this._contexts.global={listeners:this._listeners,targetWindow:C,targetElement:g,targetPlatform:y,targetUserAgent:M},this.setContext("global")}return s(m,[{key:"setLocale",value:function(g,y){var M=null;return typeof g=="string"?y?(M=new p(g),y(M,this._targetPlatform,this._targetUserAgent)):M=this._locales[g]||null:(M=g,g=M._localeName),this._locale=M,this._locales[g]=M,M&&(this._locale.pressedKeys=M.pressedKeys),this}},{key:"getLocale",value:function(g){return g||(g=this._locale.localeName),this._locales[g]||null}},{key:"bind",value:function(g,y,M,S){if((g===null||typeof g=="function")&&(S=M,M=y,y=g,g=null),g&&t(g)==="object"&&typeof g.length=="number"){for(var w=0;w<g.length;w+=1)this.bind(g[w],y,M);return this}return this._listeners.push({keyCombo:g?new d(g):null,pressHandler:y||null,releaseHandler:M||null,preventRepeat:S||!1,preventRepeatByDefault:S||!1,executingHandler:!1}),this}},{key:"addListener",value:function(g,y,M,S){return this.bind(g,y,M,S)}},{key:"on",value:function(g,y,M,S){return this.bind(g,y,M,S)}},{key:"bindPress",value:function(g,y,M){return this.bind(g,y,null,M)}},{key:"bindRelease",value:function(g,y){return this.bind(g,null,y,preventRepeatByDefault)}},{key:"unbind",value:function(g,y,M){if((g===null||typeof g=="function")&&(M=y,y=g,g=null),g&&t(g)==="object"&&typeof g.length=="number"){for(var S=0;S<g.length;S+=1)this.unbind(g[S],y,M);return this}for(var w=0;w<this._listeners.length;w+=1){var _=this._listeners[w],R=!g&&!_.keyCombo||_.keyCombo&&_.keyCombo.isEqual(g),I=!y&&!M||!y&&!_.pressHandler||y===_.pressHandler,k=!y&&!M||!M&&!_.releaseHandler||M===_.releaseHandler;R&&I&&k&&(this._listeners.splice(w,1),w-=1)}return this}},{key:"removeListener",value:function(g,y,M){return this.unbind(g,y,M)}},{key:"off",value:function(g,y,M){return this.unbind(g,y,M)}},{key:"setContext",value:function(g){if(this._locale&&this.releaseAllKeys(),!this._contexts[g]){var y=this._contexts.global;this._contexts[g]={listeners:[],targetWindow:y.targetWindow,targetElement:y.targetElement,targetPlatform:y.targetPlatform,targetUserAgent:y.targetUserAgent}}var M=this._contexts[g];return this._currentContext=g,this._listeners=M.listeners,this.stop(),this.watch(M.targetWindow,M.targetElement,M.targetPlatform,M.targetUserAgent),this}},{key:"getContext",value:function(){return this._currentContext}},{key:"withContext",value:function(g,y){var M=this.getContext();return this.setContext(g),y(),this.setContext(M),this}},{key:"watch",value:function(g,y,M,S){var w=this;this.stop();var _=typeof globalThis!="undefined"?globalThis:typeof uo!="undefined"?uo:typeof window!="undefined"?window:{};if(!g){if(!_.addEventListener&&!_.attachEvent)throw new Error("Cannot find window functions addEventListener or attachEvent.");g=_}if(typeof g.nodeType=="number"&&(S=M,M=y,y=g,g=_),!g.addEventListener&&!g.attachEvent)throw new Error("Cannot find addEventListener or attachEvent methods on targetWindow.");this._isModernBrowser=!!g.addEventListener;var R=g.navigator&&g.navigator.userAgent||"",I=g.navigator&&g.navigator.platform||"";y&&y!==null||(y=g.document),M&&M!==null||(M=I),S&&S!==null||(S=R),this._targetKeyDownBinding=function(B){w.pressKey(B.keyCode,B),w._handleCommandBug(B,I)},this._targetKeyUpBinding=function(B){w.releaseKey(B.keyCode,B)},this._targetResetBinding=function(B){w.releaseAllKeys(B)},this._bindEvent(y,"keydown",this._targetKeyDownBinding),this._bindEvent(y,"keyup",this._targetKeyUpBinding),this._bindEvent(g,"focus",this._targetResetBinding),this._bindEvent(g,"blur",this._targetResetBinding),this._targetElement=y,this._targetWindow=g,this._targetPlatform=M,this._targetUserAgent=S;var k=this._contexts[this._currentContext];return k.targetWindow=this._targetWindow,k.targetElement=this._targetElement,k.targetPlatform=this._targetPlatform,k.targetUserAgent=this._targetUserAgent,this}},{key:"stop",value:function(){if(!(!this._targetElement||!this._targetWindow))return this._unbindEvent(this._targetElement,"keydown",this._targetKeyDownBinding),this._unbindEvent(this._targetElement,"keyup",this._targetKeyUpBinding),this._unbindEvent(this._targetWindow,"focus",this._targetResetBinding),this._unbindEvent(this._targetWindow,"blur",this._targetResetBinding),this._targetWindow=null,this._targetElement=null,this}},{key:"pressKey",value:function(g,y){if(this._paused)return this;if(!this._locale)throw new Error("Locale not set");return this._locale.pressKey(g),this._applyBindings(y),this}},{key:"releaseKey",value:function(g,y){if(this._paused)return this;if(!this._locale)throw new Error("Locale not set");return this._locale.releaseKey(g),this._clearBindings(y),this}},{key:"releaseAllKeys",value:function(g){if(this._paused)return this;if(!this._locale)throw new Error("Locale not set");return this._locale.pressedKeys.length=0,this._clearBindings(g),this}},{key:"pause",value:function(){return this._paused?this:(this._locale&&this.releaseAllKeys(),this._paused=!0,this)}},{key:"resume",value:function(){return this._paused=!1,this}},{key:"reset",value:function(){return this.releaseAllKeys(),this._listeners.length=0,this}},{key:"_bindEvent",value:function(g,y,M){return this._isModernBrowser?g.addEventListener(y,M,!1):g.attachEvent("on"+y,M)}},{key:"_unbindEvent",value:function(g,y,M){return this._isModernBrowser?g.removeEventListener(y,M,!1):g.detachEvent("on"+y,M)}},{key:"_getGroupedListeners",value:function(){var g=[],y=[],M=this._listeners;return this._currentContext!=="global"&&(M=[].concat(o(M),o(this._contexts.global.listeners))),M.sort(function(S,w){return(w.keyCombo?w.keyCombo.keyNames.length:0)-(S.keyCombo?S.keyCombo.keyNames.length:0)}).forEach(function(S){for(var w=-1,_=0;_<y.length;_+=1)(y[_]===null&&S.keyCombo===null||y[_]!==null&&y[_].isEqual(S.keyCombo))&&(w=_);w===-1&&(w=y.length,y.push(S.keyCombo)),g[w]||(g[w]=[]),g[w].push(S)}),g}},{key:"_applyBindings",value:function(g){var y=this,M=!1;g||(g={}),g.preventRepeat=function(){M=!0},g.pressedKeys=this._locale.pressedKeys.slice(0);for(var S=this._locale.activeTargetKeys,w=this._locale.pressedKeys.slice(0),_=this._getGroupedListeners(),R=function(B){var Y=_[B],X=Y[0].keyCombo;if(X===null||X.check(w)&&S.some(function(Ke){return X.keyNames.includes(Ke)})){for(var Se=0;Se<Y.length;Se+=1){var ae=Y[Se];!ae.executingHandler&&ae.pressHandler&&!ae.preventRepeat&&(ae.executingHandler=!0,ae.pressHandler.call(y,g),ae.executingHandler=!1,(M||ae.preventRepeatByDefault)&&(ae.preventRepeat=!0,M=!1)),y._appliedListeners.indexOf(ae)===-1&&y._appliedListeners.push(ae)}if(X)for(var Ce=0;Ce<X.keyNames.length;Ce+=1){var Pe=w.indexOf(X.keyNames[Ce]);Pe!==-1&&(w.splice(Pe,1),Ce-=1)}}},I=0;I<_.length;I+=1)R(I)}},{key:"_clearBindings",value:function(g){g||(g={}),g.pressedKeys=this._locale.pressedKeys.slice(0);for(var y=0;y<this._appliedListeners.length;y+=1){var M=this._appliedListeners[y],S=M.keyCombo;(S===null||!S.check(this._locale.pressedKeys))&&(M.preventRepeat=!1,(S!==null||g.pressedKeys.length===0)&&(this._appliedListeners.splice(y,1),y-=1),!M.executingHandler&&M.releaseHandler&&(M.executingHandler=!0,M.releaseHandler.call(this,g),M.executingHandler=!1))}}},{key:"_handleCommandBug",value:function(g,y){var M=["shift","ctrl","alt","capslock","tab","command"];y.match("Mac")&&this._locale.pressedKeys.includes("command")&&!M.includes(this._locale.getKeyNames(g.keyCode)[0])&&this._targetKeyUpBinding(g)}}]),m}();function E(m,C,g){m.bindKeyCode(3,["cancel"]),m.bindKeyCode(8,["backspace"]),m.bindKeyCode(9,["tab"]),m.bindKeyCode(12,["clear"]),m.bindKeyCode(13,["enter"]),m.bindKeyCode(16,["shift"]),m.bindKeyCode(17,["ctrl"]),m.bindKeyCode(18,["alt","menu"]),m.bindKeyCode(19,["pause","break"]),m.bindKeyCode(20,["capslock"]),m.bindKeyCode(27,["escape","esc"]),m.bindKeyCode(32,["space","spacebar"]),m.bindKeyCode(33,["pageup"]),m.bindKeyCode(34,["pagedown"]),m.bindKeyCode(35,["end"]),m.bindKeyCode(36,["home"]),m.bindKeyCode(37,["left"]),m.bindKeyCode(38,["up"]),m.bindKeyCode(39,["right"]),m.bindKeyCode(40,["down"]),m.bindKeyCode(41,["select"]),m.bindKeyCode(42,["printscreen"]),m.bindKeyCode(43,["execute"]),m.bindKeyCode(44,["snapshot"]),m.bindKeyCode(45,["insert","ins"]),m.bindKeyCode(46,["delete","del"]),m.bindKeyCode(47,["help"]),m.bindKeyCode(145,["scrolllock","scroll"]),m.bindKeyCode(188,["comma",","]),m.bindKeyCode(190,["period","."]),m.bindKeyCode(191,["slash","forwardslash","/"]),m.bindKeyCode(192,["graveaccent","`"]),m.bindKeyCode(219,["openbracket","["]),m.bindKeyCode(220,["backslash","\\"]),m.bindKeyCode(221,["closebracket","]"]),m.bindKeyCode(222,["apostrophe","'"]),m.bindKeyCode(48,["zero","0"]),m.bindKeyCode(49,["one","1"]),m.bindKeyCode(50,["two","2"]),m.bindKeyCode(51,["three","3"]),m.bindKeyCode(52,["four","4"]),m.bindKeyCode(53,["five","5"]),m.bindKeyCode(54,["six","6"]),m.bindKeyCode(55,["seven","7"]),m.bindKeyCode(56,["eight","8"]),m.bindKeyCode(57,["nine","9"]),m.bindKeyCode(96,["numzero","num0"]),m.bindKeyCode(97,["numone","num1"]),m.bindKeyCode(98,["numtwo","num2"]),m.bindKeyCode(99,["numthree","num3"]),m.bindKeyCode(100,["numfour","num4"]),m.bindKeyCode(101,["numfive","num5"]),m.bindKeyCode(102,["numsix","num6"]),m.bindKeyCode(103,["numseven","num7"]),m.bindKeyCode(104,["numeight","num8"]),m.bindKeyCode(105,["numnine","num9"]),m.bindKeyCode(106,["nummultiply","num*"]),m.bindKeyCode(107,["numadd","num+"]),m.bindKeyCode(108,["numenter"]),m.bindKeyCode(109,["numsubtract","num-"]),m.bindKeyCode(110,["numdecimal","num."]),m.bindKeyCode(111,["numdivide","num/"]),m.bindKeyCode(144,["numlock","num"]),m.bindKeyCode(112,["f1"]),m.bindKeyCode(113,["f2"]),m.bindKeyCode(114,["f3"]),m.bindKeyCode(115,["f4"]),m.bindKeyCode(116,["f5"]),m.bindKeyCode(117,["f6"]),m.bindKeyCode(118,["f7"]),m.bindKeyCode(119,["f8"]),m.bindKeyCode(120,["f9"]),m.bindKeyCode(121,["f10"]),m.bindKeyCode(122,["f11"]),m.bindKeyCode(123,["f12"]),m.bindKeyCode(124,["f13"]),m.bindKeyCode(125,["f14"]),m.bindKeyCode(126,["f15"]),m.bindKeyCode(127,["f16"]),m.bindKeyCode(128,["f17"]),m.bindKeyCode(129,["f18"]),m.bindKeyCode(130,["f19"]),m.bindKeyCode(131,["f20"]),m.bindKeyCode(132,["f21"]),m.bindKeyCode(133,["f22"]),m.bindKeyCode(134,["f23"]),m.bindKeyCode(135,["f24"]),m.bindMacro("shift + `",["tilde","~"]),m.bindMacro("shift + 1",["exclamation","exclamationpoint","!"]),m.bindMacro("shift + 2",["at","@"]),m.bindMacro("shift + 3",["number","#"]),m.bindMacro("shift + 4",["dollar","dollars","dollarsign","$"]),m.bindMacro("shift + 5",["percent","%"]),m.bindMacro("shift + 6",["caret","^"]),m.bindMacro("shift + 7",["ampersand","and","&"]),m.bindMacro("shift + 8",["asterisk","*"]),m.bindMacro("shift + 9",["openparen","("]),m.bindMacro("shift + 0",["closeparen",")"]),m.bindMacro("shift + -",["underscore","_"]),m.bindMacro("shift + =",["plus","+"]),m.bindMacro("shift + [",["opencurlybrace","opencurlybracket","{"]),m.bindMacro("shift + ]",["closecurlybrace","closecurlybracket","}"]),m.bindMacro("shift + \\",["verticalbar","|"]),m.bindMacro("shift + ;",["colon",":"]),m.bindMacro("shift + '",["quotationmark","'"]),m.bindMacro("shift + !,",["openanglebracket","<"]),m.bindMacro("shift + .",["closeanglebracket",">"]),m.bindMacro("shift + /",["questionmark","?"]),C.match("Mac")?m.bindMacro("command",["mod","modifier"]):m.bindMacro("ctrl",["mod","modifier"]);for(var y=65;y<=90;y+=1){var M=String.fromCharCode(y+32),S=String.fromCharCode(y);m.bindKeyCode(y,M),m.bindMacro("shift + "+M,S),m.bindMacro("capslock + "+M,S)}var w=g.match("Firefox")?59:186,_=g.match("Firefox")?173:189,R=g.match("Firefox")?61:187,I,k;C.match("Mac")&&(g.match("Safari")||g.match("Chrome"))?(I=91,k=93):C.match("Mac")&&g.match("Opera")?(I=17,k=17):C.match("Mac")&&g.match("Firefox")&&(I=224,k=224),m.bindKeyCode(w,["semicolon",";"]),m.bindKeyCode(_,["dash","-"]),m.bindKeyCode(R,["equal","equalsign","="]),m.bindKeyCode(I,["command","windows","win","super","leftcommand","leftwindows","leftwin","leftsuper"]),m.bindKeyCode(k,["command","windows","win","super","rightcommand","rightwindows","rightwin","rightsuper"]),m.setKillKey("command")}var x=new v;return x.setLocale("us",E),x.Keyboard=v,x.Locale=p,x.KeyCombo=d,x})})(Al);var Ai=Al.exports;class Gg extends gt{constructor(){super();f(this,"map",new Map)}generateSymbol(e){return Array.isArray(e)?e.join(" + "):e.shortcutKey.join(" + ")}watch(e){return e?Ai.watch(void 0,e):Ai.watch(),this}register(e){const t=this.generateSymbol(e);return this.map.has(t)?(console.warn(`KeyboardManager: shortcutKey already exist: ${t}. desp: ${this.map.get(t).desp}`),this):(Ai.bind(t,e.keydown||null,e.keyup),this.map.set(t,e),this)}update(e){const t=this.generateSymbol(e);return this.map.has(t)?(this.cancel(e.shortcutKey),this.register(e),this):(console.warn("KeyboardManager: shortcutKey unregister then exec register function"),this.register(e),this)}cancel(e){const t=this.generateSymbol(e);if(this.map.has(t)){const n=this.map.get(t);Ai.unbind(t,n.keydown||null,n.keyup),this.map.delete(t)}return this}checkRepeat(e){const t=this.generateSymbol(e);return this.map.has(t)}}const Ug=function(r){if(this.keyboardManager)return console.warn("engine has installed keyboardManager plugin."),!1;const e=new Gg;return this.keyboardManager=e,this.completeSet.add(()=>{if(this.transformControls)if(this.IS_ENGINESUPPORT){const t=this.dataSupportManager.controlsDataSupport.getData()[b.TRNASFORMCONTROLS];e.register({shortcutKey:["r"],desp:"tranformControls rotate mode",keyup:n=>{n==null||n.preventDefault(),t.mode="rotate"}}).register({shortcutKey:["t"],desp:"tranformControls translate mode",keyup:n=>{n==null||n.preventDefault(),t.mode="translate"}}).register({shortcutKey:["e"],desp:"tranformControls scale mode",keyup:n=>{n==null||n.preventDefault(),t.mode="scale"}}).register({shortcutKey:["x"],desp:"tranformControls switch x axis",keyup:n=>{n==null||n.preventDefault(),t.showX=!t.showX}}).register({shortcutKey:["y"],desp:"tranformControls switch y axis",keyup:n=>{n==null||n.preventDefault(),!(n==null?void 0:n.ctrlKey)&&(t.showY=!t.showY)}}).register({shortcutKey:["z"],desp:"tranformControls switch z axis",keyup:n=>{n==null||n.preventDefault(),!(n==null?void 0:n.ctrlKey)&&(t.showZ=!t.showZ)}}).register({shortcutKey:["space"],desp:"tranformControls switch coordinate space",keyup:n=>{n==null||n.preventDefault(),t.space=t.space==="local"?"world":"local"}}).register({shortcutKey:["shift"],desp:"tranformControls switch tranform numeric value",keyup:n=>{n==null||n.preventDefault(),t.snapAllow=!1},keydown:n=>{n==null||n.preventDefault(),n==null||n.preventRepeat(),t.snapAllow=!0}})}else{const t=this.transformControls;e.register({shortcutKey:["r"],desp:"tranformControls rotate mode",keyup:n=>{n==null||n.preventDefault(),t.mode="rotate"}}).register({shortcutKey:["t"],desp:"tranformControls translate mode",keyup:n=>{n==null||n.preventDefault(),t.mode="translate"}}).register({shortcutKey:["e"],desp:"tranformControls scale mode",keyup:n=>{n==null||n.preventDefault(),t.mode="scale"}}).register({shortcutKey:["x"],desp:"tranformControls switch x axis",keyup:n=>{n==null||n.preventDefault(),t.showX=!t.showX}}).register({shortcutKey:["y"],desp:"tranformControls switch y axis",keyup:n=>{n==null||n.preventDefault(),!(n==null?void 0:n.ctrlKey)&&(t.showY=!t.showY)}}).register({shortcutKey:["z"],desp:"tranformControls switch z axis",keyup:n=>{n==null||n.preventDefault(),!(n==null?void 0:n.ctrlKey)&&(t.showZ=!t.showZ)}}).register({shortcutKey:["space"],desp:"tranformControls switch coordinate space",keyup:n=>{n==null||n.preventDefault(),t.space=t.space==="local"?"world":"local"}}).register({shortcutKey:["shift"],desp:"tranformControls switch tranform numeric value",keyup:n=>{n==null||n.preventDefault(),t.translationSnap=null,t.rotationSnap=null,t.scaleSnap=null},keydown:n=>{n==null||n.preventDefault(),n==null||n.preventRepeat(),t.translationSnap=5,t.rotationSnap=Math.PI/180*10,t.scaleSnap=.1}})}}),!0},Vg=function(r={}){if(!this.scene)return console.error("must install some scene plugin before BasicViewpoint plugin."),!1;const e=new zd(r.length||500);return e.matrixAutoUpdate=!1,e.raycast=()=>{},this.scene.add(e),this.setAxesHelper=function(t){return t.show?this.scene.add(e):this.scene.remove(e),this},this.addEventListener("setScene",t=>{t.scene.add(e)}),!0},Kg=function(r={}){if(!this.scene)return console.error("must install some scene before BasicViewpoint plugin."),!1;const e=new kd(r.range||500,r.spacing||50,r.axesColor||"rgb(130, 130, 130)",r.cellColor||"rgb(70, 70, 70)");if(r.opacity!==1){const t=e.material;t.transparent=!0,t.opacity=r.opacity||.5,t.needsUpdate=!0}return e.matrixAutoUpdate=!1,e.raycast=()=>{},this.scene.add(e),this.setGridHelper=function(t){return t.show?this.scene.add(e):this.scene.remove(e),this},this.addEventListener("setScene",t=>{t.scene.add(e)}),this.completeSet.add(()=>{this.setViewpoint&&this.addEventListener("setViewpoint",t=>{const n=t.viewpoint;n===ee.DEFAULT||n===ee.TOP||n===ee.BOTTOM?e.rotation.set(0,0,0):n===ee.RIGHT||n===ee.LEFT?e.rotation.set(0,0,Math.PI/2):(n===ee.FRONT||n===ee.BACK)&&e.rotation.set(Math.PI/2,0,0),e.updateMatrix(),e.updateMatrixWorld()})}),!0};var ke;(function(r){r.GEOMETRY="geometry",r.MATERIAL="material",r.LIGHT="light",r.ENV="env"})(ke||(ke={}));const Wg=function(r={}){if(!this.webGLRenderer)return console.error("must install some renderer before DisplayModel plugin."),!1;if(!this.scene)return console.error("must install some scene before DisplayModel plugin."),!1;!r.overrideColor&&(r.overrideColor="rgb(250, 250, 250)"),!r.defaultAmbientLightSetting&&(r.defaultAmbientLightSetting={}),!r.defaultAmbientLightSetting.color&&(r.defaultAmbientLightSetting.color="rgb(255, 255, 255)"),!r.defaultAmbientLightSetting.intensity&&(r.defaultAmbientLightSetting.intensity=.5);const e=new cn(r.defaultAmbientLightSetting.color,r.defaultAmbientLightSetting.intensity);e.matrixAutoUpdate=!1,!r.defaultDirectionalLightSetting&&(r.defaultDirectionalLightSetting={}),!r.defaultDirectionalLightSetting.color&&(r.defaultDirectionalLightSetting.color="rgb(255, 255, 255)"),!r.defaultDirectionalLightSetting.intensity&&(r.defaultDirectionalLightSetting.intensity=.5),!r.defaultDirectionalLightSetting.position&&(r.defaultDirectionalLightSetting.position={x:-100,y:100,z:100});const t=new ul(r.defaultDirectionalLightSetting.color,r.defaultDirectionalLightSetting.intensity);t.castShadow=!1,t.position.set(r.defaultDirectionalLightSetting.position.x,r.defaultDirectionalLightSetting.position.y,r.defaultDirectionalLightSetting.position.z),t.updateMatrix(),t.updateMatrixWorld(),t.matrixAutoUpdate=!1,!r.mode&&(r.mode=ke.ENV),this.displayMode=r.mode;const n=new $d({color:r.overrideColor}),i=new _t({color:r.overrideColor}),s=new it({color:r.overrideColor,size:5,sizeAttenuation:!1}),o=new sr({color:r.overrideColor}),a=new WeakMap,c=new Set,l=new Set,u=new Set,h=new Set,d=new Set;let p,v;const E={Object3D:!0,Group:!0};this.scene.addEventListener("afterAdd",S=>{const w=this.displayMode,_=S.objects;for(const R of _)if(!E[R.type])if(R instanceof mt&&R.type==="Mesh")l.add(R),w===ke.GEOMETRY&&(a.set(R,R.material),R.material=n);else if(R instanceof hn&&R.type.includes("Line"))u.add(R),w===ke.GEOMETRY&&(a.set(R,R.material),R.material=i);else if(R instanceof hl&&R.type.includes("Light")){if(R===e||R===t)continue;c.has(R)||c.add(R),w!==ke.ENV&&w!==ke.LIGHT&&this.scene.remove(R)}else R instanceof ft&&R.type==="Points"?(h.add(R),w===ke.GEOMETRY&&(a.set(R,R.material),R.material=s)):R instanceof ir&&R.type==="Sprite"&&(d.add(R),w===ke.GEOMETRY&&(a.set(R,R.material),R.material=o))}),this.scene.addEventListener("afterRemove",S=>{const w=S.objects;for(const _ of w)if(!E[_.type])if(_ instanceof mt&&_.type==="Mesh")l.delete(_),a.has(_)&&a.delete(_);else if(_ instanceof hn&&_.type.includes("Line"))u.delete(_),a.has(_)&&a.delete(_);else if(_ instanceof hl&&_.type.includes("Light")){if(_===e||_===t)continue;c.delete(_)}else _ instanceof ft&&_.type==="Points"?(h.delete(_),a.has(_)&&a.delete(_)):_ instanceof ir&&_.type==="Sprite"&&(d.delete(_),a.has(_)&&a.delete(_))});const x=()=>{for(const S of l)S.material!==n&&(a.set(S,S.material),S.material=n);for(const S of u)S.material!==i&&(a.set(S,S.material),S.material=i);for(const S of h)S.material!==s&&(a.set(S,S.material),S.material=s);for(const S of d)S.material!==o&&(a.set(S,S.material),S.material=o)},m=()=>{l.forEach(S=>{a.has(S)&&(S.material=a.get(S),a.delete(S))}),u.forEach(S=>{a.has(S)&&(S.material=a.get(S),a.delete(S))}),h.forEach(S=>{a.has(S)&&(S.material=a.get(S),a.delete(S))}),d.forEach(S=>{a.has(S)&&(S.material=a.get(S),a.delete(S))})},C=()=>{c.forEach(S=>{S.visible=!1}),this.scene.add(e),this.scene.add(t)},g=()=>{c.forEach(S=>{S.visible=!0}),this.scene.remove(e),this.scene.remove(t)},y=()=>{this.scene.background instanceof an&&(p=this.scene.background,this.scene.background=null),this.scene.environment instanceof an&&(v=this.scene.environment,this.scene.environment=null)},M=()=>{p&&(this.scene.background=p,p=void 0),v&&(this.scene.environment=v,v=void 0)};return this.setDisplayMode=function(S){return this.displayMode=S||ke.ENV,S===ke.GEOMETRY?(x(),y(),C()):S===ke.MATERIAL?(m(),y(),C()):S===ke.LIGHT?(m(),y(),g()):S===ke.ENV?(m(),M(),g()):console.warn(`displayMode plugin can not set this mode: ${S}`),this},this.completeSet.add(()=>{this.objectHelperManager&&this.objectHelperManager.addFilteredObject(t)}),!0},Vt=()=>new _t({color:"rgb(255, 255, 255)"});class Pl extends st{constructor(e){super();f(this,"shape"),f(this,"target"),f(this,"type","CameraHelper"),f(this,"cachaData");const t=new We,n=[0,0,0,-1,1,-1,0,0,0,-1,1,1,0,0,0,-1,-1,-1,0,0,0,-1,-1,1,-1,-1,1,-1,-1,-1,-1,-1,-1,-1,1,-1,-1,1,-1,-1,1,1,-1,1,1,-1,-1,1,0,0,0,0,1,1,0,0,0,0,1,-1,0,0,0,0,-1,-1,0,0,0,0,-1,1,0,1,1,0,1,-1,0,1,-1,0,-1,-1,0,-1,-1,0,-1,1,0,-1,1,0,1,1,0,-1,1,2,-1,1,0,1,-1,2,1,-1,0,-1,-1,2,-1,-1,0,1,1,2,1,1,2,1,1,2,-1,1,2,-1,1,2,-1,-1,2,-1,-1,2,1,-1,2,1,-1,2,1,1];t.setAttribute("position",new ve(n,3)),t.rotateY(-90*Math.PI/180),t.computeBoundingBox();const i=new Cd(e);i.matrix=new nl,i.matrixAutoUpdate=!0,i.raycast=()=>{},this.add(i),this.shape=i,this.geometry=t,this.material=Vt(),this.target=e,this.matrixAutoUpdate=!1,this.matrix=e.matrix,e instanceof xe?this.cachaData={fov:e.fov,aspect:e.aspect,near:e.near,far:e.far}:e instanceof Ye?this.cachaData={left:e.left,right:e.right,top:e.top,bottom:e.bottom,near:e.near,far:e.far}:this.cachaData={},this.onBeforeRender=()=>{let s=!1;const o=this.cachaData;Object.keys(o).forEach(a=>{o[a]!==e[a]&&(o[a]=e[a],s=!0)}),s&&this.shape.update()}}raycast(e,t){const n=this.matrixWorld,i=this.geometry.boundingBox.clone();if(i.applyMatrix4(n),e.ray.intersectsBox(i)){const s=this.target;t.push({distance:e.ray.origin.distanceTo(s.position),object:s,point:s.position})}}}class Yg extends st{constructor(e){super();f(this,"sphere"),f(this,"target"),f(this,"shape"),f(this,"type","VisDirectionalLightHelper"),f(this,"cacheColor"),f(this,"cacheVector3"),this.geometry=new We;const t=[-1,0,0,1,0,0,0,-1,0,0,1,0,0,0,-1,0,0,1,-.707,-.707,0,.707,.707,0,.707,-.707,0,-.707,.707,0,0,-.707,-.707,0,.707,.707,0,.707,-.707,0,-.707,.707,-.707,0,-.707,.707,0,.707,.707,0,-.707,-.707,0,.707];this.geometry.setAttribute("position",new ve(t,3)),this.material=Vt(),this.geometry.boundingSphere;const n=new re().copy(e.color).multiplyScalar(e.intensity),i=new Ot(20,20);i.dispose();const s=new st(new nr(i),new _t({color:n}));s.raycast=()=>{},this.shape=s,this.target=e,this.sphere=new Xs(new U(0,0,0),1),this.cacheColor=e.color.getHex(),this.cacheVector3=new U,this.add(this.shape),this.matrixAutoUpdate=!1,this.matrix=e.matrix,this.matrixWorldNeedsUpdate=!1,this.matrixWorld=e.matrixWorld,this.onBeforeRender=()=>{const o=this.target,a=this.shape;o.color.getHex()!==this.cacheColor&&(a.material.color.copy(o.color).multiplyScalar(o.intensity),this.cacheColor=o.color.getHex()),a.lookAt(o.target.position)}}raycast(e,t){const n=this.target,i=n.matrixWorld,s=this.sphere;s.set(this.cacheVector3.set(0,0,0),1),s.applyMatrix4(i),e.ray.intersectsSphere(s)&&t.push({distance:e.ray.origin.distanceTo(n.position),object:n,point:n.position})}}class qg extends st{constructor(e){super();f(this,"sphere"),f(this,"target"),f(this,"shape"),f(this,"type","VisPointLightHelper"),f(this,"cacheColor"),f(this,"cacheDistance"),f(this,"cacheVector3"),this.geometry=new We;const t=[-1,0,0,1,0,0,0,-1,0,0,1,0,0,0,-1,0,0,1,-.707,-.707,0,.707,.707,0,.707,-.707,0,-.707,.707,0,0,-.707,-.707,0,.707,.707,0,.707,-.707,0,-.707,.707,-.707,0,-.707,.707,0,.707,.707,0,-.707,-.707,0,.707];this.geometry.setAttribute("position",new ve(t,3)),this.material=Vt(),this.geometry.boundingSphere;const n=new re().copy(e.color).multiplyScalar(e.intensity),i=new mt(new il(e.distance,0),new mi({color:n,wireframe:!0}));i.raycast=()=>{},i.matrixAutoUpdate=!1,this.shape=i,this.target=e,this.sphere=new Xs(new U(0,0,0),1),this.cacheColor=e.color.getHex(),this.cacheDistance=e.distance,this.cacheVector3=new U,this.add(this.shape),this.matrixAutoUpdate=!1,this.matrix=e.matrix,this.matrixWorldNeedsUpdate=!1,this.matrixWorld=e.matrixWorld,this.onBeforeRender=()=>{const s=this.target,o=this.shape;s.distance!==this.cacheDistance&&(o.geometry.dispose(),o.geometry=new il(s.distance,0),this.cacheDistance=s.distance),s.color.getHex()!==this.cacheColor&&(o.material.color.copy(s.color).multiplyScalar(s.intensity),this.cacheColor=s.color.getHex())}}raycast(e,t){const n=this.target,i=n.matrixWorld,s=this.sphere;s.set(this.cacheVector3.set(0,0,0),1),s.applyMatrix4(i),e.ray.intersectsSphere(s)&&t.push({distance:e.ray.origin.distanceTo(n.position),object:n,point:n.position})}}class Xg extends st{constructor(e){super();f(this,"sphere"),f(this,"target"),f(this,"shape"),f(this,"type","VisSpotLightHelper"),f(this,"cacheVector3"),f(this,"cacheColor"),f(this,"cacheAngle"),f(this,"cacheDistance"),this.geometry=new We;const t=[-1,0,0,1,0,0,0,-1,0,0,1,0,0,0,-1,0,0,1,-.707,-.707,0,.707,.707,0,.707,-.707,0,-.707,.707,0,0,-.707,-.707,0,.707,.707,0,.707,-.707,0,-.707,.707,-.707,0,-.707,.707,0,.707,.707,0,-.707,-.707,0,.707];this.geometry.setAttribute("position",new ve(t,3)),this.material=Vt(),this.geometry.boundingSphere;const n=new We,i=[0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let l=0,u=1,h=32;l<h;l++,u++){const d=l/h*Math.PI*2,p=u/h*Math.PI*2;i.push(Math.cos(d),Math.sin(d),1,Math.cos(p),Math.sin(p),1)}n.setAttribute("position",new ve(i,3));const s=Vt(),o=new st(n,s);o.material.color.copy(e.color).multiplyScalar(e.intensity);const a=e.distance?e.distance:1e3,c=a*Math.tan(e.angle);o.scale.set(c,c,a),o.raycast=()=>{},this.add(o),this.matrixAutoUpdate=!1,this.matrix=e.matrix,this.matrixWorldNeedsUpdate=!1,this.matrixWorld=e.matrixWorld,this.target=e,this.shape=o,this.sphere=new Xs(new U(0,0,0),1),this.cacheColor=e.color.getHex(),this.cacheDistance=e.distance,this.cacheAngle=e.angle,this.cacheVector3=new U,this.onBeforeRender=()=>{const l=this.target,u=this.shape;let h=!1;if(l.distance!==this.cacheDistance&&(this.cacheDistance=l.distance,u.scale.z=l.distance,h=!0),l.angle!==this.cacheAngle&&(this.cacheAngle=l.angle,h=!0),h){const d=l.distance*Math.tan(l.angle);u.scale.set(d,d,l.distance)}l.color.getHex()!==this.cacheColor&&(u.material.color.copy(l.color).multiplyScalar(l.intensity),this.cacheColor=l.color.getHex()),u.lookAt(l.target.position)}}raycast(e,t){const n=this.target,i=n.matrixWorld,s=this.sphere;s.set(this.cacheVector3.set(0,0,0),1),s.applyMatrix4(i),e.ray.intersectsSphere(s)&&t.push({distance:e.ray.origin.distanceTo(n.position),object:n,point:n.position})}}class Qg extends st{constructor(e){super();f(this,"target"),f(this,"type","VisCSS3DHelper");const n=e.element.getBoundingClientRect(),i=n.width,s=n.height;this.geometry=new nr(new Ot(i,s)),this.geometry.computeBoundingBox(),this.material=Vt(),this.matrixAutoUpdate=!1,this.matrix=e.matrix,this.matrixWorldNeedsUpdate=!1,this.matrixWorld=e.matrixWorld,this.target=e}raycast(e,t){const n=this.target,i=n.matrixWorld,s=this.geometry.boundingBox.clone();s.applyMatrix4(i),e.ray.intersectsBox(s)&&t.push({distance:e.ray.origin.distanceTo(n.position),object:n,point:n.position})}}class Zg extends st{constructor(e){super();f(this,"target"),f(this,"type","VisCSS3DPlaneHelper"),f(this,"observer"),this.geometry=new nr(new Ot(e.width,e.height)),this.geometry.computeBoundingBox(),this.material=Vt(),this.matrixAutoUpdate=!1,this.matrix=e.matrix,this.matrixWorldNeedsUpdate=!1,this.matrixWorld=e.matrixWorld,this.target=e;const t=new MutationObserver(()=>{this.geometry.dispose(),this.geometry=new nr(new Ot(e.width,e.height)),this.geometry.computeBoundingBox()});t.observe(e.element,{attributeFilter:["style"]}),this.observer=t}dispose(){this.observer.disconnect()}}const Ll=class extends ir{constructor(r){super();f(this,"target"),f(this,"type","VisGroupHelper"),this.target=r,this.geometry.computeBoundingBox(),this.material=new sr({map:Ll.colorTexture}),this.material.depthTest=!1,this.material.depthWrite=!1,this.scale.set(5,5,5);const e=this.updateMatrixWorld.bind(this);this.updateMatrixWorld=t=>{const n=this.position,i=this.target.position;n.x=i.x,n.y=i.y,n.z=i.z,e(t)}}raycast(r,e){const t=this.matrixWorld,n=this.geometry.boundingBox.clone();if(n.applyMatrix4(t),r.ray.intersectsBox(n)){const i=this.target;e.push({distance:r.ray.origin.distanceTo(i.position),object:i,point:i.position})}}};let Il=Ll;f(Il,"colorTexture",new ln(new Cn({width:512,height:512}).draw(r=>{r.beginPath(),r.fillStyle="rgba(0, 0, 0, 0)",r.fillRect(0,0,512,512),r.closePath(),r.translate(256,200),r.beginPath(),r.fillStyle="yellow",r.fillRect(-200,0,400,200),r.closePath(),r.beginPath(),r.fillStyle="yellow",r.fillRect(-200,-70,200,70),r.closePath()}).get()));const Dl=class extends ft{constructor(r){super();f(this,"target"),f(this,"cachaGeometryUUid"),f(this,"type","VisLineHelper"),this.target=r,this.geometry.dispose(),this.geometry.copy(r.geometry),this.cachaGeometryUUid=r.geometry.uuid,this.material=new it({color:"rgb(255, 255, 255)",alphaMap:Dl.alphaTexture,transparent:!0,size:5,sizeAttenuation:!1}),this.matrixAutoUpdate=!1,this.matrixWorldNeedsUpdate=!1,this.matrix=r.matrix,this.matrixWorld=r.matrixWorld,this.renderOrder=-1,this.raycast=()=>{},this.onBeforeRender=()=>{const e=this.target;e.geometry.uuid!==this.cachaGeometryUUid&&(this.geometry.dispose(),this.geometry=e.geometry.clone(),this.cachaGeometryUUid=e.geometry.uuid)}}};let jl=Dl;f(jl,"alphaTexture",new ln(new Cn({width:512,height:512,bgColor:"rgb(0, 0, 0)"}).draw(r=>{r.beginPath(),r.fillStyle="rgb(255, 255, 255)",r.arc(256,256,200,0,Math.PI*2),r.fill(),r.closePath()}).getDom()));class Jg extends st{constructor(e){super();f(this,"target"),f(this,"type","VisMeshHelper"),f(this,"cachaGeometryUUid");const t=1;this.target=e,this.geometry=new nr(e.geometry,t),this.cachaGeometryUUid=e.geometry.uuid,this.material=Vt(),this.raycast=()=>{},this.matrixAutoUpdate=!1,this.matrixWorldNeedsUpdate=!1,this.matrix=e.matrix,this.matrixWorld=e.matrixWorld,this.onBeforeRender=()=>{const n=this.target;n.geometry.uuid!==this.cachaGeometryUUid&&(this.geometry.dispose(),this.geometry=new nr(n.geometry,t),this.cachaGeometryUUid=n.geometry.uuid)}}}const Nl=class extends ft{constructor(r){super();f(this,"target"),f(this,"type","VisPointsHelper"),this.target=r,this.geometry.dispose(),this.geometry.copy(r.geometry),this.material.dispose(),this.material=new it({color:"rgb(255, 255, 255)",alphaMap:Nl.alphaTexture,transparent:!0});const e=Array.isArray(r.material)?r.material[0]:r.material;e instanceof it&&(this.material.size=e.size,this.material.sizeAttenuation=e.sizeAttenuation),this.matrixAutoUpdate=!1,this.matrixWorldNeedsUpdate=!1,this.matrix=r.matrix,this.matrixWorld=r.matrixWorld,this.raycast=()=>{}}};let zl=Nl;f(zl,"alphaTexture",new ln(new Cn({width:512,height:512,bgColor:"rgb(0, 0, 0)"}).draw(r=>{r.beginPath(),r.strokeStyle="rgb(255, 255, 255)",r.lineWidth=4,r.strokeRect(0,0,512,512),r.closePath()}).get()));const kl=class extends ir{constructor(r){super();f(this,"target"),f(this,"type","VisSpriteHelper"),this.target=r,this.material.dispose(),this.material=new sr({color:"rgb(255, 255, 255)",alphaMap:kl.alphaTexture,transparent:!0,depthWrite:!1}),this.matrixAutoUpdate=!1,this.matrixWorldNeedsUpdate=!1,this.matrix=r.matrix,this.matrixWorld=r.matrixWorld,this.raycast=()=>{}}};let $l=kl;f($l,"alphaTexture",new ln(new Cn({width:512,height:512,bgColor:"rgb(0, 0, 0)"}).draw(r=>{r.beginPath(),r.strokeStyle="rgb(255, 255, 255)",r.lineWidth=4,r.strokeRect(0,0,512,512),r.closePath()}).get()));class ey extends gt{constructor(e={}){super();f(this,"helperGenerator",{[b.POINTLIGHT]:qg,[b.SPOTLIGHT]:Xg,[b.DIRECTIONALLIGHT]:Yg,[b.PERSPECTIVECAMERA]:Pl,[b.ORTHOGRAPHICCAMERA]:Pl,[b.MESH]:Jg,[b.GROUP]:Il,[b.SPRITE]:$l,[b.POINTS]:zl,[b.LINE]:jl,[b.CSS3DOBJECT]:Qg,[b.CSS3DPLANE]:Zg}),f(this,"helperFilter",{AmbientLight:!0,Object3D:!0,TransformControls:!0,Scene:!0}),f(this,"objectFilter",new Set),f(this,"objectHelperMap",new Map),e.helperGenerator&&(this.helperGenerator=Object.assign(this.helperGenerator,e.helperGenerator)),e.helperFilter&&(this.helperFilter=Object.assign(this.helperFilter,e.helperFilter)),e.objectFilter&&(this.objectFilter=new Set(e.objectFilter.concat(Array.from(this.objectFilter))))}addFilteredObject(...e){for(const t of e)this.objectFilter.add(t);return this}addObjectHelper(e){if(this.objectFilter.has(e)||this.objectHelperMap.has(e)||this.helperFilter[e.type]||e.type.toLocaleLowerCase().includes("helper"))return null;if(!this.helperGenerator[e.type])return console.warn(`object helper can not support this type object: '${e.type}'`),null;const t=new this.helperGenerator[e.type](e);return this.objectHelperMap.set(e,t),t}disposeObjectHelper(e){if(this.objectFilter.has(e)||this.helperFilter[e.type]||e.type.toLocaleLowerCase().includes("helper"))return null;if(!this.objectHelperMap.has(e))return console.warn("object helper manager can not found this object`s helper: ",e),null;const t=this.objectHelperMap.get(e);return t.geometry&&t.geometry.dispose(),t.material&&(t.material instanceof hi?t.material.dispose():t.material.forEach(n=>{n.dispose()})),this.objectHelperMap.delete(e),t}}const ty=function(r={}){if(!this.scene)return console.error("must install some scene plugin before ObjectHelper plugin."),!1;r.interact===void 0&&(r.interact=!0),r.interact&&(this.eventManager||(console.warn("must install eventManager plugin that can use interact function."),r.interact=!1));const e=new ey,t=new Map,n=new Map,i=new Map,s=e.objectHelperMap;this.objectHelperManager=e,!r.activeColor&&(r.activeColor="rgb(230, 20, 240)"),!r.hoverColor&&(r.hoverColor="rgb(255, 158, 240)"),!r.defaultColor&&(r.defaultColor="rgb(255, 255, 255)"),!r.selectedColor&&(r.selectedColor=r.activeColor);const o=new re(r.defaultColor).getHex(),a=new re(r.activeColor).getHex(),c=new re(r.hoverColor).getHex(),l=new re(r.selectedColor).getHex(),u=new WeakSet,h=E=>{const x=E.objects;for(const m of x){const C=e.addObjectHelper(m);if(!!C&&(C.material.color.setHex(o),this.scene.add(C),r.interact)){const g=()=>{var S;((S=this.transformControls)==null?void 0:S.dragging)||this.selectionBox&&this.selectionBox.has(m)||C.material.color.setHex(c)},y=()=>{var S;((S=this.transformControls)==null?void 0:S.dragging)||this.selectionBox&&this.selectionBox.has(m)||C.material.color.setHex(o)},M=()=>{var S;((S=this.transformControls)==null?void 0:S.dragging)||this.selectionBox&&this.selectionBox.has(m)||C.material.color.setHex(a)};m.addEventListener("pointerenter",g),m.addEventListener("pointerleave",y),m.addEventListener("click",M),t.set(m,g),n.set(m,y),i.set(m,M)}}},d=E=>{const x=E.objects;for(const m of x){const C=e.disposeObjectHelper(m);!C||(this.scene.remove(C),r.interact&&(m.removeEventListener("pointerenter",t.get(m)),m.removeEventListener("pointerleave",n.get(m)),m.removeEventListener("click",i.get(m)),t.delete(m),n.delete(m),i.delete(m)))}},p=E=>{u.has(E)||(E.traverse(x=>{const m=e.addObjectHelper(x);m&&E.add(m)}),u.add(E))};this.scene.addEventListener("afterAdd",h),this.scene.addEventListener("afterRemove",d),this.setObjectHelper=function(E){return E.show?this.scene.traverse(x=>{s.has(x)&&this.scene.add(s.get(x))}):this.scene.traverse(x=>{s.has(x)&&this.scene.remove(s.get(x))}),this},this.addEventListener("setScene",E=>{const x=E.scene;!u.has(x)&&p(x),x.hasEventListener("afterAdd",h)||x.addEventListener("afterAdd",h),x.hasEventListener("afterRemove",d)||x.addEventListener("afterRemove",d)});const v=new Set;return this.completeSet.add(()=>{this.selectionBox&&this.addEventListener("selected",E=>{v.forEach(x=>{x.material.color.setHex(o)}),v.clear();for(const x of E.objects)if(s.has(x)){const m=s.get(x);m.material.color.setHex(l),v.add(m)}})}),!0},ry=function(r={}){if(this.selectionBox)return console.warn("engine has installed selection plugin."),!1;if(!this.eventManager)return console.warn("must install eventManager plugin before Selection plugin."),!1;this.selectionBox=new Set;const e=()=>{const t=[];this.IS_ENGINESUPPORT&&this.selectionBox.forEach(n=>{const i=this.compilerManager.getObjectSymbol(n);i?t.push(i):console.warn("selection plugin can not font vid in compilerManager.",n)}),this.dispatchEvent({type:"selected",objects:[...this.selectionBox],objectSymbols:t})};return this.setSelectionBox=function(t){this.selectionBox.clear();for(const n of t.objects)this.selectionBox.add(n);return e(),this},this.eventManager.addEventListener("click",t=>{var n,i,s;if(this.transing){this.transing=!1;return}const o=t.intersections;if(t.ctrlKey||this.selectionBox.clear(),this.eventManager.penetrate)for(const a of o){if(t.ctrlKey&&((n=this.selectionBox)==null?void 0:n.has(a.object))){this.selectionBox.delete(a.object);continue}this.selectionBox.add(a.object)}else if(o.length){const a=o[0].object;if(t.ctrlKey&&((i=this.selectionBox)==null?void 0:i.has(a))){this.selectionBox.delete(a);return}(s=this.selectionBox)==null||s.add(a)}e()}),!0},ny=function(r={}){if(this.css3DRenderer)return console.warn("this has installed css3DRenderer plugin."),!1;this.css3DRenderer=new Qd;const e=this.css3DRenderer.domElement;if(e.classList.add("vis-css3D"),e.style.position="absolute",e.style.top="0",e.style.left="0",this.addEventListener("setDom",t=>{t.dom.appendChild(this.css3DRenderer.domElement)}),this.addEventListener("setSize",t=>{this.css3DRenderer.setSize(t.width,t.height)}),this.addEventListener("setScene",t=>{t.oldScene.traverse(i=>{i instanceof fn&&(i.element.style.display="none")})}),this.renderManager)this.renderManager.removeEventListener("render",this.render),this.renderManager.addEventListener("render",t=>{this.css3DRenderer.render(this.scene,this.camera)});else if(this.webGLRenderer){const t=this.render.bind(this);this.render=function(){return t(),this.webGLRenderer.render(this.scene,this.camera),this}}else this.render=function(){return this.webGLRenderer.render(this.scene,this.camera),this};return!0};var K;(function(r){r.WEBGLRENDERER="WebGLRenderer",r.CSS3DRENDERER="CSS3DRenderer",r.SCENE="Scene",r.MODELINGSCENE="ModelingScene",r.RENDERMANAGER="RenderManager",r.ORBITCONTROLS="OrbitControls",r.STATS="Stats",r.EFFECTCOMPOSER="EffectComposer",r.POINTERMANAGER="PointerManager",r.EVENTMANAGER="EventManager",r.TRANSFORMCONTROLS="TransformControls",r.LOADERMANAGER="LoaderManager",r.RESOURCEMANAGER="ResourceManager",r.DATASUPPORTMANAGER="DataSupportManager",r.COMPILERMANAGER="CompilerManager",r.KEYBOARDMANAGER="KeyboardManager",r.AXESHELPER="AxesHelper",r.GRIDHELPER="GridHelper",r.VIEWPOINT="Viewpoint",r.DISPLAYMODE="DisplayMode",r.OBJECTHELPER="ObjectHelper",r.SELECTION="Selection"})(K||(K={}));const ar=class extends gt{constructor(){super();f(this,"completeSet"),f(this,"camera",new xe),f(this,"scene",new ot),f(this,"IS_ENGINESUPPORT",!1),f(this,"dom"),f(this,"webGLRenderer"),f(this,"css3DRenderer"),f(this,"orbitControls"),f(this,"transformControls"),f(this,"effectComposer"),f(this,"renderManager"),f(this,"pointerManager"),f(this,"eventManager"),f(this,"loaderManager"),f(this,"resourceManager"),f(this,"dataSupportManager"),f(this,"compilerManager"),f(this,"keyboardManager"),f(this,"objectHelperManager"),f(this,"transing"),f(this,"stats"),f(this,"displayMode"),f(this,"selectionBox"),f(this,"getScreenshot"),f(this,"setStats"),f(this,"setTransformControls"),f(this,"setViewpoint"),f(this,"setDisplayMode"),f(this,"setAxesHelper"),f(this,"setGridHelper"),f(this,"setObjectHelper"),f(this,"setSelectionBox"),f(this,"loadResources"),f(this,"loadResourcesAsync"),f(this,"registerResources"),f(this,"toJSON"),f(this,"exportConfig"),f(this,"applyConfig"),f(this,"reactiveConfig"),f(this,"getConfigBySymbol"),f(this,"removeConfigBySymbol"),f(this,"getObjectSymbol"),f(this,"getObjectBySymbol"),f(this,"play"),f(this,"stop"),f(this,"render"),this.completeSet=new Set,this.render=function(){return console.warn("can not install some plugin"),this},this.camera.position.set(50,50,50),this.addEventListener("setSize",r=>{this.camera.aspect=r.width/r.height,this.camera.updateProjectionMatrix()})}optimizeMemory(){Object.keys(this).forEach(r=>{this[r]===void 0&&delete this[r]})}install(r,e){return ar.pluginHandler.has(r)?ar.pluginHandler.get(r).call(this,e):console.error(`engine can not support ${r} plugin.`),this}complete(){return this.completeSet.forEach(r=>{r(this)}),this.completeSet.clear(),this}dispose(){return this.dispatchEvent({type:"dispose"}),this}setDom(r){return this.dom=r,this.dispatchEvent({type:"setDom",dom:r}),this}setSize(r,e){var t,n;return r&&r<=0||e&&e<=0?(console.warn(`you must be input width and height bigger then zero, width: ${r}, height: ${e}`),this):(!r&&(r=((t=this.dom)==null?void 0:t.offsetWidth)||window.innerWidth),!e&&(e=((n=this.dom)==null?void 0:n.offsetHeight)||window.innerHeight),this.dispatchEvent({type:"setSize",width:r,height:e}),this)}setCamera(r,e){if(typeof r=="object"&&r instanceof Bd)this.camera=r,this.dispatchEvent({type:"setCamera",camera:r,options:Object.assign({orbitControls:!0,transformControls:!0},e||{})});else if(this.IS_ENGINESUPPORT){const t=this.compilerManager.getObjectBySymbol(r);t?(this.camera=t,this.dispatchEvent({type:"setCamera",camera:t,options:Object.assign({orbitControls:!0,transformControls:!0},e||{})})):console.warn(`can not found camera in compilerManager: ${r}`)}else console.warn("engine is not a Engine support but use symbol to found camera.");return this}setScene(r){if(typeof r=="object"&&r instanceof ot)this.dispatchEvent({type:"setScene",scene:r,oldScene:this.scene}),this.scene=r;else if(this.IS_ENGINESUPPORT){const e=this.compilerManager.getObjectBySymbol(r);e?(this.dispatchEvent({type:"setScene",scene:e,oldScene:this.scene}),this.scene=e):console.warn(`can not found scene in compilerManager: ${r}`)}else console.warn("engine is not a Engine support but use symbol to found scene.");return this}};let te=ar;f(te,"pluginHandler",new Map);f(te,"register",function(r,e){return ar.pluginHandler&&ar.pluginHandler.set(r,e),ar});f(te,"dispose",function(){ar.pluginHandler=void 0});te.register(K.WEBGLRENDERER,Mp);te.register(K.CSS3DRENDERER,ny);te.register(K.EFFECTCOMPOSER,pp);te.register(K.RENDERMANAGER,ap);te.register(K.POINTERMANAGER,mp);te.register(K.EVENTMANAGER,yp);te.register(K.LOADERMANAGER,Ap);te.register(K.RESOURCEMANAGER,Gf);te.register(K.DATASUPPORTMANAGER,Cm);te.register(K.COMPILERMANAGER,Hg);te.register(K.KEYBOARDMANAGER,Ug);te.register(K.ORBITCONTROLS,up);te.register(K.TRANSFORMCONTROLS,bp);te.register(K.AXESHELPER,Vg);te.register(K.GRIDHELPER,Kg);te.register(K.OBJECTHELPER,ty);te.register(K.DISPLAYMODE,Wg);te.register(K.VIEWPOINT,cp);te.register(K.STATS,dp);te.register(K.SELECTION,ry);const Bl=class{constructor(){f(this,"supportData"),f(this,"supportDataType")}create(r){return r?(this.supportData={},this.supportDataType=r,this):(console.warn("you must give a module type in create params"),this)}add(r){return!this.supportData||!this.supportDataType?(console.warn("you must call 'create' method before the 'add' method"),this):r.type?Bl.configModelMap[r.type]!==this.supportDataType?(console.warn(`current generator create config which module is in: ${this.supportDataType}, but you provide type is '${r.type}'`),this):(this.supportData[r.vid]=$(r.type,r),this):(console.warn("config can not found attribute 'type'"),this)}get(){return this.supportDataType=void 0,this.supportData?this.supportData:{}}};let iy=Bl;f(iy,"configModelMap",Ci);const ho=new sl("rgb(255, 255, 255)",.5,200,1);ho.position.set(-30,5,20);ho.castShadow=!0;const Pi=new mt(new on(80,2,80),new Qs({color:"rgb(255, 255, 255)"}));Pi.position.set(0,-11,0);Pi.receiveShadow=!0;Pi.castShadow=!0;const Lt=class{constructor(r){f(this,"material"),f(this,"dom"),f(this,"renderer"),f(this,"scene"),f(this,"camera"),f(this,"object");const e=new Js({antialias:!0,preserveDrawingBuffer:!0});e.setPixelRatio(window.devicePixelRatio),e.setClearColor("rgb(150, 150, 150)"),e.shadowMap.enabled=!0,e.shadowMap.type=dl;const t=new ot,n=new xe(45,window.innerWidth/window.innerHeight,1,500);n.position.set(0,0,35),n.up.x=0,n.up.y=1,n.up.z=0,n.lookAt(new U(0,0,0)),t.add(Lt.ambientLight),t.add(Lt.pointLight),t.add(Lt.plane),this.scene=t,this.renderer=e,this.camera=n,this.object=new xr,(r==null?void 0:r.material)&&this.setMaterial(r.material),(r==null?void 0:r.dom)&&this.setDom(r.dom)}setMaterial(r){if(this.scene.remove(this.object),this.material=r,r.type.includes("Mesh"))this.object=new mt(Lt.geometry,r);else if(r.type.includes("Line"))this.object=new hn(Lt.geometry,r);else if(r.type.includes("Ponits"))this.object=new ft(Lt.geometry,r);else if(r.type.includes("Sprite"))this.object=new ir(r);else return console.warn(`material displayer can not support this type material: '${r.type}'`),this;return this.object.castShadow=!0,this.object.receiveShadow=!0,this.scene.add(this.object),this}setDom(r){return this.dom=r,this.setSize(),r.appendChild(this.renderer.domElement),this}setSize(r,e){if(r&&e)this.camera.aspect=r/e,this.camera.updateProjectionMatrix(),this.renderer.setSize(r,e,!0);else{if(!this.dom)return console.warn("material displayer must set dom before setSize with empty parameters"),this;const t=this.dom;this.camera.aspect=t.offsetWidth/t.offsetHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(t.offsetWidth,t.offsetHeight,!0)}return this}render(){this.renderer.render(this.scene,this.camera)}getDataURL(r){return this.renderer.domElement.toDataURL(r||"image/png")}dispose(){this.renderer.dispose()}};let wn=Lt;f(wn,"ambientLight",new cn("rgb(255, 255, 255)",.7));f(wn,"pointLight",ho);f(wn,"geometry",new rl(10,12,12));f(wn,"plane",Pi);f(wn,"dispose",()=>{Lt.geometry.dispose(),Lt.plane.geometry.dispose()});const Fl=class{constructor(r){f(this,"dom"),f(this,"texture"),f(this,"renderer"),f(this,"scene"),f(this,"camera");const e=new Js({antialias:!0,preserveDrawingBuffer:!0});e.setPixelRatio(window.devicePixelRatio),e.setClearColor("rgb(150, 150, 150)"),e.shadowMap.enabled=!0,e.shadowMap.type=dl;const t=new ot,n=new xe(45,window.innerWidth/window.innerHeight,1,500);n.position.set(0,0,35),n.up.x=0,n.up.y=1,n.up.z=0,n.lookAt(new U(0,0,0)),t.add(Fl.ambientLight),this.scene=t,this.renderer=e,this.camera=n,(r==null?void 0:r.texture)&&this.setTexture(r.texture),(r==null?void 0:r.dom)&&this.setDom(r.dom)}setTexture(r){return this.scene.background=r,this}setDom(r){return this.dom=r,this.setSize(),r.appendChild(this.renderer.domElement),this}setSize(r,e){if(r&&e)this.camera.aspect=r/e,this.camera.updateProjectionMatrix(),this.renderer.setSize(r,e,!0);else{if(!this.dom)return console.warn("texture displayer must set dom before setSize with empty parameters"),this;const t=this.dom;this.camera.aspect=t.offsetWidth/t.offsetHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(t.offsetWidth,t.offsetHeight,!0)}return this}render(){this.renderer.render(this.scene,this.camera)}getDataURL(r){return this.renderer.domElement.toDataURL(r||"image/png")}dispose(){this.renderer.dispose()}};let sy=Fl;f(sy,"ambientLight",new cn("rgb(255, 255, 255)",1));class oy extends te{constructor(e={},t={}){super();f(this,"IS_ENGINESUPPORT",!0),this.install(K.LOADERMANAGER).install(K.RESOURCEMANAGER,{resources:t}).install(K.POINTERMANAGER).install(K.EVENTMANAGER).install(K.RENDERMANAGER).install(K.DATASUPPORTMANAGER,e).install(K.COMPILERMANAGER)}loadLifeCycle(e){const t=this.dataSupportManager;e.texture&&t.load({texture:e.texture}),e.material&&t.load({material:e.material}),delete e.texture,delete e.material,t.load(e)}removeLifeCycle(e){const t=this.dataSupportManager,n=e[A.TEXTURE]||{},i=e[A.MATERIAL]||{},s=e.assets||[];delete e.texture,delete e.material,delete e.assets,t.remove(e),t.remove({[A.MATERIAL]:i}),t.remove({[A.TEXTURE]:n});const o=this.resourceManager,a=this.loaderManager;s.forEach(c=>{o.remove(c),a.remove(c)})}loadConfig(e,t){const n=this.renderManager.hasRendering();if(n&&this.renderManager.stop(),e.assets&&e.assets.length){const i=s=>{delete e.assets,this.loadLifeCycle(e),this.resourceManager.removeEventListener("mapped",i),t&&t(s),n?this.renderManager.play():this.renderManager.render()};this.resourceManager.addEventListener("mapped",i),this.loaderManager.reset().load(e.assets)}else this.loadLifeCycle(e),t&&t(),n?this.renderManager.play():this.renderManager.render();return this}loadConfigAsync(e){return new Promise((t,n)=>{const i=this.renderManager.hasRendering();if(i&&this.renderManager.stop(),e.assets&&e.assets.length){const s=o=>{delete e.assets,this.loadLifeCycle(e),this.resourceManager.removeEventListener("mapped",s),i?this.renderManager.play():this.renderManager.render(),t(o)};this.resourceManager.addEventListener("mapped",s),this.loaderManager.reset().load(e.assets)}else this.loadLifeCycle(e),i?this.renderManager.play():this.renderManager.render(),t(void 0)})}removeConfig(e){this.removeLifeCycle(e)}getObjectConfig(e){const t=this.getObjectSymbol(e);return t?this.getConfigBySymbol(t):null}}class ay extends oy{constructor(e){super(e);this.install(K.WEBGLRENDERER,{antialias:!0,alpha:!0}).install(K.EFFECTCOMPOSER,{WebGLMultisampleRenderTarget:!0}).install(K.ORBITCONTROLS).complete()}}class ly{constructor(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}const cy=new Ye(-1,1,1,-1,0,1),po=new We;po.setAttribute("position",new ve([-1,3,0,-1,-1,0,3,-1,0],3));po.setAttribute("uv",new ve([0,2,0,0,2,0],2));class uy{constructor(e){this._mesh=new mt(po,e)}dispose(){this._mesh.geometry.dispose()}render(e){e.render(this._mesh,cy)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}}const fo=class extends ly{constructor(r=new ne(256,256),e=1,t=0,n=0,i=new ot,s=new xe,o){super();f(this,"resolution"),f(this,"strength"),f(this,"radius"),f(this,"threshold"),f(this,"selectedObjects",[]),f(this,"renderScene"),f(this,"renderCamera"),f(this,"clearColor",new re(0,0,0)),f(this,"renderTargetsHorizontal",[]),f(this,"renderTargetsVertical",[]),f(this,"nMips",5),f(this,"selectRenderTarget"),f(this,"renderTargetBright"),f(this,"highPassUniforms"),f(this,"materialHighPassFilter"),f(this,"separableBlurMaterials",[]),f(this,"compositeMaterial"),f(this,"bloomTintColors"),f(this,"mixMaterial"),f(this,"enabled",!0),f(this,"needsSwap",!1),f(this,"_oldClearColor",new re),f(this,"oldClearAlpha",1),f(this,"basic",new mi),f(this,"fsQuad",new uy),f(this,"materialCache",new Map),f(this,"sceneBackgroundCache",null),f(this,"overrideBackground",new re("black")),f(this,"overrideMeshMaterial",new Qs({color:"black"})),f(this,"overrideLineMaterial",new _t({color:"black"})),f(this,"overridePointsMaterial",new it({color:"black"})),f(this,"overrideSpriteMaterial",new sr({color:"black"})),this.resolution=r,this.strength=e,this.radius=t,this.threshold=n,this.renderScene=i,this.renderCamera=s,this.selectedObjects=o;let a=Math.round(this.resolution.x/2),c=Math.round(this.resolution.y/2);this.selectRenderTarget=new un(a,c),this.selectRenderTarget.texture.name="UnrealBloomPass.selected",this.selectRenderTarget.texture.generateMipmaps=!1,this.renderTargetBright=new un(a,c),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(let d=0;d<this.nMips;d++){const p=new un(a,c);p.texture.name="UnrealBloomPass.h"+d,p.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(p);const v=new un(a,c);v.texture.name="UnrealBloomPass.v"+d,v.texture.generateMipmaps=!1,this.renderTargetsVertical.push(v),a=Math.round(a/2),c=Math.round(c/2)}gl===void 0&&console.error("THREE.UnrealBloomPass relies on LuminosityHighPassShader");const l=gl;this.highPassUniforms=Vd.clone(l.uniforms),this.highPassUniforms.luminosityThreshold.value=n,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new pn({uniforms:this.highPassUniforms,vertexShader:l.vertexShader,fragmentShader:l.fragmentShader,defines:{}});const u=[3,5,7,9,11];a=Math.round(this.resolution.x/2),c=Math.round(this.resolution.y/2);for(let d=0;d<this.nMips;d++)this.separableBlurMaterials.push(this.getSeperableBlurMaterial(u[d])),this.separableBlurMaterials[d].uniforms.texSize.value=new ne(a,c),a=Math.round(a/2),c=Math.round(c/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=e,this.compositeMaterial.uniforms.bloomRadius.value=.1,this.compositeMaterial.needsUpdate=!0;const h=[1,.8,.6,.4,.2];this.compositeMaterial.uniforms.bloomFactors.value=h,this.bloomTintColors=[new U(1,1,1),new U(1,1,1),new U(1,1,1),new U(1,1,1),new U(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,this.mixMaterial=this.getMixMaterial()}dispose(){for(let r=0;r<this.renderTargetsHorizontal.length;r++)this.renderTargetsHorizontal[r].dispose();for(let r=0;r<this.renderTargetsVertical.length;r++)this.renderTargetsVertical[r].dispose();this.renderTargetBright.dispose()}setSize(r,e){let t=Math.round(r/2),n=Math.round(e/2);this.selectRenderTarget.setSize(t,n),this.renderTargetBright.setSize(t,n);for(let i=0;i<this.nMips;i++)this.renderTargetsHorizontal[i].setSize(t,n),this.renderTargetsVertical[i].setSize(t,n),this.separableBlurMaterials[i].uniforms.texSize.value=new ne(t,n),t=Math.round(t/2),n=Math.round(n/2)}render(r,e,t,n,i){r.getClearColor(this._oldClearColor),this.oldClearAlpha=r.getClearAlpha();const s=r.autoClear;r.autoClear=!1,r.setClearColor(this.clearColor,0),i&&r.state.buffers.stencil.setTest(!1);const o=new Map;for(const l of this.selectedObjects)o.set(l,!0);const a=this.materialCache;this.renderScene.background&&(this.sceneBackgroundCache=this.renderScene.background,this.renderScene.background=this.overrideBackground),this.renderScene.traverse(l=>{!o.has(l)&&!l.isLight&&l.visible&&(a.set(l,l.material),l instanceof mt?l.material=this.overrideMeshMaterial:l instanceof hn?l.material=this.overrideLineMaterial:l instanceof ft?l.material=this.overridePointsMaterial:l instanceof ir&&(l.material=this.overrideSpriteMaterial))}),r.setRenderTarget(this.selectRenderTarget),r.clear(),r.render(this.renderScene,this.renderCamera),this.renderToScreen&&(this.fsQuad.material=this.basic,this.basic.map=this.selectRenderTarget.texture,r.setRenderTarget(null),r.clear(),this.fsQuad.render(r)),this.highPassUniforms.tDiffuse.value=this.selectRenderTarget.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.fsQuad.material=this.materialHighPassFilter,r.setRenderTarget(this.renderTargetBright),r.clear(),this.fsQuad.render(r);let c=this.renderTargetBright;for(let l=0;l<this.nMips;l++)this.fsQuad.material=this.separableBlurMaterials[l],this.separableBlurMaterials[l].uniforms.colorTexture.value=c.texture,this.separableBlurMaterials[l].uniforms.direction.value=fo.BlurDirectionX,r.setRenderTarget(this.renderTargetsHorizontal[l]),r.clear(),this.fsQuad.render(r),this.separableBlurMaterials[l].uniforms.colorTexture.value=this.renderTargetsHorizontal[l].texture,this.separableBlurMaterials[l].uniforms.direction.value=fo.BlurDirectionY,r.setRenderTarget(this.renderTargetsVertical[l]),r.clear(),this.fsQuad.render(r),c=this.renderTargetsVertical[l];this.fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,r.setRenderTarget(this.renderTargetsHorizontal[0]),r.clear(),this.fsQuad.render(r),this.fsQuad.material=this.mixMaterial,this.mixMaterial.uniforms.bloom.value=this.renderTargetsHorizontal[0].texture,this.mixMaterial.uniforms.origin.value=t.texture,i&&r.state.buffers.stencil.setTest(!0),this.renderToScreen?(r.setRenderTarget(null),this.fsQuad.render(r)):(r.setRenderTarget(t),this.fsQuad.render(r)),r.setClearColor(this._oldClearColor,this.oldClearAlpha),r.autoClear=s;for(const l of a.entries())l[0].material=l[1];a.clear(),this.sceneBackgroundCache&&(this.renderScene.background=this.sceneBackgroundCache,this.sceneBackgroundCache=null)}getMixMaterial(){return new pn({blending:Kd,depthTest:!1,depthWrite:!1,transparent:!0,uniforms:{bloom:{value:null},origin:{value:null}},vertexShader:`
    
        varying vec2 vUv;
    
        void main() {
    
          vUv = uv;
          gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
    
        }`,fragmentShader:`
        uniform sampler2D bloom;
        uniform sampler2D origin;
    
        varying vec2 vUv;
    
        void main() {
          vec3 bloomColor = texture2D(bloom, vUv).rgb;
          vec3 originColor = texture2D(origin, vUv).rgb;
          gl_FragColor = vec4(originColor + bloomColor, 1.0);
        }`})}getSeperableBlurMaterial(r){return new pn({defines:{KERNEL_RADIUS:r,SIGMA:r},uniforms:{colorTexture:{value:null},texSize:{value:new ne(.5,.5)},direction:{value:new ne(.5,.5)}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`#include <common>
				varying vec2 vUv;
				uniform sampler2D colorTexture;
				uniform vec2 texSize;
				uniform vec2 direction;

				float gaussianPdf(in float x, in float sigma) {
					return 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;
				}
				void main() {
					vec2 invSize = 1.0 / texSize;
					float fSigma = float(SIGMA);
					float weightSum = gaussianPdf(0.0, fSigma);
					vec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;
					for( int i = 1; i < KERNEL_RADIUS; i ++ ) {
						float x = float(i);
						float w = gaussianPdf(x, fSigma);
						vec2 uvOffset = direction * invSize * x;
						vec3 sample1 = texture2D( colorTexture, vUv + uvOffset).rgb;
						vec3 sample2 = texture2D( colorTexture, vUv - uvOffset).rgb;
						diffuseSum += (sample1 + sample2) * w;
						weightSum += 2.0 * w;
					}
					gl_FragColor = vec4(diffuseSum/weightSum, 1.0);
				}`})}getCompositeMaterial(r){return new pn({defines:{NUM_MIPS:r},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`varying vec2 vUv;
				uniform sampler2D blurTexture1;
				uniform sampler2D blurTexture2;
				uniform sampler2D blurTexture3;
				uniform sampler2D blurTexture4;
				uniform sampler2D blurTexture5;
				uniform float bloomStrength;
				uniform float bloomRadius;
				uniform float bloomFactors[NUM_MIPS];
				uniform vec3 bloomTintColors[NUM_MIPS];

				float lerpBloomFactor(const in float factor) {
					float mirrorFactor = 1.2 - factor;
					return mix(factor, mirrorFactor, bloomRadius);
				}

				void main() {
					gl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +
						lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +
						lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +
						lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +
						lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );
				}`})}};let Hl=fo;f(Hl,"BlurDirectionX",new ne(1,0));f(Hl,"BlurDirectionY",new ne(0,1));const hy=[];for(let r=0;r<256;r++)hy[r]=(r<16?"0":"")+r.toString(16);function Gl(r,e,t){return Math.max(e,Math.min(t,r))}class dy{constructor(e=0,t=0,n=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=i}static slerp(e,t,n,i){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),n.slerpQuaternions(e,t,i)}static slerpFlat(e,t,n,i,s,o,a){let c=n[i+0],l=n[i+1],u=n[i+2],h=n[i+3];const d=s[o+0],p=s[o+1],v=s[o+2],E=s[o+3];if(a===0){e[t+0]=c,e[t+1]=l,e[t+2]=u,e[t+3]=h;return}if(a===1){e[t+0]=d,e[t+1]=p,e[t+2]=v,e[t+3]=E;return}if(h!==E||c!==d||l!==p||u!==v){let x=1-a;const m=c*d+l*p+u*v+h*E,C=m>=0?1:-1,g=1-m*m;if(g>Number.EPSILON){const M=Math.sqrt(g),S=Math.atan2(M,m*C);x=Math.sin(x*S)/M,a=Math.sin(a*S)/M}const y=a*C;if(c=c*x+d*y,l=l*x+p*y,u=u*x+v*y,h=h*x+E*y,x===1-a){const M=1/Math.sqrt(c*c+l*l+u*u+h*h);c*=M,l*=M,u*=M,h*=M}}e[t]=c,e[t+1]=l,e[t+2]=u,e[t+3]=h}static multiplyQuaternionsFlat(e,t,n,i,s,o){const a=n[i],c=n[i+1],l=n[i+2],u=n[i+3],h=s[o],d=s[o+1],p=s[o+2],v=s[o+3];return e[t]=a*v+u*h+c*p-l*d,e[t+1]=c*v+u*d+l*h-a*p,e[t+2]=l*v+u*p+a*d-c*h,e[t+3]=u*v-a*h-c*d-l*p,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const n=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,c=Math.sin,l=a(n/2),u=a(i/2),h=a(s/2),d=c(n/2),p=c(i/2),v=c(s/2);switch(o){case"XYZ":this._x=d*u*h+l*p*v,this._y=l*p*h-d*u*v,this._z=l*u*v+d*p*h,this._w=l*u*h-d*p*v;break;case"YXZ":this._x=d*u*h+l*p*v,this._y=l*p*h-d*u*v,this._z=l*u*v-d*p*h,this._w=l*u*h+d*p*v;break;case"ZXY":this._x=d*u*h-l*p*v,this._y=l*p*h+d*u*v,this._z=l*u*v+d*p*h,this._w=l*u*h-d*p*v;break;case"ZYX":this._x=d*u*h-l*p*v,this._y=l*p*h+d*u*v,this._z=l*u*v-d*p*h,this._w=l*u*h+d*p*v;break;case"YZX":this._x=d*u*h+l*p*v,this._y=l*p*h+d*u*v,this._z=l*u*v-d*p*h,this._w=l*u*h-d*p*v;break;case"XZY":this._x=d*u*h-l*p*v,this._y=l*p*h-d*u*v,this._z=l*u*v+d*p*h,this._w=l*u*h+d*p*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,i=Math.sin(n);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],i=t[4],s=t[8],o=t[1],a=t[5],c=t[9],l=t[2],u=t[6],h=t[10],d=n+a+h;if(d>0){const p=.5/Math.sqrt(d+1);this._w=.25/p,this._x=(u-c)*p,this._y=(s-l)*p,this._z=(o-i)*p}else if(n>a&&n>h){const p=2*Math.sqrt(1+n-a-h);this._w=(u-c)/p,this._x=.25*p,this._y=(i+o)/p,this._z=(s+l)/p}else if(a>h){const p=2*Math.sqrt(1+a-n-h);this._w=(s-l)/p,this._x=(i+o)/p,this._y=.25*p,this._z=(c+u)/p}else{const p=2*Math.sqrt(1+h-n-a);this._w=(o-i)/p,this._x=(s+l)/p,this._y=(c+u)/p,this._z=.25*p}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Gl(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(n===0)return this;const i=Math.min(1,t/n);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,t){return t!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,i=e._y,s=e._z,o=e._w,a=t._x,c=t._y,l=t._z,u=t._w;return this._x=n*u+o*a+i*l-s*c,this._y=i*u+o*c+s*a-n*l,this._z=s*u+o*l+n*c-i*a,this._w=o*u-n*a-i*c-s*l,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const n=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+n*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=n,this._y=i,this._z=s,this;const c=1-a*a;if(c<=Number.EPSILON){const p=1-t;return this._w=p*o+t*this._w,this._x=p*n+t*this._x,this._y=p*i+t*this._y,this._z=p*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const l=Math.sqrt(c),u=Math.atan2(l,a),h=Math.sin((1-t)*u)/l,d=Math.sin(t*u)/l;return this._w=o*h+this._w*d,this._x=n*h+this._x*d,this._y=i*h+this._y*d,this._z=s*h+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(i),n*Math.sin(s),n*Math.cos(s),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class H{constructor(e=0,t=0,n=0){this.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return n===void 0&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(Ul.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(Ul.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*n+s[6]*i,this.y=s[1]*t+s[4]*n+s[7]*i,this.z=s[2]*t+s[5]*n+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,i=this.z,s=e.elements,o=1/(s[3]*t+s[7]*n+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*n+s[8]*i+s[12])*o,this.y=(s[1]*t+s[5]*n+s[9]*i+s[13])*o,this.z=(s[2]*t+s[6]*n+s[10]*i+s[14])*o,this}applyQuaternion(e){const t=this.x,n=this.y,i=this.z,s=e.x,o=e.y,a=e.z,c=e.w,l=c*t+o*i-a*n,u=c*n+a*t-s*i,h=c*i+s*n-o*t,d=-s*t-o*n-a*i;return this.x=l*c+d*-s+u*-a-h*-o,this.y=u*c+d*-o+h*-s-l*-a,this.z=h*c+d*-a+l*-o-u*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*n+s[8]*i,this.y=s[1]*t+s[5]*n+s[9]*i,this.z=s[2]*t+s[6]*n+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e,t){return t!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,i=e.y,s=e.z,o=t.x,a=t.y,c=t.z;return this.x=i*c-s*a,this.y=s*o-n*c,this.z=n*a-i*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return mo.copy(this).projectOnVector(e),this.sub(mo)}reflect(e){return this.sub(mo.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Gl(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,i=this.z-e.z;return t*t+n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const i=Math.sin(t)*e;return this.x=i*Math.sin(n),this.y=Math.cos(t)*e,this.z=i*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t,n){return n!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,n=Math.sqrt(1-e**2);return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const mo=new H,Ul=new dy;class xn{constructor(){this.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,t,n,i,s,o,a,c,l,u,h,d,p,v,E,x){const m=this.elements;return m[0]=e,m[4]=t,m[8]=n,m[12]=i,m[1]=s,m[5]=o,m[9]=a,m[13]=c,m[2]=l,m[6]=u,m[10]=h,m[14]=d,m[3]=p,m[7]=v,m[11]=E,m[15]=x,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new xn().fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,i=1/Ar.setFromMatrixColumn(e,0).length(),s=1/Ar.setFromMatrixColumn(e,1).length(),o=1/Ar.setFromMatrixColumn(e,2).length();return t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i,t[3]=0,t[4]=n[4]*s,t[5]=n[5]*s,t[6]=n[6]*s,t[7]=0,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const t=this.elements,n=e.x,i=e.y,s=e.z,o=Math.cos(n),a=Math.sin(n),c=Math.cos(i),l=Math.sin(i),u=Math.cos(s),h=Math.sin(s);if(e.order==="XYZ"){const d=o*u,p=o*h,v=a*u,E=a*h;t[0]=c*u,t[4]=-c*h,t[8]=l,t[1]=p+v*l,t[5]=d-E*l,t[9]=-a*c,t[2]=E-d*l,t[6]=v+p*l,t[10]=o*c}else if(e.order==="YXZ"){const d=c*u,p=c*h,v=l*u,E=l*h;t[0]=d+E*a,t[4]=v*a-p,t[8]=o*l,t[1]=o*h,t[5]=o*u,t[9]=-a,t[2]=p*a-v,t[6]=E+d*a,t[10]=o*c}else if(e.order==="ZXY"){const d=c*u,p=c*h,v=l*u,E=l*h;t[0]=d-E*a,t[4]=-o*h,t[8]=v+p*a,t[1]=p+v*a,t[5]=o*u,t[9]=E-d*a,t[2]=-o*l,t[6]=a,t[10]=o*c}else if(e.order==="ZYX"){const d=o*u,p=o*h,v=a*u,E=a*h;t[0]=c*u,t[4]=v*l-p,t[8]=d*l+E,t[1]=c*h,t[5]=E*l+d,t[9]=p*l-v,t[2]=-l,t[6]=a*c,t[10]=o*c}else if(e.order==="YZX"){const d=o*c,p=o*l,v=a*c,E=a*l;t[0]=c*u,t[4]=E-d*h,t[8]=v*h+p,t[1]=h,t[5]=o*u,t[9]=-a*u,t[2]=-l*u,t[6]=p*h+v,t[10]=d-E*h}else if(e.order==="XZY"){const d=o*c,p=o*l,v=a*c,E=a*l;t[0]=c*u,t[4]=-h,t[8]=l*u,t[1]=d*h+E,t[5]=o*u,t[9]=p*h-v,t[2]=v*h-p,t[6]=a*u,t[10]=E*h+d}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(py,e,fy)}lookAt(e,t,n){const i=this.elements;return He.subVectors(e,t),He.lengthSq()===0&&(He.z=1),He.normalize(),Kt.crossVectors(n,He),Kt.lengthSq()===0&&(Math.abs(n.z)===1?He.x+=1e-4:He.z+=1e-4,He.normalize(),Kt.crossVectors(n,He)),Kt.normalize(),Li.crossVectors(He,Kt),i[0]=Kt.x,i[4]=Li.x,i[8]=He.x,i[1]=Kt.y,i[5]=Li.y,i[9]=He.y,i[2]=Kt.z,i[6]=Li.z,i[10]=He.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,i=t.elements,s=this.elements,o=n[0],a=n[4],c=n[8],l=n[12],u=n[1],h=n[5],d=n[9],p=n[13],v=n[2],E=n[6],x=n[10],m=n[14],C=n[3],g=n[7],y=n[11],M=n[15],S=i[0],w=i[4],_=i[8],R=i[12],I=i[1],k=i[5],B=i[9],Y=i[13],X=i[2],Se=i[6],ae=i[10],Ce=i[14],Pe=i[3],Ke=i[7],pt=i[11],nt=i[15];return s[0]=o*S+a*I+c*X+l*Pe,s[4]=o*w+a*k+c*Se+l*Ke,s[8]=o*_+a*B+c*ae+l*pt,s[12]=o*R+a*Y+c*Ce+l*nt,s[1]=u*S+h*I+d*X+p*Pe,s[5]=u*w+h*k+d*Se+p*Ke,s[9]=u*_+h*B+d*ae+p*pt,s[13]=u*R+h*Y+d*Ce+p*nt,s[2]=v*S+E*I+x*X+m*Pe,s[6]=v*w+E*k+x*Se+m*Ke,s[10]=v*_+E*B+x*ae+m*pt,s[14]=v*R+E*Y+x*Ce+m*nt,s[3]=C*S+g*I+y*X+M*Pe,s[7]=C*w+g*k+y*Se+M*Ke,s[11]=C*_+g*B+y*ae+M*pt,s[15]=C*R+g*Y+y*Ce+M*nt,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],i=e[8],s=e[12],o=e[1],a=e[5],c=e[9],l=e[13],u=e[2],h=e[6],d=e[10],p=e[14],v=e[3],E=e[7],x=e[11],m=e[15];return v*(+s*c*h-i*l*h-s*a*d+n*l*d+i*a*p-n*c*p)+E*(+t*c*p-t*l*d+s*o*d-i*o*p+i*l*u-s*c*u)+x*(+t*l*h-t*a*p-s*o*h+n*o*p+s*a*u-n*l*u)+m*(-i*a*u-t*c*h+t*a*d+i*o*h-n*o*d+n*c*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],i=e[2],s=e[3],o=e[4],a=e[5],c=e[6],l=e[7],u=e[8],h=e[9],d=e[10],p=e[11],v=e[12],E=e[13],x=e[14],m=e[15],C=h*x*l-E*d*l+E*c*p-a*x*p-h*c*m+a*d*m,g=v*d*l-u*x*l-v*c*p+o*x*p+u*c*m-o*d*m,y=u*E*l-v*h*l+v*a*p-o*E*p-u*a*m+o*h*m,M=v*h*c-u*E*c-v*a*d+o*E*d+u*a*x-o*h*x,S=t*C+n*g+i*y+s*M;if(S===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const w=1/S;return e[0]=C*w,e[1]=(E*d*s-h*x*s-E*i*p+n*x*p+h*i*m-n*d*m)*w,e[2]=(a*x*s-E*c*s+E*i*l-n*x*l-a*i*m+n*c*m)*w,e[3]=(h*c*s-a*d*s-h*i*l+n*d*l+a*i*p-n*c*p)*w,e[4]=g*w,e[5]=(u*x*s-v*d*s+v*i*p-t*x*p-u*i*m+t*d*m)*w,e[6]=(v*c*s-o*x*s-v*i*l+t*x*l+o*i*m-t*c*m)*w,e[7]=(o*d*s-u*c*s+u*i*l-t*d*l-o*i*p+t*c*p)*w,e[8]=y*w,e[9]=(v*h*s-u*E*s-v*n*p+t*E*p+u*n*m-t*h*m)*w,e[10]=(o*E*s-v*a*s+v*n*l-t*E*l-o*n*m+t*a*m)*w,e[11]=(u*a*s-o*h*s-u*n*l+t*h*l+o*n*p-t*a*p)*w,e[12]=M*w,e[13]=(u*E*i-v*h*i+v*n*d-t*E*d-u*n*x+t*h*x)*w,e[14]=(v*a*i-o*E*i-v*n*c+t*E*c+o*n*x-t*a*x)*w,e[15]=(o*h*i-u*a*i+u*n*c-t*h*c-o*n*d+t*a*d)*w,this}scale(e){const t=this.elements,n=e.x,i=e.y,s=e.z;return t[0]*=n,t[4]*=i,t[8]*=s,t[1]*=n,t[5]*=i,t[9]*=s,t[2]*=n,t[6]*=i,t[10]*=s,t[3]*=n,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,i))}makeTranslation(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),i=Math.sin(t),s=1-n,o=e.x,a=e.y,c=e.z,l=s*o,u=s*a;return this.set(l*o+n,l*a-i*c,l*c+i*a,0,l*a+i*c,u*a+n,u*c-i*o,0,l*c-i*a,u*c+i*o,s*c*c+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,i,s,o){return this.set(1,n,s,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,n){const i=this.elements,s=t._x,o=t._y,a=t._z,c=t._w,l=s+s,u=o+o,h=a+a,d=s*l,p=s*u,v=s*h,E=o*u,x=o*h,m=a*h,C=c*l,g=c*u,y=c*h,M=n.x,S=n.y,w=n.z;return i[0]=(1-(E+m))*M,i[1]=(p+y)*M,i[2]=(v-g)*M,i[3]=0,i[4]=(p-y)*S,i[5]=(1-(d+m))*S,i[6]=(x+C)*S,i[7]=0,i[8]=(v+g)*w,i[9]=(x-C)*w,i[10]=(1-(d+E))*w,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,n){const i=this.elements;let s=Ar.set(i[0],i[1],i[2]).length();const o=Ar.set(i[4],i[5],i[6]).length(),a=Ar.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],at.copy(this);const l=1/s,u=1/o,h=1/a;return at.elements[0]*=l,at.elements[1]*=l,at.elements[2]*=l,at.elements[4]*=u,at.elements[5]*=u,at.elements[6]*=u,at.elements[8]*=h,at.elements[9]*=h,at.elements[10]*=h,t.setFromRotationMatrix(at),n.x=s,n.y=o,n.z=a,this}makePerspective(e,t,n,i,s,o){o===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const a=this.elements,c=2*s/(t-e),l=2*s/(n-i),u=(t+e)/(t-e),h=(n+i)/(n-i),d=-(o+s)/(o-s),p=-2*o*s/(o-s);return a[0]=c,a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=l,a[9]=h,a[13]=0,a[2]=0,a[6]=0,a[10]=d,a[14]=p,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,n,i,s,o){const a=this.elements,c=1/(t-e),l=1/(n-i),u=1/(o-s),h=(t+e)*c,d=(n+i)*l,p=(o+s)*u;return a[0]=2*c,a[4]=0,a[8]=0,a[12]=-h,a[1]=0,a[5]=2*l,a[9]=0,a[13]=-d,a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-p,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let i=0;i<16;i++)if(t[i]!==n[i])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const Ar=new H,at=new xn,py=new H(0,0,0),fy=new H(1,1,1),Kt=new H,Li=new H,He=new H;class Vl{constructor(e=0,t=0){this.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6],this.y=i[1]*t+i[4]*n+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t,n){return n!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),i=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*n-o*i+e.x,this.y=s*i+o*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class my{constructor(e=0,t=0,n=0,i=1){this.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,i){return this.x=e,this.y=t,this.z=n,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*i+o[12]*s,this.y=o[1]*t+o[5]*n+o[9]*i+o[13]*s,this.z=o[2]*t+o[6]*n+o[10]*i+o[14]*s,this.w=o[3]*t+o[7]*n+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,i,s;const o=.01,a=.1,c=e.elements,l=c[0],u=c[4],h=c[8],d=c[1],p=c[5],v=c[9],E=c[2],x=c[6],m=c[10];if(Math.abs(u-d)<o&&Math.abs(h-E)<o&&Math.abs(v-x)<o){if(Math.abs(u+d)<a&&Math.abs(h+E)<a&&Math.abs(v+x)<a&&Math.abs(l+p+m-3)<a)return this.set(1,0,0,0),this;t=Math.PI;const g=(l+1)/2,y=(p+1)/2,M=(m+1)/2,S=(u+d)/4,w=(h+E)/4,_=(v+x)/4;return g>y&&g>M?g<o?(n=0,i=.707106781,s=.707106781):(n=Math.sqrt(g),i=S/n,s=w/n):y>M?y<o?(n=.707106781,i=0,s=.707106781):(i=Math.sqrt(y),n=S/i,s=_/i):M<o?(n=.707106781,i=.707106781,s=0):(s=Math.sqrt(M),n=w/s,i=_/s),this.set(n,i,s,t),this}let C=Math.sqrt((x-v)*(x-v)+(h-E)*(h-E)+(d-u)*(d-u));return Math.abs(C)<.001&&(C=1),this.x=(x-v)/C,this.y=(h-E)/C,this.z=(d-u)/C,this.w=Math.acos((l+p+m-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t,n){return n!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Kl{constructor(e=new H(1/0,1/0,1/0),t=new H(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,n=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let c=0,l=e.length;c<l;c+=3){const u=e[c],h=e[c+1],d=e[c+2];u<t&&(t=u),h<n&&(n=h),d<i&&(i=d),u>s&&(s=u),h>o&&(o=h),d>a&&(a=d)}return this.min.set(t,n,i),this.max.set(s,o,a),this}setFromBufferAttribute(e){let t=1/0,n=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let c=0,l=e.count;c<l;c++){const u=e.getX(c),h=e.getY(c),d=e.getZ(c);u<t&&(t=u),h<n&&(n=h),d<i&&(i=d),u>s&&(s=u),h>o&&(o=h),d>a&&(a=d)}return this.min.set(t,n,i),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=lr.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const n=e.geometry;if(n!==void 0)if(t&&n.attributes!=null&&n.attributes.position!==void 0){const s=n.attributes.position;for(let o=0,a=s.count;o<a;o++)lr.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(lr)}else n.boundingBox===null&&n.computeBoundingBox(),go.copy(n.boundingBox),go.applyMatrix4(e.matrixWorld),this.union(go);const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,lr),lr.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(_n),Ii.subVectors(this.max,_n),Pr.subVectors(e.a,_n),Lr.subVectors(e.b,_n),Ir.subVectors(e.c,_n),Wt.subVectors(Lr,Pr),Yt.subVectors(Ir,Lr),cr.subVectors(Pr,Ir);let t=[0,-Wt.z,Wt.y,0,-Yt.z,Yt.y,0,-cr.z,cr.y,Wt.z,0,-Wt.x,Yt.z,0,-Yt.x,cr.z,0,-cr.x,-Wt.y,Wt.x,0,-Yt.y,Yt.x,0,-cr.y,cr.x,0];return!yo(t,Pr,Lr,Ir,Ii)||(t=[1,0,0,0,1,0,0,0,1],!yo(t,Pr,Lr,Ir,Ii))?!1:(Di.crossVectors(Wt,Yt),t=[Di.x,Di.y,Di.z],yo(t,Pr,Lr,Ir,Ii))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return lr.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(lr).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(It[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),It[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),It[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),It[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),It[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),It[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),It[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),It[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(It),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const It=[new H,new H,new H,new H,new H,new H,new H,new H],lr=new H,go=new Kl,Pr=new H,Lr=new H,Ir=new H,Wt=new H,Yt=new H,cr=new H,_n=new H,Ii=new H,Di=new H,ur=new H;function yo(r,e,t,n,i){for(let s=0,o=r.length-3;s<=o;s+=3){ur.fromArray(r,s);const a=i.x*Math.abs(ur.x)+i.y*Math.abs(ur.y)+i.z*Math.abs(ur.z),c=e.dot(ur),l=t.dot(ur),u=n.dot(ur);if(Math.max(-Math.max(c,l,u),Math.min(c,l,u))>a)return!1}return!0}const gy=new Kl,Wl=new H,ji=new H,vo=new H;class yy{constructor(e=new H,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;t!==void 0?n.copy(t):gy.setFromPoints(e).getCenter(n);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,n.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){vo.subVectors(e,this.center);const t=vo.lengthSq();if(t>this.radius*this.radius){const n=Math.sqrt(t),i=(n-this.radius)*.5;this.center.add(vo.multiplyScalar(i/n)),this.radius+=i}return this}union(e){return this.center.equals(e.center)===!0?ji.set(0,0,1).multiplyScalar(e.radius):ji.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(Wl.copy(e.center).add(ji)),this.expandByPoint(Wl.copy(e.center).sub(ji)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}class vy{constructor(){this.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,t,n,i,s,o,a,c,l){const u=this.elements;return u[0]=e,u[1]=i,u[2]=a,u[3]=t,u[4]=s,u[5]=c,u[6]=n,u[7]=o,u[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,i=t.elements,s=this.elements,o=n[0],a=n[3],c=n[6],l=n[1],u=n[4],h=n[7],d=n[2],p=n[5],v=n[8],E=i[0],x=i[3],m=i[6],C=i[1],g=i[4],y=i[7],M=i[2],S=i[5],w=i[8];return s[0]=o*E+a*C+c*M,s[3]=o*x+a*g+c*S,s[6]=o*m+a*y+c*w,s[1]=l*E+u*C+h*M,s[4]=l*x+u*g+h*S,s[7]=l*m+u*y+h*w,s[2]=d*E+p*C+v*M,s[5]=d*x+p*g+v*S,s[8]=d*m+p*y+v*w,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],i=e[2],s=e[3],o=e[4],a=e[5],c=e[6],l=e[7],u=e[8];return t*o*u-t*a*l-n*s*u+n*a*c+i*s*l-i*o*c}invert(){const e=this.elements,t=e[0],n=e[1],i=e[2],s=e[3],o=e[4],a=e[5],c=e[6],l=e[7],u=e[8],h=u*o-a*l,d=a*c-u*s,p=l*s-o*c,v=t*h+n*d+i*p;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const E=1/v;return e[0]=h*E,e[1]=(i*l-u*n)*E,e[2]=(a*n-i*o)*E,e[3]=d*E,e[4]=(u*t-i*c)*E,e[5]=(i*s-a*t)*E,e[6]=p*E,e[7]=(n*c-l*t)*E,e[8]=(o*t-n*s)*E,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,i,s,o,a){const c=Math.cos(s),l=Math.sin(s);return this.set(n*c,n*l,-n*(c*o+l*a)+o+e,-i*l,i*c,-i*(-l*o+c*a)+a+t,0,0,1),this}scale(e,t){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this}rotate(e){const t=Math.cos(e),n=Math.sin(e),i=this.elements,s=i[0],o=i[3],a=i[6],c=i[1],l=i[4],u=i[7];return i[0]=t*s+n*c,i[3]=t*o+n*l,i[6]=t*a+n*u,i[1]=-n*s+t*c,i[4]=-n*o+t*l,i[7]=-n*a+t*u,this}translate(e,t){const n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this}equals(e){const t=this.elements,n=e.elements;for(let i=0;i<9;i++)if(t[i]!==n[i])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const bo=new H,by=new H,My=new vy;class Dr{constructor(e=new H(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,i){return this.normal.set(e,t,n),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const i=bo.subVectors(n,t).cross(by.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const n=e.delta(bo),i=this.normal.dot(n);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(n).multiplyScalar(s).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||My.getNormalMatrix(e),i=this.coplanarPoint(bo).applyMatrix4(e),s=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const jr=new yy,Ni=new H;class Ey{constructor(e=new Dr,t=new Dr,n=new Dr,i=new Dr,s=new Dr,o=new Dr){this.planes=[e,t,n,i,s,o]}set(e,t,n,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e){const t=this.planes,n=e.elements,i=n[0],s=n[1],o=n[2],a=n[3],c=n[4],l=n[5],u=n[6],h=n[7],d=n[8],p=n[9],v=n[10],E=n[11],x=n[12],m=n[13],C=n[14],g=n[15];return t[0].setComponents(a-i,h-c,E-d,g-x).normalize(),t[1].setComponents(a+i,h+c,E+d,g+x).normalize(),t[2].setComponents(a+s,h+l,E+p,g+m).normalize(),t[3].setComponents(a-s,h-l,E-p,g-m).normalize(),t[4].setComponents(a-o,h-u,E-v,g-C).normalize(),t[5].setComponents(a+o,h+u,E+v,g+C).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),jr.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(jr)}intersectsSprite(e){return jr.center.set(0,0,0),jr.radius=.7071067811865476,jr.applyMatrix4(e.matrixWorld),this.intersectsSphere(jr)}intersectsSphere(e){const t=this.planes,n=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(n)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const i=t[n];if(Ni.x=i.normal.x>0?e.max.x:e.min.x,Ni.y=i.normal.y>0?e.max.y:e.min.y,Ni.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Ni)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const Yl=new xn,ql=new H,Xl=new H;class Sy{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Vl(512,512),this.map=null,this.mapPass=null,this.matrix=new xn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Ey,this._frameExtents=new Vl(1,1),this._viewportCount=1,this._viewports=[new my(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;ql.setFromMatrixPosition(e.matrixWorld),t.position.copy(ql),Xl.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(Xl),t.updateMatrixWorld(),Yl.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Yl),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(t.projectionMatrix),n.multiply(t.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}const Cy="0.1.3-6";window.__THREE__||console.error("vis-three dependent on three.js module, pleace run 'npm i three' first.");window.__VIS__?console.warn("Duplicate vis-three frames are introduced"):window.__VIS__=Cy;ot.prototype.add=function(...r){if(!arguments.length)return this;if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}const e=r[0];if(e===this)return console.error("THREE.Object3D.add: object can't be added as a child of itself.",r),this;if(e&&e.isObject3D){if(e.parent!==null){const t=this.children.indexOf(e);t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent({type:"removed"}))}e.parent=this,this.children.push(e),e.dispatchEvent({type:"added"})}else console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",r);return this};const wy=ot.prototype.add,xy=ot.prototype.remove;ot.prototype.add=function(...r){return wy.call(this,...r),this.dispatchEvent({type:"afterAdd",objects:r}),this};ot.prototype.remove=function(...r){return xy.call(this,...r),this.dispatchEvent({type:"afterRemove",objects:r}),this};const Mo=new Sy(new Ye(-256,256,256,-256));Mo.autoUpdate=!1;Mo.needsUpdate=!1;cn.prototype.shadow=Mo;var qt={},oe={exports:{}};(function(r){function e(t){return t&&t.__esModule?t:{default:t}}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports})(oe);var Q={exports:{}},Ql={};function Eo(r){throw r}function Zl(r){}function se(r,e,t,n){const i=r,s=new SyntaxError(String(i));return s.code=r,s.loc=e,s}const Nr=Symbol(""),zr=Symbol(""),zi=Symbol(""),On=Symbol(""),So=Symbol(""),Xt=Symbol(""),Co=Symbol(""),wo=Symbol(""),ki=Symbol(""),$i=Symbol(""),kr=Symbol(""),Bi=Symbol(""),xo=Symbol(""),Fi=Symbol(""),Tn=Symbol(""),Hi=Symbol(""),Gi=Symbol(""),Ui=Symbol(""),Vi=Symbol(""),_o=Symbol(""),Oo=Symbol(""),Rn=Symbol(""),An=Symbol(""),Ki=Symbol(""),Wi=Symbol(""),$r=Symbol(""),Br=Symbol(""),Yi=Symbol(""),qi=Symbol(""),Jl=Symbol(""),Xi=Symbol(""),Pn=Symbol(""),ec=Symbol(""),tc=Symbol(""),Qi=Symbol(""),rc=Symbol(""),nc=Symbol(""),Zi=Symbol(""),To=Symbol(""),Dt={[Nr]:"Fragment",[zr]:"Teleport",[zi]:"Suspense",[On]:"KeepAlive",[So]:"BaseTransition",[Xt]:"openBlock",[Co]:"createBlock",[wo]:"createElementBlock",[ki]:"createVNode",[$i]:"createElementVNode",[kr]:"createCommentVNode",[Bi]:"createTextVNode",[xo]:"createStaticVNode",[Fi]:"resolveComponent",[Tn]:"resolveDynamicComponent",[Hi]:"resolveDirective",[Gi]:"resolveFilter",[Ui]:"withDirectives",[Vi]:"renderList",[_o]:"renderSlot",[Oo]:"createSlots",[Rn]:"toDisplayString",[An]:"mergeProps",[Ki]:"normalizeClass",[Wi]:"normalizeStyle",[$r]:"normalizeProps",[Br]:"guardReactiveProps",[Yi]:"toHandlers",[qi]:"camelize",[Jl]:"capitalize",[Xi]:"toHandlerKey",[Pn]:"setBlockTracking",[ec]:"pushScopeId",[tc]:"popScopeId",[Qi]:"withCtx",[rc]:"unref",[nc]:"isRef",[Zi]:"withMemo",[To]:"isMemoSame"};function ic(r){Object.getOwnPropertySymbols(r).forEach(e=>{Dt[e]=r[e]})}const me={source:"",start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0}};function sc(r,e=me){return{type:0,children:r,helpers:[],components:[],directives:[],hoists:[],imports:[],cached:0,temps:0,codegenNode:void 0,loc:e}}function Fr(r,e,t,n,i,s,o,a=!1,c=!1,l=!1,u=me){return r&&(a?(r.helper(Xt),r.helper(fr(r.inSSR,l))):r.helper(pr(r.inSSR,l)),o&&r.helper(Ui)),{type:13,tag:e,props:t,children:n,patchFlag:i,dynamicProps:s,directives:o,isBlock:a,disableTracking:c,isComponent:l,loc:u}}function Hr(r,e=me){return{type:17,loc:e,elements:r}}function Ge(r,e=me){return{type:15,loc:e,properties:r}}function le(r,e){return{type:16,loc:me,key:ye(r)?G(r,!0):r,value:e}}function G(r,e=!1,t=me,n=0){return{type:4,loc:t,content:r,isStatic:e,constType:e?3:n}}function _y(r,e){return{type:5,loc:e,content:ye(r)?G(r,!1,e):r}}function lt(r,e=me){return{type:8,loc:e,children:r}}function ce(r,e=[],t=me){return{type:14,loc:t,callee:r,arguments:e}}function hr(r,e=void 0,t=!1,n=!1,i=me){return{type:18,params:r,returns:e,newline:t,isSlot:n,loc:i}}function Ji(r,e,t,n=!0){return{type:19,test:r,consequent:e,alternate:t,newline:n,loc:me}}function oc(r,e,t=!1){return{type:20,index:r,value:e,isVNode:t,loc:me}}function ac(r){return{type:21,body:r,loc:me}}function Oy(r){return{type:22,elements:r,loc:me}}function Ty(r,e,t){return{type:23,test:r,consequent:e,alternate:t,loc:me}}function Ry(r,e){return{type:24,left:r,right:e,loc:me}}function Ay(r){return{type:25,expressions:r,loc:me}}function Py(r){return{type:26,returns:r,loc:me}}const De=r=>r.type===4&&r.isStatic,dr=(r,e)=>r===e||r===Hh(e);function Ro(r){if(dr(r,"Teleport"))return zr;if(dr(r,"Suspense"))return zi;if(dr(r,"KeepAlive"))return On;if(dr(r,"BaseTransition"))return So}const Ly=/^\d|[^\$\w]/,Ln=r=>!Ly.test(r),Iy=/[A-Za-z_$\xA0-\uFFFF]/,Dy=/[\.\?\w$\xA0-\uFFFF]/,jy=/\s+[.[]\s*|\s*[.[]\s+/g,lc=r=>{r=r.trim().replace(jy,o=>o.trim());let e=0,t=[],n=0,i=0,s=null;for(let o=0;o<r.length;o++){const a=r.charAt(o);switch(e){case 0:if(a==="[")t.push(e),e=1,n++;else if(a==="(")t.push(e),e=2,i++;else if(!(o===0?Iy:Dy).test(a))return!1;break;case 1:a==="'"||a==='"'||a==="`"?(t.push(e),e=3,s=a):a==="["?n++:a==="]"&&(--n||(e=t.pop()));break;case 2:if(a==="'"||a==='"'||a==="`")t.push(e),e=3,s=a;else if(a==="(")i++;else if(a===")"){if(o===r.length-1)return!1;--i||(e=t.pop())}break;case 3:a===s&&(e=t.pop(),s=null);break}}return!n&&!i},Ny=Fs,Ao=lc;function Po(r,e,t){const i={source:r.source.slice(e,e+t),start:In(r.start,r.source,e),end:r.end};return t!=null&&(i.end=In(r.start,r.source,e+t)),i}function In(r,e,t=e.length){return Dn(xt({},r),e,t)}function Dn(r,e,t=e.length){let n=0,i=-1;for(let s=0;s<t;s++)e.charCodeAt(s)===10&&(n++,i=s);return r.offset+=t,r.line+=n,r.column=i===-1?r.column+t:t-i,r}function zy(r,e){if(!r)throw new Error(e||"unexpected compiler condition")}function $e(r,e,t=!1){for(let n=0;n<r.props.length;n++){const i=r.props[n];if(i.type===7&&(t||i.exp)&&(ye(e)?i.name===e:e.test(i.name)))return i}}function Gr(r,e,t=!1,n=!1){for(let i=0;i<r.props.length;i++){const s=r.props[i];if(s.type===6){if(t)continue;if(s.name===e&&(s.value||n))return s}else if(s.name==="bind"&&(s.exp||n)&&jn(s.arg,e))return s}}function jn(r,e){return!!(r&&De(r)&&r.content===e)}function cc(r){return r.props.some(e=>e.type===7&&e.name==="bind"&&(!e.arg||e.arg.type!==4||!e.arg.isStatic))}function es(r){return r.type===5||r.type===2}function Lo(r){return r.type===7&&r.name==="slot"}function Ur(r){return r.type===1&&r.tagType===3}function Nn(r){return r.type===1&&r.tagType===2}function pr(r,e){return r||e?ki:$i}function fr(r,e){return r||e?Co:wo}const ky=new Set([$r,Br]);function uc(r,e=[]){if(r&&!ye(r)&&r.type===14){const t=r.callee;if(!ye(t)&&ky.has(t))return uc(r.arguments[0],e.concat(r))}return[r,e]}function zn(r,e,t){let n,s=r.type===13?r.props:r.arguments[2],o=[],a;if(s&&!ye(s)&&s.type===14){const c=uc(s);s=c[0],o=c[1],a=o[o.length-1]}if(s==null||ye(s))n=Ge([e]);else if(s.type===14){const c=s.arguments[0];!ye(c)&&c.type===15?c.properties.unshift(e):s.callee===Yi?n=ce(t.helper(An),[Ge([e]),s]):s.arguments.unshift(Ge([e])),!n&&(n=s)}else if(s.type===15){let c=!1;if(e.key.type===4){const l=e.key.content;c=s.properties.some(u=>u.key.type===4&&u.key.content===l)}c||s.properties.unshift(e),n=s}else n=ce(t.helper(An),[Ge([e]),s]),a&&a.callee===Br&&(a=o[o.length-2]);r.type===13?a?a.arguments[0]=n:r.props=n:a?a.arguments[0]=n:r.arguments[2]=n}function Vr(r,e){return`_${e}_${r.replace(/[^\w]/g,(t,n)=>t==="-"?"_":r.charCodeAt(n).toString())}`}function ct(r,e){if(!r||Object.keys(e).length===0)return!1;switch(r.type){case 1:for(let t=0;t<r.props.length;t++){const n=r.props[t];if(n.type===7&&(ct(n.arg,e)||ct(n.exp,e)))return!0}return r.children.some(t=>ct(t,e));case 11:return ct(r.source,e)?!0:r.children.some(t=>ct(t,e));case 9:return r.branches.some(t=>ct(t,e));case 10:return ct(r.condition,e)?!0:r.children.some(t=>ct(t,e));case 4:return!r.isStatic&&Ln(r.content)&&!!e[r.content];case 8:return r.children.some(t=>Ha(t)&&ct(t,e));case 5:case 12:return ct(r.content,e);case 2:case 3:return!1;default:return!1}}function hc(r){return r.type===14&&r.callee===Zi?r.arguments[1].returns:r}function ts(r,{helper:e,removeHelper:t,inSSR:n}){r.isBlock||(r.isBlock=!0,t(pr(n,r.isComponent)),e(Xt),e(fr(n,r.isComponent)))}const $y={COMPILER_IS_ON_ELEMENT:{message:'Platform-native elements with "is" prop will no longer be treated as components in Vue 3 unless the "is" value is explicitly prefixed with "vue:".',link:"https://v3.vuejs.org/guide/migration/custom-elements-interop.html"},COMPILER_V_BIND_SYNC:{message:r=>`.sync modifier for v-bind has been removed. Use v-model with argument instead. \`v-bind:${r}.sync\` should be changed to \`v-model:${r}\`.`,link:"https://v3.vuejs.org/guide/migration/v-model.html"},COMPILER_V_BIND_PROP:{message:".prop modifier for v-bind has been removed and no longer necessary. Vue 3 will automatically set a binding as DOM property when appropriate."},COMPILER_V_BIND_OBJECT_ORDER:{message:'v-bind="obj" usage is now order sensitive and behaves like JavaScript object spread: it will now overwrite an existing non-mergeable attribute that appears before v-bind in the case of conflict. To retain 2.x behavior, move v-bind to make it the first attribute. You can also suppress this warning if the usage is intended.',link:"https://v3.vuejs.org/guide/migration/v-bind.html"},COMPILER_V_ON_NATIVE:{message:".native modifier for v-on has been removed as is no longer necessary.",link:"https://v3.vuejs.org/guide/migration/v-on-native-modifier-removed.html"},COMPILER_V_IF_V_FOR_PRECEDENCE:{message:"v-if / v-for precedence when used on the same element has changed in Vue 3: v-if now takes higher precedence and will no longer have access to v-for scope variables. It is best to avoid the ambiguity with <template> tags or use a computed property that filters v-for data source.",link:"https://v3.vuejs.org/guide/migration/v-if-v-for.html"},COMPILER_V_FOR_REF:{message:"Ref usage on v-for no longer creates array ref values in Vue 3. Consider using function refs or refactor to avoid ref usage altogether.",link:"https://v3.vuejs.org/guide/migration/array-refs.html"},COMPILER_NATIVE_TEMPLATE:{message:"<template> with no special directives will render as a native template element instead of its inner content in Vue 3."},COMPILER_INLINE_TEMPLATE:{message:'"inline-template" has been removed in Vue 3.',link:"https://v3.vuejs.org/guide/migration/inline-template-attribute.html"},COMPILER_FILTER:{message:'filters have been removed in Vue 3. The "|" symbol will be treated as native JavaScript bitwise OR operator. Use method calls or computed properties instead.',link:"https://v3.vuejs.org/guide/migration/filters.html"}};function Io(r,e){const t=e.options?e.options.compatConfig:e.compatConfig,n=t&&t[r];return r==="MODE"?n||3:n}function mr(r,e){const t=Io("MODE",e),n=Io(r,e);return t===3?n===!0:n!==!1}function gr(r,e,t,...n){return mr(r,e)}function By(r,e,t,...n){if(Io(r,e)==="suppress-warning")return;const{message:s,link:o}=$y[r],a=`(deprecation ${r}) ${typeof s=="function"?s(...n):s}${o?`
  Details: ${o}`:""}`,c=new SyntaxError(a);c.code=r,t&&(c.loc=t),e.onWarn(c)}const Fy=/&(gt|lt|amp|apos|quot);/g,Hy={gt:">",lt:"<",amp:"&",apos:"'",quot:'"'},dc={delimiters:["{{","}}"],getNamespace:()=>0,getTextMode:()=>0,isVoidTag:Us,isPreTag:Us,isCustomElement:Us,decodeEntities:r=>r.replace(Fy,(e,t)=>Hy[t]),onError:Eo,onWarn:Zl,comments:!1};function Do(r,e={}){const t=Gy(r,e),n=Ue(t);return sc(jo(t,0,[]),Xe(t,n))}function Gy(r,e){const t=xt({},dc);let n;for(n in e)t[n]=e[n]===void 0?dc[n]:e[n];return{options:t,column:1,line:1,offset:0,originalSource:r,source:r,inPre:!1,inVPre:!1,onWarn:t.onWarn}}function jo(r,e,t){const n=rs(t),i=n?n.ns:0,s=[];for(;!Zy(r,e,t);){const a=r.source;let c;if(e===0||e===1){if(!r.inVPre&&_e(a,r.options.delimiters[0]))c=Xy(r,e);else if(e===0&&a[0]==="<")if(a.length===1)q(r,5,1);else if(a[1]==="!")_e(a,"<!--")?c=Vy(r):_e(a,"<!DOCTYPE")?c=kn(r):_e(a,"<![CDATA[")?i!==0?c=Uy(r,t):(q(r,1),c=kn(r)):(q(r,11),c=kn(r));else if(a[1]==="/")if(a.length===2)q(r,5,2);else if(a[2]===">"){q(r,14,2),ge(r,3);continue}else if(/[a-z]/i.test(a[2])){q(r,23),No(r,1,n);continue}else q(r,12,2),c=kn(r);else/[a-z]/i.test(a[1])?(c=Ky(r,t),mr("COMPILER_NATIVE_TEMPLATE",r)&&c&&c.tag==="template"&&!c.props.some(l=>l.type===7&&fc(l.name))&&(c=c.children)):a[1]==="?"?(q(r,21,1),c=kn(r)):q(r,12,1)}if(c||(c=Qy(r,e)),Er(c))for(let l=0;l<c.length;l++)pc(s,c[l]);else pc(s,c)}let o=!1;if(e!==2&&e!==1){const a=r.options.whitespace!=="preserve";for(let c=0;c<s.length;c++){const l=s[c];if(!r.inPre&&l.type===2)if(/[^\t\r\n\f ]/.test(l.content))a&&(l.content=l.content.replace(/[\t\r\n\f ]+/g," "));else{const u=s[c-1],h=s[c+1];!u||!h||a&&(u.type===3||h.type===3||u.type===1&&h.type===1&&/[\r\n]/.test(l.content))?(o=!0,s[c]=null):l.content=" "}else l.type===3&&!r.options.comments&&(o=!0,s[c]=null)}if(r.inPre&&n&&r.options.isPreTag(n.tag)){const c=s[0];c&&c.type===2&&(c.content=c.content.replace(/^\r?\n/,""))}}return o?s.filter(Boolean):s}function pc(r,e){if(e.type===2){const t=rs(r);if(t&&t.type===2&&t.loc.end.offset===e.loc.start.offset){t.content+=e.content,t.loc.end=e.loc.end,t.loc.source+=e.loc.source;return}}r.push(e)}function Uy(r,e){ge(r,9);const t=jo(r,3,e);return r.source.length===0?q(r,6):ge(r,3),t}function Vy(r){const e=Ue(r);let t;const n=/--(\!)?>/.exec(r.source);if(!n)t=r.source.slice(4),ge(r,r.source.length),q(r,7);else{n.index<=3&&q(r,0),n[1]&&q(r,10),t=r.source.slice(4,n.index);const i=r.source.slice(0,n.index);let s=1,o=0;for(;(o=i.indexOf("<!--",s))!==-1;)ge(r,o-s+1),o+4<i.length&&q(r,16),s=o+1;ge(r,n.index+n[0].length-s+1)}return{type:3,content:t,loc:Xe(r,e)}}function kn(r){const e=Ue(r),t=r.source[1]==="?"?1:2;let n;const i=r.source.indexOf(">");return i===-1?(n=r.source.slice(t),ge(r,r.source.length)):(n=r.source.slice(t,i),ge(r,i+1)),{type:3,content:n,loc:Xe(r,e)}}function Ky(r,e){const t=r.inPre,n=r.inVPre,i=rs(e),s=No(r,0,i),o=r.inPre&&!t,a=r.inVPre&&!n;if(s.isSelfClosing||r.options.isVoidTag(s.tag))return o&&(r.inPre=!1),a&&(r.inVPre=!1),s;e.push(s);const c=r.options.getTextMode(s,i),l=jo(r,c,e);e.pop();{const u=s.props.find(h=>h.type===6&&h.name==="inline-template");if(u&&gr("COMPILER_INLINE_TEMPLATE",r,u.loc)){const h=Xe(r,s.loc.end);u.value={type:2,content:h.source,loc:h}}}if(s.children=l,zo(r.source,s.tag))No(r,1,i);else if(q(r,24,0,s.loc.start),r.source.length===0&&s.tag.toLowerCase()==="script"){const u=l[0];u&&_e(u.loc.source,"<!--")&&q(r,8)}return s.loc=Xe(r,s.loc.start),o&&(r.inPre=!1),a&&(r.inVPre=!1),s}const fc=Sr("if,else,else-if,for,slot");function No(r,e,t){const n=Ue(r),i=/^<\/?([a-z][^\t\r\n\f />]*)/i.exec(r.source),s=i[1],o=r.options.getNamespace(s,t);ge(r,i[0].length),Bn(r);const a=Ue(r),c=r.source;r.options.isPreTag(s)&&(r.inPre=!0);let l=mc(r,e);e===0&&!r.inVPre&&l.some(d=>d.type===7&&d.name==="pre")&&(r.inVPre=!0,xt(r,a),r.source=c,l=mc(r,e).filter(d=>d.name!=="v-pre"));let u=!1;if(r.source.length===0?q(r,9):(u=_e(r.source,"/>"),e===1&&u&&q(r,4),ge(r,u?2:1)),e===1)return;let h=0;return r.inVPre||(s==="slot"?h=2:s==="template"?l.some(d=>d.type===7&&fc(d.name))&&(h=3):Wy(s,l,r)&&(h=1)),{type:1,ns:o,tag:s,tagType:h,props:l,isSelfClosing:u,children:[],loc:Xe(r,n),codegenNode:void 0}}function Wy(r,e,t){const n=t.options;if(n.isCustomElement(r))return!1;if(r==="component"||/^[A-Z]/.test(r)||Ro(r)||n.isBuiltInComponent&&n.isBuiltInComponent(r)||n.isNativeTag&&!n.isNativeTag(r))return!0;for(let i=0;i<e.length;i++){const s=e[i];if(s.type===6){if(s.name==="is"&&s.value){if(s.value.content.startsWith("vue:"))return!0;if(gr("COMPILER_IS_ON_ELEMENT",t,s.loc))return!0}}else{if(s.name==="is")return!0;if(s.name==="bind"&&jn(s.arg,"is")&&!0&&gr("COMPILER_IS_ON_ELEMENT",t,s.loc))return!0}}}function mc(r,e){const t=[],n=new Set;for(;r.source.length>0&&!_e(r.source,">")&&!_e(r.source,"/>");){if(_e(r.source,"/")){q(r,22),ge(r,1),Bn(r);continue}e===1&&q(r,3);const i=Yy(r,n);i.type===6&&i.value&&i.name==="class"&&(i.value.content=i.value.content.replace(/\s+/g," ").trim()),e===0&&t.push(i),/^[^\t\r\n\f />]/.test(r.source)&&q(r,15),Bn(r)}return t}function Yy(r,e){const t=Ue(r),i=/^[^\t\r\n\f />][^\t\r\n\f />=]*/.exec(r.source)[0];e.has(i)&&q(r,2),e.add(i),i[0]==="="&&q(r,19);{const a=/["'<]/g;let c;for(;c=a.exec(i);)q(r,17,c.index)}ge(r,i.length);let s;/^[\t\r\n\f ]*=/.test(r.source)&&(Bn(r),ge(r,1),Bn(r),s=qy(r),s||q(r,13));const o=Xe(r,t);if(!r.inVPre&&/^(v-[A-Za-z0-9-]|:|\.|@|#)/.test(i)){const a=/(?:^v-([a-z0-9-]+))?(?:(?::|^\.|^@|^#)(\[[^\]]+\]|[^\.]+))?(.+)?$/i.exec(i);let c=_e(i,"."),l=a[1]||(c||_e(i,":")?"bind":_e(i,"@")?"on":"slot"),u;if(a[2]){const d=l==="slot",p=i.lastIndexOf(a[2]),v=Xe(r,gc(r,t,p),gc(r,t,p+a[2].length+(d&&a[3]||"").length));let E=a[2],x=!0;E.startsWith("[")?(x=!1,E.endsWith("]")?E=E.slice(1,E.length-1):(q(r,27),E=E.slice(1))):d&&(E+=a[3]||""),u={type:4,content:E,isStatic:x,constType:x?3:0,loc:v}}if(s&&s.isQuoted){const d=s.loc;d.start.offset++,d.start.column++,d.end=In(d.start,s.content),d.source=d.source.slice(1,-1)}const h=a[3]?a[3].slice(1).split("."):[];return c&&h.push("prop"),l==="bind"&&u&&h.includes("sync")&&gr("COMPILER_V_BIND_SYNC",r,o,u.loc.source)&&(l="model",h.splice(h.indexOf("sync"),1)),{type:7,name:l,exp:s&&{type:4,content:s.content,isStatic:!1,constType:0,loc:s.loc},arg:u,modifiers:h,loc:o}}return!r.inVPre&&_e(i,"v-")&&q(r,26),{type:6,name:i,value:s&&{type:2,content:s.content,loc:s.loc},loc:o}}function qy(r){const e=Ue(r);let t;const n=r.source[0],i=n==='"'||n==="'";if(i){ge(r,1);const s=r.source.indexOf(n);s===-1?t=$n(r,r.source.length,4):(t=$n(r,s,4),ge(r,1))}else{const s=/^[^\t\r\n\f >]+/.exec(r.source);if(!s)return;const o=/["'<=`]/g;let a;for(;a=o.exec(s[0]);)q(r,18,a.index);t=$n(r,s[0].length,4)}return{content:t,isQuoted:i,loc:Xe(r,e)}}function Xy(r,e){const[t,n]=r.options.delimiters,i=r.source.indexOf(n,t.length);if(i===-1){q(r,25);return}const s=Ue(r);ge(r,t.length);const o=Ue(r),a=Ue(r),c=i-t.length,l=r.source.slice(0,c),u=$n(r,c,e),h=u.trim(),d=u.indexOf(h);d>0&&Dn(o,l,d);const p=c-(u.length-h.length-d);return Dn(a,l,p),ge(r,n.length),{type:5,content:{type:4,isStatic:!1,constType:0,content:h,loc:Xe(r,o,a)},loc:Xe(r,s)}}function Qy(r,e){const t=e===3?["]]>"]:["<",r.options.delimiters[0]];let n=r.source.length;for(let o=0;o<t.length;o++){const a=r.source.indexOf(t[o],1);a!==-1&&n>a&&(n=a)}const i=Ue(r),s=$n(r,n,e);return{type:2,content:s,loc:Xe(r,i)}}function $n(r,e,t){const n=r.source.slice(0,e);return ge(r,e),t===2||t===3||n.indexOf("&")===-1?n:r.options.decodeEntities(n,t===4)}function Ue(r){const{column:e,line:t,offset:n}=r;return{column:e,line:t,offset:n}}function Xe(r,e,t){return t=t||Ue(r),{start:e,end:t,source:r.originalSource.slice(e.offset,t.offset)}}function rs(r){return r[r.length-1]}function _e(r,e){return r.startsWith(e)}function ge(r,e){const{source:t}=r;Dn(r,t,e),r.source=t.slice(e)}function Bn(r){const e=/^[\t\r\n\f ]+/.exec(r.source);e&&ge(r,e[0].length)}function gc(r,e,t){return In(e,r.originalSource.slice(e.offset,t),t)}function q(r,e,t,n=Ue(r)){t&&(n.offset+=t,n.column+=t),r.options.onError(se(e,{start:n,end:n,source:""}))}function Zy(r,e,t){const n=r.source;switch(e){case 0:if(_e(n,"</")){for(let i=t.length-1;i>=0;--i)if(zo(n,t[i].tag))return!0}break;case 1:case 2:{const i=rs(t);if(i&&zo(n,i.tag))return!0;break}case 3:if(_e(n,"]]>"))return!0;break}return!n}function zo(r,e){return _e(r,"</")&&r.slice(2,2+e.length).toLowerCase()===e.toLowerCase()&&/[\t\r\n\f />]/.test(r[2+e.length]||">")}function Jy(r,e){ns(r,e,yc(r,r.children[0]))}function yc(r,e){const{children:t}=r;return t.length===1&&e.type===1&&!Nn(e)}function ns(r,e,t=!1){let n=!0;const{children:i}=r,s=i.length;let o=0;for(let a=0;a<i.length;a++){const c=i[a];if(c.type===1&&c.tagType===0){const l=t?0:Qe(c,e);if(l>0){if(l<3&&(n=!1),l>=2){c.codegenNode.patchFlag=-1+"",c.codegenNode=e.hoist(c.codegenNode),o++;continue}}else{const u=c.codegenNode;if(u.type===13){const h=Ec(u);if((!h||h===512||h===1)&&bc(c,e)>=2){const d=Mc(c);d&&(u.props=e.hoist(d))}u.dynamicProps&&(u.dynamicProps=e.hoist(u.dynamicProps))}}}else if(c.type===12){const l=Qe(c.content,e);l>0&&(l<3&&(n=!1),l>=2&&(c.codegenNode=e.hoist(c.codegenNode),o++))}if(c.type===1){const l=c.tagType===1;l&&e.scopes.vSlot++,ns(c,e),l&&e.scopes.vSlot--}else if(c.type===11)ns(c,e,c.children.length===1);else if(c.type===9)for(let l=0;l<c.branches.length;l++)ns(c.branches[l],e,c.branches[l].children.length===1)}n&&o&&e.transformHoist&&e.transformHoist(i,e,r),o&&o===s&&r.type===1&&r.tagType===0&&r.codegenNode&&r.codegenNode.type===13&&Er(r.codegenNode.children)&&(r.codegenNode.children=e.hoist(Hr(r.codegenNode.children)))}function Qe(r,e){const{constantCache:t}=e;switch(r.type){case 1:if(r.tagType!==0)return 0;const n=t.get(r);if(n!==void 0)return n;const i=r.codegenNode;if(i.type!==13)return 0;if(Ec(i))return t.set(r,0),0;{let a=3;const c=bc(r,e);if(c===0)return t.set(r,0),0;c<a&&(a=c);for(let l=0;l<r.children.length;l++){const u=Qe(r.children[l],e);if(u===0)return t.set(r,0),0;u<a&&(a=u)}if(a>1)for(let l=0;l<r.props.length;l++){const u=r.props[l];if(u.type===7&&u.name==="bind"&&u.exp){const h=Qe(u.exp,e);if(h===0)return t.set(r,0),0;h<a&&(a=h)}}return i.isBlock&&(e.removeHelper(Xt),e.removeHelper(fr(e.inSSR,i.isComponent)),i.isBlock=!1,e.helper(pr(e.inSSR,i.isComponent))),t.set(r,a),a}case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return Qe(r.content,e);case 4:return r.constType;case 8:let o=3;for(let a=0;a<r.children.length;a++){const c=r.children[a];if(ye(c)||Gs(c))continue;const l=Qe(c,e);if(l===0)return 0;l<o&&(o=l)}return o;default:return 0}}const ev=new Set([Ki,Wi,$r,Br]);function vc(r,e){if(r.type===14&&!ye(r.callee)&&ev.has(r.callee)){const t=r.arguments[0];if(t.type===4)return Qe(t,e);if(t.type===14)return vc(t,e)}return 0}function bc(r,e){let t=3;const n=Mc(r);if(n&&n.type===15){const{properties:i}=n;for(let s=0;s<i.length;s++){const{key:o,value:a}=i[s],c=Qe(o,e);if(c===0)return c;c<t&&(t=c);let l;if(a.type===4?l=Qe(a,e):a.type===14?l=vc(a,e):l=0,l===0)return l;l<t&&(t=l)}}return t}function Mc(r){const e=r.codegenNode;if(e.type===13)return e.props}function Ec(r){const e=r.patchFlag;return e?parseInt(e,10):void 0}function Sc(r,{filename:e="",prefixIdentifiers:t=!1,hoistStatic:n=!1,cacheHandlers:i=!1,nodeTransforms:s=[],directiveTransforms:o={},transformHoist:a=null,isBuiltInComponent:c=Fs,isCustomElement:l=Fs,expressionPlugins:u=[],scopeId:h=null,slotted:d=!0,ssr:p=!1,inSSR:v=!1,ssrCssVars:E="",bindingMetadata:x=Gh,inline:m=!1,isTS:C=!1,onError:g=Eo,onWarn:y=Zl,compatConfig:M}){const S=e.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),w={selfName:S&&Ga(Hs(S[1])),prefixIdentifiers:t,hoistStatic:n,cacheHandlers:i,nodeTransforms:s,directiveTransforms:o,transformHoist:a,isBuiltInComponent:c,isCustomElement:l,expressionPlugins:u,scopeId:h,slotted:d,ssr:p,inSSR:v,ssrCssVars:E,bindingMetadata:x,inline:m,isTS:C,onError:g,onWarn:y,compatConfig:M,root:r,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],constantCache:new Map,temps:0,cached:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,currentNode:r,childIndex:0,inVOnce:!1,helper(_){const R=w.helpers.get(_)||0;return w.helpers.set(_,R+1),_},removeHelper(_){const R=w.helpers.get(_);if(R){const I=R-1;I?w.helpers.set(_,I):w.helpers.delete(_)}},helperString(_){return`_${Dt[w.helper(_)]}`},replaceNode(_){w.parent.children[w.childIndex]=w.currentNode=_},removeNode(_){const R=w.parent.children,I=_?R.indexOf(_):w.currentNode?w.childIndex:-1;!_||_===w.currentNode?(w.currentNode=null,w.onNodeRemoved()):w.childIndex>I&&(w.childIndex--,w.onNodeRemoved()),w.parent.children.splice(I,1)},onNodeRemoved:()=>{},addIdentifiers(_){},removeIdentifiers(_){},hoist(_){ye(_)&&(_=G(_)),w.hoists.push(_);const R=G(`_hoisted_${w.hoists.length}`,!1,_.loc,2);return R.hoisted=_,R},cache(_,R=!1){return oc(w.cached++,_,R)}};return w.filters=new Set,w}function Cc(r,e){const t=Sc(r,e);Fn(r,t),e.hoistStatic&&Jy(r,t),e.ssr||tv(r,t),r.helpers=[...t.helpers.keys()],r.components=[...t.components],r.directives=[...t.directives],r.imports=t.imports,r.hoists=t.hoists,r.temps=t.temps,r.cached=t.cached,r.filters=[...t.filters]}function tv(r,e){const{helper:t}=e,{children:n}=r;if(n.length===1){const i=n[0];if(yc(r,i)&&i.codegenNode){const s=i.codegenNode;s.type===13&&ts(s,e),r.codegenNode=s}else r.codegenNode=i}else if(n.length>1){let i=64;Ua[64],r.codegenNode=Fr(e,t(Nr),void 0,r.children,i+"",void 0,void 0,!0,void 0,!1)}}function rv(r,e){let t=0;const n=()=>{t--};for(;t<r.children.length;t++){const i=r.children[t];ye(i)||(e.parent=r,e.childIndex=t,e.onNodeRemoved=n,Fn(i,e))}}function Fn(r,e){e.currentNode=r;const{nodeTransforms:t}=e,n=[];for(let s=0;s<t.length;s++){const o=t[s](r,e);if(o&&(Er(o)?n.push(...o):n.push(o)),e.currentNode)r=e.currentNode;else return}switch(r.type){case 3:e.ssr||e.helper(kr);break;case 5:e.ssr||e.helper(Rn);break;case 9:for(let s=0;s<r.branches.length;s++)Fn(r.branches[s],e);break;case 10:case 11:case 1:case 0:rv(r,e);break}e.currentNode=r;let i=n.length;for(;i--;)n[i]()}function ko(r,e){const t=ye(r)?n=>n===r:n=>r.test(n);return(n,i)=>{if(n.type===1){const{props:s}=n;if(n.tagType===3&&s.some(Lo))return;const o=[];for(let a=0;a<s.length;a++){const c=s[a];if(c.type===7&&t(c.name)){s.splice(a,1),a--;const l=e(n,c,i);l&&o.push(l)}}return o}}}const is="/*#__PURE__*/";function nv(r,{mode:e="function",prefixIdentifiers:t=e==="module",sourceMap:n=!1,filename:i="template.vue.html",scopeId:s=null,optimizeImports:o=!1,runtimeGlobalName:a="Vue",runtimeModuleName:c="vue",ssrRuntimeModuleName:l="vue/server-renderer",ssr:u=!1,isTS:h=!1,inSSR:d=!1}){const p={mode:e,prefixIdentifiers:t,sourceMap:n,filename:i,scopeId:s,optimizeImports:o,runtimeGlobalName:a,runtimeModuleName:c,ssrRuntimeModuleName:l,ssr:u,isTS:h,inSSR:d,source:r.loc.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(E){return`_${Dt[E]}`},push(E,x){p.code+=E},indent(){v(++p.indentLevel)},deindent(E=!1){E?--p.indentLevel:v(--p.indentLevel)},newline(){v(p.indentLevel)}};function v(E){p.push(`
`+"  ".repeat(E))}return p}function wc(r,e={}){const t=nv(r,e);e.onContextCreated&&e.onContextCreated(t);const{mode:n,push:i,prefixIdentifiers:s,indent:o,deindent:a,newline:c,scopeId:l,ssr:u}=t,h=r.helpers.length>0,d=!s&&n!=="module";iv(r,t);const v=u?"ssrRender":"render",x=(u?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(i(`function ${v}(${x}) {`),o(),d&&(i("with (_ctx) {"),o(),h&&(i(`const { ${r.helpers.map(m=>`${Dt[m]}: _${Dt[m]}`).join(", ")} } = _Vue`),i(`
`),c())),r.components.length&&($o(r.components,"component",t),(r.directives.length||r.temps>0)&&c()),r.directives.length&&($o(r.directives,"directive",t),r.temps>0&&c()),r.filters&&r.filters.length&&(c(),$o(r.filters,"filter",t),c()),r.temps>0){i("let ");for(let m=0;m<r.temps;m++)i(`${m>0?", ":""}_temp${m}`)}return(r.components.length||r.directives.length||r.temps)&&(i(`
`),c()),u||i("return "),r.codegenNode?Oe(r.codegenNode,t):i("null"),d&&(a(),i("}")),a(),i("}"),{ast:r,code:t.code,preamble:"",map:t.map?t.map.toJSON():void 0}}function iv(r,e){const{ssr:t,prefixIdentifiers:n,push:i,newline:s,runtimeModuleName:o,runtimeGlobalName:a,ssrRuntimeModuleName:c}=e,l=a,u=h=>`${Dt[h]}: _${Dt[h]}`;if(r.helpers.length>0&&(i(`const _Vue = ${l}
`),r.hoists.length)){const h=[ki,$i,kr,Bi,xo].filter(d=>r.helpers.includes(d)).map(u).join(", ");i(`const { ${h} } = _Vue
`)}sv(r.hoists,e),s(),i("return ")}function $o(r,e,{helper:t,push:n,newline:i,isTS:s}){const o=t(e==="filter"?Gi:e==="component"?Fi:Hi);for(let a=0;a<r.length;a++){let c=r[a];const l=c.endsWith("__self");l&&(c=c.slice(0,-6)),n(`const ${Vr(c,e)} = ${o}(${JSON.stringify(c)}${l?", true":""})${s?"!":""}`),a<r.length-1&&i()}}function sv(r,e){if(!r.length)return;e.pure=!0;const{push:t,newline:n,helper:i,scopeId:s,mode:o}=e;n();for(let a=0;a<r.length;a++){const c=r[a];c&&(t(`const _hoisted_${a+1} = `),Oe(c,e),n())}e.pure=!1}function Bo(r,e){const t=r.length>3||!1;e.push("["),t&&e.indent(),Hn(r,e,t),t&&e.deindent(),e.push("]")}function Hn(r,e,t=!1,n=!0){const{push:i,newline:s}=e;for(let o=0;o<r.length;o++){const a=r[o];ye(a)?i(a):Er(a)?Bo(a,e):Oe(a,e),o<r.length-1&&(t?(n&&i(","),s()):n&&i(", "))}}function Oe(r,e){if(ye(r)){e.push(r);return}if(Gs(r)){e.push(e.helper(r));return}switch(r.type){case 1:case 9:case 11:Oe(r.codegenNode,e);break;case 2:ov(r,e);break;case 4:xc(r,e);break;case 5:av(r,e);break;case 12:Oe(r.codegenNode,e);break;case 8:_c(r,e);break;case 3:cv(r,e);break;case 13:uv(r,e);break;case 14:dv(r,e);break;case 15:pv(r,e);break;case 17:fv(r,e);break;case 18:mv(r,e);break;case 19:gv(r,e);break;case 20:yv(r,e);break;case 21:Hn(r.body,e,!0,!1);break}}function ov(r,e){e.push(JSON.stringify(r.content),r)}function xc(r,e){const{content:t,isStatic:n}=r;e.push(n?JSON.stringify(t):t,r)}function av(r,e){const{push:t,helper:n,pure:i}=e;i&&t(is),t(`${n(Rn)}(`),Oe(r.content,e),t(")")}function _c(r,e){for(let t=0;t<r.children.length;t++){const n=r.children[t];ye(n)?e.push(n):Oe(n,e)}}function lv(r,e){const{push:t}=e;if(r.type===8)t("["),_c(r,e),t("]");else if(r.isStatic){const n=Ln(r.content)?r.content:JSON.stringify(r.content);t(n,r)}else t(`[${r.content}]`,r)}function cv(r,e){const{push:t,helper:n,pure:i}=e;i&&t(is),t(`${n(kr)}(${JSON.stringify(r.content)})`,r)}function uv(r,e){const{push:t,helper:n,pure:i}=e,{tag:s,props:o,children:a,patchFlag:c,dynamicProps:l,directives:u,isBlock:h,disableTracking:d,isComponent:p}=r;u&&t(n(Ui)+"("),h&&t(`(${n(Xt)}(${d?"true":""}), `),i&&t(is);const v=h?fr(e.inSSR,p):pr(e.inSSR,p);t(n(v)+"(",r),Hn(hv([s,o,a,c,l]),e),t(")"),h&&t(")"),u&&(t(", "),Oe(u,e),t(")"))}function hv(r){let e=r.length;for(;e--&&r[e]==null;);return r.slice(0,e+1).map(t=>t||"null")}function dv(r,e){const{push:t,helper:n,pure:i}=e,s=ye(r.callee)?r.callee:n(r.callee);i&&t(is),t(s+"(",r),Hn(r.arguments,e),t(")")}function pv(r,e){const{push:t,indent:n,deindent:i,newline:s}=e,{properties:o}=r;if(!o.length){t("{}",r);return}const a=o.length>1||!1;t(a?"{":"{ "),a&&n();for(let c=0;c<o.length;c++){const{key:l,value:u}=o[c];lv(l,e),t(": "),Oe(u,e),c<o.length-1&&(t(","),s())}a&&i(),t(a?"}":" }")}function fv(r,e){Bo(r.elements,e)}function mv(r,e){const{push:t,indent:n,deindent:i}=e,{params:s,returns:o,body:a,newline:c,isSlot:l}=r;l&&t(`_${Dt[Qi]}(`),t("(",r),Er(s)?Hn(s,e):s&&Oe(s,e),t(") => "),(c||a)&&(t("{"),n()),o?(c&&t("return "),Er(o)?Bo(o,e):Oe(o,e)):a&&Oe(a,e),(c||a)&&(i(),t("}")),l&&(r.isNonScopedSlot&&t(", undefined, true"),t(")"))}function gv(r,e){const{test:t,consequent:n,alternate:i,newline:s}=r,{push:o,indent:a,deindent:c,newline:l}=e;if(t.type===4){const h=!Ln(t.content);h&&o("("),xc(t,e),h&&o(")")}else o("("),Oe(t,e),o(")");s&&a(),e.indentLevel++,s||o(" "),o("? "),Oe(n,e),e.indentLevel--,s&&l(),s||o(" "),o(": ");const u=i.type===19;u||e.indentLevel++,Oe(i,e),u||e.indentLevel--,s&&c(!0)}function yv(r,e){const{push:t,helper:n,indent:i,deindent:s,newline:o}=e;t(`_cache[${r.index}] || (`),r.isVNode&&(i(),t(`${n(Pn)}(-1),`),o()),t(`_cache[${r.index}] = `),Oe(r.value,e),r.isVNode&&(t(","),o(),t(`${n(Pn)}(1),`),o(),t(`_cache[${r.index}]`),s()),t(")")}function vv(r,e,t=!1,n=[],i=Object.create(null)){}function bv(r,e,t){return!1}function Mv(r,e){if(r&&(r.type==="ObjectProperty"||r.type==="ArrayPattern")){let t=e.length;for(;t--;){const n=e[t];if(n.type==="AssignmentExpression")return!0;if(n.type!=="ObjectProperty"&&!n.type.endsWith("Pattern"))break}}return!1}function Ev(r,e){for(const t of r.params)for(const n of Qt(t))e(n)}function Sv(r,e){for(const t of r.body)if(t.type==="VariableDeclaration"){if(t.declare)continue;for(const n of t.declarations)for(const i of Qt(n.id))e(i)}else if(t.type==="FunctionDeclaration"||t.type==="ClassDeclaration"){if(t.declare||!t.id)continue;e(t.id)}}function Qt(r,e=[]){switch(r.type){case"Identifier":e.push(r);break;case"MemberExpression":let t=r;for(;t.type==="MemberExpression";)t=t.object;e.push(t);break;case"ObjectPattern":for(const n of r.properties)n.type==="RestElement"?Qt(n.argument,e):Qt(n.value,e);break;case"ArrayPattern":r.elements.forEach(n=>{n&&Qt(n,e)});break;case"RestElement":Qt(r.argument,e);break;case"AssignmentPattern":Qt(r.left,e);break}return e}const Cv=r=>/Function(?:Expression|Declaration)$|Method$/.test(r.type),Oc=r=>r&&(r.type==="ObjectProperty"||r.type==="ObjectMethod")&&!r.computed,wv=(r,e)=>Oc(e)&&e.key===r;new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments,typeof,void".split(",").join("\\b|\\b")+"\\b");const xv=(r,e)=>{if(r.type===5)r.content=ss(r.content,e);else if(r.type===1)for(let t=0;t<r.props.length;t++){const n=r.props[t];if(n.type===7&&n.name!=="for"){const i=n.exp,s=n.arg;i&&i.type===4&&!(n.name==="on"&&s)&&(n.exp=ss(i,e,n.name==="slot")),s&&s.type===4&&!s.isStatic&&(n.arg=ss(s,e))}}};function ss(r,e,t=!1,n=!1,i=Object.create(e.identifiers)){return r}const _v=ko(/^(if|else|else-if)$/,(r,e,t)=>Tc(r,e,t,(n,i,s)=>{const o=t.parent.children;let a=o.indexOf(n),c=0;for(;a-->=0;){const l=o[a];l&&l.type===9&&(c+=l.branches.length)}return()=>{if(s)n.codegenNode=Ac(i,c,t);else{const l=Ov(n.codegenNode);l.alternate=Ac(i,c+n.branches.length-1,t)}}}));function Tc(r,e,t,n){if(e.name!=="else"&&(!e.exp||!e.exp.content.trim())){const i=e.exp?e.exp.loc:r.loc;t.onError(se(28,e.loc)),e.exp=G("true",!1,i)}if(e.name==="if"){const i=Rc(r,e),s={type:9,loc:r.loc,branches:[i]};if(t.replaceNode(s),n)return n(s,i,!0)}else{const i=t.parent.children;let s=i.indexOf(r);for(;s-->=-1;){const o=i[s];if(o&&o.type===2&&!o.content.trim().length){t.removeNode(o);continue}if(o&&o.type===9){e.name==="else-if"&&o.branches[o.branches.length-1].condition===void 0&&t.onError(se(30,r.loc)),t.removeNode();const a=Rc(r,e);o.branches.push(a);const c=n&&n(o,a,!1);Fn(a,t),c&&c(),t.currentNode=null}else t.onError(se(30,r.loc));break}}}function Rc(r,e){return{type:10,loc:r.loc,condition:e.name==="else"?void 0:e.exp,children:r.tagType===3&&!$e(r,"for")?r.children:[r],userKey:Gr(r,"key")}}function Ac(r,e,t){return r.condition?Ji(r.condition,Pc(r,e,t),ce(t.helper(kr),['""',"true"])):Pc(r,e,t)}function Pc(r,e,t){const{helper:n}=t,i=le("key",G(`${e}`,!1,me,2)),{children:s}=r,o=s[0];if(s.length!==1||o.type!==1)if(s.length===1&&o.type===11){const c=o.codegenNode;return zn(c,i,t),c}else{let c=64;return Ua[64],Fr(t,n(Nr),Ge([i]),s,c+"",void 0,void 0,!0,!1,!1,r.loc)}else{const c=o.codegenNode,l=hc(c);return l.type===13&&ts(l,t),zn(l,i,t),c}}function Ov(r){for(;;)if(r.type===19)if(r.alternate.type===19)r=r.alternate;else return r;else r.type===20&&(r=r.value)}const Tv=ko("for",(r,e,t)=>{const{helper:n,removeHelper:i}=t;return Lc(r,e,t,s=>{const o=ce(n(Vi),[s.source]),a=$e(r,"memo"),c=Gr(r,"key"),l=c&&(c.type===6?G(c.value.content,!0):c.exp),u=c?le("key",l):null,h=s.source.type===4&&s.source.constType>0,d=h?64:c?128:256;return s.codegenNode=Fr(t,n(Nr),void 0,o,d+"",void 0,void 0,!0,!h,!1,r.loc),()=>{let p;const v=Ur(r),{children:E}=s,x=E.length!==1||E[0].type!==1,m=Nn(r)?r:v&&r.children.length===1&&Nn(r.children[0])?r.children[0]:null;if(m?(p=m.codegenNode,v&&u&&zn(p,u,t)):x?p=Fr(t,n(Nr),u?Ge([u]):void 0,r.children,64+"",void 0,void 0,!0,void 0,!1):(p=E[0].codegenNode,v&&u&&zn(p,u,t),p.isBlock!==!h&&(p.isBlock?(i(Xt),i(fr(t.inSSR,p.isComponent))):i(pr(t.inSSR,p.isComponent))),p.isBlock=!h,p.isBlock?(n(Xt),n(fr(t.inSSR,p.isComponent))):n(pr(t.inSSR,p.isComponent))),a){const C=hr(as(s.parseResult,[G("_cached")]));C.body=ac([lt(["const _memo = (",a.exp,")"]),lt(["if (_cached",...l?[" && _cached.key === ",l]:[],` && ${t.helperString(To)}(_cached, _memo)) return _cached`]),lt(["const _item = ",p]),G("_item.memo = _memo"),G("return _item")]),o.arguments.push(C,G("_cache"),G(String(t.cached++)))}else o.arguments.push(hr(as(s.parseResult),p,!0))}})});function Lc(r,e,t,n){if(!e.exp){t.onError(se(31,e.loc));return}const i=Fo(e.exp);if(!i){t.onError(se(32,e.loc));return}const{addIdentifiers:s,removeIdentifiers:o,scopes:a}=t,{source:c,value:l,key:u,index:h}=i,d={type:11,loc:e.loc,source:c,valueAlias:l,keyAlias:u,objectIndexAlias:h,parseResult:i,children:Ur(r)?r.children:[r]};t.replaceNode(d),a.vFor++;const p=n&&n(d);return()=>{a.vFor--,p&&p()}}const Rv=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,Ic=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,Av=/^\(|\)$/g;function Fo(r,e){const t=r.loc,n=r.content,i=n.match(Rv);if(!i)return;const[,s,o]=i,a={source:os(t,o.trim(),n.indexOf(o,s.length)),value:void 0,key:void 0,index:void 0};let c=s.trim().replace(Av,"").trim();const l=s.indexOf(c),u=c.match(Ic);if(u){c=c.replace(Ic,"").trim();const h=u[1].trim();let d;if(h&&(d=n.indexOf(h,l+c.length),a.key=os(t,h,d)),u[2]){const p=u[2].trim();p&&(a.index=os(t,p,n.indexOf(p,a.key?d+h.length:l+c.length)))}}return c&&(a.value=os(t,c,l)),a}function os(r,e,t){return G(e,!1,Po(r,t,e.length))}function as({value:r,key:e,index:t},n=[]){return Pv([r,e,t,...n])}function Pv(r){let e=r.length;for(;e--&&!r[e];);return r.slice(0,e+1).map((t,n)=>t||G("_".repeat(n+1),!1))}const Dc=G("undefined",!1),jc=(r,e)=>{if(r.type===1&&(r.tagType===1||r.tagType===3)){const t=$e(r,"slot");if(t)return t.exp,e.scopes.vSlot++,()=>{e.scopes.vSlot--}}},Lv=(r,e)=>{let t;if(Ur(r)&&r.props.some(Lo)&&(t=$e(r,"for"))){const n=t.parseResult=Fo(t.exp);if(n){const{value:i,key:s,index:o}=n,{addIdentifiers:a,removeIdentifiers:c}=e;return i&&a(i),s&&a(s),o&&a(o),()=>{i&&c(i),s&&c(s),o&&c(o)}}}},Iv=(r,e,t)=>hr(r,e,!1,!0,e.length?e[0].loc:t);function Nc(r,e,t=Iv){e.helper(Qi);const{children:n,loc:i}=r,s=[],o=[];let a=e.scopes.vSlot>0||e.scopes.vFor>0;const c=$e(r,"slot",!0);if(c){const{arg:E,exp:x}=c;E&&!De(E)&&(a=!0),s.push(le(E||G("default",!0),t(x,n,i)))}let l=!1,u=!1;const h=[],d=new Set;for(let E=0;E<n.length;E++){const x=n[E];let m;if(!Ur(x)||!(m=$e(x,"slot",!0))){x.type!==3&&h.push(x);continue}if(c){e.onError(se(37,m.loc));break}l=!0;const{children:C,loc:g}=x,{arg:y=G("default",!0),exp:M,loc:S}=m;let w;De(y)?w=y?y.content:"default":a=!0;const _=t(M,C,g);let R,I,k;if(R=$e(x,"if"))a=!0,o.push(Ji(R.exp,ls(y,_),Dc));else if(I=$e(x,/^else(-if)?$/,!0)){let B=E,Y;for(;B--&&(Y=n[B],Y.type===3););if(Y&&Ur(Y)&&$e(Y,"if")){n.splice(E,1),E--;let X=o[o.length-1];for(;X.alternate.type===19;)X=X.alternate;X.alternate=I.exp?Ji(I.exp,ls(y,_),Dc):ls(y,_)}else e.onError(se(30,I.loc))}else if(k=$e(x,"for")){a=!0;const B=k.parseResult||Fo(k.exp);B?o.push(ce(e.helper(Vi),[B.source,hr(as(B),ls(y,_),!0)])):e.onError(se(32,k.loc))}else{if(w){if(d.has(w)){e.onError(se(38,S));continue}d.add(w),w==="default"&&(u=!0)}s.push(le(y,_))}}if(!c){const E=(x,m)=>{const C=t(x,m,i);return e.compatConfig&&(C.isNonScopedSlot=!0),le("default",C)};l?h.length&&h.some(x=>zc(x))&&(u?e.onError(se(39,h[0].loc)):s.push(E(void 0,h))):s.push(E(void 0,n))}const p=a?2:cs(r.children)?3:1;let v=Ge(s.concat(le("_",G(p+"",!1))),i);return o.length&&(v=ce(e.helper(Oo),[v,Hr(o)])),{slots:v,hasDynamicSlots:a}}function ls(r,e){return Ge([le("name",r),le("fn",e)])}function cs(r){for(let e=0;e<r.length;e++){const t=r[e];switch(t.type){case 1:if(t.tagType===2||cs(t.children))return!0;break;case 9:if(cs(t.branches))return!0;break;case 10:case 11:if(cs(t.children))return!0;break}}return!1}function zc(r){return r.type!==2&&r.type!==12?!0:r.type===2?!!r.content.trim():zc(r.content)}const kc=new WeakMap,$c=(r,e)=>function(){if(r=e.currentNode,!(r.type===1&&(r.tagType===0||r.tagType===1)))return;const{tag:n,props:i}=r,s=r.tagType===1;let o=s?Bc(r,e):`"${n}"`;const a=Ha(o)&&o.callee===Tn;let c,l,u,h=0,d,p,v,E=a||o===zr||o===zi||!s&&(n==="svg"||n==="foreignObject"||Gr(r,"key",!0));if(i.length>0){const x=Ho(r,e);c=x.props,h=x.patchFlag,p=x.dynamicPropNames;const m=x.directives;v=m&&m.length?Hr(m.map(C=>jv(C,e))):void 0}if(r.children.length>0)if(o===On&&(E=!0,h|=1024),s&&o!==zr&&o!==On){const{slots:m,hasDynamicSlots:C}=Nc(r,e);l=m,C&&(h|=1024)}else if(r.children.length===1&&o!==zr){const m=r.children[0],C=m.type,g=C===5||C===8;g&&Qe(m,e)===0&&(h|=1),g||C===2?l=m:l=r.children}else l=r.children;h!==0&&(u=String(h),p&&p.length&&(d=Nv(p))),r.codegenNode=Fr(e,o,c,l,u,d,v,!!E,!1,s,r.loc)};function Bc(r,e,t=!1){let{tag:n}=r;const i=Uo(n),s=Gr(r,"is");if(s)if(i||mr("COMPILER_IS_ON_ELEMENT",e)){const c=s.type===6?s.value&&G(s.value.content,!0):s.exp;if(c)return ce(e.helper(Tn),[c])}else s.type===6&&s.value.content.startsWith("vue:")&&(n=s.value.content.slice(4));const o=!i&&$e(r,"is");if(o&&o.exp)return ce(e.helper(Tn),[o.exp]);const a=Ro(n)||e.isBuiltInComponent(n);return a?(t||e.helper(a),a):(e.helper(Fi),e.components.add(n),Vr(n,"component"))}function Ho(r,e,t=r.props,n=!1){const{tag:i,loc:s}=r,o=r.tagType===1;let a=[];const c=[],l=[];let u=0,h=!1,d=!1,p=!1,v=!1,E=!1,x=!1;const m=[],C=({key:y,value:M})=>{if(De(y)){const S=y.content,w=Va(S);if(!o&&w&&S.toLowerCase()!=="onclick"&&S!=="onUpdate:modelValue"&&!Ka(S)&&(v=!0),w&&Ka(S)&&(x=!0),M.type===20||(M.type===4||M.type===8)&&Qe(M,e)>0)return;S==="ref"?h=!0:S==="class"?d=!0:S==="style"?p=!0:S!=="key"&&!m.includes(S)&&m.push(S),o&&(S==="class"||S==="style")&&!m.includes(S)&&m.push(S)}else E=!0};for(let y=0;y<t.length;y++){const M=t[y];if(M.type===6){const{loc:S,name:w,value:_}=M;let R=G(_?_.content:"",!0,_?_.loc:S);if(w==="ref"&&(h=!0),w==="is"&&(Uo(i)||_&&_.content.startsWith("vue:")||mr("COMPILER_IS_ON_ELEMENT",e)))continue;a.push(le(G(w,!0,Po(S,0,w.length)),R))}else{const{name:S,arg:w,exp:_,loc:R}=M,I=S==="bind",k=S==="on";if(S==="slot"){o||e.onError(se(40,R));continue}if(S==="once"||S==="memo"||S==="is"||I&&jn(w,"is")&&(Uo(i)||mr("COMPILER_IS_ON_ELEMENT",e))||k&&n)continue;if(!w&&(I||k)){if(E=!0,_)if(a.length&&(c.push(Ge(Go(a),s)),a=[]),I){if(mr("COMPILER_V_BIND_OBJECT_ORDER",e)){c.unshift(_);continue}c.push(_)}else c.push({type:14,loc:R,callee:e.helper(Yi),arguments:[_]});else e.onError(se(I?34:35,R));continue}const B=e.directiveTransforms[S];if(B){const{props:Y,needRuntime:X}=B(M,r,e);!n&&Y.forEach(C),a.push(...Y),X&&(l.push(M),Gs(X)&&kc.set(M,X))}else l.push(M)}M.type===6&&M.name==="ref"&&e.scopes.vFor>0&&gr("COMPILER_V_FOR_REF",e,M.loc)&&a.push(le(G("refInFor",!0),G("true",!1)))}let g;if(c.length?(a.length&&c.push(Ge(Go(a),s)),c.length>1?g=ce(e.helper(An),c,s):g=c[0]):a.length&&(g=Ge(Go(a),s)),E?u|=16:(d&&!o&&(u|=2),p&&!o&&(u|=4),m.length&&(u|=8),v&&(u|=32)),(u===0||u===32)&&(h||x||l.length>0)&&(u|=512),!e.inSSR&&g)switch(g.type){case 15:let y=-1,M=-1,S=!1;for(let R=0;R<g.properties.length;R++){const I=g.properties[R].key;De(I)?I.content==="class"?y=R:I.content==="style"&&(M=R):I.isHandlerKey||(S=!0)}const w=g.properties[y],_=g.properties[M];S?g=ce(e.helper($r),[g]):(w&&!De(w.value)&&(w.value=ce(e.helper(Ki),[w.value])),_&&!De(_.value)&&(p||_.value.type===17)&&(_.value=ce(e.helper(Wi),[_.value])));break;case 14:break;default:g=ce(e.helper($r),[ce(e.helper(Br),[g])]);break}return{props:g,directives:l,patchFlag:u,dynamicPropNames:m}}function Go(r){const e=new Map,t=[];for(let n=0;n<r.length;n++){const i=r[n];if(i.key.type===8||!i.key.isStatic){t.push(i);continue}const s=i.key.content,o=e.get(s);o?(s==="style"||s==="class"||Va(s))&&Dv(o,i):(e.set(s,i),t.push(i))}return t}function Dv(r,e){r.value.type===17?r.value.elements.push(e.value):r.value=Hr([r.value,e.value],r.loc)}function jv(r,e){const t=[],n=kc.get(r);n?t.push(e.helperString(n)):(e.helper(Hi),e.directives.add(r.name),t.push(Vr(r.name,"directive")));const{loc:i}=r;if(r.exp&&t.push(r.exp),r.arg&&(r.exp||t.push("void 0"),t.push(r.arg)),Object.keys(r.modifiers).length){r.arg||(r.exp||t.push("void 0"),t.push("void 0"));const s=G("true",!1,i);t.push(Ge(r.modifiers.map(o=>le(o,s)),i))}return Hr(t,r.loc)}function Nv(r){let e="[";for(let t=0,n=r.length;t<n;t++)e+=JSON.stringify(r[t]),t<n-1&&(e+=", ");return e+"]"}function Uo(r){return r[0].toLowerCase()+r.slice(1)==="component"}const zv=r=>{const e=Object.create(null);return t=>e[t]||(e[t]=r(t))},kv=/-(\w)/g,Fc=zv(r=>r.replace(kv,(e,t)=>t?t.toUpperCase():"")),$v=(r,e)=>{if(Nn(r)){const{children:t,loc:n}=r,{slotName:i,slotProps:s}=Hc(r,e),o=[e.prefixIdentifiers?"_ctx.$slots":"$slots",i,"{}","undefined","true"];let a=2;s&&(o[2]=s,a=3),t.length&&(o[3]=hr([],t,!1,!1,n),a=4),e.scopeId&&!e.slotted&&(a=5),o.splice(a),r.codegenNode=ce(e.helper(_o),o,n)}};function Hc(r,e){let t='"default"',n;const i=[];for(let s=0;s<r.props.length;s++){const o=r.props[s];o.type===6?o.value&&(o.name==="name"?t=JSON.stringify(o.value.content):(o.name=Fc(o.name),i.push(o))):o.name==="bind"&&jn(o.arg,"name")?o.exp&&(t=o.exp):(o.name==="bind"&&o.arg&&De(o.arg)&&(o.arg.content=Fc(o.arg.content)),i.push(o))}if(i.length>0){const{props:s,directives:o}=Ho(r,e,i);n=s,o.length&&e.onError(se(36,o[0].loc))}return{slotName:t,slotProps:n}}const Bv=/^\s*([\w$_]+|(async\s*)?\([^)]*?\))\s*=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,Vo=(r,e,t,n)=>{const{loc:i,modifiers:s,arg:o}=r;!r.exp&&!s.length&&t.onError(se(35,i));let a;if(o.type===4)if(o.isStatic){const h=o.content;a=G(Uh(Hs(h)),!0,o.loc)}else a=lt([`${t.helperString(Xi)}(`,o,")"]);else a=o,a.children.unshift(`${t.helperString(Xi)}(`),a.children.push(")");let c=r.exp;c&&!c.content.trim()&&(c=void 0);let l=t.cacheHandlers&&!c&&!t.inVOnce;if(c){const h=Ao(c.content),d=!(h||Bv.test(c.content)),p=c.content.includes(";");(d||l&&h)&&(c=lt([`${d?"$event":"(...args)"} => ${p?"{":"("}`,c,p?"}":")"]))}let u={props:[le(a,c||G("() => {}",!1,i))]};return n&&(u=n(u)),l&&(u.props[0].value=t.cache(u.props[0].value)),u.props.forEach(h=>h.key.isHandlerKey=!0),u},Gc=(r,e,t)=>{const{exp:n,modifiers:i,loc:s}=r,o=r.arg;return o.type!==4?(o.children.unshift("("),o.children.push(') || ""')):o.isStatic||(o.content=`${o.content} || ""`),i.includes("camel")&&(o.type===4?o.isStatic?o.content=Hs(o.content):o.content=`${t.helperString(qi)}(${o.content})`:(o.children.unshift(`${t.helperString(qi)}(`),o.children.push(")"))),t.inSSR||(i.includes("prop")&&Uc(o,"."),i.includes("attr")&&Uc(o,"^")),!n||n.type===4&&!n.content.trim()?(t.onError(se(34,s)),{props:[le(o,G("",!0,s))]}):{props:[le(o,n)]}},Uc=(r,e)=>{r.type===4?r.isStatic?r.content=e+r.content:r.content=`\`${e}\${${r.content}}\``:(r.children.unshift(`'${e}' + (`),r.children.push(")"))},Fv=(r,e)=>{if(r.type===0||r.type===1||r.type===11||r.type===10)return()=>{const t=r.children;let n,i=!1;for(let s=0;s<t.length;s++){const o=t[s];if(es(o)){i=!0;for(let a=s+1;a<t.length;a++){const c=t[a];if(es(c))n||(n=t[s]={type:8,loc:o.loc,children:[o]}),n.children.push(" + ",c),t.splice(a,1),a--;else{n=void 0;break}}}}if(!(!i||t.length===1&&(r.type===0||r.type===1&&r.tagType===0&&!r.props.find(s=>s.type===7&&!e.directiveTransforms[s.name])&&r.tag!=="template")))for(let s=0;s<t.length;s++){const o=t[s];if(es(o)||o.type===8){const a=[];(o.type!==2||o.content!==" ")&&a.push(o),!e.ssr&&Qe(o,e)===0&&a.push(1+""),t[s]={type:12,content:o,loc:o.loc,codegenNode:ce(e.helper(Bi),a)}}}}},Vc=new WeakSet,Hv=(r,e)=>{if(r.type===1&&$e(r,"once",!0))return Vc.has(r)||e.inVOnce?void 0:(Vc.add(r),e.inVOnce=!0,e.helper(Pn),()=>{e.inVOnce=!1;const t=e.currentNode;t.codegenNode&&(t.codegenNode=e.cache(t.codegenNode,!0))})},Ko=(r,e,t)=>{const{exp:n,arg:i}=r;if(!n)return t.onError(se(41,r.loc)),Wo();const s=n.loc.source,o=n.type===4?n.content:s;t.bindingMetadata[s];const a=!1;if(!o.trim()||!Ao(o)&&!a)return t.onError(se(42,n.loc)),Wo();const c=i||G("modelValue",!0),l=i?De(i)?`onUpdate:${i.content}`:lt(['"onUpdate:" + ',i]):"onUpdate:modelValue";let u;const h=t.isTS?"($event: any)":"$event";u=lt([`${h} => ((`,n,") = $event)"]);const d=[le(c,r.exp),le(l,u)];if(r.modifiers.length&&e.tagType===1){const p=r.modifiers.map(E=>(Ln(E)?E:JSON.stringify(E))+": true").join(", "),v=i?De(i)?`${i.content}Modifiers`:lt([i,' + "Modifiers"']):"modelModifiers";d.push(le(v,G(`{ ${p} }`,!1,r.loc,2)))}return Wo(d)};function Wo(r=[]){return{props:r}}const Gv=/[\w).+\-_$\]]/,Uv=(r,e)=>{!mr("COMPILER_FILTER",e)||(r.type===5&&us(r.content,e),r.type===1&&r.props.forEach(t=>{t.type===7&&t.name!=="for"&&t.exp&&us(t.exp,e)}))};function us(r,e){if(r.type===4)Kc(r,e);else for(let t=0;t<r.children.length;t++){const n=r.children[t];typeof n=="object"&&(n.type===4?Kc(n,e):n.type===8?us(r,e):n.type===5&&us(n.content,e))}}function Kc(r,e){const t=r.content;let n=!1,i=!1,s=!1,o=!1,a=0,c=0,l=0,u=0,h,d,p,v,E=[];for(p=0;p<t.length;p++)if(d=h,h=t.charCodeAt(p),n)h===39&&d!==92&&(n=!1);else if(i)h===34&&d!==92&&(i=!1);else if(s)h===96&&d!==92&&(s=!1);else if(o)h===47&&d!==92&&(o=!1);else if(h===124&&t.charCodeAt(p+1)!==124&&t.charCodeAt(p-1)!==124&&!a&&!c&&!l)v===void 0?(u=p+1,v=t.slice(0,p).trim()):x();else{switch(h){case 34:i=!0;break;case 39:n=!0;break;case 96:s=!0;break;case 40:l++;break;case 41:l--;break;case 91:c++;break;case 93:c--;break;case 123:a++;break;case 125:a--;break}if(h===47){let m=p-1,C;for(;m>=0&&(C=t.charAt(m),C===" ");m--);(!C||!Gv.test(C))&&(o=!0)}}v===void 0?v=t.slice(0,p).trim():u!==0&&x();function x(){E.push(t.slice(u,p).trim()),u=p+1}if(E.length){for(p=0;p<E.length;p++)v=Vv(v,E[p],e);r.content=v}}function Vv(r,e,t){t.helper(Gi);const n=e.indexOf("(");if(n<0)return t.filters.add(e),`${Vr(e,"filter")}(${r})`;{const i=e.slice(0,n),s=e.slice(n+1);return t.filters.add(i),`${Vr(i,"filter")}(${r}${s!==")"?","+s:s}`}}const Wc=new WeakSet,Kv=(r,e)=>{if(r.type===1){const t=$e(r,"memo");return!t||Wc.has(r)?void 0:(Wc.add(r),()=>{const n=r.codegenNode||e.currentNode.codegenNode;n&&n.type===13&&(r.tagType!==1&&ts(n,e),r.codegenNode=ce(e.helper(Zi),[t.exp,hr(void 0,n),"_cache",String(e.cached++)]))})}};function Yc(r){return[[Hv,_v,Kv,Tv,Uv,$v,$c,jc,Fv],{on:Vo,bind:Gc,model:Ko}]}function qc(r,e={}){const t=e.onError||Eo,n=e.mode==="module";e.prefixIdentifiers===!0?t(se(46)):n&&t(se(47));const i=!1;e.cacheHandlers&&t(se(48)),e.scopeId&&!n&&t(se(49));const s=ye(r)?Do(r,e):r,[o,a]=Yc();return Cc(s,xt({},e,{prefixIdentifiers:i,nodeTransforms:[...o,...e.nodeTransforms||[]],directiveTransforms:xt({},a,e.directiveTransforms||{})})),wc(s,xt({},e,{prefixIdentifiers:i}))}const Xc=()=>({props:[]}),Yo=Symbol(""),qo=Symbol(""),Xo=Symbol(""),Qo=Symbol(""),hs=Symbol(""),Zo=Symbol(""),Jo=Symbol(""),ea=Symbol(""),ta=Symbol(""),ra=Symbol("");ic({[Yo]:"vModelRadio",[qo]:"vModelCheckbox",[Xo]:"vModelText",[Qo]:"vModelSelect",[hs]:"vModelDynamic",[Zo]:"withModifiers",[Jo]:"withKeys",[ea]:"vShow",[ta]:"Transition",[ra]:"TransitionGroup"});let Kr;function Wv(r,e=!1){return Kr||(Kr=document.createElement("div")),e?(Kr.innerHTML=`<div foo="${r.replace(/"/g,"&quot;")}">`,Kr.children[0].getAttribute("foo")):(Kr.innerHTML=r,Kr.textContent)}const Yv=Sr("style,iframe,script,noscript",!0),na={isVoidTag:Vh,isNativeTag:r=>Kh(r)||Wh(r),isPreTag:r=>r==="pre",decodeEntities:Wv,isBuiltInComponent:r=>{if(dr(r,"Transition"))return ta;if(dr(r,"TransitionGroup"))return ra},getNamespace(r,e){let t=e?e.ns:0;if(e&&t===2)if(e.tag==="annotation-xml"){if(r==="svg")return 1;e.props.some(n=>n.type===6&&n.name==="encoding"&&n.value!=null&&(n.value.content==="text/html"||n.value.content==="application/xhtml+xml"))&&(t=0)}else/^m(?:[ions]|text)$/.test(e.tag)&&r!=="mglyph"&&r!=="malignmark"&&(t=0);else e&&t===1&&(e.tag==="foreignObject"||e.tag==="desc"||e.tag==="title")&&(t=0);if(t===0){if(r==="svg")return 1;if(r==="math")return 2}return t},getTextMode({tag:r,ns:e}){if(e===0){if(r==="textarea"||r==="title")return 1;if(Yv(r))return 2}return 0}},Qc=r=>{r.type===1&&r.props.forEach((e,t)=>{e.type===6&&e.name==="style"&&e.value&&(r.props[t]={type:7,name:"bind",arg:G("style",!0,e.loc),exp:qv(e.value.content,e.loc),modifiers:[],loc:e.loc})})},qv=(r,e)=>{const t=Yh(r);return G(JSON.stringify(t),!1,e,3)};function Mt(r,e){return se(r,e)}const Xv=(r,e,t)=>{const{exp:n,loc:i}=r;return n||t.onError(Mt(50,i)),e.children.length&&(t.onError(Mt(51,i)),e.children.length=0),{props:[le(G("innerHTML",!0,i),n||G("",!0))]}},Qv=(r,e,t)=>{const{exp:n,loc:i}=r;return n||t.onError(Mt(52,i)),e.children.length&&(t.onError(Mt(53,i)),e.children.length=0),{props:[le(G("textContent",!0),n?ce(t.helperString(Rn),[n],i):G("",!0))]}},Zv=(r,e,t)=>{const n=Ko(r,e,t);if(!n.props.length||e.tagType===1)return n;r.arg&&t.onError(Mt(55,r.arg.loc));const{tag:i}=e,s=t.isCustomElement(i);if(i==="input"||i==="textarea"||i==="select"||s){let o=Xo,a=!1;if(i==="input"||s){const c=Gr(e,"type");if(c){if(c.type===7)o=hs;else if(c.value)switch(c.value.content){case"radio":o=Yo;break;case"checkbox":o=qo;break;case"file":a=!0,t.onError(Mt(56,r.loc));break}}else cc(e)&&(o=hs)}else i==="select"&&(o=Qo);a||(n.needRuntime=t.helper(o))}else t.onError(Mt(54,r.loc));return n.props=n.props.filter(o=>!(o.key.type===4&&o.key.content==="modelValue")),n},Jv=Sr("passive,once,capture"),e0=Sr("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),t0=Sr("left,right"),Zc=Sr("onkeyup,onkeydown,onkeypress",!0),r0=(r,e,t,n)=>{const i=[],s=[],o=[];for(let a=0;a<e.length;a++){const c=e[a];c==="native"&&gr("COMPILER_V_ON_NATIVE",t)||Jv(c)?o.push(c):t0(c)?De(r)?Zc(r.content)?i.push(c):s.push(c):(i.push(c),s.push(c)):e0(c)?s.push(c):i.push(c)}return{keyModifiers:i,nonKeyModifiers:s,eventOptionModifiers:o}},Jc=(r,e)=>De(r)&&r.content.toLowerCase()==="onclick"?G(e,!0):r.type!==4?lt(["(",r,`) === "onClick" ? "${e}" : (`,r,")"]):r,n0=(r,e,t)=>Vo(r,e,t,n=>{const{modifiers:i}=r;if(!i.length)return n;let{key:s,value:o}=n.props[0];const{keyModifiers:a,nonKeyModifiers:c,eventOptionModifiers:l}=r0(s,i,t,r.loc);if(c.includes("right")&&(s=Jc(s,"onContextmenu")),c.includes("middle")&&(s=Jc(s,"onMouseup")),c.length&&(o=ce(t.helper(Zo),[o,JSON.stringify(c)])),a.length&&(!De(s)||Zc(s.content))&&(o=ce(t.helper(Jo),[o,JSON.stringify(a)])),l.length){const u=l.map(Ga).join("");s=De(s)?G(`${s.content}${u}`,!0):lt(["(",s,`) + "${u}"`])}return{props:[le(s,o)]}}),i0=(r,e,t)=>{const{exp:n,loc:i}=r;return n||t.onError(Mt(58,i)),{props:[],needRuntime:t.helper(ea)}},s0=(r,e)=>{r.type===1&&r.tagType===0&&(r.tag==="script"||r.tag==="style")&&(e.onError(Mt(60,r.loc)),e.removeNode())},eu=[Qc],tu={cloak:Xc,html:Xv,text:Qv,model:Zv,on:n0,show:i0};function o0(r,e={}){return qc(r,xt({},na,e,{nodeTransforms:[s0,...eu,...e.nodeTransforms||[]],directiveTransforms:xt({},tu,e.directiveTransforms||{}),transformHoist:null}))}function a0(r,e={}){return Do(r,xt({},na,e))}var l0=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",DOMDirectiveTransforms:tu,DOMNodeTransforms:eu,TRANSITION:ta,TRANSITION_GROUP:ra,V_MODEL_CHECKBOX:qo,V_MODEL_DYNAMIC:hs,V_MODEL_RADIO:Yo,V_MODEL_SELECT:Qo,V_MODEL_TEXT:Xo,V_ON_WITH_KEYS:Jo,V_ON_WITH_MODIFIERS:Zo,V_SHOW:ea,compile:o0,createDOMCompilerError:Mt,parse:a0,parserOptions:na,transformStyle:Qc,generateCodeFrame:qh,BASE_TRANSITION:So,CAMELIZE:qi,CAPITALIZE:Jl,CREATE_BLOCK:Co,CREATE_COMMENT:kr,CREATE_ELEMENT_BLOCK:wo,CREATE_ELEMENT_VNODE:$i,CREATE_SLOTS:Oo,CREATE_STATIC:xo,CREATE_TEXT:Bi,CREATE_VNODE:ki,FRAGMENT:Nr,GUARD_REACTIVE_PROPS:Br,IS_MEMO_SAME:To,IS_REF:nc,KEEP_ALIVE:On,MERGE_PROPS:An,NORMALIZE_CLASS:Ki,NORMALIZE_PROPS:$r,NORMALIZE_STYLE:Wi,OPEN_BLOCK:Xt,POP_SCOPE_ID:tc,PUSH_SCOPE_ID:ec,RENDER_LIST:Vi,RENDER_SLOT:_o,RESOLVE_COMPONENT:Fi,RESOLVE_DIRECTIVE:Hi,RESOLVE_DYNAMIC_COMPONENT:Tn,RESOLVE_FILTER:Gi,SET_BLOCK_TRACKING:Pn,SUSPENSE:zi,TELEPORT:zr,TO_DISPLAY_STRING:Rn,TO_HANDLERS:Yi,TO_HANDLER_KEY:Xi,UNREF:rc,WITH_CTX:Qi,WITH_DIRECTIVES:Ui,WITH_MEMO:Zi,advancePositionWithClone:In,advancePositionWithMutation:Dn,assert:zy,baseCompile:qc,baseParse:Do,buildProps:Ho,buildSlots:Nc,checkCompatEnabled:gr,createArrayExpression:Hr,createAssignmentExpression:Ry,createBlockStatement:ac,createCacheExpression:oc,createCallExpression:ce,createCompilerError:se,createCompoundExpression:lt,createConditionalExpression:Ji,createForLoopParams:as,createFunctionExpression:hr,createIfStatement:Ty,createInterpolation:_y,createObjectExpression:Ge,createObjectProperty:le,createReturnStatement:Py,createRoot:sc,createSequenceExpression:Ay,createSimpleExpression:G,createStructuralDirectiveTransform:ko,createTemplateLiteral:Oy,createTransformContext:Sc,createVNodeCall:Fr,extractIdentifiers:Qt,findDir:$e,findProp:Gr,generate:wc,getBaseTransformPreset:Yc,getInnerRange:Po,getMemoedVNodeCall:hc,getVNodeBlockHelper:fr,getVNodeHelper:pr,hasDynamicKeyVBind:cc,hasScopeRef:ct,helperNameMap:Dt,injectProp:zn,isBindKey:jn,isBuiltInType:dr,isCoreComponent:Ro,isFunctionType:Cv,isInDestructureAssignment:Mv,isMemberExpression:Ao,isMemberExpressionBrowser:lc,isMemberExpressionNode:Ny,isReferencedIdentifier:bv,isSimpleIdentifier:Ln,isSlotOutlet:Nn,isStaticExp:De,isStaticProperty:Oc,isStaticPropertyKey:wv,isTemplateNode:Ur,isText:es,isVSlot:Lo,locStub:me,makeBlock:ts,noopDirectiveTransform:Xc,processExpression:ss,processFor:Lc,processIf:Tc,processSlotOutlet:Hc,registerRuntimeHelpers:ic,resolveComponentType:Bc,toValidAssetId:Vr,trackSlotScopes:jc,trackVForSlotScopes:Lv,transform:Cc,transformBind:Gc,transformElement:$c,transformExpression:xv,transformModel:Ko,transformOn:Vo,traverseNode:Fn,walkBlockDeclarations:Sv,walkFunctionParams:Ev,walkIdentifiers:vv,warnDeprecation:By}),c0=Cr(l0),u0=Cr(Xh),h0=Cr(Qh);(function(r){Object.defineProperty(r,"__esModule",{value:!0});var e=c0,t=u0,n=h0;function i(c){if(c&&c.__esModule)return c;var l=Object.create(null);return c&&Object.keys(c).forEach(function(u){l[u]=c[u]}),l.default=c,Object.freeze(l)}var s=i(t);const o=Object.create(null);function a(c,l){if(!n.isString(c))if(c.nodeType)c=c.innerHTML;else return n.NOOP;const u=c,h=o[u];if(h)return h;if(c[0]==="#"){const v=document.querySelector(c);c=v?v.innerHTML:""}const{code:d}=e.compile(c,n.extend({hoistStatic:!0,onError:void 0,onWarn:n.NOOP},l)),p=new Function("Vue",d)(s);return p._rc=!0,o[u]=p}t.registerRuntimeCompiler(a),Object.keys(t).forEach(function(c){c!=="default"&&(r[c]=t[c])}),r.compile=a})(Ql);Q.exports=Ql;var Ze={exports:{}};(function(r){function e(){return r.exports=e=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},r.exports.__esModule=!0,r.exports.default=r.exports,e.apply(this,arguments)}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports})(Ze);var yr={exports:{}};(function(r){function e(t,n,i){return n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports})(yr);var Gn={},ds={},ps={exports:{}};(function(r){var e=yr.exports;function t(i,s){var o=Object.keys(i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);s&&(a=a.filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable})),o.push.apply(o,a)}return o}function n(i){for(var s=1;s<arguments.length;s++){var o=arguments[s]!=null?arguments[s]:{};s%2?t(Object(o),!0).forEach(function(a){e(i,a,o[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach(function(a){Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(o,a))})}return i}r.exports=n,r.exports.__esModule=!0,r.exports.default=r.exports})(ps);var be={},Et={};Object.defineProperty(Et,"__esModule",{value:!0});Et.withInstall=Et.tupleNum=Et.tuple=void 0;var d0=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t};Et.tuple=d0;var p0=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t};Et.tupleNum=p0;var f0=function(e){var t=e;return t.install=function(n){n.component(t.displayName||t.name,e)},e};Et.withInstall=f0;var m0=oe.exports;Object.defineProperty(be,"__esModule",{value:!0});be.getTransitionProps=be.getTransitionName=be.getTransitionGroupProps=be.getTransitionDirection=be.default=be.collapseMotion=be.TransitionGroup=be.Transition=void 0;var ia=Q.exports,fs=m0(Ze.exports),g0=Et;(0,g0.tuple)("bottomLeft","bottomRight","topLeft","topRight");var y0=function(e){return e!==void 0&&(e==="topLeft"||e==="topRight")?"slide-down":"slide-up"};be.getTransitionDirection=y0;var v0=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e?(0,fs.default)({name:e,appear:!0,enterFromClass:"".concat(e,"-enter ").concat(e,"-enter-prepare"),enterActiveClass:"".concat(e,"-enter ").concat(e,"-enter-prepare"),enterToClass:"".concat(e,"-enter ").concat(e,"-enter-active"),leaveFromClass:" ".concat(e,"-leave"),leaveActiveClass:"".concat(e,"-leave"),leaveToClass:"".concat(e,"-leave ").concat(e,"-leave-active")},t):(0,fs.default)({css:!1},t);return n};be.getTransitionProps=v0;var b0=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e?(0,fs.default)({name:e,appear:!0,appearActiveClass:"".concat(e),appearToClass:"".concat(e,"-appear ").concat(e,"-appear-active"),enterFromClass:"".concat(e,"-appear ").concat(e,"-enter ").concat(e,"-appear-prepare ").concat(e,"-enter-prepare"),enterActiveClass:"".concat(e),enterToClass:"".concat(e,"-enter ").concat(e,"-appear ").concat(e,"-appear-active ").concat(e,"-enter-active"),leaveActiveClass:"".concat(e," ").concat(e,"-leave"),leaveToClass:"".concat(e,"-leave-active")},t):(0,fs.default)({css:!1},t);return n};be.getTransitionGroupProps=b0;var ru=ia.Transition;be.Transition=ru;var M0=ia.TransitionGroup;be.TransitionGroup=M0;var nu=function(){return{height:0,opacity:0}},E0=function(e){return{height:"".concat(e.scrollHeight,"px"),opacity:1}},S0=function(e){return{height:"".concat(e.offsetHeight,"px")}},C0=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ant-motion-collapse",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return{name:e,appear:!0,css:!0,onBeforeEnter:function(s){n.value=e,t.value=nu()},onEnter:function(s){(0,ia.nextTick)(function(){t.value=E0(s)})},onAfterEnter:function(){n.value="",t.value={}},onBeforeLeave:function(s){n.value=e,t.value=S0(s)},onLeave:function(s){setTimeout(function(){t.value=nu()})},onAfterLeave:function(){n.value="",t.value={}}}};be.collapseMotion=C0;var w0=function(e,t,n){return n!==void 0?n:"".concat(e,"-").concat(t)};be.getTransitionName=w0;var x0=ru;be.default=x0;var ms={},sa={exports:{}},iu={exports:{}};(function(r){function e(t){if(Array.isArray(t))return t}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports})(iu);var su={exports:{}};(function(r){function e(t,n){var i=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var s=[],o=!0,a=!1,c,l;try{for(i=i.call(t);!(o=(c=i.next()).done)&&(s.push(c.value),!(n&&s.length===n));o=!0);}catch(u){a=!0,l=u}finally{try{!o&&i.return!=null&&i.return()}finally{if(a)throw l}}return s}}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports})(su);var oa={exports:{}},aa={exports:{}};(function(r){function e(t,n){(n==null||n>t.length)&&(n=t.length);for(var i=0,s=new Array(n);i<n;i++)s[i]=t[i];return s}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports})(aa);(function(r){var e=aa.exports;function t(n,i){if(!!n){if(typeof n=="string")return e(n,i);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return e(n,i)}}r.exports=t,r.exports.__esModule=!0,r.exports.default=r.exports})(oa);var ou={exports:{}};(function(r){function e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports})(ou);(function(r){var e=iu.exports,t=su.exports,n=oa.exports,i=ou.exports;function s(o,a){return e(o)||t(o,a)||n(o,a)||i()}r.exports=s,r.exports.__esModule=!0,r.exports.default=r.exports})(sa);var Zt={},W={},_0=oe.exports;Object.defineProperty(W,"__esModule",{value:!0});W.controlDefaultValue=W.capitalize=W.camelize=W.cacheStringFunction=void 0;W.getDataAndAriaProps=F0;W.isSymbol=W.isString=W.isOn=W.isObject=W.isFunction=W.isArray=W.hyphenate=void 0;W.renderHelper=G0;W.resolvePropValue=B0;W.toPx=H0;var au=_0(wr.exports),lu=function(e){return typeof e=="function"};W.isFunction=lu;var O0=Symbol("controlDefaultValue");W.controlDefaultValue=O0;var T0=Array.isArray;W.isArray=T0;var R0=function(e){return typeof e=="string"};W.isString=R0;var A0=function(e){return(0,au.default)(e)==="symbol"};W.isSymbol=A0;var P0=function(e){return e!==null&&(0,au.default)(e)==="object"};W.isObject=P0;var L0=/^on[^a-z]/,I0=function(e){return L0.test(e)};W.isOn=I0;var gs=function(e){var t=Object.create(null);return function(n){var i=t[n];return i||(t[n]=e(n))}};W.cacheStringFunction=gs;var D0=/-(\w)/g,j0=gs(function(r){return r.replace(D0,function(e,t){return t?t.toUpperCase():""})});W.camelize=j0;var N0=/\B([A-Z])/g,z0=gs(function(r){return r.replace(N0,"-$1").toLowerCase()});W.hyphenate=z0;var k0=gs(function(r){return r.charAt(0).toUpperCase()+r.slice(1)});W.capitalize=k0;var $0=Object.prototype.hasOwnProperty,cu=function(e,t){return $0.call(e,t)};function B0(r,e,t,n){var i=r[t];if(i!=null){var s=cu(i,"default");if(s&&n===void 0){var o=i.default;n=i.type!==Function&&lu(o)?o():o}i.type===Boolean&&(!cu(e,t)&&!s?n=!1:n===""&&(n=!0))}return n}function F0(r){return Object.keys(r).reduce(function(e,t){return(t.substr(0,5)==="data-"||t.substr(0,5)==="aria-")&&(e[t]=r[t]),e},{})}function H0(r){return typeof r=="number"?"".concat(r,"px"):r}function G0(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2?arguments[2]:void 0;return typeof r=="function"?r(e):r!=null?r:t}Object.defineProperty(Zt,"__esModule",{value:!0});Zt.default=void 0;var la=W;function uu(){for(var r=[],e=0;e<arguments.length;e++){var t=e<0||arguments.length<=e?void 0:arguments[e];if(!!t){if((0,la.isString)(t))r.push(t);else if((0,la.isArray)(t))for(var n=0;n<t.length;n++){var i=uu(t[n]);i&&r.push(i)}else if((0,la.isObject)(t))for(var s in t)t[s]&&r.push(s)}}return r.join(" ")}var U0=uu;Zt.default=U0;var ys=oe.exports;Object.defineProperty(ms,"__esModule",{value:!0});ms.default=void 0;var ut=Q.exports,V0=ys(ps.exports),K0=ys(yr.exports),hu=ys(sa.exports),W0=ys(Zt),Y0=(0,ut.defineComponent)({name:"Notice",inheritAttrs:!1,props:["prefixCls","duration","updateMark","noticeKey","closeIcon","closable","props","onClick","onClose","holder","visible"],setup:function(e,t){var n=t.attrs,i=t.slots,s,o=(0,ut.computed)(function(){return e.duration===void 0?1.5:e.duration}),a=function(){o.value&&(s=setTimeout(function(){l()},o.value*1e3))},c=function(){s&&(clearTimeout(s),s=null)},l=function(d){d&&d.stopPropagation(),c();var p=e.onClose,v=e.noticeKey;p&&p(v)},u=function(){c(),a()};return(0,ut.onMounted)(function(){a()}),(0,ut.onUnmounted)(function(){c()}),(0,ut.watch)([o,function(){return e.updateMark},function(){return e.visible}],function(h,d){var p=(0,hu.default)(h,3),v=p[0],E=p[1],x=p[2],m=(0,hu.default)(d,3),C=m[0],g=m[1],y=m[2];(v!==C||E!==g||x!==y&&y)&&u()},{flush:"post"}),function(){var h,d,p=e.prefixCls,v=e.closable,E=e.closeIcon,x=E===void 0?(h=i.closeIcon)===null||h===void 0?void 0:h.call(i):E,m=e.onClick,C=e.holder,g=n.class,y=n.style,M="".concat(p,"-notice"),S=Object.keys(n).reduce(function(_,R){return(R.substr(0,5)==="data-"||R.substr(0,5)==="aria-"||R==="role")&&(_[R]=n[R]),_},{}),w=(0,ut.createVNode)("div",(0,V0.default)({class:(0,W0.default)(M,g,(0,K0.default)({},"".concat(M,"-closable"),v)),style:y,onMouseenter:c,onMouseleave:a,onClick:m},S),[(0,ut.createVNode)("div",{class:"".concat(M,"-content")},[(d=i.default)===null||d===void 0?void 0:d.call(i)]),v?(0,ut.createVNode)("a",{tabindex:0,onClick:l,class:"".concat(M,"-close")},[x||(0,ut.createVNode)("span",{class:"".concat(M,"-close-x")},null)]):null]);return C?(0,ut.createVNode)(ut.Teleport,{to:C},{default:function(){return w}}):w}}});ms.default=Y0;var Be={},vs={},bs={},Wr={},Ms={},Un={},Es={};Object.defineProperty(Es,"__esModule",{value:!0});Es.default=void 0;var q0={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages"};Es.default=q0;var Vn={},Ss={};Object.defineProperty(Ss,"__esModule",{value:!0});Ss.default=void 0;var X0={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},Q0=X0;Ss.default=Q0;var Kn={};Object.defineProperty(Kn,"__esModule",{value:!0});Kn.default=void 0;var Z0={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},J0=Z0;Kn.default=J0;var ca=oe.exports;Object.defineProperty(Vn,"__esModule",{value:!0});Vn.default=void 0;var du=ca(Ze.exports),eb=ca(Ss),tb=ca(Kn),rb={lang:(0,du.default)({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},eb.default),timePickerLocale:(0,du.default)({},tb.default)},nb=rb;Vn.default=nb;var Cs={},ib=oe.exports;Object.defineProperty(Cs,"__esModule",{value:!0});Cs.default=void 0;var sb=ib(Vn),ob=sb.default;Cs.default=ob;var ws=oe.exports;Object.defineProperty(Un,"__esModule",{value:!0});Un.default=void 0;var ab=ws(Es),lb=ws(Vn),cb=ws(Kn),ub=ws(Cs),Ve="${label} is not a valid ${type}",hb={locale:"en",Pagination:ab.default,DatePicker:lb.default,TimePicker:cb.default,Calendar:ub.default,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No Data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:Ve,method:Ve,array:Ve,object:Ve,number:Ve,date:Ve,boolean:Ve,integer:Ve,float:Ve,regexp:Ve,email:Ve,url:Ve,hex:Ve},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"}},db=hb;Un.default=db;var pb=oe.exports;Object.defineProperty(Ms,"__esModule",{value:!0});Ms.default=void 0;var fb=pb(Un),mb=fb.default;Ms.default=mb;var pu=oe.exports;Object.defineProperty(Wr,"__esModule",{value:!0});Wr.default=void 0;Wr.useLocaleReceiver=yb;var Wn=pu(Ze.exports),Jt=Q.exports,ua=pu(Ms),gb=(0,Jt.defineComponent)({name:"LocaleReceiver",props:{componentName:String,defaultLocale:{type:[Object,Function]},children:{type:Function}},setup:function(e,t){var n=t.slots,i=(0,Jt.inject)("localeData",{}),s=(0,Jt.computed)(function(){var a=e.componentName,c=a===void 0?"global":a,l=e.defaultLocale,u=l||ua.default[c||"global"],h=i.antLocale,d=c&&h?h[c]:{};return(0,Wn.default)((0,Wn.default)({},typeof u=="function"?u():u),d||{})}),o=(0,Jt.computed)(function(){var a=i.antLocale,c=a&&a.locale;return a&&a.exist&&!c?ua.default.locale:c});return function(){var a=e.children||n.default,c=i.antLocale;return a==null?void 0:a(s.value,o.value,c)}}});Wr.default=gb;function yb(r,e,t){var n=(0,Jt.inject)("localeData",{}),i=(0,Jt.computed)(function(){var s=n.antLocale,o=(0,Jt.unref)(e)||ua.default[r||"global"],a=r&&s?s[r]:{};return(0,Wn.default)((0,Wn.default)((0,Wn.default)({},typeof o=="function"?o():o),a||{}),(0,Jt.unref)(t)||{})});return[i]}var xs={},vr={};Object.defineProperty(vr,"__esModule",{value:!0});vr.default=void 0;var Te=Q.exports,vb=Be,bb=function(e,t){var n=(0,Te.inject)("configProvider",vb.defaultConfigProvider),i=(0,Te.computed)(function(){return n.getPrefixCls(e,t.prefixCls)}),s=(0,Te.computed)(function(){var g;return(g=t.direction)!==null&&g!==void 0?g:n.direction}),o=(0,Te.computed)(function(){return n.getPrefixCls()}),a=(0,Te.computed)(function(){return n.autoInsertSpaceInButton}),c=(0,Te.computed)(function(){return n.renderEmpty}),l=(0,Te.computed)(function(){return n.space}),u=(0,Te.computed)(function(){return n.pageHeader}),h=(0,Te.computed)(function(){return n.form}),d=(0,Te.computed)(function(){return t.getTargetContainer||n.getTargetContainer}),p=(0,Te.computed)(function(){return t.getPopupContainer||n.getPopupContainer}),v=(0,Te.computed)(function(){var g;return(g=t.dropdownMatchSelectWidth)!==null&&g!==void 0?g:n.dropdownMatchSelectWidth}),E=(0,Te.computed)(function(){return(t.virtual===void 0?n.virtual!==!1:t.virtual!==!1)&&v.value!==!1}),x=(0,Te.computed)(function(){return t.size||n.componentSize}),m=(0,Te.computed)(function(){var g;return t.autocomplete||((g=n.input)===null||g===void 0?void 0:g.autocomplete)}),C=(0,Te.computed)(function(){return n.csp});return{configProvider:n,prefixCls:i,direction:s,size:x,getTargetContainer:d,getPopupContainer:p,space:l,pageHeader:u,form:h,autoInsertSpaceInButton:a,renderEmpty:c,virtual:E,dropdownMatchSelectWidth:v,rootPrefixCls:o,getPrefixCls:n.getPrefixCls,autocomplete:m,csp:C}};vr.default=bb;var Mb=oe.exports;Object.defineProperty(xs,"__esModule",{value:!0});xs.default=void 0;var Je=Q.exports,Eb=Mb(vr),fu=function(){var e=(0,Eb.default)("empty",{}),t=e.getPrefixCls,n=t("empty-img-default");return(0,Je.createVNode)("svg",{class:n,width:"184",height:"152",viewBox:"0 0 184 152"},[(0,Je.createVNode)("g",{fill:"none","fill-rule":"evenodd"},[(0,Je.createVNode)("g",{transform:"translate(24 31.67)"},[(0,Je.createVNode)("ellipse",{class:"".concat(n,"-ellipse"),cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"},null),(0,Je.createVNode)("path",{class:"".concat(n,"-path-1"),d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z"},null),(0,Je.createVNode)("path",{class:"".concat(n,"-path-2"),d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",transform:"translate(13.56)"},null),(0,Je.createVNode)("path",{class:"".concat(n,"-path-3"),d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z"},null),(0,Je.createVNode)("path",{class:"".concat(n,"-path-4"),d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z"},null)]),(0,Je.createVNode)("path",{class:"".concat(n,"-path-5"),d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z"},null),(0,Je.createVNode)("g",{class:"".concat(n,"-g"),transform:"translate(149.65 15.383)"},[(0,Je.createVNode)("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"},null),(0,Je.createVNode)("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"},null)])])])};fu.PRESENTED_IMAGE_DEFAULT=!0;var Sb=fu;xs.default=Sb;var _s={},Cb=oe.exports;Object.defineProperty(_s,"__esModule",{value:!0});_s.default=void 0;var Yr=Q.exports,wb=Cb(vr),mu=function(){var e=(0,wb.default)("empty",{}),t=e.getPrefixCls,n=t("empty-img-simple");return(0,Yr.createVNode)("svg",{class:n,width:"64",height:"41",viewBox:"0 0 64 41"},[(0,Yr.createVNode)("g",{transform:"translate(0 1)",fill:"none","fill-rule":"evenodd"},[(0,Yr.createVNode)("ellipse",{class:"".concat(n,"-ellipse"),fill:"#F5F5F5",cx:"32",cy:"33",rx:"32",ry:"7"},null),(0,Yr.createVNode)("g",{class:"".concat(n,"-g"),"fill-rule":"nonzero",stroke:"#D9D9D9"},[(0,Yr.createVNode)("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"},null),(0,Yr.createVNode)("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:"#FAFAFA",class:"".concat(n,"-path")},null)])])])};mu.PRESENTED_IMAGE_SIMPLE=!0;var xb=mu;_s.default=xb;var gu={},yu={exports:{}},vu={exports:{}};(function(r){var e=aa.exports;function t(n){if(Array.isArray(n))return e(n)}r.exports=t,r.exports.__esModule=!0,r.exports.default=r.exports})(vu);var bu={exports:{}};(function(r){function e(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports})(bu);var Mu={exports:{}};(function(r){function e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports})(Mu);(function(r){var e=vu.exports,t=bu.exports,n=oa.exports,i=Mu.exports;function s(o){return e(o)||t(o)||n(o)||i()}r.exports=s,r.exports.__esModule=!0,r.exports.default=r.exports})(yu);var _b=typeof ci=="object"&&ci&&ci.Object===Object&&ci,Ob=_b,Tb=Ob,Rb=typeof self=="object"&&self&&self.Object===Object&&self,Ab=Tb||Rb||Function("return this")(),Pb=Ab,Lb=Pb,Ib=Lb.Symbol,Eu=Ib,Su=Eu,Cu=Object.prototype,Db=Cu.hasOwnProperty,jb=Cu.toString,Yn=Su?Su.toStringTag:void 0;function Nb(r){var e=Db.call(r,Yn),t=r[Yn];try{r[Yn]=void 0;var n=!0}catch{}var i=jb.call(r);return n&&(e?r[Yn]=t:delete r[Yn]),i}var zb=Nb,kb=Object.prototype,$b=kb.toString;function Bb(r){return $b.call(r)}var Fb=Bb,wu=Eu,Hb=zb,Gb=Fb,Ub="[object Null]",Vb="[object Undefined]",xu=wu?wu.toStringTag:void 0;function Kb(r){return r==null?r===void 0?Vb:Ub:xu&&xu in Object(r)?Hb(r):Gb(r)}var Wb=Kb;function Yb(r,e){return function(t){return r(e(t))}}var qb=Yb,Xb=qb,Qb=Xb(Object.getPrototypeOf,Object),Zb=Qb;function Jb(r){return r!=null&&typeof r=="object"}var eM=Jb,tM=Wb,rM=Zb,nM=eM,iM="[object Object]",sM=Function.prototype,oM=Object.prototype,_u=sM.toString,aM=oM.hasOwnProperty,lM=_u.call(Object);function cM(r){if(!nM(r)||tM(r)!=iM)return!1;var e=rM(r);if(e===null)return!0;var t=aM.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&_u.call(t)==lM}var uM=cM,Os={};Object.defineProperty(Os,"__esModule",{value:!0});Os.default=void 0;var hM=function(e){return e!=null&&e!==""},dM=hM;Os.default=dM;var Ts={},pM=oe.exports;Object.defineProperty(Ts,"__esModule",{value:!0});Ts.default=void 0;var fM=pM(Ze.exports),mM=function(e,t){var n=(0,fM.default)({},e);return Object.keys(t).forEach(function(i){var s=n[i];if(s)s.type||s.default?s.default=t[i]:s.def?s.def(t[i]):n[i]={type:s,default:t[i]};else throw new Error("not have ".concat(i," prop"))}),n},gM=mM;Ts.default=gM;(function(r){var e=oe.exports;Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"camelize",{enumerable:!0,get:function(){return l.camelize}}),r.default=void 0,r.filterEmpty=tn,r.filterEmptyWithUndefined=oi,r.getAttrs=r.getAllProps=r.getAllChildren=r.flattenChildren=r.findDOMNode=void 0,r.getClass=pt,r.getComponentFromProp=r.getComponent=void 0,r.getComponentName=en,r.getDataEvents=Pe,r.getEvent=Ce,r.getEvents=ae,r.getKey=void 0,r.getListeners=Ke,r.getPropsData=r.getOptionProps=void 0,r.getPropsSlot=$s,r.getSlots=r.getSlotOptions=r.getSlot=void 0,r.getStyle=nt,r.hasProp=r.getValueByProp=r.getTextFromElement=void 0,Object.defineProperty(r,"initDefaultProps",{enumerable:!0,get:function(){return h.default}}),r.isEmptyContent=ii,r.isEmptyElement=kt,r.isEmptySlot=ks,r.isFragment=Mr,r.isStringElement=si,r.isValidElement=li,r.mergeProps=ai,r.splitAttrs=r.slotHasProp=r.parseStyleText=void 0;var t=e(sa.exports),n=e(yu.exports),i=e(Ze.exports),s=e(wr.exports),o=e(uM),a=e(Zt),c=Q.exports,l=W,u=e(Os),h=e(Ts),d=void 0,p=function(T){for(var P=Object.keys(T),N={},z={},D={},V=0,F=P.length;V<F;V++){var Z=P[V];(0,l.isOn)(Z)?(N[Z[2].toLowerCase()+Z.slice(3)]=T[Z],z[Z]=T[Z]):D[Z]=T[Z]}return{onEvents:z,events:N,extraAttrs:D}};r.splitAttrs=p;var v=function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",P=arguments.length>1?arguments[1]:void 0,N={},z=/;(?![^(]*\))/g,D=/:(.+)/;return(0,s.default)(T)==="object"?T:(T.split(z).forEach(function(V){if(V){var F=V.split(D);if(F.length>1){var Z=P?(0,l.camelize)(F[0].trim()):F[0].trim();N[Z]=F[1].trim()}}}),N)};r.parseStyleText=v;var E=function(T,P){return T[P]!==void 0};r.hasProp=E;var x=function(T,P){return E(T,P)};r.slotHasProp=x;var m=function(T){return T.data&&T.data.scopedSlots||{}},C=function(T){var P=T.componentOptions||{};T.$vnode&&(P=T.$vnode.componentOptions||{});var N=T.children||P.children||[],z={};return N.forEach(function(D){if(!kt(D)){var V=D.data&&D.data.slot||"default";z[V]=z[V]||[],z[V].push(D)}}),(0,i.default)((0,i.default)({},z),m(T))};r.getSlots=C;var g=function L(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,N=Array.isArray(T)?T:[T],z=[];return N.forEach(function(D){Array.isArray(D)?z.push.apply(z,(0,n.default)(L(D,P))):D&&D.type===c.Fragment?z.push.apply(z,(0,n.default)(L(D.children,P))):D&&(0,c.isVNode)(D)?P&&!kt(D)?z.push(D):P||z.push(D):(0,u.default)(D)&&z.push(D)}),z};r.flattenChildren=g;var y=function(T){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"default",N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if((0,c.isVNode)(T))return T.type===c.Fragment?P==="default"?g(T.children):[]:T.children&&T.children[P]?g(T.children[P](N)):[];var z=T.$slots[P]&&T.$slots[P](N);return g(z)};r.getSlot=y;var M=function(T){var P=T.componentOptions||{};return T.$vnode&&(P=T.$vnode.componentOptions||{}),T.children||P.children||[]};r.getAllChildren=M;var S=function(){throw Error("\u4F7F\u7528 .type \u76F4\u63A5\u53D6\u503C")};r.getSlotOptions=S;var w=function(T){for(var P,N=((P=T==null?void 0:T.vnode)===null||P===void 0?void 0:P.el)||T&&(T.$el||T);N&&!N.tagName;)N=N.nextSibling;return N};r.findDOMNode=w;var _=function(T){var P={};if(T.$&&T.$.vnode){var N=T.$.vnode.props||{};Object.keys(T.$props).forEach(function(F){var Z=T.$props[F],O=(0,l.hyphenate)(F);(Z!==void 0||O in N)&&(P[F]=Z)})}else if((0,c.isVNode)(T)&&(0,s.default)(T.type)==="object"){var z=T.props||{},D={};Object.keys(z).forEach(function(F){D[(0,l.camelize)(F)]=z[F]});var V=T.type.props||{};Object.keys(V).forEach(function(F){var Z=(0,l.resolvePropValue)(V,D,F,D[F]);(Z!==void 0||F in D)&&(P[F]=Z)})}return P};r.getOptionProps=_;var R=function(T){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"default",N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:T,z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,D=void 0;if(T.$){var V=T[P];if(V!==void 0)return typeof V=="function"&&z?V(N):V;D=T.$slots[P],D=z&&D?D(N):D}else if((0,c.isVNode)(T)){var F=T.props&&T.props[P];if(F!==void 0&&T.props!==null)return typeof F=="function"&&z?F(N):F;T.type===c.Fragment?D=T.children:T.children&&T.children[P]&&(D=T.children[P],D=z&&D?D(N):D)}return Array.isArray(D)&&(D=g(D),D=D.length===1?D[0]:D,D=D.length===0?void 0:D),D};r.getComponent=R;var I=function(T,P){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:T,z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;if(T.$createElement){var D=T[P];return D!==void 0?typeof D=="function"&&z?D(c.h,N):D:T.$scopedSlots[P]&&z&&T.$scopedSlots[P](N)||T.$scopedSlots[P]||T.$slots[P]||void 0}else{var V=B(T)[P];if(V!==void 0)return typeof V=="function"&&z?V(c.h,N):V;var F=m(T)[P];if(F!==void 0)return typeof F=="function"&&z?F(c.h,N):F;var Z=[],O=T.componentOptions||{};return(O.children||[]).forEach(function(j){j.data&&j.data.slot===P&&(j.data.attrs&&delete j.data.attrs.slot,j.tag==="template"?Z.push(j.children):Z.push(j))}),Z.length?Z:void 0}};r.getComponentFromProp=I;var k=function(T){var P=_(T);return T.$?P=(0,i.default)((0,i.default)({},P),d.$attrs):P=(0,i.default)((0,i.default)({},T.props),P),P};r.getAllProps=k;var B=function(T){var P=T.$?T.$:T,N={},z=P.props||{},D={};Object.keys(z).forEach(function(F){D[(0,l.camelize)(F)]=z[F]});var V=(0,o.default)(P.type)?P.type.props:{};return V&&Object.keys(V).forEach(function(F){var Z=(0,l.resolvePropValue)(V,D,F,D[F]);F in D&&(N[F]=Z)}),(0,i.default)((0,i.default)({},D),N)};r.getPropsData=B;var Y=function(T,P){return B(T)[P]};r.getValueByProp=Y;var X=function(T){var P=T.data;return T.$vnode&&(P=T.$vnode.data),P?P.attrs||{}:{}};r.getAttrs=X;var Se=function(T){var P=T.key;return P};r.getKey=Se;function ae(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,P={};return L.$?P=(0,i.default)((0,i.default)({},P),L.$attrs):P=(0,i.default)((0,i.default)({},P),L.props),p(P)[T?"onEvents":"events"]}function Ce(L,T){return L.props&&L.props[T]}function Pe(L){var T={};return L.data&&L.data.on&&(T=L.data.on),(0,i.default)({},T)}function Ke(L){return(L.$vnode?L.$vnode.componentOptions.listeners:L.$listeners)||{}}function pt(L){var T=((0,c.isVNode)(L)?L.props:L.$attrs)||{},P=T.class||{},N={};return typeof P=="string"?P.split(" ").forEach(function(z){N[z.trim()]=!0}):Array.isArray(P)?(0,a.default)(P).split(" ").forEach(function(z){N[z.trim()]=!0}):N=(0,i.default)((0,i.default)({},N),P),N}function nt(L,T){var P=((0,c.isVNode)(L)?L.props:L.$attrs)||{},N=P.style||{};if(typeof N=="string")N=v(N,T);else if(T&&N){var z={};return Object.keys(N).forEach(function(D){return z[(0,l.camelize)(D)]=N[D]}),z}return N}function en(L){return L&&(L.Ctor.options.name||L.tag)}function Mr(L){return L.length===1&&L[0].type===c.Fragment}function ii(L){return L==null||L===""||Array.isArray(L)&&L.length===0}function kt(L){return L&&(L.type===c.Comment||L.type===c.Fragment&&L.children.length===0||L.type===c.Text&&L.children.trim()==="")}function ks(L){return!L||L().every(kt)}function si(L){return L&&L.type===c.Text}function tn(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],T=[];return L.forEach(function(P){Array.isArray(P)?T.push.apply(T,(0,n.default)(P)):P.type===c.Fragment?T.push.apply(T,(0,n.default)(P.children)):T.push(P)}),T.filter(function(P){return!kt(P)})}function oi(L){if(L){var T=tn(L);return T.length?T:void 0}else return L}function ai(){var L=[].slice.call(arguments,0),T={};return L.forEach(function(){for(var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},N=0,z=Object.entries(P);N<z.length;N++){var D=(0,t.default)(z[N],2),V=D[0],F=D[1];T[V]=T[V]||{},(0,o.default)(F)?(0,i.default)(T[V],F):T[V]=F}}),T}function li(L){return Array.isArray(L)&&L.length===1&&(L=L[0]),L&&L.__v_isVNode&&(0,s.default)(L.type)!=="symbol"}function $s(L,T){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"default",N,z;return(N=T[P])!==null&&N!==void 0?N:(z=L[P])===null||z===void 0?void 0:z.call(L)}var rn=function(T){return li(T)&&si(T[0])?T[0].children:T};r.getTextFromElement=rn;var Bs=E;r.default=Bs})(gu);var qn={},yM=Cr(Zh);Object.defineProperty(qn,"__esModule",{value:!0});qn.default=void 0;qn.withUndefined=bM;var vM=yM,Ou=(0,vM.createTypes)({func:void 0,bool:void 0,string:void 0,number:void 0,array:void 0,object:void 0,integer:void 0});Ou.extend([{name:"looseBool",getter:!0,type:Boolean,default:void 0},{name:"style",getter:!0,type:[String,Object],default:void 0},{name:"VueNode",getter:!0,type:null}]);function bM(r){return r.default=void 0,r}var MM=Ou;qn.default=MM;var jt=oe.exports;Object.defineProperty(bs,"__esModule",{value:!0});bs.default=void 0;var er=Q.exports,EM=jt(ps.exports),Tu=jt(yr.exports),Ru=jt(Ze.exports),SM=jt(Zt),CM=jt(Wr),wM=jt(xs),xM=jt(_s),_M=gu,Au=jt(qn),OM=Et,TM=jt(vr),RM=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t},Pu=(0,er.createVNode)(wM.default,null,null),Lu=(0,er.createVNode)(xM.default,null,null),qr=function(e,t){var n=t.slots,i=n===void 0?{}:n,s=t.attrs,o,a=(0,TM.default)("empty",e),c=a.direction,l=a.prefixCls,u=l.value,h=(0,Ru.default)((0,Ru.default)({},e),s),d=h.image,p=d===void 0?Pu:d,v=h.description,E=v===void 0?((o=i.description)===null||o===void 0?void 0:o.call(i))||void 0:v,x=h.imageStyle,m=h.class,C=m===void 0?"":m,g=RM(h,["image","description","imageStyle","class"]);return(0,er.createVNode)(CM.default,{componentName:"Empty",children:function(M){var S,w=typeof E!="undefined"?E:M.description,_=typeof w=="string"?w:"empty",R=null;return typeof p=="string"?R=(0,er.createVNode)("img",{alt:_,src:p},null):R=p,(0,er.createVNode)("div",(0,EM.default)({class:(0,SM.default)(u,C,(S={},(0,Tu.default)(S,"".concat(u,"-normal"),p===Lu),(0,Tu.default)(S,"".concat(u,"-rtl"),c.value==="rtl"),S))},g),[(0,er.createVNode)("div",{class:"".concat(u,"-image"),style:x},[R]),w&&(0,er.createVNode)("p",{class:"".concat(u,"-description")},[w]),i.default&&(0,er.createVNode)("div",{class:"".concat(u,"-footer")},[(0,_M.filterEmpty)(i.default())])])}},null)};qr.displayName="AEmpty";qr.PRESENTED_IMAGE_DEFAULT=Pu;qr.PRESENTED_IMAGE_SIMPLE=Lu;qr.inheritAttrs=!1;qr.props={prefixCls:String,image:Au.default.any,description:Au.default.any,imageStyle:{type:Object,default:void 0}};var AM=(0,OM.withInstall)(qr);bs.default=AM;var Iu=oe.exports;Object.defineProperty(vs,"__esModule",{value:!0});vs.default=void 0;var Rs=Q.exports,Xn=Iu(bs),PM=Iu(vr),LM=function(e){var t=(0,PM.default)("empty",e),n=t.prefixCls,i=function(o){switch(o){case"Table":case"List":return(0,Rs.createVNode)(Xn.default,{image:Xn.default.PRESENTED_IMAGE_SIMPLE},null);case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return(0,Rs.createVNode)(Xn.default,{image:Xn.default.PRESENTED_IMAGE_SIMPLE,class:"".concat(n.value,"-small")},null);default:return(0,Rs.createVNode)(Xn.default,null,null)}};return i(e.componentName)};function IM(r){return(0,Rs.createVNode)(LM,{componentName:r},null)}var DM=IM;vs.default=DM;var Xr={},Du={},ht={};Object.defineProperty(ht,"__esModule",{value:!0});ht.call=da;ht.default=void 0;ht.note=Nu;ht.noteOnce=NM;ht.resetWarned=jM;ht.warning=ju;ht.warningOnce=zu;var ha={};function ju(r,e){}function Nu(r,e){}function jM(){ha={}}function da(r,e,t){!e&&!ha[t]&&(r(!1,t),ha[t]=!0)}function zu(r,e){da(ju,r,e)}function NM(r,e){da(Nu,r,e)}var zM=zu;ht.default=zM;(function(r){var e=wr.exports;Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,Object.defineProperty(r,"resetWarned",{enumerable:!0,get:function(){return t.resetWarned}});var t=i(ht);function n(o){if(typeof WeakMap!="function")return null;var a=new WeakMap,c=new WeakMap;return(n=function(u){return u?c:a})(o)}function i(o,a){if(!a&&o&&o.__esModule)return o;if(o===null||e(o)!=="object"&&typeof o!="function")return{default:o};var c=n(a);if(c&&c.has(o))return c.get(o);var l={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in o)if(h!=="default"&&Object.prototype.hasOwnProperty.call(o,h)){var d=u?Object.getOwnPropertyDescriptor(o,h):null;d&&(d.get||d.set)?Object.defineProperty(l,h,d):l[h]=o[h]}return l.default=o,c&&c.set(o,l),l}var s=function(a,c){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";(0,t.default)(a,"[antdv: ".concat(c,"] ").concat(l))};r.default=s})(Du);var ku=oe.exports;Object.defineProperty(Xr,"__esModule",{value:!0});Xr.default=Xr.ANT_MARK=void 0;var As=ku(Ze.exports),Ps=Q.exports,kM=ku(Du),$M=Et,pa="internalMark";Xr.ANT_MARK=pa;var Ls=(0,Ps.defineComponent)({name:"ALocaleProvider",props:{locale:{type:Object},ANT_MARK__:String},setup:function(e,t){var n=t.slots;(0,kM.default)(e.ANT_MARK__===pa,"LocaleProvider","`LocaleProvider` is deprecated. Please use `locale` with `ConfigProvider` instead");var i=(0,Ps.reactive)({antLocale:(0,As.default)((0,As.default)({},e.locale),{exist:!0}),ANT_MARK__:pa});return(0,Ps.provide)("localeData",i),(0,Ps.watch)(function(){return e.locale},function(){i.antLocale=(0,As.default)((0,As.default)({},e.locale),{exist:!0})},{immediate:!0}),function(){var s;return(s=n.default)===null||s===void 0?void 0:s.call(n)}}});Ls.install=function(r){return r.component(Ls.name,Ls),r};var BM=(0,$M.withInstall)(Ls);Xr.default=BM;var Qr={},$u={},fa={};Object.defineProperty(fa,"__esModule",{value:!0});var FM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"};fa.default=FM;var dt={},ma={},Ee={},Bu=Cr(Jh),Fu={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=[],t=[],n="insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).";function i(){var a=document.createElement("style");return a.setAttribute("type","text/css"),a}function s(a,c){if(c=c||{},a===void 0)throw new Error(n);var l=c.prepend===!0?"prepend":"append",u=c.container!==void 0?c.container:document.querySelector("head"),h=e.indexOf(u);h===-1&&(h=e.push(u)-1,t[h]={});var d;return t[h]!==void 0&&t[h][l]!==void 0?d=t[h][l]:(d=t[h][l]=i(),l==="prepend"?u.insertBefore(d,u.childNodes[0]):u.appendChild(d)),a.charCodeAt(0)===65279&&(a=a.substr(1,a.length)),d.styleSheet?d.styleSheet.cssText+=a:d.textContent+=a,d}var o=s;r.default=o})(Fu);Object.defineProperty(Ee,"__esModule",{value:!0});Ee.warn=KM;Ee.warning=WM;Ee.isIconDefinition=YM;Ee.normalizeAttrs=qM;Ee.generate=ya;Ee.getSecondaryColor=XM;Ee.normalizeTwoToneColors=QM;Ee.useInsertStyles=Ee.iconStyles=Ee.svgBaseProps=void 0;var ga=Q.exports,HM=Bu,GM=UM(Fu);function UM(r){return r&&r.__esModule?r:{default:r}}function Hu(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),n.forEach(function(i){VM(r,i,t[i])})}return r}function VM(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function KM(r,e){}function WM(r,e){}function YM(r){return typeof r=="object"&&typeof r.name=="string"&&typeof r.theme=="string"&&(typeof r.icon=="object"||typeof r.icon=="function")}function qM(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(r).reduce(function(e,t){var n=r[t];switch(t){case"class":e.className=n,delete e.class;break;default:e[t]=n}return e},{})}function ya(r,e,t){return t?(0,ga.h)(r.tag,Hu({key:e},t,r.attrs),(r.children||[]).map(function(n,i){return ya(n,"".concat(e,"-").concat(r.tag,"-").concat(i))})):(0,ga.h)(r.tag,Hu({key:e},r.attrs),(r.children||[]).map(function(n,i){return ya(n,"".concat(e,"-").concat(r.tag,"-").concat(i))}))}function XM(r){return(0,HM.generate)(r)[0]}function QM(r){return r?Array.isArray(r)?r:[r]:[]}var ZM={width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",focusable:"false"};Ee.svgBaseProps=ZM;var Gu=`
.anticon {
  display: inline-block;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`;Ee.iconStyles=Gu;var Uu=!1,JM=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Gu;(0,ga.nextTick)(function(){Uu||(typeof window!="undefined"&&window.document&&window.document.documentElement&&(0,GM.default)(e,{prepend:!0}),Uu=!0)})};Ee.useInsertStyles=JM;(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=Ee,t=["icon","primaryColor","secondaryColor"];function n(d,p){if(d==null)return{};var v=i(d,p),E,x;if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(d);for(x=0;x<m.length;x++)E=m[x],!(p.indexOf(E)>=0)&&(!Object.prototype.propertyIsEnumerable.call(d,E)||(v[E]=d[E]))}return v}function i(d,p){if(d==null)return{};var v={},E=Object.keys(d),x,m;for(m=0;m<E.length;m++)x=E[m],!(p.indexOf(x)>=0)&&(v[x]=d[x]);return v}function s(d){for(var p=1;p<arguments.length;p++){var v=arguments[p]!=null?Object(arguments[p]):{},E=Object.keys(v);typeof Object.getOwnPropertySymbols=="function"&&(E=E.concat(Object.getOwnPropertySymbols(v).filter(function(x){return Object.getOwnPropertyDescriptor(v,x).enumerable}))),E.forEach(function(x){o(d,x,v[x])})}return d}function o(d,p,v){return p in d?Object.defineProperty(d,p,{value:v,enumerable:!0,configurable:!0,writable:!0}):d[p]=v,d}var a={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function c(d){var p=d.primaryColor,v=d.secondaryColor;a.primaryColor=p,a.secondaryColor=v||(0,e.getSecondaryColor)(p),a.calculated=!!v}function l(){return s({},a)}var u=function(p,v){var E=s({},p,v.attrs),x=E.icon,m=E.primaryColor,C=E.secondaryColor,g=n(E,t),y=a;if(m&&(y={primaryColor:m,secondaryColor:C||(0,e.getSecondaryColor)(m)}),(0,e.useInsertStyles)(),(0,e.warning)((0,e.isIconDefinition)(x),"icon should be icon definiton, but got ".concat(x)),!(0,e.isIconDefinition)(x))return null;var M=x;return M&&typeof M.icon=="function"&&(M=s({},M,{icon:M.icon(y.primaryColor,y.secondaryColor)})),(0,e.generate)(M.icon,"svg-".concat(M.name),s({},g,{"data-icon":M.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"}))};u.props={icon:Object,primaryColor:String,secondaryColor:String,focusable:String},u.inheritAttrs=!1,u.displayName="IconBase",u.getTwoToneColors=l,u.setTwoToneColors=c;var h=u;r.default=h})(ma);var Is={};Object.defineProperty(Is,"__esModule",{value:!0});Is.setTwoToneColor=aE;Is.getTwoToneColor=lE;var Vu=tE(ma),eE=Ee;function tE(r){return r&&r.__esModule?r:{default:r}}function rE(r,e){return oE(r)||sE(r,e)||iE(r,e)||nE()}function nE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iE(r,e){if(!!r){if(typeof r=="string")return Ku(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ku(r,e)}}function Ku(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function sE(r,e){var t=r==null?null:typeof Symbol!="undefined"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n=[],i=!0,s=!1,o,a;try{for(t=t.call(r);!(i=(o=t.next()).done)&&(n.push(o.value),!(e&&n.length===e));i=!0);}catch(c){s=!0,a=c}finally{try{!i&&t.return!=null&&t.return()}finally{if(s)throw a}}return n}}function oE(r){if(Array.isArray(r))return r}function aE(r){var e=(0,eE.normalizeTwoToneColors)(r),t=rE(e,2),n=t[0],i=t[1];return Vu.default.setTwoToneColors({primaryColor:n,secondaryColor:i})}function lE(){var r=Vu.default.getTwoToneColors();return r.calculated?[r.primaryColor,r.secondaryColor]:r.primaryColor}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=Q.exports,t=o(ma),n=Is,i=Ee,s=["class","icon","spin","rotate","tabindex","twoToneColor","onClick"];function o(g){return g&&g.__esModule?g:{default:g}}function a(g,y){return d(g)||h(g,y)||l(g,y)||c()}function c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l(g,y){if(!!g){if(typeof g=="string")return u(g,y);var M=Object.prototype.toString.call(g).slice(8,-1);if(M==="Object"&&g.constructor&&(M=g.constructor.name),M==="Map"||M==="Set")return Array.from(g);if(M==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(M))return u(g,y)}}function u(g,y){(y==null||y>g.length)&&(y=g.length);for(var M=0,S=new Array(y);M<y;M++)S[M]=g[M];return S}function h(g,y){var M=g==null?null:typeof Symbol!="undefined"&&g[Symbol.iterator]||g["@@iterator"];if(M!=null){var S=[],w=!0,_=!1,R,I;try{for(M=M.call(g);!(w=(R=M.next()).done)&&(S.push(R.value),!(y&&S.length===y));w=!0);}catch(k){_=!0,I=k}finally{try{!w&&M.return!=null&&M.return()}finally{if(_)throw I}}return S}}function d(g){if(Array.isArray(g))return g}function p(g){for(var y=1;y<arguments.length;y++){var M=arguments[y]!=null?Object(arguments[y]):{},S=Object.keys(M);typeof Object.getOwnPropertySymbols=="function"&&(S=S.concat(Object.getOwnPropertySymbols(M).filter(function(w){return Object.getOwnPropertyDescriptor(M,w).enumerable}))),S.forEach(function(w){v(g,w,M[w])})}return g}function v(g,y,M){return y in g?Object.defineProperty(g,y,{value:M,enumerable:!0,configurable:!0,writable:!0}):g[y]=M,g}function E(g,y){if(g==null)return{};var M=x(g,y),S,w;if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(g);for(w=0;w<_.length;w++)S=_[w],!(y.indexOf(S)>=0)&&(!Object.prototype.propertyIsEnumerable.call(g,S)||(M[S]=g[S]))}return M}function x(g,y){if(g==null)return{};var M={},S=Object.keys(g),w,_;for(_=0;_<S.length;_++)w=S[_],!(y.indexOf(w)>=0)&&(M[w]=g[w]);return M}(0,n.setTwoToneColor)("#1890ff");var m=function(y,M){var S,w=p({},y,M.attrs),_=w.class,R=w.icon,I=w.spin,k=w.rotate,B=w.tabindex,Y=w.twoToneColor,X=w.onClick,Se=E(w,s),ae=(S={anticon:!0},v(S,"anticon-".concat(R.name),Boolean(R.name)),v(S,_,_),S),Ce=I===""||!!I||R.name==="loading"?"anticon-spin":"",Pe=B;Pe===void 0&&X&&(Pe=-1,Se.tabindex=Pe);var Ke=k?{msTransform:"rotate(".concat(k,"deg)"),transform:"rotate(".concat(k,"deg)")}:void 0,pt=(0,i.normalizeTwoToneColors)(Y),nt=a(pt,2),en=nt[0],Mr=nt[1];return(0,e.createVNode)("span",p({role:"img","aria-label":R.name},Se,{onClick:X,class:ae}),[(0,e.createVNode)(t.default,{class:Ce,icon:R,primaryColor:en,secondaryColor:Mr,style:Ke},null)])};m.props={spin:Boolean,rotate:Number,icon:Object,twoToneColor:String},m.displayName="AntdIcon",m.inheritAttrs=!1,m.getTwoToneColor=n.getTwoToneColor,m.setTwoToneColor=n.setTwoToneColor;var C=m;r.default=C})(dt);(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=Q.exports,t=i(fa),n=i(dt);function i(l){return l&&l.__esModule?l:{default:l}}function s(l){for(var u=1;u<arguments.length;u++){var h=arguments[u]!=null?Object(arguments[u]):{},d=Object.keys(h);typeof Object.getOwnPropertySymbols=="function"&&(d=d.concat(Object.getOwnPropertySymbols(h).filter(function(p){return Object.getOwnPropertyDescriptor(h,p).enumerable}))),d.forEach(function(p){o(l,p,h[p])})}return l}function o(l,u,h){return u in l?Object.defineProperty(l,u,{value:h,enumerable:!0,configurable:!0,writable:!0}):l[u]=h,l}var a=function(u,h){var d=s({},u,h.attrs);return(0,e.createVNode)(n.default,s({},d,{icon:t.default}),null)};a.displayName="CheckCircleOutlined",a.inheritAttrs=!1;var c=a;r.default=c})($u);var Wu={},va={};Object.defineProperty(va,"__esModule",{value:!0});var cE={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"};va.default=cE;(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=Q.exports,t=i(va),n=i(dt);function i(l){return l&&l.__esModule?l:{default:l}}function s(l){for(var u=1;u<arguments.length;u++){var h=arguments[u]!=null?Object(arguments[u]):{},d=Object.keys(h);typeof Object.getOwnPropertySymbols=="function"&&(d=d.concat(Object.getOwnPropertySymbols(h).filter(function(p){return Object.getOwnPropertyDescriptor(h,p).enumerable}))),d.forEach(function(p){o(l,p,h[p])})}return l}function o(l,u,h){return u in l?Object.defineProperty(l,u,{value:h,enumerable:!0,configurable:!0,writable:!0}):l[u]=h,l}var a=function(u,h){var d=s({},u,h.attrs);return(0,e.createVNode)(n.default,s({},d,{icon:t.default}),null)};a.displayName="InfoCircleOutlined",a.inheritAttrs=!1;var c=a;r.default=c})(Wu);var Yu={},ba={};Object.defineProperty(ba,"__esModule",{value:!0});var uE={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"}},{tag:"path",attrs:{d:"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"close-circle",theme:"outlined"};ba.default=uE;(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=Q.exports,t=i(ba),n=i(dt);function i(l){return l&&l.__esModule?l:{default:l}}function s(l){for(var u=1;u<arguments.length;u++){var h=arguments[u]!=null?Object(arguments[u]):{},d=Object.keys(h);typeof Object.getOwnPropertySymbols=="function"&&(d=d.concat(Object.getOwnPropertySymbols(h).filter(function(p){return Object.getOwnPropertyDescriptor(h,p).enumerable}))),d.forEach(function(p){o(l,p,h[p])})}return l}function o(l,u,h){return u in l?Object.defineProperty(l,u,{value:h,enumerable:!0,configurable:!0,writable:!0}):l[u]=h,l}var a=function(u,h){var d=s({},u,h.attrs);return(0,e.createVNode)(n.default,s({},d,{icon:t.default}),null)};a.displayName="CloseCircleOutlined",a.inheritAttrs=!1;var c=a;r.default=c})(Yu);var qu={},Ma={};Object.defineProperty(Ma,"__esModule",{value:!0});var hE={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"};Ma.default=hE;(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=Q.exports,t=i(Ma),n=i(dt);function i(l){return l&&l.__esModule?l:{default:l}}function s(l){for(var u=1;u<arguments.length;u++){var h=arguments[u]!=null?Object(arguments[u]):{},d=Object.keys(h);typeof Object.getOwnPropertySymbols=="function"&&(d=d.concat(Object.getOwnPropertySymbols(h).filter(function(p){return Object.getOwnPropertyDescriptor(h,p).enumerable}))),d.forEach(function(p){o(l,p,h[p])})}return l}function o(l,u,h){return u in l?Object.defineProperty(l,u,{value:h,enumerable:!0,configurable:!0,writable:!0}):l[u]=h,l}var a=function(u,h){var d=s({},u,h.attrs);return(0,e.createVNode)(n.default,s({},d,{icon:t.default}),null)};a.displayName="ExclamationCircleOutlined",a.inheritAttrs=!1;var c=a;r.default=c})(qu);var Xu={},Ea={};Object.defineProperty(Ea,"__esModule",{value:!0});var dE={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"};Ea.default=dE;(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=Q.exports,t=i(Ea),n=i(dt);function i(l){return l&&l.__esModule?l:{default:l}}function s(l){for(var u=1;u<arguments.length;u++){var h=arguments[u]!=null?Object(arguments[u]):{},d=Object.keys(h);typeof Object.getOwnPropertySymbols=="function"&&(d=d.concat(Object.getOwnPropertySymbols(h).filter(function(p){return Object.getOwnPropertyDescriptor(h,p).enumerable}))),d.forEach(function(p){o(l,p,h[p])})}return l}function o(l,u,h){return u in l?Object.defineProperty(l,u,{value:h,enumerable:!0,configurable:!0,writable:!0}):l[u]=h,l}var a=function(u,h){var d=s({},u,h.attrs);return(0,e.createVNode)(n.default,s({},d,{icon:t.default}),null)};a.displayName="CloseOutlined",a.inheritAttrs=!1;var c=a;r.default=c})(Xu);var St=oe.exports;Object.defineProperty(Qr,"__esModule",{value:!0});Qr.getInstance=Qr.default=void 0;var Nt=Q.exports,Qu=St(ed),Zu=St(Ze.exports),pE=St(yr.exports),fE=St(Gn),mE=St($u),gE=St(Wu),yE=St(Yu),vE=St(qu),bE=St(Xu),Qn=W,ME=Be,EE=St(Zt),SE=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(h){o(h)}}function c(u){try{l(n.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(r,e||[])).next())})},br={},Ju=4.5,eh="24px",th="24px",Sa="",rh="topRight",nh=function(){return document.body},ih=null,Ca=!1,sh;function CE(r){var e=r.duration,t=r.placement,n=r.bottom,i=r.top,s=r.getContainer,o=r.closeIcon,a=r.prefixCls;a!==void 0&&(Sa=a),e!==void 0&&(Ju=e),t!==void 0&&(rh=t),n!==void 0&&(th=typeof n=="number"?"".concat(n,"px"):n),i!==void 0&&(eh=typeof i=="number"?"".concat(i,"px"):i),s!==void 0&&(nh=s),o!==void 0&&(ih=o),r.rtl!==void 0&&(Ca=r.rtl),r.maxCount!==void 0&&(sh=r.maxCount)}function wE(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:eh,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:th,n;switch(r){case"topLeft":n={left:"0px",top:e,bottom:"auto"};break;case"topRight":n={right:"0px",top:e,bottom:"auto"};break;case"bottomLeft":n={left:"0px",top:"auto",bottom:t};break;default:n={right:"0px",top:"auto",bottom:t};break}return n}function xE(r,e){var t=r.prefixCls,n=r.placement,i=n===void 0?rh:n,s=r.getContainer,o=s===void 0?nh:s,a=r.top,c=r.bottom,l=r.closeIcon,u=l===void 0?ih:l,h=r.appContext,d=(0,ME.globalConfig)(),p=d.getPrefixCls,v=p("notification",t||Sa),E="".concat(v,"-").concat(i,"-").concat(Ca),x=br[E];if(x){Promise.resolve(x).then(function(C){e(C)});return}var m=(0,EE.default)("".concat(v,"-").concat(i),(0,pE.default)({},"".concat(v,"-rtl"),Ca===!0));fE.default.newInstance({name:"notification",prefixCls:t||Sa,class:m,style:wE(i,a,c),appContext:h,getContainer:o,closeIcon:function(g){var y=g.prefixCls,M=(0,Nt.createVNode)("span",{class:"".concat(y,"-close-x")},[(0,Qn.renderHelper)(u,{},(0,Nt.createVNode)(bE.default,{class:"".concat(y,"-close-icon")},null))]);return M},maxCount:sh,hasTransitionName:!0},function(C){br[E]=C,e(C)})}var _E={success:mE.default,info:gE.default,error:yE.default,warning:vE.default};function OE(r){var e=r.icon,t=r.type,n=r.description,i=r.message,s=r.btn,o=r.duration===void 0?Ju:r.duration;xE(r,function(a){a.notice({content:function(l){var u=l.prefixCls,h="".concat(u,"-notice"),d=null;if(e)d=function(){return(0,Nt.createVNode)("span",{class:"".concat(h,"-icon")},[(0,Qn.renderHelper)(e)])};else if(t){var p=_E[t];d=function(){return(0,Nt.createVNode)(p,{class:"".concat(h,"-icon ").concat(h,"-icon-").concat(t)},null)}}return(0,Nt.createVNode)("div",{class:d?"".concat(h,"-with-icon"):""},[d&&d(),(0,Nt.createVNode)("div",{class:"".concat(h,"-message")},[!n&&d?(0,Nt.createVNode)("span",{class:"".concat(h,"-message-single-line-auto-margin")},null):null,(0,Qn.renderHelper)(i)]),(0,Nt.createVNode)("div",{class:"".concat(h,"-description")},[(0,Qn.renderHelper)(n)]),s?(0,Nt.createVNode)("span",{class:"".concat(h,"-btn")},[(0,Qn.renderHelper)(s)]):null])},duration:o,closable:!0,onClose:r.onClose,onClick:r.onClick,key:r.key,style:r.style||{},class:r.class})})}var Zn={open:OE,close:function(e){Object.keys(br).forEach(function(t){return Promise.resolve(br[t]).then(function(n){n.removeNotice(e)})})},config:CE,destroy:function(){Object.keys(br).forEach(function(e){Promise.resolve(br[e]).then(function(t){t.destroy()}),delete br[e]})}},TE=["success","info","warning","error"];TE.forEach(function(r){Zn[r]=function(e){return Zn.open((0,Zu.default)((0,Zu.default)({},e),{type:r}))}});Zn.warn=Zn.warning;var RE=function(e){return SE(void 0,void 0,void 0,Qu.default.mark(function t(){return Qu.default.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",null);case 1:case"end":return i.stop()}},t)}))};Qr.getInstance=RE;var AE=Zn;Qr.default=AE;var wa={},PE=Cr(td),Jn={},ei={};Object.defineProperty(ei,"__esModule",{value:!0});ei.default=void 0;function LE(){return!!(typeof window!="undefined"&&window.document&&window.document.createElement)}var IE=LE;ei.default=IE;var DE=oe.exports;Object.defineProperty(Jn,"__esModule",{value:!0});Jn.injectCSS=_a;Jn.removeCSS=zE;Jn.updateCSS=kE;var jE=DE(ei),NE="vc-util-key";function oh(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=r.mark;return e?e.startsWith("data-")?e:"data-".concat(e):NE}function xa(r){if(r.attachTo)return r.attachTo;var e=document.querySelector("head");return e||document.body}function _a(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t,n;if(!(0,jE.default)())return null;var i=document.createElement("style");((t=e.csp)===null||t===void 0?void 0:t.nonce)&&(i.nonce=(n=e.csp)===null||n===void 0?void 0:n.nonce),i.innerHTML=r;var s=xa(e),o=s.firstChild;return e.prepend&&s.prepend?s.prepend(i):e.prepend&&o?s.insertBefore(i,o):s.appendChild(i),i}var Oa=new Map;function ah(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=xa(e);return Array.from(Oa.get(t).children).find(function(n){return n.tagName==="STYLE"&&n.getAttribute(oh(e))===r})}function zE(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t,n=ah(r,e);(t=n==null?void 0:n.parentNode)===null||t===void 0||t.removeChild(n)}function kE(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n,i,s,o=xa(t);if(!Oa.has(o)){var a=_a("",t),c=a.parentNode;Oa.set(o,c),c.removeChild(a)}var l=ah(e,t);if(l)return((n=t.csp)===null||n===void 0?void 0:n.nonce)&&l.nonce!==((i=t.csp)===null||i===void 0?void 0:i.nonce)&&(l.nonce=(s=t.csp)===null||s===void 0?void 0:s.nonce),l.innerHTML!==r&&(l.innerHTML=r),l;var u=_a(r,t);return u.setAttribute(oh(t),e),u}var lh={};(function(r){var e=wr.exports;Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,Object.defineProperty(r,"resetWarned",{enumerable:!0,get:function(){return t.resetWarned}});var t=i(ht);function n(o){if(typeof WeakMap!="function")return null;var a=new WeakMap,c=new WeakMap;return(n=function(u){return u?c:a})(o)}function i(o,a){if(!a&&o&&o.__esModule)return o;if(o===null||e(o)!=="object"&&typeof o!="function")return{default:o};var c=n(a);if(c&&c.has(o))return c.get(o);var l={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in o)if(h!=="default"&&Object.prototype.hasOwnProperty.call(o,h)){var d=u?Object.getOwnPropertyDescriptor(o,h):null;d&&(d.get||d.set)?Object.defineProperty(l,h,d):l[h]=o[h]}return l.default=o,c&&c.set(o,l),l}var s=function(a,c,l){(0,t.default)(a,"[ant-design-vue: ".concat(c,"] ").concat(l))};r.default=s})(lh);var ch=oe.exports;Object.defineProperty(wa,"__esModule",{value:!0});wa.registerTheme=GE;var Ta=PE,uh=Bu,$E=Jn,BE=ch(ei),FE=ch(lh),HE="-ant-".concat(Date.now(),"-").concat(Math.random());function GE(r,e){var t={},n=function(u,h){var d=u.clone();return d=(h==null?void 0:h(d))||d,d.toRgbString()},i=function(u,h){var d=new Ta.TinyColor(u),p=(0,uh.generate)(d.toRgbString());t["".concat(h,"-color")]=n(d),t["".concat(h,"-color-disabled")]=p[1],t["".concat(h,"-color-hover")]=p[4],t["".concat(h,"-color-active")]=p[7],t["".concat(h,"-color-outline")]=d.clone().setAlpha(.2).toRgbString(),t["".concat(h,"-color-deprecated-bg")]=p[1],t["".concat(h,"-color-deprecated-border")]=p[3]};if(e.primaryColor){i(e.primaryColor,"primary");var s=new Ta.TinyColor(e.primaryColor),o=(0,uh.generate)(s.toRgbString());o.forEach(function(l,u){t["primary-".concat(u+1)]=l}),t["primary-color-deprecated-l-35"]=n(s,function(l){return l.lighten(35)}),t["primary-color-deprecated-l-20"]=n(s,function(l){return l.lighten(20)}),t["primary-color-deprecated-t-20"]=n(s,function(l){return l.tint(20)}),t["primary-color-deprecated-t-50"]=n(s,function(l){return l.tint(50)}),t["primary-color-deprecated-f-12"]=n(s,function(l){return l.setAlpha(l.getAlpha()*.12)});var a=new Ta.TinyColor(o[0]);t["primary-color-active-deprecated-f-30"]=n(a,function(l){return l.setAlpha(l.getAlpha()*.3)}),t["primary-color-active-deprecated-d-02"]=n(a,function(l){return l.darken(2)})}e.successColor&&i(e.successColor,"success"),e.warningColor&&i(e.warningColor,"warning"),e.errorColor&&i(e.errorColor,"error"),e.infoColor&&i(e.infoColor,"info");var c=Object.keys(t).map(function(l){return"--".concat(r,"-").concat(l,": ").concat(t[l],";")});(0,BE.default)()?(0,$E.updateCSS)(`
  :root {
    `.concat(c.join(`
`),`
  }
  `),"".concat(HE,"-dynamic-theme")):(0,FE.default)(!1,"ConfigProvider","SSR do not support dynamic theme with css variables.")}var et={};Object.defineProperty(et,"__esModule",{value:!0});et.useProvideGlobalForm=et.useInjectGlobalForm=et.configProviderProps=et.GlobalFormContextKey=et.GlobalConfigContextKey=void 0;var hh=Q.exports,Ra=Symbol("GlobalFormContextKey");et.GlobalFormContextKey=Ra;var UE=function(e){(0,hh.provide)(Ra,e)};et.useProvideGlobalForm=UE;var VE=function(){return(0,hh.inject)(Ra,{})};et.useInjectGlobalForm=VE;var KE=Symbol("GlobalConfigContextKey");et.GlobalConfigContextKey=KE;var WE=function(){return{getTargetContainer:{type:Function},getPopupContainer:{type:Function},prefixCls:String,getPrefixCls:{type:Function},renderEmpty:{type:Function},transformCellText:{type:Function},csp:{type:Object,default:void 0},input:{type:Object},autoInsertSpaceInButton:{type:Boolean,default:void 0},locale:{type:Object,default:void 0},pageHeader:{type:Object},componentSize:{type:String},direction:{type:String},space:{type:Object},virtual:{type:Boolean,default:void 0},dropdownMatchSelectWidth:{type:[Number,Boolean],default:!0},form:{type:Object,default:void 0},notUpdateGlobalConfig:Boolean}};et.configProviderProps=WE;var Zr=oe.exports,YE=wr.exports;Object.defineProperty(Be,"__esModule",{value:!0});Be.globalConfigForApi=Be.globalConfig=Be.defaultPrefixCls=Be.defaultConfigProvider=Be.default=void 0;var Re=Q.exports,tr=Zr(Ze.exports),dh=Zr(vs),ph=e1(Xr),qE=Zr(Wr),XE=Zr(qt),QE=Zr(Qr),ZE=wa,JE=Zr(Un),fh=et;function mh(r){if(typeof WeakMap!="function")return null;var e=new WeakMap,t=new WeakMap;return(mh=function(i){return i?t:e})(r)}function e1(r,e){if(!e&&r&&r.__esModule)return r;if(r===null||YE(r)!=="object"&&typeof r!="function")return{default:r};var t=mh(e);if(t&&t.has(r))return t.get(r);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in r)if(s!=="default"&&Object.prototype.hasOwnProperty.call(r,s)){var o=i?Object.getOwnPropertyDescriptor(r,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=r[s]}return n.default=r,t&&t.set(r,n),n}var gh="ant";Be.defaultPrefixCls=gh;function Jr(){return tt.prefixCls||gh}var Aa=(0,Re.reactive)({}),yh=(0,Re.reactive)({}),tt=(0,Re.reactive)({});Be.globalConfigForApi=tt;(0,Re.watchEffect)(function(){(0,tr.default)(tt,Aa,yh),tt.prefixCls=Jr(),tt.getPrefixCls=function(r,e){return e||(r?"".concat(tt.prefixCls,"-").concat(r):tt.prefixCls)},tt.getRootPrefixCls=function(r,e){return r||(tt.prefixCls?tt.prefixCls:e&&e.includes("-")?e.replace(/^(.*)-[^-]*$/,"$1"):Jr())}});var Pa,t1=function(e){Pa&&Pa(),Pa=(0,Re.watchEffect)(function(){(0,tr.default)(yh,(0,Re.reactive)(e))}),e.theme&&(0,ZE.registerTheme)(Jr(),e.theme)},r1=function(){return{getPrefixCls:function(t,n){return n||(t?"".concat(Jr(),"-").concat(t):Jr())},getRootPrefixCls:function(t,n){return t||(tt.prefixCls?tt.prefixCls:n&&n.includes("-")?n.replace(/^(.*)-[^-]*$/,"$1"):Jr())}}};Be.globalConfig=r1;var ti=(0,Re.defineComponent)({name:"AConfigProvider",inheritAttrs:!1,props:(0,fh.configProviderProps)(),setup:function(e,t){var n=t.slots,i=function(h,d){var p=e.prefixCls,v=p===void 0?"ant":p;return d||(h?"".concat(v,"-").concat(h):v)},s=function(h){var d=e.renderEmpty||n.renderEmpty||dh.default;return d(h)},o=function(h,d){var p=e.prefixCls;if(d)return d;var v=p||i("");return h?"".concat(v,"-").concat(h):v},a=(0,Re.reactive)((0,tr.default)((0,tr.default)({},e),{getPrefixCls:o,renderEmpty:s}));Object.keys(e).forEach(function(u){(0,Re.watch)(function(){return e[u]},function(){a[u]=e[u]})}),e.notUpdateGlobalConfig||((0,tr.default)(Aa,a),(0,Re.watch)(a,function(){(0,tr.default)(Aa,a)}));var c=(0,Re.computed)(function(){var u,h,d={};return e.locale&&(d=((u=e.locale.Form)===null||u===void 0?void 0:u.defaultValidateMessages)||((h=JE.default.Form)===null||h===void 0?void 0:h.defaultValidateMessages)||{}),e.form&&e.form.validateMessages&&(d=(0,tr.default)((0,tr.default)({},d),e.form.validateMessages)),d});(0,fh.useProvideGlobalForm)({validateMessages:c}),(0,Re.provide)("configProvider",a);var l=function(h){var d;return(0,Re.createVNode)(ph.default,{locale:e.locale||h,ANT_MARK__:ph.ANT_MARK},{default:function(){return[(d=n.default)===null||d===void 0?void 0:d.call(n)]}})};return(0,Re.watchEffect)(function(){e.direction&&(XE.default.config({rtl:e.direction==="rtl"}),QE.default.config({rtl:e.direction==="rtl"}))}),function(){return(0,Re.createVNode)(qE.default,{children:function(h,d,p){return l(p)}},null)}}}),n1=(0,Re.reactive)({getPrefixCls:function(e,t){return t||(e?"ant-".concat(e):"ant")},renderEmpty:dh.default,direction:"ltr"});Be.defaultConfigProvider=n1;ti.config=t1;ti.install=function(r){r.component(ti.name,ti)};var i1=ti;Be.default=i1;var Ds=oe.exports,s1=wr.exports;Object.defineProperty(ds,"__esModule",{value:!0});ds.default=void 0;var Ae=Q.exports,ri=Ds(ps.exports),vh=Ds(yr.exports),ni=Ds(Ze.exports),o1=be,a1=Ds(ms),bh=l1(Be);function Mh(r){if(typeof WeakMap!="function")return null;var e=new WeakMap,t=new WeakMap;return(Mh=function(i){return i?t:e})(r)}function l1(r,e){if(!e&&r&&r.__esModule)return r;if(r===null||s1(r)!=="object"&&typeof r!="function")return{default:r};var t=Mh(e);if(t&&t.has(r))return t.get(r);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in r)if(s!=="default"&&Object.prototype.hasOwnProperty.call(r,s)){var o=i?Object.getOwnPropertyDescriptor(r,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=r[s]}return n.default=r,t&&t.set(r,n),n}var c1=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t},Eh=0,u1=Date.now();function Sh(){var r=Eh;return Eh+=1,"rcNotification_".concat(u1,"_").concat(r)}var La=(0,Ae.defineComponent)({name:"Notification",inheritAttrs:!1,props:["prefixCls","transitionName","animation","maxCount","closeIcon"],setup:function(e,t){var n=t.attrs,i=t.expose,s=t.slots,o=new Map,a=(0,Ae.ref)([]),c=(0,Ae.computed)(function(){var h=e.prefixCls,d=e.animation,p=d===void 0?"fade":d,v=e.transitionName;return!v&&p&&(v="".concat(h,"-").concat(p)),(0,o1.getTransitionGroupProps)(v)}),l=function(d,p){var v=d.key||Sh(),E=(0,ni.default)((0,ni.default)({},d),{key:v}),x=e.maxCount,m=a.value.map(function(g){return g.notice.key}).indexOf(v),C=a.value.concat();m!==-1?C.splice(m,1,{notice:E,holderCallback:p}):(x&&a.value.length>=x&&(E.key=C[0].notice.key,E.updateMark=Sh(),E.userPassKey=v,C.shift()),C.push({notice:E,holderCallback:p})),a.value=C},u=function(d){a.value=a.value.filter(function(p){var v=p.notice,E=v.key,x=v.userPassKey,m=x||E;return m!==d})};return i({add:l,remove:u,notices:a}),function(){var h,d,p=e.prefixCls,v=e.closeIcon,E=v===void 0?(d=s.closeIcon)===null||d===void 0?void 0:d.call(s,{prefixCls:p}):v,x=a.value.map(function(C,g){var y=C.notice,M=C.holderCallback,S=g===a.value.length-1?y.updateMark:void 0,w=y.key,_=y.userPassKey,R=y.content,I=(0,ni.default)((0,ni.default)((0,ni.default)({prefixCls:p,closeIcon:typeof E=="function"?E({prefixCls:p}):E},y),y.props),{key:w,noticeKey:_||w,updateMark:S,onClose:function(B){var Y;u(B),(Y=y.onClose)===null||Y===void 0||Y.call(y)},onClick:y.onClick});return M?(0,Ae.createVNode)("div",{key:w,class:"".concat(p,"-hook-holder"),ref:function(B){typeof w!="undefined"&&(B?(o.set(w,B),M(B,I)):o.delete(w))}},null):(0,Ae.createVNode)(a1.default,I,{default:function(){return[typeof R=="function"?R({prefixCls:p}):R]}})}),m=(h={},(0,vh.default)(h,p,1),(0,vh.default)(h,n.class,!!n.class),h);return(0,Ae.createVNode)("div",{class:m,style:n.style||{top:"65px",left:"50%"}},[(0,Ae.createVNode)(Ae.TransitionGroup,(0,ri.default)({tag:"div"},c.value),{default:function(){return[x]}})])}}});La.newInstance=function(e,t){var n=e||{},i=n.name,s=i===void 0?"notification":i,o=n.getContainer,a=n.appContext,c=n.prefixCls,l=n.rootPrefixCls,u=n.transitionName,h=n.hasTransitionName,d=c1(n,["name","getContainer","appContext","prefixCls","rootPrefixCls","transitionName","hasTransitionName"]),p=document.createElement("div");if(o){var v=o();v.appendChild(p)}else document.body.appendChild(p);var E=(0,Ae.defineComponent)({name:"NotificationWrapper",setup:function(C,g){var y=g.attrs,M=(0,Ae.ref)();return(0,Ae.onMounted)(function(){t({notice:function(w){var _;(_=M.value)===null||_===void 0||_.add(w)},removeNotice:function(w){var _;(_=M.value)===null||_===void 0||_.remove(w)},destroy:function(){(0,Ae.render)(null,p),p.parentNode&&p.parentNode.removeChild(p)},component:M})}),function(){var S=bh.globalConfigForApi,w=S.getPrefixCls(s,c),_=S.getRootPrefixCls(l,w),R=h?u:"".concat(_,"-").concat(u);return(0,Ae.createVNode)(bh.default,(0,ri.default)((0,ri.default)({},S),{},{notUpdateGlobalConfig:!0,prefixCls:_}),{default:function(){return[(0,Ae.createVNode)(La,(0,ri.default)((0,ri.default)({ref:M},y),{},{prefixCls:w,transitionName:R}),null)]}})}}}),x=(0,Ae.createVNode)(E,d);x.appContext=a||x.appContext,(0,Ae.render)(x,p)};var h1=La;ds.default=h1;var d1=oe.exports;Object.defineProperty(Gn,"__esModule",{value:!0});Gn.default=void 0;var p1=d1(ds),f1=p1.default;Gn.default=f1;var Ch={},Ia={};Object.defineProperty(Ia,"__esModule",{value:!0});var m1={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"};Ia.default=m1;(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=Q.exports,t=i(Ia),n=i(dt);function i(l){return l&&l.__esModule?l:{default:l}}function s(l){for(var u=1;u<arguments.length;u++){var h=arguments[u]!=null?Object(arguments[u]):{},d=Object.keys(h);typeof Object.getOwnPropertySymbols=="function"&&(d=d.concat(Object.getOwnPropertySymbols(h).filter(function(p){return Object.getOwnPropertyDescriptor(h,p).enumerable}))),d.forEach(function(p){o(l,p,h[p])})}return l}function o(l,u,h){return u in l?Object.defineProperty(l,u,{value:h,enumerable:!0,configurable:!0,writable:!0}):l[u]=h,l}var a=function(u,h){var d=s({},u,h.attrs);return(0,e.createVNode)(n.default,s({},d,{icon:t.default}),null)};a.displayName="LoadingOutlined",a.inheritAttrs=!1;var c=a;r.default=c})(Ch);var wh={},Da={};Object.defineProperty(Da,"__esModule",{value:!0});var g1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"};Da.default=g1;(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=Q.exports,t=i(Da),n=i(dt);function i(l){return l&&l.__esModule?l:{default:l}}function s(l){for(var u=1;u<arguments.length;u++){var h=arguments[u]!=null?Object(arguments[u]):{},d=Object.keys(h);typeof Object.getOwnPropertySymbols=="function"&&(d=d.concat(Object.getOwnPropertySymbols(h).filter(function(p){return Object.getOwnPropertyDescriptor(h,p).enumerable}))),d.forEach(function(p){o(l,p,h[p])})}return l}function o(l,u,h){return u in l?Object.defineProperty(l,u,{value:h,enumerable:!0,configurable:!0,writable:!0}):l[u]=h,l}var a=function(u,h){var d=s({},u,h.attrs);return(0,e.createVNode)(n.default,s({},d,{icon:t.default}),null)};a.displayName="ExclamationCircleFilled",a.inheritAttrs=!1;var c=a;r.default=c})(wh);var xh={},ja={};Object.defineProperty(ja,"__esModule",{value:!0});var y1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"}}]},name:"close-circle",theme:"filled"};ja.default=y1;(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=Q.exports,t=i(ja),n=i(dt);function i(l){return l&&l.__esModule?l:{default:l}}function s(l){for(var u=1;u<arguments.length;u++){var h=arguments[u]!=null?Object(arguments[u]):{},d=Object.keys(h);typeof Object.getOwnPropertySymbols=="function"&&(d=d.concat(Object.getOwnPropertySymbols(h).filter(function(p){return Object.getOwnPropertyDescriptor(h,p).enumerable}))),d.forEach(function(p){o(l,p,h[p])})}return l}function o(l,u,h){return u in l?Object.defineProperty(l,u,{value:h,enumerable:!0,configurable:!0,writable:!0}):l[u]=h,l}var a=function(u,h){var d=s({},u,h.attrs);return(0,e.createVNode)(n.default,s({},d,{icon:t.default}),null)};a.displayName="CloseCircleFilled",a.inheritAttrs=!1;var c=a;r.default=c})(xh);var _h={},Na={};Object.defineProperty(Na,"__esModule",{value:!0});var v1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};Na.default=v1;(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=Q.exports,t=i(Na),n=i(dt);function i(l){return l&&l.__esModule?l:{default:l}}function s(l){for(var u=1;u<arguments.length;u++){var h=arguments[u]!=null?Object(arguments[u]):{},d=Object.keys(h);typeof Object.getOwnPropertySymbols=="function"&&(d=d.concat(Object.getOwnPropertySymbols(h).filter(function(p){return Object.getOwnPropertyDescriptor(h,p).enumerable}))),d.forEach(function(p){o(l,p,h[p])})}return l}function o(l,u,h){return u in l?Object.defineProperty(l,u,{value:h,enumerable:!0,configurable:!0,writable:!0}):l[u]=h,l}var a=function(u,h){var d=s({},u,h.attrs);return(0,e.createVNode)(n.default,s({},d,{icon:t.default}),null)};a.displayName="CheckCircleFilled",a.inheritAttrs=!1;var c=a;r.default=c})(_h);var Oh={},za={};Object.defineProperty(za,"__esModule",{value:!0});var b1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"};za.default=b1;(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=Q.exports,t=i(za),n=i(dt);function i(l){return l&&l.__esModule?l:{default:l}}function s(l){for(var u=1;u<arguments.length;u++){var h=arguments[u]!=null?Object(arguments[u]):{},d=Object.keys(h);typeof Object.getOwnPropertySymbols=="function"&&(d=d.concat(Object.getOwnPropertySymbols(h).filter(function(p){return Object.getOwnPropertyDescriptor(h,p).enumerable}))),d.forEach(function(p){o(l,p,h[p])})}return l}function o(l,u,h){return u in l?Object.defineProperty(l,u,{value:h,enumerable:!0,configurable:!0,writable:!0}):l[u]=h,l}var a=function(u,h){var d=s({},u,h.attrs);return(0,e.createVNode)(n.default,s({},d,{icon:t.default}),null)};a.displayName="InfoCircleFilled",a.inheritAttrs=!1;var c=a;r.default=c})(Oh);var zt=oe.exports;Object.defineProperty(qt,"__esModule",{value:!0});qt.attachTypeApi=$h;qt.getInstance=Bh=qt.default=void 0;qt.getKeyThenIncreaseKey=kh;var ka=Q.exports,Th=zt(Ze.exports),Rh=zt(yr.exports),M1=zt(Gn),E1=zt(Ch),S1=zt(wh),C1=zt(xh),w1=zt(_h),x1=zt(Oh),_1=zt(Zt),Ah=3,Ph,je,O1=1,Lh="",Ih="move-up",Dh=!1,jh=function(){return document.body},Nh,zh=!1;function kh(){return O1++}function T1(r){r.top!==void 0&&(Ph=r.top,je=null),r.duration!==void 0&&(Ah=r.duration),r.prefixCls!==void 0&&(Lh=r.prefixCls),r.getContainer!==void 0&&(jh=r.getContainer,je=null),r.transitionName!==void 0&&(Ih=r.transitionName,je=null,Dh=!0),r.maxCount!==void 0&&(Nh=r.maxCount,je=null),r.rtl!==void 0&&(zh=r.rtl)}function R1(r,e){if(je){e(je);return}M1.default.newInstance({appContext:r.appContext,prefixCls:r.prefixCls||Lh,rootPrefixCls:r.rootPrefixCls,transitionName:Ih,hasTransitionName:Dh,style:{top:Ph},getContainer:jh||r.getPopupContainer,maxCount:Nh,name:"message"},function(t){if(je){e(je);return}je=t,e(t)})}var A1={info:x1.default,success:w1.default,error:C1.default,warning:S1.default,loading:E1.default};function P1(r){var e=r.duration!==void 0?r.duration:Ah,t=r.key||kh(),n=new Promise(function(s){var o=function(){return typeof r.onClose=="function"&&r.onClose(),s(!0)};R1(r,function(a){a.notice({key:t,duration:e,style:r.style||{},class:r.class,content:function(l){var u,h=l.prefixCls,d=A1[r.type],p=d?(0,ka.createVNode)(d,null,null):"",v=(0,_1.default)("".concat(h,"-custom-content"),(u={},(0,Rh.default)(u,"".concat(h,"-").concat(r.type),r.type),(0,Rh.default)(u,"".concat(h,"-rtl"),zh===!0),u));return(0,ka.createVNode)("div",{class:v},[typeof r.icon=="function"?r.icon():r.icon||p,(0,ka.createVNode)("span",null,[typeof r.content=="function"?r.content():r.content])])},onClose:o,onClick:r.onClick})})}),i=function(){je&&je.removeNotice(t)};return i.then=function(s,o){return n.then(s,o)},i.promise=n,i}function L1(r){return Object.prototype.toString.call(r)==="[object Object]"&&!!r.content}var js={open:P1,config:T1,destroy:function(e){if(je)if(e){var t=je,n=t.removeNotice;n(e)}else{var i=je,s=i.destroy;s(),je=null}}};function $h(r,e){r[e]=function(t,n,i){return L1(t)?r.open((0,Th.default)((0,Th.default)({},t),{type:e})):(typeof n=="function"&&(i=n,n=void 0),r.open({content:t,duration:n,type:e,onClose:i}))}}["success","info","warning","error","loading"].forEach(function(r){return $h(js,r)});js.warn=js.warning;var I1=function(){return null};qt.getInstance=I1;var D1=js,Bh=qt.default=D1;const rt=new ay;rt.loaderManager.setPath("/vis-three/");const Ns=Wa("\u6B63\u5728\u52A0\u8F7D3D\u8D44\u6E90\uFF1A0%");let $a;rt.loaderManager.addEventListener("beforeLoad",()=>{Ns.value="\u6B63\u5728\u52A0\u8F7D3D\u8D44\u6E90\uFF1A0%",$a=Bh.loading({content:()=>Ns.value,duration:0})});rt.loaderManager.addEventListener("loading",r=>{Ns.value=`\u6B63\u5728\u52A0\u8F7D3D\u8D44\u6E90\uFF1A${parseInt((r.loadSuccess/r.loadTotal*100).toString())}
    %`});rt.loaderManager.addEventListener("loaded",r=>{$a&&$a(),Ns.value="\u6B63\u5728\u52A0\u8F7D3D\u8D44\u6E90\uFF1A0%"});(async()=>{$.injectEngine=rt,$.injectScene=!0,$(b.WEBGLRENDERER,{clearColor:"rgba(10, 2, 10, 1)",physicallyCorrectLights:!0,toneMapping:qd,toneMappingExposure:3}),$(b.ORBITCONTROLS,{autoRotate:!0,autoRotateSpeed:.5,enableDamping:!0,maxDistance:200,minDistance:100,enablePan:!1});const r=$(b.SCENE);rt.setScene(r.vid);const e=$(b.PERSPECTIVECAMERA,{far:1e4,near:.01,position:{x:90,y:-90,z:100}});rt.setCamera(e.vid).setSize();const t=await rt.loadResourcesAsync(["/model/three.obj","/model/vis.obj","/texture/vis/colorMap.png","/skyBox/lightblue/px.png","/skyBox/lightblue/py.png","/skyBox/lightblue/pz.png","/skyBox/lightblue/nx.png","/skyBox/lightblue/ny.png","/skyBox/lightblue/nz.png"]),n=$(b.CUBETEXTURE,{cube:{px:"/skyBox/lightblue/px.png",py:"/skyBox/lightblue/py.png",pz:"/skyBox/lightblue/pz.png",nx:"/skyBox/lightblue/nx.png",ny:"/skyBox/lightblue/ny.png",nz:"/skyBox/lightblue/nz.png"}});r.background=n.vid,r.environment=n.vid,$(b.AMBIENTLIGHT,{intensity:1}),$(b.DIRECTIONALLIGHT,{color:"rgb(255, 255, 255)",position:{x:-10,y:40,z:20},intensity:1e3*4*Math.PI}),$(b.DIRECTIONALLIGHT,{color:"rgb(255, 255, 255)",position:{x:10,y:40,z:-20},intensity:1e3*4*Math.PI});const i=t.resourceConfig,s=$(b.LOADGEOMETRY,Object.assign(Object.values(i["/model/three.obj"].geometry)[0],{rotation:{x:Math.PI/2,y:-(Math.PI/180)*30},position:{x:.13,y:-.14},scale:{x:80,y:80,z:80}})),o=$(b.MESHSTANDARDMATERIAL,{color:"white",metalness:1,roughness:0,envMapIntensity:.8}),a=$(b.MESH,{geometry:s.vid,material:o.vid}),c=$(b.LOADGEOMETRY,Object.assign(Object.values(i["/model/vis.obj"].geometry)[0],{scale:{x:6,y:6,z:6}})),l=$(b.IMAGETEXTURE,{url:"/texture/vis/colorMap.png"}),u=$(b.MESHSTANDARDMATERIAL,{map:l.vid,metalness:1,roughness:0,transparent:!0,opacity:.8}),h=$(b.MESH,{geometry:c.vid,material:u.vid});$(b.SCRIPTANIMATION,{target:a.vid,attribute:".rotation.z",script:Gt.generateConfig("linearTime",{multiply:.2})}),$(b.SCRIPTANIMATION,{target:h.vid,attribute:".rotation.y",script:Gt.generateConfig("linearTime",{multiply:.7})}),console.log(rt),Fa.done()})();const j1=rd({setup(){const r=Wa(),e=t=>{window.location.href=t};return nd(()=>{rt.setDom(r.value).setSize().play(),window.addEventListener("resize",()=>{rt.setSize()})}),id(()=>{rt.dispose()}),{jump:e,docs:"/vis-three/docs/index.html",demo:"/vis-three/examples.html",github:"https://github.com/Shiotsukikaedesari/vis-three",gitee:"https://gitee.com/Shiotsukikaedesari/vis-three",renderWindow:r}}}),zs=r=>(od("data-v-887054fc"),r=r(),ad(),r),N1={class:"App-container"},z1={class:"ui"},k1=zs(()=>rr("div",{class:"title"},"VIS-THREE",-1)),$1=zs(()=>rr("div",{class:"intro"},"more convenient development for three.js",-1)),B1=zs(()=>rr("div",{class:"split-line"},null,-1)),F1={class:"operation"},H1=ui(" \u6587\u6863\uFF08docs\uFF09 "),G1=ui(" \u793A\u4F8B\uFF08demo\uFF09 "),U1=ui(" github "),V1=ui("gitee"),K1=zs(()=>rr("div",{class:"mask"},null,-1)),W1={ref:"renderWindow",class:"three"};function Y1(r,e,t,n,i,s){const o=Ya("a-button"),a=Ya("github-outlined");return ld(),sd("div",N1,[rr("div",z1,[k1,$1,B1,rr("div",F1,[nn(o,{type:"link",size:"large",onClick:e[0]||(e[0]=c=>r.jump(r.docs))},{default:sn(()=>[H1]),_:1}),nn(o,{type:"link",size:"large",onClick:e[1]||(e[1]=c=>r.jump(r.demo))},{default:sn(()=>[G1]),_:1}),nn(o,{type:"link",size:"large",onClick:e[2]||(e[2]=c=>r.jump(r.github))},{icon:sn(()=>[nn(a)]),default:sn(()=>[U1]),_:1}),nn(o,{type:"link",size:"large",onClick:e[3]||(e[3]=c=>r.jump(r.gitee))},{default:sn(()=>[V1]),_:1})])]),K1,rr("div",W1,null,512)])}var q1=Fh(j1,[["render",Y1],["__scopeId","data-v-887054fc"]]);Fa.start();cd(q1).use(ud).component(qa.displayName,qa).mount("#app");
