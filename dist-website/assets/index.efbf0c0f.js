import{n as Pa,_ as Rh}from"./nprogress.cc2648e5.js";import{i as he,h as Ah,N as Is,e as Ct,a as La,b as vn,m as bn,E as Ph,c as Ia,d as Ds,P as Da,f as js,g as ja,t as Lh,j as Ns,k as Na,l as Ih,n as Dh,o as jh,p as Nh,q as zh,r as En,s as kh,u as $h,_ as Mn,v as ri,w as Bh,x as Fh,y as Hh,z as Vh,A as za,B as Gh,C as Uh,D as Kh,F as ka,G as Wh,H as Jt,I as nr,J as rr,K as qh,L as Yh,M as Xh,O as ii,Q as Zh,R as Qh,S as $a}from"./Antd.8511b24e.js";import{m as Te,c as Cn,b as K,a as le,n as zs,o as Ba,G as Fa,B as Je,F as be,L as zt,p as si,q as ut,r as ks,s as et,t as St,M as kt,u as Jh,v as Ha,w as ed,V as Re,x as td,y as nd,z as Va,H as rd,P as wt,Q as $s,E as Ga,k as ir,I as id,l as oi,J as sd,d as Ua,O as tt,K as en,X as Bs,h as Ka,e as Fs,Y as Sn,Z as wn,_ as sr,$ as Wa,g as or,a0 as qa,a1 as ar,j as Ya,a2 as ht,W as od,a3 as Hs,a4 as ad,a5 as Vs,a6 as ld,a7 as cd,a8 as Xa,a9 as ud,aa as Za,ab as hd,ac as dd,ad as pd,ae as fd,af as md,ag as Qa,ah as Ja,ai as gd,aj as yd,ak as vd,al as bd,am as el,an as Ed,i as ai,ao as tl,ap as Md,aq as nl,C as Cd,ar as lr,as as _n,at as rl,R as Sd,au as wd,av as _d,aw as xd,f as Od,ax as Td,ay as Gs,az as Rd,aA as Ad,aB as Pd,aC as Ld,aD as Id,S as Dd,aE as jd,aF as il,aG as sl,aH as Nd}from"./three.10e2f352.js";import{T as zd,C as li,E as Us,R as Ks,a as kd,S as $d,b as Bd,c as Fd,U as Hd}from"./vis-three.864feab3.js";var Vd=Object.defineProperty,ol=Object.getOwnPropertySymbols,Gd=Object.prototype.hasOwnProperty,Ud=Object.prototype.propertyIsEnumerable,Ws=(n,e,t)=>e in n?Vd(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Kd=(n,e)=>{for(var t in e||(e={}))Gd.call(e,t)&&Ws(n,t,e[t]);if(ol)for(var t of ol(e))Ud.call(e,t)&&Ws(n,t,e[t]);return n},f=(n,e,t)=>(Ws(n,typeof e!="symbol"?e+"":e,t),t);class dt{constructor(){f(this,"listeners",new Map)}addEventListener(e,t){const r=this.listeners;r.has(e)||r.set(e,new Set),r.get(e).add(t)}hasEventListener(e,t){const r=this.listeners;return r.has(e)?r.get(e).has(t):!1}removeEventListener(e,t){const r=this.listeners;!r.has(e)||!r.get(e).has(t)||r.get(e).delete(t)}dispatchEvent(e){var t;const r=e.type,i=this.listeners;if(i.has(r))try{(t=i.get(r))==null||t.forEach(s=>{s.call(this,e)})}catch(s){console.error(s)}}clear(){this.listeners=new Map}useful(){return Boolean([...this.listeners.keys()].length)}}class Wd extends dt{constructor(e=0){super();f(this,"clock",new Cd),f(this,"animationFrame",-1),f(this,"fps",0),f(this,"timer",null),f(this,"playFun",()=>{}),f(this,"render",()=>{this.dispatchEvent({type:"render",delta:this.clock.getDelta(),total:this.clock.getElapsedTime()})}),f(this,"play",()=>{if(this.hasRendering()){console.warn("render manager is rendering.");return}this.dispatchEvent({type:"play"}),this.playFun()}),f(this,"stop",()=>{this.animationFrame!==-1&&(cancelAnimationFrame(this.animationFrame),this.animationFrame=-1),this.timer&&(clearTimeout(this.timer),this.timer=null),this.dispatchEvent({type:"stop"})}),f(this,"hasRendering",()=>Boolean(this.animationFrame!==-1||this.timer)),f(this,"hasVaildRender",()=>this.useful()),this.setFPS(e)}setFPS(e){return this.animationFrame!==-1&&cancelAnimationFrame(this.animationFrame),this.timer&&clearTimeout(this.timer),this.fps=e,e<=0?(this.fps=0,this.playFun=()=>{this.render(),this.animationFrame=requestAnimationFrame(this.playFun)}):this.playFun=()=>{this.timer=setTimeout(()=>{this.playFun()},e),this.render()},this.playFun(),this}dispose(){this.hasRendering()&&this.stop(),this.clear()}}const qd=function(){return this.renderManager?(console.warn("has installed render manager plugin."),!1):(this.renderManager=new Wd,this.render=function(){return this.renderManager.render(),this},this.play=function(){return this.renderManager.play(),this},this.stop=function(){return this.renderManager.stop(),this},this.addEventListener("dispose",()=>{this.renderManager.dispose()}),!0)};class Yd extends dt{constructor(e,t){super();f(this,"object"),f(this,"domElement"),f(this,"enabled",!0),f(this,"target",new K),f(this,"minDistance",0),f(this,"maxDistance",1/0),f(this,"minZoom",0),f(this,"maxZoom",1/0),f(this,"minPolarAngle",0),f(this,"maxPolarAngle",Math.PI),f(this,"minAzimuthAngle",-1/0),f(this,"maxAzimuthAngle",1/0),f(this,"enableDamping",!1),f(this,"dampingFactor",.05),f(this,"enableZoom",!0),f(this,"zoomSpeed",1),f(this,"enableRotate",!0),f(this,"rotateSpeed",1),f(this,"enablePan",!0),f(this,"panSpeed",1),f(this,"screenSpacePanning",!0),f(this,"keyPanSpeed",7),f(this,"autoRotate",!1),f(this,"autoRotateSpeed",2),f(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),f(this,"mouseButtons",{LEFT:null,MIDDLE:lr.DOLLY,RIGHT:lr.ROTATE}),f(this,"touches",{ONE:_n.ROTATE,TWO:_n.DOLLY_PAN}),f(this,"target0"),f(this,"position0"),f(this,"zoom0"),f(this,"_domElementKeyEvents",null),f(this,"spherical"),f(this,"reset"),f(this,"update"),f(this,"onContextMenu"),f(this,"onPointerDown"),f(this,"onPointerCancel"),f(this,"onMouseWheel"),f(this,"onPointerMove"),f(this,"onPointerUp"),f(this,"onKeyDown"),this.object=e||new Te,this.domElement=t||document.createElement("div"),this.domElement.style.touchAction="none",this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.update=(()=>{const O=new K,j=new $s().setFromUnitVectors(this.object.up,new K(0,1,0)),ae=j.clone().invert(),ve=new K,jt=new $s,Nt=2*Math.PI;return()=>{const Aa=this.object.position;O.copy(Aa).sub(this.target),O.applyQuaternion(j),o.setFromVector3(O),this.autoRotate&&i===r.NONE&&x(C()),this.enableDamping?(o.theta+=a.theta*this.dampingFactor,o.phi+=a.phi*this.dampingFactor):(o.theta+=a.theta,o.phi+=a.phi);let Et=this.minAzimuthAngle,Mt=this.maxAzimuthAngle;return isFinite(Et)&&isFinite(Mt)&&(Et<-Math.PI?Et+=Nt:Et>Math.PI&&(Et-=Nt),Mt<-Math.PI?Mt+=Nt:Mt>Math.PI&&(Mt-=Nt),Et<=Mt?o.theta=Math.max(Et,Math.min(Mt,o.theta)):o.theta=o.theta>(Et+Mt)/2?Math.max(Et,o.theta):Math.min(Mt,o.theta)),o.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,o.phi)),o.makeSafe(),o.radius*=c,o.radius=Math.max(this.minDistance,Math.min(this.maxDistance,o.radius)),this.enableDamping===!0?this.target.addScaledVector(l,this.dampingFactor):this.target.add(l),O.setFromSpherical(o),O.applyQuaternion(ae),Aa.copy(this.target).add(O),this.object.lookAt(this.target),this.enableDamping===!0?(a.theta*=1-this.dampingFactor,a.phi*=1-this.dampingFactor,l.multiplyScalar(1-this.dampingFactor)):(a.set(0,0,0),l.set(0,0,0)),c=1,u||ve.distanceToSquared(this.object.position)>s||8*(1-jt.dot(this.object.quaternion))>s?(this.dispatchEvent({type:"change"}),ve.copy(this.object.position),jt.copy(this.object.quaternion),u=!1,!0):!1}})();const r={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let i=r.NONE;const s=1e-6,o=new rl,a=new rl;let c=1;const l=new K;let u=!1;const h=new Re,d=new Re,p=new Re,v=new Re,M=new Re,_=new Re,m=new Re,w=new Re,g=new Re,y=[],b={},C=()=>2*Math.PI/60/60*this.autoRotateSpeed,S=()=>Math.pow(.95,this.zoomSpeed),x=O=>{a.theta-=O},R=O=>{a.phi-=O},I=function(){const O=new K;return function(ae,ve){O.setFromMatrixColumn(ve,0),O.multiplyScalar(-ae),l.add(O)}}(),k=(()=>{const O=new K;return(j,ae)=>{this.screenSpacePanning===!0?O.setFromMatrixColumn(ae,1):(O.setFromMatrixColumn(ae,0),O.crossVectors(this.object.up,O)),O.multiplyScalar(j),l.add(O)}})(),B=(()=>{const O=new K;return(j,ae)=>{const ve=this.domElement;if(this.object instanceof Te){const jt=this.object.position;O.copy(jt).sub(this.target);let Nt=O.length();Nt*=Math.tan(this.object.fov/2*Math.PI/180),I(2*j*Nt/ve.clientHeight,this.object.matrix),k(2*ae*Nt/ve.clientHeight,this.object.matrix)}else this.object instanceof tt?(I(j*(this.object.right-this.object.left)/this.object.zoom/ve.clientWidth,this.object.matrix),k(ae*(this.object.top-this.object.bottom)/this.object.zoom/ve.clientHeight,this.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),this.enablePan=!1)}})(),q=O=>{this.object instanceof Te?c/=O:this.object instanceof tt?(this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom*O)),this.object.updateProjectionMatrix(),u=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)},X=O=>{this.object instanceof Te?c*=O:this.object instanceof tt?(this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/O)),this.object.updateProjectionMatrix(),u=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)};function ge(O){h.set(O.clientX,O.clientY)}function ie(O){m.set(O.clientX,O.clientY)}function ye(O){v.set(O.clientX,O.clientY)}const Oe=O=>{d.set(O.clientX,O.clientY),p.subVectors(d,h).multiplyScalar(this.rotateSpeed);const j=this.domElement;x(2*Math.PI*p.x/j.clientHeight),R(2*Math.PI*p.y/j.clientHeight),h.copy(d),this.update()},Ve=O=>{w.set(O.clientX,O.clientY),g.subVectors(w,m),g.y>0?q(S()):g.y<0&&X(S()),m.copy(w),this.update()},ct=O=>{M.set(O.clientX,O.clientY),_.subVectors(M,v).multiplyScalar(this.panSpeed),B(_.x,_.y),v.copy(M),this.update()},Qe=O=>{O.deltaY<0?X(S()):O.deltaY>0&&q(S()),this.update()},Jn=O=>{let j=!1;switch(O.code){case this.keys.UP:B(0,this.keyPanSpeed),j=!0;break;case this.keys.BOTTOM:B(0,-this.keyPanSpeed),j=!0;break;case this.keys.LEFT:B(this.keyPanSpeed,0),j=!0;break;case this.keys.RIGHT:B(-this.keyPanSpeed,0),j=!0;break}j&&(O.preventDefault(),this.update())};function yn(){if(y.length===1)h.set(y[0].pageX,y[0].pageY);else{const O=.5*(y[0].pageX+y[1].pageX),j=.5*(y[0].pageY+y[1].pageY);h.set(O,j)}}function Qr(){if(y.length===1)v.set(y[0].pageX,y[0].pageY);else{const O=.5*(y[0].pageX+y[1].pageX),j=.5*(y[0].pageY+y[1].pageY);v.set(O,j)}}function Dt(){const O=y[0].pageX-y[1].pageX,j=y[0].pageY-y[1].pageY,ae=Math.sqrt(O*O+j*j);m.set(0,ae)}const As=()=>{this.enableZoom&&Dt(),this.enablePan&&Qr()},Jr=()=>{this.enableZoom&&Dt(),this.enableRotate&&yn()},er=O=>{if(y.length==1)d.set(O.pageX,O.pageY);else{const ae=Q(O),ve=.5*(O.pageX+ae.x),jt=.5*(O.pageY+ae.y);d.set(ve,jt)}p.subVectors(d,h).multiplyScalar(this.rotateSpeed);const j=this.domElement;x(2*Math.PI*p.x/j.clientHeight),R(2*Math.PI*p.y/j.clientHeight),h.copy(d)},ei=O=>{if(y.length===1)M.set(O.pageX,O.pageY);else{const j=Q(O),ae=.5*(O.pageX+j.x),ve=.5*(O.pageY+j.y);M.set(ae,ve)}_.subVectors(M,v).multiplyScalar(this.panSpeed),B(_.x,_.y),v.copy(M)},ti=O=>{const j=Q(O),ae=O.pageX-j.x,ve=O.pageY-j.y,jt=Math.sqrt(ae*ae+ve*ve);w.set(0,jt),g.set(0,Math.pow(w.y/m.y,this.zoomSpeed)),q(g.y),m.copy(w)},ni=O=>{this.enableZoom&&ti(O),this.enablePan&&ei(O)},Ps=O=>{this.enableZoom&&ti(O),this.enableRotate&&er(O)};this.onPointerDown=O=>{this.enabled!==!1&&(y.length===0&&(this.domElement.addEventListener("pointermove",this.onPointerMove),this.domElement.addEventListener("pointerup",this.onPointerUp)),D(O),O.pointerType==="touch"?P(O):Ls(O))};let tr=!1;this.onPointerMove=O=>{this.enabled!==!1&&(tr||(this.domElement.setPointerCapture(O.pointerId),tr=!0),O.pointerType==="touch"?N(O):L(O))},this.onPointerUp=O=>{this.enabled!==!1&&(tr=!1,O.pointerType==="touch"?z():T(O),G(O),y.length===0&&(this.domElement.releasePointerCapture(O.pointerId),this.domElement.removeEventListener("pointermove",this.onPointerMove),this.domElement.removeEventListener("pointerup",this.onPointerUp)))},this.onPointerCancel=O=>{G(O)};const Ls=O=>{let j;switch(O.button){case 0:j=this.mouseButtons.LEFT;break;case 1:j=this.mouseButtons.MIDDLE;break;case 2:j=this.mouseButtons.RIGHT;break;default:j=-1}switch(j){case lr.DOLLY:if(this.enableZoom===!1)return;ie(O),i=r.DOLLY;break;case lr.ROTATE:if(O.ctrlKey||O.metaKey||O.shiftKey){if(this.enablePan===!1)return;ye(O),i=r.PAN}else{if(this.enableRotate===!1)return;ge(O),i=r.ROTATE}break;case lr.PAN:if(O.ctrlKey||O.metaKey||O.shiftKey){if(this.enableRotate===!1)return;ge(O),i=r.ROTATE}else{if(this.enablePan===!1)return;ye(O),i=r.PAN}break;default:i=r.NONE}i!==r.NONE&&this.dispatchEvent({type:"start"})},L=O=>{if(this.enabled!==!1)switch(i){case r.ROTATE:if(this.enableRotate===!1)return;Oe(O);break;case r.DOLLY:if(this.enableZoom===!1)return;Ve(O);break;case r.PAN:if(this.enablePan===!1)return;ct(O);break}},T=O=>{this.dispatchEvent({type:"end"}),i=r.NONE};this.onMouseWheel=O=>{this.enabled===!1||this.enableZoom===!1||i!==r.NONE||(O.preventDefault(),this.dispatchEvent({type:"start"}),Qe(O),this.dispatchEvent({type:"end"}))},this.onKeyDown=O=>{this.enabled===!1||this.enablePan===!1||Jn(O)};const P=O=>{switch(F(O),y.length){case 1:switch(this.touches.ONE){case _n.ROTATE:if(this.enableRotate===!1)return;yn(),i=r.TOUCH_ROTATE;break;case _n.PAN:if(this.enablePan===!1)return;Qr(),i=r.TOUCH_PAN;break;default:i=r.NONE}break;case 2:switch(this.touches.TWO){case _n.DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;As(),i=r.TOUCH_DOLLY_PAN;break;case _n.DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;Jr(),i=r.TOUCH_DOLLY_ROTATE;break;default:i=r.NONE}break;default:i=r.NONE}i!==r.NONE&&this.dispatchEvent({type:"start"})},N=O=>{switch(F(O),i){case r.TOUCH_ROTATE:if(this.enableRotate===!1)return;er(O),this.update();break;case r.TOUCH_PAN:if(this.enablePan===!1)return;ei(O),this.update();break;case r.TOUCH_DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;ni(O),this.update();break;case r.TOUCH_DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;Ps(O),this.update();break;default:i=r.NONE}},z=O=>{this.dispatchEvent({type:"end"}),i=r.NONE};this.onContextMenu=O=>{this.enabled!==!1&&O.preventDefault()};function D(O){y.push(O)}const G=O=>{delete b[O.pointerId];for(let j=0;j<y.length;j++)if(y[j].pointerId==O.pointerId){y.splice(j,1);return}};function F(O){let j=b[O.pointerId];j===void 0&&(j=new Re,b[O.pointerId]=j),j.set(O.pageX,O.pageY)}function Q(O){const j=O.pointerId===y[0].pointerId?y[1]:y[0];return b[j.pointerId]}this.spherical=o,this.domElement.addEventListener("contextmenu",this.onContextMenu),this.domElement.addEventListener("pointerdown",this.onPointerDown),this.domElement.addEventListener("pointercancel",this.onPointerCancel),this.domElement.addEventListener("wheel",this.onMouseWheel,{passive:!1}),this.reset=()=>{this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent({type:"change"}),this.update(),i=r.NONE},this.update()}getPolarAngle(){return this.spherical.phi}getAzimuthalAngle(){return this.spherical.theta}getDistance(){return this.object.position.distanceTo(this.target)}listenToKeyEvents(e){e.addEventListener("keydown",this.onKeyDown),this._domElementKeyEvents=e}saveState(){this.target0.copy(this.target),this.position0.copy(this.object.position),this.zoom0=this.object.zoom}setCamera(e){this.object=e}setDom(e){this.dispose(),this.domElement=e,this.domElement.addEventListener("contextmenu",this.onContextMenu),this.domElement.addEventListener("pointerdown",this.onPointerDown),this.domElement.addEventListener("pointercancel",this.onPointerCancel),this.domElement.addEventListener("wheel",this.onMouseWheel,{passive:!1})}dispose(){this.domElement.removeEventListener("contextmenu",this.onContextMenu),this.domElement.removeEventListener("pointerdown",this.onPointerDown),this.domElement.removeEventListener("pointercancel",this.onPointerCancel),this.domElement.removeEventListener("wheel",this.onMouseWheel),this.domElement.removeEventListener("pointermove",this.onPointerMove),this.domElement.removeEventListener("pointerup",this.onPointerUp),this._domElementKeyEvents!==null&&this._domElementKeyEvents.removeEventListener("keydown",this.onKeyDown)}}var ee;(function(n){n.DEFAULT="default",n.TOP="top",n.BOTTOM="bottom",n.LEFT="left",n.RIGHT="right",n.FRONT="front",n.BACK="back"})(ee||(ee={}));const Xd=function(n={}){var e;if(!this.webGLRenderer)return console.error("must install some renderer before BasicViewpoint plugin."),!1;!n.viewpoint&&(n.viewpoint=ee.DEFAULT),!n.perspective&&(n.perspective={}),!n.perspective.position&&(n.perspective.position={x:60,y:60,z:60}),!n.perspective.lookAt&&(n.perspective.lookAt={x:0,y:0,z:0}),!n.perspective.up&&(n.perspective.up={x:0,y:1,z:0}),!n.orthograpbic&&(n.orthograpbic={}),!n.orthograpbic.up&&(n.orthograpbic.up={x:0,y:1,z:0});const t=new Te;t.position.set(n.perspective.position.x,n.perspective.position.y,n.perspective.position.z),t.lookAt(n.perspective.lookAt.x,n.perspective.lookAt.y,n.perspective.lookAt.z),t.up.set(n.perspective.up.x,n.perspective.up.y,n.perspective.up.z);const r=new tt(-window.innerWidth/8,window.innerWidth/8,-window.innerHeight/8,window.innerHeight/8,.1,1e4);r.up.set(n.perspective.up.x,n.perspective.up.y,n.perspective.up.z),this.setViewpoint=function(s){return this.dispatchEvent({type:"setViewpoint",viewpoint:s}),this},this.addEventListener("setSize",s=>{const o=s.width,a=s.height;t.aspect=o/a,t.updateProjectionMatrix(),r.left=-o/16,r.right=o/16,r.top=a/16,r.bottom=-a/16,r.updateProjectionMatrix()});const i=n.orthograpbic.distance||60;return(e=n.orthograpbic.allowRotate)!=null,this.addEventListener("setViewpoint",s=>{const o=s.viewpoint;if(o===ee.DEFAULT){this.setCamera(t);return}o===ee.TOP?r.position.set(0,i,0):o===ee.BOTTOM?r.position.set(0,-i,0):o===ee.RIGHT?r.position.set(i,0,0):o===ee.LEFT?r.position.set(-i,0,0):o===ee.FRONT?r.position.set(0,0,i):o===ee.BACK&&r.position.set(0,0,-i),this.setCamera(r)}),this.completeSet.add(()=>{n.viewpoint===ee.DEFAULT?this.setCamera(t):this.setCamera(r),this.objectHelperManager&&this.objectHelperManager.addFilteredObject(t,r)}),!0},Zd=function(n){return this.orbitControls?(console.warn("this has installed orbitControls plugin."),!1):this.renderManager?(this.orbitControls=new Yd(this.camera,this.dom),this.addEventListener("setCamera",e=>{this.orbitControls.setCamera(e.camera)}),this.addEventListener("setDom",e=>{this.orbitControls.setDom(e.dom)}),this.renderManager.addEventListener("render",()=>{this.orbitControls.update()}),this.completeSet.add(()=>{this.setViewpoint&&this.addEventListener("setViewpoint",e=>{const t=e.viewpoint;this.orbitControls.target.set(0,0,0),t===ee.DEFAULT?this.orbitControls.enableRotate=!0:t===ee.TOP?this.orbitControls.enableRotate=!1:t===ee.BOTTOM?this.orbitControls.enableRotate=!1:t===ee.RIGHT?this.orbitControls.enableRotate=!1:t===ee.LEFT?this.orbitControls.enableRotate=!1:t===ee.FRONT?this.orbitControls.enableRotate=!1:t===ee.BACK&&(this.orbitControls.enableRotate=!1)})}),!0):(console.warn("this must install renderManager before install orbitControls plugin."),!1)};class Qd{constructor(e){f(this,"REVISION"),f(this,"dom"),f(this,"addPanel"),f(this,"showPanel"),f(this,"begin"),f(this,"end"),f(this,"update"),f(this,"domElement"),f(this,"setMode");const t=$d();this.REVISION=t.REVISION,this.dom=t.dom,this.domElement=t.domElement,this.begin=t.begin.bind(t),this.end=t.end.bind(t),this.update=t.update.bind(t),this.addPanel=t.addPanel.bind(t),this.showPanel=t.showPanel.bind(t),this.setMode=t.setMode.bind(t);const r=this.domElement;r.style.position="absolute",r.style.top="0",r.style.left="35px",e&&(r.style.top=`${e.top}px`,r.style.left=`${e.left}px`,r.style.right=`${e.right}px`,r.style.bottom=`${e.bottom}px`)}}const Jd=function(n){if(this.stats)return console.warn("this has installed stats plugin."),!1;if(!this.renderManager)return console.warn("this must install renderManager before install stats plugin."),!1;const e=new Qd(n);this.stats=e;const t=()=>{this.stats.update()};return this.setStats=function(r){if(r)this.dom.appendChild(this.stats.domElement),this.renderManager.addEventListener("render",t);else try{this.dom.removeChild(this.stats.domElement),this.renderManager.removeEventListener("render",t)}catch{}return this},!0},ep=function(n={}){if(this.effectComposer)return console.warn("this has installed effect composer plugin."),!1;if(!this.webGLRenderer)return console.error("must install some renderer before this plugin."),!1;let e;if(n.WebGLMultisampleRenderTarget||n.MSAA){const r=this.webGLRenderer,i=r.getPixelRatio(),s=r.getDrawingBufferSize(new Re);Number(window.__THREE__)>137?e=new Us(r,new od(s.width*i,s.height*i,{format:n.format||Hs,samples:n.samples||4})):e=new Us(r,new ad(s.width*i,s.height*i,{format:n.format||Hs}))}else e=new Us(this.webGLRenderer);this.effectComposer=e;let t;return this.scene&&this.camera&&(t=new Ks(this.scene,this.camera),e.addPass(t)),this.addEventListener("setCamera",r=>{if(!t&&this.scene){t=new Ks(this.scene,r.camera),e.addPass(t);return}else t&&(t.camera=r.camera)}),this.addEventListener("setScene",r=>{if(!t&&this.camera){t=new Ks(r.scene,this.camera),e.addPass(t);return}else t&&(t.scene=r.scene)}),this.addEventListener("setSize",r=>{e.setSize(r.width,r.height)}),this.renderManager?(this.renderManager.removeEventListener("render",this.render),this.renderManager.addEventListener("render",r=>{this.effectComposer.render(r.delta)})):this.render=function(){return this.effectComposer.render(),this},!0};class tp extends dt{constructor(e){super();f(this,"dom"),f(this,"mouse"),f(this,"canMouseMove"),f(this,"mouseEventTimer"),f(this,"throttleTime"),f(this,"pointerDownHandler"),f(this,"pointerMoveHandler"),f(this,"pointerUpHandler"),f(this,"mouseDownHandler"),f(this,"mouseUpHandler"),f(this,"clickHandler"),f(this,"dblclickHandler"),f(this,"contextmenuHandler"),this.dom=e.dom,this.mouse=new Re,this.canMouseMove=!0,this.mouseEventTimer=null,this.throttleTime=e.throttleTime||1e3/60;const t=i=>{const s={mouse:{x:this.mouse.x,y:this.mouse.y}};for(const o in i)s[o]=i[o];return s},r=i=>{this.dispatchEvent(t(i))};this.pointerMoveHandler=i=>{!this.canMouseMove||(this.canMouseMove=!1,this.mouseEventTimer=window.setTimeout(()=>{const s=this.mouse,o=this.dom,a=o.getBoundingClientRect();s.x=(i.clientX-a.left)/o.offsetWidth*2-1,s.y=-((i.clientY-a.top)/o.offsetHeight)*2+1,this.canMouseMove=!0,this.dispatchEvent(t(i))},this.throttleTime))},this.mouseDownHandler=r,this.mouseUpHandler=r,this.pointerDownHandler=r,this.pointerUpHandler=r,this.clickHandler=r,this.dblclickHandler=r,this.contextmenuHandler=r}setDom(e){if(this.dom){const t=this.dom;t.removeEventListener("mousedown",this.mouseDownHandler),t.removeEventListener("mouseup",this.mouseUpHandler),t.removeEventListener("pointerdown",this.pointerDownHandler),t.removeEventListener("pointermove",this.pointerMoveHandler),t.removeEventListener("pointerup",this.pointerUpHandler),t.removeEventListener("click",this.clickHandler),t.removeEventListener("dblclick",this.dblclickHandler),t.removeEventListener("contextmenu",this.contextmenuHandler)}return e.addEventListener("mousedown",this.mouseDownHandler),e.addEventListener("mouseup",this.mouseUpHandler),e.addEventListener("pointerdown",this.pointerDownHandler),e.addEventListener("pointermove",this.pointerMoveHandler),e.addEventListener("pointerup",this.pointerUpHandler),e.addEventListener("click",this.clickHandler),e.addEventListener("dblclick",this.dblclickHandler),e.addEventListener("contextmenu",this.contextmenuHandler),this.dom=e,this}getNormalMouse(){return this.mouse}}const np=function(n){if(this.pointerManager)return console.warn("this has installed pointerManager plugin."),!1;const e=new tp(Object.assign(n||{},{dom:this.dom}));return this.addEventListener("setDom",t=>{e.setDom(t.dom)}),this.pointerManager=e,!0};var cr;(function(n){n.POINTERDOWN="pointerdown",n.POINTERUP="pointerup",n.POINTERMOVE="pointermove",n.POINTERENTER="pointerenter",n.POINTERLEAVE="pointerleave",n.CLICK="click",n.DBLCLICK="dblclick",n.CONTEXTMENU="contextmenu"})(cr||(cr={}));class rp extends dt{constructor(e){super();f(this,"raycaster"),f(this,"scene"),f(this,"camera"),f(this,"filter",new Set),f(this,"recursive",!1),f(this,"penetrate",!1),f(this,"propagation",!1),f(this,"delegation",!1),this.raycaster=new Sd,this.camera=e.camera,this.scene=e.scene,e.recursive&&(this.recursive=e.recursive),e.penetrate&&(this.penetrate=e.penetrate)}setScene(e){return this.scene=e,this}setCamera(e){return this.camera=e,this}addFilterObject(e){return this.filter.add(e),this}removeFilterObject(e){return this.filter.delete(e),this}intersectObject(e){this.raycaster.setFromCamera(e,this.camera);const t=this.filter,r=this.scene.children.filter(i=>!t.has(i));return this.raycaster.intersectObjects(r,this.recursive)}use(e){const t=function(a,c){return Object.assign({},a,c)},r=(a,c)=>{const l=this.intersectObject(a.mouse);if(l.length)if(this.penetrate)for(const u of l)u.object.dispatchEvent(t(a,{type:c,intersection:u}));else{const u=l[0];u.object.dispatchEvent(t(a,{type:c,intersection:u}))}this.dispatchEvent(t(a,{type:c,intersections:l}))},i=["pointerdown","pointerup","mousedown","mouseup","pointermove","click","dblclick","contextmenu"];for(const a of i)e.addEventListener(a,c=>{r(c,a)});const s=new Map;let o=null;return e.addEventListener("pointermove",a=>{const c=this.intersectObject(a.mouse);if(this.penetrate){if(!c.length){s.forEach(l=>{l.object.dispatchEvent(t(a,{type:"pointerleave",intersection:l})),l.object.dispatchEvent(t(a,{type:"mouseleave",intersection:l}))}),s.clear();return}for(const l of c)s.has(l.object)?(l.object.dispatchEvent(t(a,{type:"pointermove",intersection:l})),l.object.dispatchEvent(t(a,{type:"mousemove",intersection:l})),s.delete(l.object)):(l.object.dispatchEvent(t(a,{type:"pointerenter",intersection:l})),l.object.dispatchEvent(t(a,{type:"mouseenter",intersection:l})));for(const l of s.values())l.object.dispatchEvent(t(a,{type:"pointerleave",intersection:l})),l.object.dispatchEvent(t(a,{type:"mouseleave",intersection:l}));s.clear();for(const l of c)s.set(l.object,l)}else{if(!c.length){o&&(o.object.dispatchEvent(t(a,{type:"pointerleave",intersection:o})),o.object.dispatchEvent(t(a,{type:"mouseleave",intersection:o})),o=null);return}const l=c[0];if(!o){l.object.dispatchEvent(t(a,{type:"pointerenter",intersection:l})),l.object.dispatchEvent(t(a,{type:"mouseenter",intersection:l})),o=l;return}if(l.object!==o.object){o.object.dispatchEvent(t(a,{type:"pointerleave",intersection:l})),o.object.dispatchEvent(t(a,{type:"mouseleave",intersection:l})),l.object.dispatchEvent(t(a,{type:"pointerenter",intersection:l})),l.object.dispatchEvent(t(a,{type:"mouseenter",intersection:l})),o=l;return}l.object===o.object&&(l.object.dispatchEvent(t(a,{type:"pointermove",intersection:l})),l.object.dispatchEvent(t(a,{type:"mousemove",intersection:l})))}this.dispatchEvent(t(a,{type:"pointermove",intersections:c})),this.dispatchEvent(t(a,{type:"mousemove",intersections:c}))}),this}}const ip=function(n){if(this.eventManager)return console.warn("engine has installed eventManager plugin."),!1;if(!this.pointerManager)return console.error("must install pointerManager before this plugin."),!1;const e=new rp(Object.assign({scene:this.scene,camera:this.camera},n));return e.use(this.pointerManager),this.eventManager=e,this.addEventListener("setCamera",t=>{this.eventManager.setCamera(t.camera)}),this.addEventListener("setScene",t=>{this.eventManager.setScene(t.scene)}),!0};var ci;(function(n){n.OBJECTCHANGED="objectChanged"})(ci||(ci={}));class sp extends zd{constructor(e,t){!e&&(e=new Te),!t&&(t=document.body);super(e,t);f(this,"target"),f(this,"transObjectSet"),this.domElement.removeEventListener("pointerdown",this._onPointerDown),this._onPointerDown=c=>{var l;!this.enabled||!((l=this.object)==null?void 0:l.parent)||(this.domElement.addEventListener("pointermove",this._onPointerMove),this.pointerHover(this._getPointer(c)),this.pointerDown(this._getPointer(c)))},this.domElement.addEventListener("pointerdown",this._onPointerDown),this.target=new Cn,this.transObjectSet=new Set;let r="";const i=this.target,s=this.transObjectSet,o={x:0,y:0,z:0},a=new WeakMap;this.addEventListener("mouseDown",c=>{r=c.target.mode,r==="translate"&&(r="position"),r==="rotate"&&(r="rotation"),o.x=i[r].x,o.y=i[r].y,o.z=i[r].z,s.forEach(l=>{a.set(l,l.matrixAutoUpdate),l.matrixAutoUpdate=!1})}),this.addEventListener("objectChange",c=>{const l=i[r].x-o.x,u=i[r].y-o.y,h=i[r].z-o.z;o.x=i[r].x,o.y=i[r].y,o.z=i[r].z,s.forEach(d=>{d[r].x+=l,d[r].y+=u,d[r].z+=h,d.updateMatrix(),d.updateMatrixWorld()}),this.dispatchEvent({type:ci.OBJECTCHANGED,transObjectSet:s,mode:r,target:i})}),this.addEventListener("mouseUp",c=>{s.forEach(l=>{l.matrixAutoUpdate=a.get(l),a.delete(l)})})}setDom(e){return this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerHover),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),e.addEventListener("pointerdown",this._onPointerDown),e.addEventListener("pointermove",this._onPointerHover),e.addEventListener("pointerup",this._onPointerUp),this.domElement=e,this}setCamera(e){return this.camera=e,this}getTarget(){return this.target}getTransObjectSet(){return this.transObjectSet}setAttach(...e){if(this.transObjectSet.clear(),!e.length||!e[0])return this.detach(),this;this.attach(this.target);const t=this.target;if(e.length===1){const o=e[0];return o.matrixWorld.decompose(t.position,t.quaternion,t.scale),t.updateMatrix(),t.updateMatrixWorld(),this.transObjectSet.add(o),this}const r=[],i=[],s=[];return e.forEach(o=>{r.push(o.matrixWorld.elements[12]),i.push(o.matrixWorld.elements[13]),s.push(o.matrixWorld.elements[14])}),t.rotation.set(0,0,0),t.scale.set(0,0,0),t.position.x=(Math.max(...r)-Math.min(...r))/2+Math.min(...r),t.position.y=(Math.max(...i)-Math.min(...i))/2+Math.min(...i),t.position.z=(Math.max(...s)-Math.min(...s))/2+Math.min(...s),t.updateMatrix(),t.updateMatrixWorld(),e.forEach(o=>{this.transObjectSet.add(o)}),this}}const op=function(n){if(this.transformControls)return console.warn("this has installed transformControls plugin."),!1;if(!this.pointerManager)return console.warn("this must install pointerManager before install transformControls plugin."),!1;if(!this.eventManager)return console.warn("this must install eventManager before install transformControls plugin."),!1;const e=new sp(this.camera,this.dom);return e.detach(),this.transformControls=e,this.scene.add(this.transformControls),this.scene.add(this.transformControls.target),this.transformControls.addEventListener("mouseDown",()=>{this.transing=!0}),this.setTransformControls=function(t){return t?this.scene.add(this.transformControls):this.scene.remove(this.transformControls),this},this.addEventListener("setCamera",t=>{e.setCamera(t.camera)}),this.addEventListener("setDom",t=>{e.setDom(t.dom)}),this.addEventListener("setScene",t=>{const r=t.scene;r.add(this.transformControls.target),r.add(this.transformControls)}),this.selectionBox?this.addEventListener("selected",t=>{e.setAttach(...t.objects)}):this.eventManager.addEventListener("click",t=>{if(this.transing){this.transing=!1;return}if(t.button===0){const i=t.intersections.map(s=>s.object)[0]||null;i?e.setAttach(i):e.detach()}}),this.eventManager.addFilterObject(e),this.completeSet.add(()=>{if(this.IS_ENGINESUPPORT){const t=s=>{const o=this.compilerManager.getObjectSymbol(s);return o?this.dataSupportManager.getConfigBySymbol(o):null};let r=null,i;e.addEventListener(ci.OBJECTCHANGED,s=>{const o=s;o.transObjectSet.forEach(a=>{r=t(a),i=o.mode,r&&(r[i].x=a[i].x,r[i].y=a[i].y,r[i].z=a[i].z)})})}}),!0},ap=function(n={}){if(this.webGLRenderer)return console.warn("this has installed webglRenderer plugin."),!1;this.webGLRenderer=new Vs(n);const e=this.webGLRenderer.domElement;return e.style.position="absolute",e.style.top="0",e.style.left="0",e.classList.add("vis-webgl"),this.getScreenshot=function(t={}){const r={width:this.dom.offsetWidth,height:this.dom.offsetHeight};!t.width&&(t.width=this.dom.offsetWidth),!t.height&&(t.height=this.dom.offsetHeight),!t.mine&&(t.mine="image/png");let i=!1;this.renderManager.hasRendering()&&(this.renderManager.stop(),i=!0),this.setSize(t.width,t.height),this.renderManager.render();const s=this.webGLRenderer.domElement.toDataURL(t.mine);return this.setSize(r.width,r.height),i&&this.renderManager.play(),s},this.addEventListener("setDom",t=>{t.dom.appendChild(this.webGLRenderer.domElement)}),this.addEventListener("setSize",t=>{this.webGLRenderer.setSize(t.width,t.height,!0)}),this.addEventListener("dispose",()=>{this.webGLRenderer.dispose()}),this.renderManager?(this.renderManager.removeEventListener("render",this.render),this.renderManager.addEventListener("render",t=>{this.webGLRenderer.render(this.scene,this.camera)})):this.render=function(){return this.webGLRenderer.render(this.scene,this.camera),this},!0},lp=/^[og]\s*(.+)?/,cp=/^mtllib /,up=/^usemtl /,hp=/^usemap /,al=new K,qs=new K,ll=new K,cl=new K,Ge=new K,ui=new le;function dp(){const n={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materials:{},materialLibraries:[],startObject:function(e,t){if(this.object&&this.object.fromDeclaration===!1){this.object.name=e,this.object.fromDeclaration=t!==!1;return}const r=this.object&&typeof this.object.currentMaterial=="function"?this.object.currentMaterial():void 0;if(this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0),this.object={name:e||"",fromDeclaration:t!==!1,geometry:{vertices:[],normals:[],colors:[],uvs:[],hasUVIndices:!1},materials:[],smooth:!0,startMaterial:function(i,s){const o=this._finalize(!1);o&&(o.inherited||o.groupCount<=0)&&this.materials.splice(o.index,1);const a={index:this.materials.length,name:i||"",mtllib:Array.isArray(s)&&s.length>0?s[s.length-1]:"",smooth:o!==void 0?o.smooth:this.smooth,groupStart:o!==void 0?o.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(c){const l={index:typeof c=="number"?c:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return l.clone=this.clone.bind(l),l}};return this.materials.push(a),a},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(i){const s=this.currentMaterial();if(s&&s.groupEnd===-1&&(s.groupEnd=this.geometry.vertices.length/3,s.groupCount=s.groupEnd-s.groupStart,s.inherited=!1),i&&this.materials.length>1)for(let o=this.materials.length-1;o>=0;o--)this.materials[o].groupCount<=0&&this.materials.splice(o,1);return i&&this.materials.length===0&&this.materials.push({name:"",smooth:this.smooth}),s}},r&&r.name&&typeof r.clone=="function"){const i=r.clone(0);i.inherited=!0,this.object.materials.push(i)}this.objects.push(this.object)},finalize:function(){this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0)},parseVertexIndex:function(e,t){const r=parseInt(e,10);return(r>=0?r-1:r+t/3)*3},parseNormalIndex:function(e,t){const r=parseInt(e,10);return(r>=0?r-1:r+t/3)*3},parseUVIndex:function(e,t){const r=parseInt(e,10);return(r>=0?r-1:r+t/2)*2},addVertex:function(e,t,r){const i=this.vertices,s=this.object.geometry.vertices;s.push(i[e+0],i[e+1],i[e+2]),s.push(i[t+0],i[t+1],i[t+2]),s.push(i[r+0],i[r+1],i[r+2])},addVertexPoint:function(e){const t=this.vertices;this.object.geometry.vertices.push(t[e+0],t[e+1],t[e+2])},addVertexLine:function(e){const t=this.vertices;this.object.geometry.vertices.push(t[e+0],t[e+1],t[e+2])},addNormal:function(e,t,r){const i=this.normals,s=this.object.geometry.normals;s.push(i[e+0],i[e+1],i[e+2]),s.push(i[t+0],i[t+1],i[t+2]),s.push(i[r+0],i[r+1],i[r+2])},addFaceNormal:function(e,t,r){const i=this.vertices,s=this.object.geometry.normals;al.fromArray(i,e),qs.fromArray(i,t),ll.fromArray(i,r),Ge.subVectors(ll,qs),cl.subVectors(al,qs),Ge.cross(cl),Ge.normalize(),s.push(Ge.x,Ge.y,Ge.z),s.push(Ge.x,Ge.y,Ge.z),s.push(Ge.x,Ge.y,Ge.z)},addColor:function(e,t,r){const i=this.colors,s=this.object.geometry.colors;i[e]!==void 0&&s.push(i[e+0],i[e+1],i[e+2]),i[t]!==void 0&&s.push(i[t+0],i[t+1],i[t+2]),i[r]!==void 0&&s.push(i[r+0],i[r+1],i[r+2])},addUV:function(e,t,r){const i=this.uvs,s=this.object.geometry.uvs;s.push(i[e+0],i[e+1]),s.push(i[t+0],i[t+1]),s.push(i[r+0],i[r+1])},addDefaultUV:function(){const e=this.object.geometry.uvs;e.push(0,0),e.push(0,0),e.push(0,0)},addUVLine:function(e){const t=this.uvs;this.object.geometry.uvs.push(t[e+0],t[e+1])},addFace:function(e,t,r,i,s,o,a,c,l){const u=this.vertices.length;let h=this.parseVertexIndex(e,u),d=this.parseVertexIndex(t,u),p=this.parseVertexIndex(r,u);if(this.addVertex(h,d,p),this.addColor(h,d,p),a!==void 0&&a!==""){const v=this.normals.length;h=this.parseNormalIndex(a,v),d=this.parseNormalIndex(c,v),p=this.parseNormalIndex(l,v),this.addNormal(h,d,p)}else this.addFaceNormal(h,d,p);if(i!==void 0&&i!==""){const v=this.uvs.length;h=this.parseUVIndex(i,v),d=this.parseUVIndex(s,v),p=this.parseUVIndex(o,v),this.addUV(h,d,p),this.object.geometry.hasUVIndices=!0}else this.addDefaultUV()},addPointGeometry:function(e){this.object.geometry.type="Points";const t=this.vertices.length;for(let r=0,i=e.length;r<i;r++){const s=this.parseVertexIndex(e[r],t);this.addVertexPoint(s),this.addColor(s)}},addLineGeometry:function(e,t){this.object.geometry.type="Line";const r=this.vertices.length,i=this.uvs.length;for(let s=0,o=e.length;s<o;s++)this.addVertexLine(this.parseVertexIndex(e[s],r));for(let s=0,o=t.length;s<o;s++)this.addUVLine(this.parseUVIndex(t[s],i))}};return n.startObject("",!1),n}class pp extends zs{constructor(e){super(e);this.materials=null}load(e,t,r,i){const s=this,o=new Ba(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(a))}catch(c){i?i(c):console.error(c),s.manager.itemError(e)}},r,i)}setMaterials(e){return this.materials=e,this}parse(e){const t=new dp;e.indexOf(`\r
`)!==-1&&(e=e.replace(/\r\n/g,`
`)),e.indexOf(`\\
`)!==-1&&(e=e.replace(/\\\n/g,""));const r=e.split(`
`);let i="",s="",o=0,a=[];const c=typeof"".trimLeft=="function";for(let h=0,d=r.length;h<d;h++)if(i=r[h],i=c?i.trimLeft():i.trim(),o=i.length,o!==0&&(s=i.charAt(0),s!=="#"))if(s==="v"){const p=i.split(/\s+/);switch(p[0]){case"v":t.vertices.push(parseFloat(p[1]),parseFloat(p[2]),parseFloat(p[3])),p.length>=7?(ui.setRGB(parseFloat(p[4]),parseFloat(p[5]),parseFloat(p[6])).convertSRGBToLinear(),t.colors.push(ui.r,ui.g,ui.b)):t.colors.push(void 0,void 0,void 0);break;case"vn":t.normals.push(parseFloat(p[1]),parseFloat(p[2]),parseFloat(p[3]));break;case"vt":t.uvs.push(parseFloat(p[1]),parseFloat(p[2]));break}}else if(s==="f"){const v=i.slice(1).trim().split(/\s+/),M=[];for(let m=0,w=v.length;m<w;m++){const g=v[m];if(g.length>0){const y=g.split("/");M.push(y)}}const _=M[0];for(let m=1,w=M.length-1;m<w;m++){const g=M[m],y=M[m+1];t.addFace(_[0],g[0],y[0],_[1],g[1],y[1],_[2],g[2],y[2])}}else if(s==="l"){const p=i.substring(1).trim().split(" ");let v=[];const M=[];if(i.indexOf("/")===-1)v=p;else for(let _=0,m=p.length;_<m;_++){const w=p[_].split("/");w[0]!==""&&v.push(w[0]),w[1]!==""&&M.push(w[1])}t.addLineGeometry(v,M)}else if(s==="p"){const v=i.slice(1).trim().split(" ");t.addPointGeometry(v)}else if((a=lp.exec(i))!==null){const p=(" "+a[0].slice(1).trim()).slice(1);t.startObject(p)}else if(up.test(i))t.object.startMaterial(i.substring(7).trim(),t.materialLibraries);else if(cp.test(i))t.materialLibraries.push(i.substring(7).trim());else if(hp.test(i))console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.');else if(s==="s"){if(a=i.split(" "),a.length>1){const v=a[1].trim().toLowerCase();t.object.smooth=v!=="0"&&v!=="off"}else t.object.smooth=!0;const p=t.object.currentMaterial();p&&(p.smooth=t.object.smooth)}else{if(i==="\0")continue;console.warn('THREE.OBJLoader: Unexpected line: "'+i+'"')}t.finalize();const l=new Fa;if(l.materialLibraries=[].concat(t.materialLibraries),!(t.objects.length===1&&t.objects[0].geometry.vertices.length===0)===!0)for(let h=0,d=t.objects.length;h<d;h++){const p=t.objects[h],v=p.geometry,M=p.materials,_=v.type==="Line",m=v.type==="Points";let w=!1;if(v.vertices.length===0)continue;const g=new Je;g.setAttribute("position",new be(v.vertices,3)),v.normals.length>0&&g.setAttribute("normal",new be(v.normals,3)),v.colors.length>0&&(w=!0,g.setAttribute("color",new be(v.colors,3))),v.hasUVIndices===!0&&g.setAttribute("uv",new be(v.uvs,2));const y=[];for(let C=0,S=M.length;C<S;C++){const x=M[C],R=x.name+"_"+x.smooth+"_"+w;let I=t.materials[R];if(this.materials!==null){if(I=this.materials.create(x.name),_&&I&&!(I instanceof zt)){const k=new zt;si.prototype.copy.call(k,I),k.color.copy(I.color),I=k}else if(m&&I&&!(I instanceof ut)){const k=new ut({size:10,sizeAttenuation:!1});si.prototype.copy.call(k,I),k.color.copy(I.color),k.map=I.map,I=k}}I===void 0&&(_?I=new zt:m?I=new ut({size:1,sizeAttenuation:!1}):I=new ks,I.name=x.name,I.flatShading=!x.smooth,I.vertexColors=w,t.materials[R]=I),y.push(I)}let b;if(y.length>1){for(let C=0,S=M.length;C<S;C++){const x=M[C];g.addGroup(x.groupStart,x.groupCount,C)}_?b=new et(g,y):m?b=new St(g,y):b=new kt(g,y)}else _?b=new et(g,y[0]):m?b=new St(g,y[0]):b=new kt(g,y[0]);b.name=p.name,l.add(b)}else if(t.vertices.length>0){const h=new ut({size:1,sizeAttenuation:!1}),d=new Je;d.setAttribute("position",new be(t.vertices,3)),t.colors.length>0&&t.colors[0]!==void 0&&(d.setAttribute("color",new be(t.colors,3)),h.vertexColors=!0);const p=new St(d,h);l.add(p)}return l}}class fp extends zs{constructor(e){super(e)}load(e,t,r,i){const s=this,o=this.path===""?Jh.extractUrlBase(e):this.path,a=new Ba(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(c){try{t(s.parse(c,o))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}setMaterialOptions(e){return this.materialOptions=e,this}parse(e,t){const r=e.split(`
`);let i={};const s=/\s+/,o={};for(let c=0;c<r.length;c++){let l=r[c];if(l=l.trim(),l.length===0||l.charAt(0)==="#")continue;const u=l.indexOf(" ");let h=u>=0?l.substring(0,u):l;h=h.toLowerCase();let d=u>=0?l.substring(u+1):"";if(d=d.trim(),h==="newmtl")i={name:d},o[d]=i;else if(h==="ka"||h==="kd"||h==="ks"||h==="ke"){const p=d.split(s,3);i[h]=[parseFloat(p[0]),parseFloat(p[1]),parseFloat(p[2])]}else i[h]=d}const a=new mp(this.resourcePath||t,this.materialOptions);return a.setCrossOrigin(this.crossOrigin),a.setManager(this.manager),a.setMaterials(o),a}}class mp{constructor(e="",t={}){this.baseUrl=e,this.options=t,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.crossOrigin="anonymous",this.side=this.options.side!==void 0?this.options.side:Ha,this.wrap=this.options.wrap!==void 0?this.options.wrap:ed}setCrossOrigin(e){return this.crossOrigin=e,this}setManager(e){this.manager=e}setMaterials(e){this.materialsInfo=this.convert(e),this.materials={},this.materialsArray=[],this.nameLookup={}}convert(e){if(!this.options)return e;const t={};for(const r in e){const i=e[r],s={};t[r]=s;for(const o in i){let a=!0,c=i[o];const l=o.toLowerCase();switch(l){case"kd":case"ka":case"ks":this.options&&this.options.normalizeRGB&&(c=[c[0]/255,c[1]/255,c[2]/255]),this.options&&this.options.ignoreZeroRGBs&&c[0]===0&&c[1]===0&&c[2]===0&&(a=!1);break}a&&(s[l]=c)}}return t}preload(){for(const e in this.materialsInfo)this.create(e)}getIndex(e){return this.nameLookup[e]}getAsArray(){let e=0;for(const t in this.materialsInfo)this.materialsArray[e]=this.create(t),this.nameLookup[t]=e,e++;return this.materialsArray}create(e){return this.materials[e]===void 0&&this.createMaterial_(e),this.materials[e]}createMaterial_(e){const t=this,r=this.materialsInfo[e],i={name:e,side:this.side};function s(a,c){return typeof c!="string"||c===""?"":/^https?:\/\//i.test(c)?c:a+c}function o(a,c){if(i[a])return;const l=t.getTextureParams(c,i),u=t.loadTexture(s(t.baseUrl,l.url));u.repeat.copy(l.scale),u.offset.copy(l.offset),u.wrapS=t.wrap,u.wrapT=t.wrap,(a==="map"||a==="emissiveMap")&&(u.encoding=ld),i[a]=u}for(const a in r){const c=r[a];let l;if(c!=="")switch(a.toLowerCase()){case"kd":i.color=new le().fromArray(c).convertSRGBToLinear();break;case"ks":i.specular=new le().fromArray(c).convertSRGBToLinear();break;case"ke":i.emissive=new le().fromArray(c).convertSRGBToLinear();break;case"map_kd":o("map",c);break;case"map_ks":o("specularMap",c);break;case"map_ke":o("emissiveMap",c);break;case"norm":o("normalMap",c);break;case"map_bump":case"bump":o("bumpMap",c);break;case"map_d":o("alphaMap",c),i.transparent=!0;break;case"ns":i.shininess=parseFloat(c);break;case"d":l=parseFloat(c),l<1&&(i.opacity=l,i.transparent=!0);break;case"tr":l=parseFloat(c),this.options&&this.options.invertTrProperty&&(l=1-l),l>0&&(i.opacity=1-l,i.transparent=!0);break}}return this.materials[e]=new ks(i),this.materials[e]}getTextureParams(e,t){const r={scale:new Re(1,1),offset:new Re(0,0)},i=e.split(/\s+/);let s;return s=i.indexOf("-bm"),s>=0&&(t.bumpScale=parseFloat(i[s+1]),i.splice(s,2)),s=i.indexOf("-s"),s>=0&&(r.scale.set(parseFloat(i[s+1]),parseFloat(i[s+2])),i.splice(s,4)),s=i.indexOf("-o"),s>=0&&(r.offset.set(parseFloat(i[s+1]),parseFloat(i[s+2])),i.splice(s,4)),r.url=i.join(" ").trim(),r}loadTexture(e,t,r,i,s){const o=this.manager!==void 0?this.manager:td;let a=o.getHandler(e);a===null&&(a=new nd(o)),a.setCrossOrigin&&a.setCrossOrigin(this.crossOrigin);const c=a.load(e,r,i,s);return t!==void 0&&(c.mapping=t),c}}const ur=class extends zs{constructor(n){super(n)}load(n,e,t,r){this.path!==void 0&&(n=this.path+n),this.manager.itemStart(n),n=this.manager.resolveURL(n);const i=Va.get(n);if(i!==void 0)return setTimeout(()=>{e&&e(i),this.manager.itemEnd(n)},0),i;const s=document.createElement("video");return s.preload=ur.preload,s.autoplay=ur.autoplay,s.loop=ur.loop,s.muted=ur.muted,s.src=n,s.style.position="fixed",s.style.top="0",s.style.left="0",s.style.zIndex="-1",document.body.appendChild(s),s.oncanplay=()=>{Va.add(n,s),this.manager.itemEnd(n),e&&e(s)},s.onerror=o=>{this.manager.itemEnd(n),r&&r(o)},s}};let hr=ur;f(hr,"autoplay",!0);f(hr,"preload","auto");f(hr,"muted",!0);f(hr,"loop",!0);var Ae;(function(n){n.BEFORELOAD="beforeLoad",n.LOADING="loading",n.DETAILLOADING="detailLoading",n.DETAILLOADED="detailLoaded",n.LOADED="loaded"})(Ae||(Ae={}));class gp extends dt{constructor(e){super();f(this,"resourceMap"),f(this,"loaderMap"),f(this,"loadTotal"),f(this,"loadSuccess"),f(this,"loadError"),f(this,"isError"),f(this,"isLoading"),f(this,"isLoaded"),f(this,"loadDetailMap"),f(this,"path",""),this.resourceMap=new Map,this.loadTotal=0,this.loadSuccess=0,this.loadError=0,this.isError=!1,this.isLoading=!1,this.isLoaded=!1,this.loadDetailMap={};const t=new wd,r=new hr;this.loaderMap={jpg:t,png:t,jpeg:t,obj:new pp,mtl:new fp,mp4:r,webm:r,ogg:r},e&&(this.loaderMap=Object.assign(this.loaderMap,e.loaderExtends))}loaded(){return this.dispatchEvent({type:Ae.LOADED,loadTotal:this.loadTotal,loadSuccess:this.loadSuccess,loadError:this.loadError,resourceMap:this.resourceMap}),this}checkLoaded(){return this.loadTotal===this.loadSuccess+this.loadError&&(this.isError=!0,this.isLoaded=!0,this.isLoading=!1,this.loaded()),this}setPath(e){const t=this.loaderMap;return Object.keys(t).forEach(r=>{t[r].setPath(e)}),this.path=e,this}load(e){var t;if(this.reset(),this.isLoading=!0,this.dispatchEvent({type:Ae.BEFORELOAD,urlList:[...e]}),e.length<=0)return this.checkLoaded(),console.warn("url list is empty."),this;this.loadTotal+=e.length;const r=this.resourceMap,i=this.loaderMap,s=this.loadDetailMap;for(const o of e){let a,c;typeof o=="string"?(a=o,c=((t=a.split(".").pop())==null?void 0:t.toLocaleLowerCase())||""):(a=o.url,c=o.ext.toLocaleLowerCase());const l={url:a,progress:0,error:!1,message:a};if(s[a]=l,r.has(a)){l.progress=1,this.loadSuccess+=1,this.dispatchEvent({type:Ae.DETAILLOADED,detail:l}),this.dispatchEvent({type:Ae.LOADING,loadTotal:this.loadTotal,loadSuccess:this.loadSuccess,loadError:this.loadError}),this.checkLoaded();continue}if(!c){l.message=`url: ${a} \u5730\u5740\u6709\u8BEF\uFF0C\u65E0\u6CD5\u83B7\u53D6\u6587\u4EF6\u683C\u5F0F\u3002`,console.warn(l.message),l.error=!0,this.isError=!0,this.loadError+=1,this.dispatchEvent({type:Ae.DETAILLOADED,detail:l}),this.dispatchEvent({type:Ae.LOADING,loadTotal:this.loadTotal,loadSuccess:this.loadSuccess,loadError:this.loadError});continue}const u=i[c];if(!u){l.message=`url: ${a} \u4E0D\u652F\u6301\u6B64\u6587\u4EF6\u683C\u5F0F\u52A0\u8F7D\u3002`,console.warn(l.message),l.error=!0,this.isError=!0,this.loadError+=1,this.dispatchEvent({type:Ae.DETAILLOADED,detail:l}),this.dispatchEvent({type:Ae.LOADING,loadTotal:this.loadTotal,loadSuccess:this.loadSuccess,loadError:this.loadError});continue}u.loadAsync(a,h=>{l.progress=Number((h.loaded/h.total).toFixed(2)),this.dispatchEvent({type:Ae.DETAILLOADING,detail:l})}).then(h=>{l.progress=1,this.loadSuccess+=1,this.resourceMap.set(a,h),this.dispatchEvent({type:Ae.DETAILLOADED,detail:l}),this.dispatchEvent({type:Ae.LOADING,loadTotal:this.loadTotal,loadSuccess:this.loadSuccess,loadError:this.loadError}),this.checkLoaded()}).catch(h=>{l.error=!0,l.message=JSON.stringify(h),this.loadError+=1,this.dispatchEvent({type:Ae.DETAILLOADED,detail:l}),this.dispatchEvent({type:Ae.LOADING,loadTotal:this.loadTotal,loadSuccess:this.loadSuccess,loadError:this.loadError}),this.checkLoaded()})}return this}reset(){return this.loadTotal=0,this.loadSuccess=0,this.loadError=0,this.isError=!1,this.isLoading=!1,this.isLoaded=!1,this.loadDetailMap={},this}register(e,t){return this.loaderMap[e]=t,this}hasLoaded(e){return this.resourceMap.has(e)}getResource(e){return this.resourceMap.get(e)}getLoadDetailMap(){return this.loadDetailMap}setLoadDetailMap(e){return this.loadDetailMap=e,this}remove(e){}toJSON(){const e=[];return this.resourceMap.forEach((t,r)=>{e.push(r)}),JSON.stringify(e)}exportConfig(){const e=[];return this.resourceMap.forEach((t,r)=>{e.push(r)}),e}dispose(){return this.resourceMap.clear(),this}}const yp=function(n){if(this.loaderManager)return console.warn("engine has installed loaderManager plugin."),!1;const e=new gp(n);return this.loaderManager=e,this.loadResources=(t,r)=>{if(this.resourceManager){const i=s=>{r(void 0,s),this.resourceManager.removeEventListener("mapped",i)};try{this.resourceManager.addEventListener("mapped",i)}catch(s){r(s)}}else{const i=s=>{r(void 0,s),this.loaderManager.removeEventListener("loaded",i)};try{this.loaderManager.addEventListener("loaded",i)}catch(s){r(s)}}return this.loaderManager.load(t),this},this.loadResourcesAsync=t=>new Promise((r,i)=>{if(this.resourceManager){const s=o=>{r(o),this.resourceManager.removeEventListener("mapped",s)};try{this.resourceManager.addEventListener("mapped",s)}catch(o){i(o)}}else{const s=o=>{r(o),this.loaderManager.removeEventListener("loaded",s)};try{this.loaderManager.addEventListener("loaded",s)}catch(o){i(o)}}this.loaderManager.load(t)}),!0};var hi,vp=new Uint8Array(16);function bp(){if(!hi&&(hi=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!hi))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return hi(vp)}var Ep=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function J(n){return typeof n=="string"&&Ep.test(n)}var pe=[];for(var Ys=0;Ys<256;++Ys)pe.push((Ys+256).toString(16).substr(1));function Mp(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(pe[n[e+0]]+pe[n[e+1]]+pe[n[e+2]]+pe[n[e+3]]+"-"+pe[n[e+4]]+pe[n[e+5]]+"-"+pe[n[e+6]]+pe[n[e+7]]+"-"+pe[n[e+8]]+pe[n[e+9]]+"-"+pe[n[e+10]]+pe[n[e+11]]+pe[n[e+12]]+pe[n[e+13]]+pe[n[e+14]]+pe[n[e+15]]).toLowerCase();if(!J(t))throw TypeError("Stringified UUID is invalid");return t}function Cp(n,e,t){n=n||{};var r=n.random||(n.rng||bp)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){t=t||0;for(var i=0;i<16;++i)e[t+i]=r[i];return e}return Mp(r)}const Sp={name:"uvPulseShader",uniforms:{uTime:{value:0},uWidth:{value:.5},uColor:{value:{r:1,g:0,b:0}},uCenter:{value:{x:.5,y:.5}}},vertexShader:`
    uniform float uWidth;
    uniform float uTime;
    
    varying vec2 vUv;

    void main () {

      vUv = uv;

      gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
    }`,fragmentShader:`
    uniform float uWidth;
    uniform float uTime;
    uniform vec3 uColor;
    uniform vec2 uCenter;

    varying vec2 vUv;

    void main () {
      // \u6839\u636EuTime\u6C42\u51FA\u767E\u5206\u6BD4
      float deg = mod(degrees(uTime), 360.0);
      if (deg > 0.0 && deg < 90.0) {
        discard;
      }

      float percent = sin(uTime);
      float distancePercent = distance(uCenter, vUv);

      // \u4ECE\u5916\u5411\u91CC
      if (distancePercent > 0.5) {
        discard;
      }
      if (distancePercent < percent) {
        discard;
      }

      if (distancePercent - percent > uWidth) {
        discard;
      }

      float opacity =  (uWidth - (distancePercent - percent)) / uWidth;

      // float opacity = distancePercent;
      gl_FragColor = vec4(uColor, opacity);
    }`},$t=class{static getShader(n){return $t.library.has(n)?$t.cloneShader($t.library.get(n)):(console.warn(`con not found shader in shader library: ${n}`),null)}static generateConfig(n){if(!$t.library.has(n))return console.warn(`con not found shader in shader library: ${n}`),{};const e=$t.library.get(n),t={shader:n,uniforms:{}};return e.uniforms&&(t.uniforms=JSON.parse(JSON.stringify(e.uniforms))),t}static cloneShader(n){const e={name:n.name};return n.vertexShader&&(e.vertexShader=n.vertexShader),n.fragmentShader&&(e.fragmentShader=n.fragmentShader),n.uniforms&&(e.uniforms=JSON.parse(JSON.stringify(n.uniforms))),e}};let xn=$t;f(xn,"library",new Map);f(xn,"reigster",function(n){$t.library.has(n.name)&&console.warn(`shader library has exist shader: ${n.name} that will be cover.`),$t.library.set(n.name,n)});const wp={name:"defaultShader"};xn.reigster(wp);xn.reigster(Sp);var E;(function(n){n.BOXGEOMETRY="BoxGeometry",n.SPHEREGEOMETRY="SphereGeometry",n.LOADGEOMETRY="LoadGeometry",n.PLANEGEOMETRY="PlaneGeometry",n.CIRCLEGEOMETRY="CircleGeometry",n.CONEGEOMETRY="ConeGeometry",n.CYLINDERGEOMETRY="CylinderGeometry",n.DODECAHEDRONGEOMETRY="DodecahedronGeometry",n.EDGESGEOMETRY="EdgesGeometry",n.LINECURVEGEOMETRY="LineCurveGeometry",n.SPLINECURVEGEOMETRY="SplineCurveGeometry",n.CUBICBEZIERCURVEGEOMETRY="CubicBezierCurveGeometry",n.QUADRATICBEZIERCURVEGEOMETRY="QuadraticBezierCurveGeometry",n.CUSTOMGEOMETRY="CustomGeometry",n.MESH="Mesh",n.LINE="Line",n.POINTS="Points",n.SPRITE="Sprite",n.GROUP="Group",n.CSS3DOBJECT="CSS3DObject",n.CSS3DSPRITE="CSS3DSprite",n.CSS3DPLANE="CSS3DPlane",n.IMAGETEXTURE="ImageTexture",n.CUBETEXTURE="CubeTexture",n.CANVASTEXTURE="CanvasTexture",n.VIDEOTEXTURE="VideoTexture",n.MESHBASICMATERIAL="MeshBasicMaterial",n.MESHSTANDARDMATERIAL="MeshStandardMaterial",n.MESHPHONGMATERIAL="MeshPhongMaterial",n.SPRITEMATERIAL="SpriteMaterial",n.LINEBASICMATERIAL="LineBasicMaterial",n.POINTSMATERIAL="PointsMaterial",n.SHADERMATERIAL="ShaderMaterial",n.AMBIENTLIGHT="AmbientLight",n.SPOTLIGHT="SpotLight",n.POINTLIGHT="PointLight",n.DIRECTIONALLIGHT="DirectionalLight",n.PERSPECTIVECAMERA="PerspectiveCamera",n.ORTHOGRAPHICCAMERA="OrthographicCamera",n.WEBGLRENDERER="WebGLRenderer",n.CSS3DRENDERER="CSS3DRenderer",n.SCENE="Scene",n.TRNASFORMCONTROLS="TransformControls",n.ORBITCONTROLS="OrbitControls",n.SMAAPASS="SMAAPass",n.UNREALBLOOMPASS="UnrealBloomPass",n.SCRIPTANIMATION="ScriptAnimation",n.KEYFRAMEANIMATION="KeyframeAnimation"})(E||(E={}));const Bt=()=>({vid:"",name:"",type:"Object3D",castShadow:!0,receiveShadow:!0,lookAt:"",visible:!0,matrixAutoUpdate:!0,renderOrder:0,position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},scale:{x:1,y:1,z:1},up:{x:0,y:1,z:0},parent:"",children:[],pointerdown:[],pointermove:[],pointerup:[],pointerenter:[],pointerleave:[],click:[],dblclick:[],contextmenu:[]}),Xs=function(){return Object.assign(Bt(),{type:"Light",color:"rgb(255, 255, 255)",intensity:1})},_p=function(){return Object.assign(Bt(),{type:E.AMBIENTLIGHT,color:"rgb(255, 255, 255)",intensity:1})},xp=function(){return Object.assign(Xs(),{type:E.POINTLIGHT,distance:30,decay:.01})},Op=function(){return Object.assign(Xs(),{type:E.SPOTLIGHT,distance:30,angle:Math.PI/180*45,penumbra:.01,decay:.01})},Tp=function(){return Object.assign(Xs(),{type:E.DIRECTIONALLIGHT,shadow:{mapSize:{width:512,height:512},camera:{near:.5,far:500}}})},nt=function(){return{vid:"",type:"Geometry",position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},scale:{x:1,y:1,z:1},groups:[]}},Rp=function(){return Object.assign(nt(),{type:E.BOXGEOMETRY,width:5,height:5,depth:5,widthSegments:1,heightSegments:1,depthSegments:1})},Ap=function(){return Object.assign(nt(),{type:E.SPHEREGEOMETRY,radius:3,widthSegments:32,heightSegments:32,phiStart:0,phiLength:Math.PI*2,thetaStart:0,thetaLength:Math.PI})},Pp=function(){return Object.assign(nt(),{type:E.PLANEGEOMETRY,width:5,height:5,widthSegments:1,heightSegments:1})},Lp=function(){return Object.assign(nt(),{type:E.CIRCLEGEOMETRY,radius:3,segments:8,thetaStart:0,thetaLength:Math.PI*2})},Ip=function(){return Object.assign(nt(),{type:E.CONEGEOMETRY,radius:3,height:5,radialSegments:8,heightSegments:1,openEnded:!1,thetaStart:0,thetaLength:Math.PI*2})},Dp=function(){return Object.assign(nt(),{type:E.LOADGEOMETRY,url:""})},jp=function(){return Object.assign(nt(),{type:E.CUSTOMGEOMETRY,attribute:{position:[],color:[],index:[],normal:[],uv:[],uv2:[]}})},Np=function(){return Object.assign(nt(),{type:E.CYLINDERGEOMETRY,radiusTop:3,radiusBottom:3,height:5,radialSegments:8,heightSegments:1,openEnded:!1,thetaStart:0,thetaLength:Math.PI*2})},zp=function(){return Object.assign(nt(),{type:"",radius:3,detail:0})},kp=function(){return Object.assign(nt(),{type:E.LOADGEOMETRY,url:"",thresholdAngle:1})},di=function(){return Object.assign(nt(),{path:[],divisions:36,space:!0})},$p=function(){return Object.assign(di(),{type:E.LINECURVEGEOMETRY})},Bp=function(){return Object.assign(di(),{type:E.SPLINECURVEGEOMETRY})},Fp=function(){return Object.assign(di(),{type:E.CUBICBEZIERCURVEGEOMETRY})},Hp=function(){return Object.assign(di(),{type:E.QUADRATICBEZIERCURVEGEOMETRY})},pi=function(){return{vid:"",type:"Texture",name:"",mapping:cd,wrapS:Xa,wrapT:Xa,magFilter:oi,minFilter:ud,anisotropy:1,format:Hs,offset:{x:0,y:0},repeat:{x:1,y:1},rotation:0,center:{x:0,y:0},matrixAutoUpdate:!0,encoding:Za,needsUpdate:!1}},Vp=function(){return Object.assign(pi(),{type:E.IMAGETEXTURE,url:""})},Gp=function(){return Object.assign(pi(),{type:E.VIDEOTEXTURE,url:"",minFilter:oi})},Up=function(){return Object.assign(pi(),{type:E.CUBETEXTURE,cube:{nx:"",ny:"",nz:"",px:"",py:"",pz:""},mapping:hd,flipY:!1})},Kp=function(){return Object.assign(pi(),{type:E.CANVASTEXTURE,url:"",needsUpdate:!1})},tn=function(){return{vid:"",type:"Material",alphaTest:0,colorWrite:!0,depthTest:!0,depthWrite:!0,fog:!0,name:"",needsUpdate:!1,opacity:1,dithering:!1,shadowSide:null,side:Ha,toneMapped:!0,transparent:!1,visible:!0,blendDst:dd,blendDstAlpha:null,blendEquation:pd,blendEquationAlpha:null,blending:fd,blendSrc:md,blendSrcAlpha:null}},Wp=function(){return Object.assign(tn(),{type:E.MESHBASICMATERIAL,color:"rgb(255, 255, 255)",combine:Qa,aoMapIntensity:1,fog:!0,lightMapIntensity:1,reflectivity:1,refractionRatio:.98,wireframe:!1,wireframeLinecap:"round",wireframeLinejoin:"round",wireframeLinewidth:1,map:"",envMap:"",alphaMap:"",aoMap:"",lightMap:"",specularMap:""})},qp=function(){return Object.assign(tn(),{type:E.MESHSTANDARDMATERIAL,aoMapIntensity:1,bumpScale:1,color:"rgb(255, 255, 255)",displacementScale:1,displacementBias:0,emissive:"rgb(0, 0, 0)",emissiveIntensity:1,envMapIntensity:1,flatShading:!1,lightMapIntensity:1,metalness:0,normalMapType:Ja,refractionRatio:.98,roughness:1,wireframe:!1,wireframeLinecap:"round",wireframeLinejoin:"round",roughnessMap:"",normalMap:"",metalnessMap:"",map:"",lightMap:"",envMap:"",emissiveMap:"",displacementMap:"",bumpMap:"",alphaMap:"",aoMap:""})},Yp=function(){return Object.assign(tn(),{type:E.MESHPHONGMATERIAL,aoMapIntensity:1,bumpScale:1,color:"rgb(255, 255, 255)",displacementScale:1,displacementBias:0,emissive:"rgb(0, 0, 0)",emissiveIntensity:1,envMapIntensity:1,flatShading:!1,lightMapIntensity:1,normalMapType:Ja,refractionRatio:.98,wireframe:!1,wireframeLinecap:"round",wireframeLinejoin:"round",specular:"rgb(17, 17, 17)",shininess:30,combine:Qa,normalMap:"",map:"",lightMap:"",envMap:"",emissiveMap:"",displacementMap:"",bumpMap:"",alphaMap:"",aoMap:"",specularMap:""})},Xp=function(){return Object.assign(tn(),{type:E.SPRITEMATERIAL,color:"rgb(255, 255, 255)",rotation:0,map:"",alphaMap:"",sizeAttenuation:!0})},Zp=function(){return Object.assign(tn(),{type:E.LINEBASICMATERIAL,color:"rgb(255, 255, 255)",linecap:"round",linejoin:"round",linewidth:1})},Qp=function(){return Object.assign(tn(),{type:E.POINTSMATERIAL,map:"",alphaMap:"",color:"rgb(255, 255, 255)",sizeAttenuation:!0,size:1})},Jp=function(){return Object.assign(tn(),{type:E.SHADERMATERIAL,shader:"defaultShader",uniforms:{}})},ef=function(){return Object.assign(Bt(),{type:E.PERSPECTIVECAMERA,adaptiveWindow:!1,fov:45,aspect:1920/1080,near:5,far:50})},tf=function(){return Object.assign(Bt(),{type:E.ORTHOGRAPHICCAMERA,adaptiveWindow:!1,left:-1920/32,right:1920/32,top:1080/32,bottom:-1080/32,near:5,far:50,zoom:1})},ul=function(){return{vid:"",type:"Renderer",size:null}},nf=function(){return Object.assign(ul(),{vid:E.WEBGLRENDERER,type:E.WEBGLRENDERER,clearColor:"rgba(0, 0, 0, 0)",outputEncoding:Za,physicallyCorrectLights:!1,shadowMap:{enabled:!1,autoUpdate:!0,needsUpdate:!1,type:gd},toneMapping:yd,toneMappingExposure:1,pixelRatio:window.devicePixelRatio,adaptiveCamera:!1,viewport:null,scissor:null})},rf=function(){return Object.assign(ul(),{vid:E.CSS3DRENDERER,type:E.CSS3DRENDERER})},sf=function(){return Object.assign(Bt(),{vid:E.SCENE,type:E.SCENE,background:"",environment:"",fog:{type:"",color:"rgb(150, 150, 150)",near:1,far:200,density:.003}})},of=function(){return{vid:E.TRNASFORMCONTROLS,type:E.TRNASFORMCONTROLS,axis:"XYZ",enabled:!0,mode:"translate",snapAllow:!1,rotationSnap:Math.PI/180*10,translationSnap:5,scaleSnap:.1,showX:!0,showY:!0,showZ:!0,size:1,space:"world"}},af=function(){return{vid:E.ORBITCONTROLS,type:E.ORBITCONTROLS,autoRotate:!1,autoRotateSpeed:2,enableDamping:!1,dampingFactor:.05,enabled:!0,enablePan:!0,enableRotate:!0,enableZoom:!0,maxAzimuthAngle:1/0,maxDistance:1/0,maxPolarAngle:Math.PI,maxZoom:1/0,minAzimuthAngle:-1/0,minDistance:0,minPolarAngle:0,minZoom:0,panSpeed:1,rotateSpeed:1,zoomSpeed:1,screenSpacePanning:!0,target:null}},fi=function(){return Object.assign(Bt(),{material:"",geometry:""})},lf=function(){return Object.assign(fi(),{type:"Sprite",material:"",center:{x:.5,y:.5}})},cf=function(){return Object.assign(fi(),{type:E.MESH,geometry:"",material:""})},uf=function(){return Object.assign(fi(),{type:E.POINTS,geometry:"",material:""})},hf=function(){return Object.assign(fi(),{type:E.LINE,geometry:"",material:""})},df=function(){return Object.assign(Bt(),{type:E.GROUP,children:[]})},hl=function(){return{vid:"",type:"Pass"}},pf=function(){return Object.assign(hl(),{type:E.SMAAPASS})},ff=function(){return Object.assign(hl(),{type:E.UNREALBLOOMPASS,strength:1.5,threshold:0,radius:0})},mf=function(){return{vid:"",type:E.SCRIPTANIMATION,target:"",attribute:"",script:{name:""}}},gf=function(){return{vid:"",type:E.KEYFRAMEANIMATION,target:"",attribute:""}},Zs=function(){return Object.assign(Bt(),{type:E.CSS3DOBJECT,element:"",width:50,height:50})},yf=function(){return Object.assign(Zs(),{type:E.CSS3DPLANE})},vf=function(){return Object.assign(Zs(),{type:E.CSS3DSPRITE,rotation2D:0})},On={[E.IMAGETEXTURE]:Vp,[E.CUBETEXTURE]:Up,[E.CANVASTEXTURE]:Kp,[E.VIDEOTEXTURE]:Gp,[E.MESHBASICMATERIAL]:Wp,[E.MESHSTANDARDMATERIAL]:qp,[E.MESHPHONGMATERIAL]:Yp,[E.SPRITEMATERIAL]:Xp,[E.LINEBASICMATERIAL]:Zp,[E.POINTSMATERIAL]:Qp,[E.SHADERMATERIAL]:Jp,[E.AMBIENTLIGHT]:_p,[E.SPOTLIGHT]:Op,[E.POINTLIGHT]:xp,[E.DIRECTIONALLIGHT]:Tp,[E.BOXGEOMETRY]:Rp,[E.SPHEREGEOMETRY]:Ap,[E.LOADGEOMETRY]:Dp,[E.CUSTOMGEOMETRY]:jp,[E.PLANEGEOMETRY]:Pp,[E.CIRCLEGEOMETRY]:Lp,[E.CONEGEOMETRY]:Ip,[E.CYLINDERGEOMETRY]:Np,[E.EDGESGEOMETRY]:kp,[E.LINECURVEGEOMETRY]:$p,[E.SPLINECURVEGEOMETRY]:Bp,[E.CUBICBEZIERCURVEGEOMETRY]:Fp,[E.QUADRATICBEZIERCURVEGEOMETRY]:Hp,[E.DODECAHEDRONGEOMETRY]:zp,[E.SPRITE]:lf,[E.LINE]:hf,[E.MESH]:cf,[E.POINTS]:uf,[E.GROUP]:df,[E.CSS3DOBJECT]:Zs,[E.CSS3DSPRITE]:vf,[E.CSS3DPLANE]:yf,[E.PERSPECTIVECAMERA]:ef,[E.ORTHOGRAPHICCAMERA]:tf,[E.WEBGLRENDERER]:nf,[E.CSS3DRENDERER]:rf,[E.SCENE]:sf,[E.TRNASFORMCONTROLS]:of,[E.ORBITCONTROLS]:af,[E.SMAAPASS]:pf,[E.UNREALBLOOMPASS]:ff,[E.SCRIPTANIMATION]:mf,[E.KEYFRAMEANIMATION]:gf};var A;(function(n){n.CAMERA="camera",n.LIGHT="light",n.GEOMETRY="geometry",n.TEXTURE="texture",n.MATERIAL="material",n.RENDERER="renderer",n.SCENE="scene",n.SPRITE="sprite",n.CONTROLS="controls",n.LINE="line",n.MESH="mesh",n.POINTS="points",n.GROUP="group",n.CSS3D="css3D",n.PASS="pass",n.MODIFIER="modifier",n.ANIMATION="animation"})(A||(A={}));var Qs;(function(n){n[n.CAMERA=A.CAMERA]="CAMERA",n[n.LIGHT=A.LIGHT]="LIGHT",n[n.SCENE=A.SCENE]="SCENE",n[n.SPRITE=A.SPRITE]="SPRITE",n[n.LINE=A.LINE]="LINE",n[n.MESH=A.MESH]="MESH",n[n.POINTS=A.POINTS]="POINTS",n[n.GROUP=A.GROUP]="GROUP",n[n.CSS3D=A.CSS3D]="CSS3D"})(Qs||(Qs={}));const mi={[E.IMAGETEXTURE]:A.TEXTURE,[E.CUBETEXTURE]:A.TEXTURE,[E.CANVASTEXTURE]:A.TEXTURE,[E.VIDEOTEXTURE]:A.TEXTURE,[E.MESHBASICMATERIAL]:A.MATERIAL,[E.MESHSTANDARDMATERIAL]:A.MATERIAL,[E.MESHPHONGMATERIAL]:A.MATERIAL,[E.SPRITEMATERIAL]:A.MATERIAL,[E.LINEBASICMATERIAL]:A.MATERIAL,[E.POINTSMATERIAL]:A.MATERIAL,[E.SHADERMATERIAL]:A.MATERIAL,[E.AMBIENTLIGHT]:A.LIGHT,[E.SPOTLIGHT]:A.LIGHT,[E.POINTLIGHT]:A.LIGHT,[E.DIRECTIONALLIGHT]:A.LIGHT,[E.BOXGEOMETRY]:A.GEOMETRY,[E.SPHEREGEOMETRY]:A.GEOMETRY,[E.LOADGEOMETRY]:A.GEOMETRY,[E.CUSTOMGEOMETRY]:A.GEOMETRY,[E.PLANEGEOMETRY]:A.GEOMETRY,[E.CIRCLEGEOMETRY]:A.GEOMETRY,[E.CONEGEOMETRY]:A.GEOMETRY,[E.CIRCLEGEOMETRY]:A.GEOMETRY,[E.EDGESGEOMETRY]:A.GEOMETRY,[E.CYLINDERGEOMETRY]:A.GEOMETRY,[E.LINECURVEGEOMETRY]:A.GEOMETRY,[E.SPLINECURVEGEOMETRY]:A.GEOMETRY,[E.CUBICBEZIERCURVEGEOMETRY]:A.GEOMETRY,[E.QUADRATICBEZIERCURVEGEOMETRY]:A.GEOMETRY,[E.SPRITE]:A.SPRITE,[E.LINE]:A.LINE,[E.MESH]:A.MESH,[E.POINTS]:A.POINTS,[E.GROUP]:A.GROUP,[E.CSS3DOBJECT]:A.CSS3D,[E.CSS3DSPRITE]:A.CSS3D,[E.CSS3DPLANE]:A.CSS3D,[E.PERSPECTIVECAMERA]:A.CAMERA,[E.ORTHOGRAPHICCAMERA]:A.CAMERA,[E.WEBGLRENDERER]:A.RENDERER,[E.SCENE]:A.SCENE,[E.TRNASFORMCONTROLS]:A.CONTROLS,[E.ORBITCONTROLS]:A.CONTROLS,[E.SMAAPASS]:A.PASS,[E.UNREALBLOOMPASS]:A.PASS,[E.SCRIPTANIMATION]:A.ANIMATION,[E.KEYFRAMEANIMATION]:A.ANIMATION},$=function(n,e,t=!0,r=!0){if(!On[n])return console.error(`type: ${n} can not be found in configList.`),{vid:"",type:n};const i=(o,a)=>{for(const c in a){if(o[c]===void 0){!t&&(o[c]=a[c]),t&&r&&console.warn(`'${n}' config can not set key: ${c}`);continue}typeof a[c]=="object"&&a[c]!==null&&!Array.isArray(a[c])?(o[c]===null&&(o[c]=Kd({},a[c])),i(o[c],a[c])):o[c]=a[c]}},s=On[n]();if([E.SHADERMATERIAL].includes(n)){const o=xn.generateConfig((e==null?void 0:e.shader)||"defaultShader"),a=t;t=!1,i(s,o),t=a}if([E.SCRIPTANIMATION,E.KEYFRAMEANIMATION].includes(n)&&(t=!1),s.vid===""&&(s.vid=Cp()),e&&i(s,e),$.autoInject&&$.injectEngine){const o=$.injectEngine,a=o.reactiveConfig(s);if($.injectScene&&mi[s.type]in Qs&&s.type!==E.SCENE){let c=null;typeof $.injectScene=="boolean"?c=o.getObjectConfig(o.scene):typeof $.injectScene=="string"&&(c=o.getConfigBySymbol($.injectScene)),c?c.children.push(s.vid):console.warn("current engine scene can not found it config",o,o.scene)}return a}return s};$.autoInject=!0;$.injectScene=!1;$.injectEngine=null;const dr=(n,e)=>e===1/0?"Infinity":e===-1/0?"-Infinity":e,dl=(n,e)=>e==="Infinity"?1/0:e==="-Infinity"?-1/0:e,gi=n=>JSON.parse(JSON.stringify(n,dr),dl);var pl;(function(n){n.MAPPED="mapped"})(pl||(pl={}));class bf extends dt{constructor(e={}){super();f(this,"structureMap",new Map),f(this,"configMap",new Map),f(this,"resourceMap",new Map),f(this,"configModuleMap",mi),f(this,"mappingHandler",new Map);const t=this.mappingHandler;t.set(HTMLImageElement,this.HTMLImageElementHandler),t.set(HTMLCanvasElement,this.HTMLCanvasElementHandler),t.set(HTMLVideoElement,this.HTMLVideoElementHandler),t.set(Cn,this.Object3DHandler),t.set(HTMLDivElement,this.HTMLDivElementHandler),t.set(HTMLSpanElement,this.HTMLSpanElementHandler);const r=new Map;for(const i in e)r.has(i)&&console.warn(`resourceManager construct params rescource already exist: ${i}, that will be cover.`),r.set(i,e[i]);this.mappingResource(r)}Object3DHandler(e,t){const r=this.structureMap,i=this.configMap,s=this.resourceMap,o=function(a,c){let l=a;s.set(l,c);const u=$(c.type,c,!0,!1);i.set(l,u);const h={type:`${c.type}`,url:l};if(c.geometry){const d=c.geometry;d.computeBoundingBox();const p=d.boundingBox,v=p.getCenter(new K);l=`${a}.geometry`,s.set(l,d);const M=$(E.LOADGEOMETRY,{url:l,position:{x:v.x/(p.max.x-p.min.x)*2,y:v.y/(p.max.y-p.min.y)*2,z:v.z/(p.max.z-p.min.z)*2}});i.set(l,M),h.geometry=l,u.geometry=M.vid}if(c.material){const d=c.material;if(d instanceof Array)h.material=[],u.material=[],d.forEach((p,v,M)=>{l=`${a}.material.${v}`,s.set(l,p);const _=$(p.type,p,!0,!1);i.set(l,_),h.material[v]=l,u.material.push(_.vid)});else{l=`${a}.material`,s.set(l,d);const p=$(d.type,d,!0,!1);i.set(l,p),h.material=l,u.material=p.vid}}if([E.GROUP,E.SCENE].includes(c.type)&&(i.get(h.url).children=[]),c.children.length)if(h.children=[],[E.GROUP,E.SCENE].includes(c.type)){const d=i.get(h.url);c.children.forEach((p,v,M)=>{l=`${a}.children.${v}`,d.children.push(l),h.children[v]=o(l,p)})}else c.children.forEach((d,p,v)=>{l=`${a}.children.${p}`,h.children[p]=o(l,d)});return h};return r.set(e,o(e,t)),this}HTMLImageElementHandler(e,t){return this.resourceMap.set(e,t),this.configMap.set(e,$(E.IMAGETEXTURE,{url:e})),this.structureMap.set(e,e),this}HTMLCanvasElementHandler(e,t){return this.resourceMap.set(e,t),this.configMap.set(e,$(E.CANVASTEXTURE,{url:e})),this.structureMap.set(e,e),this}HTMLVideoElementHandler(e,t){return this.resourceMap.set(e,t),this.configMap.set(e,$(E.VIDEOTEXTURE,{url:e})),this.structureMap.set(e,e),this}HTMLDivElementHandler(e,t){return this.resourceMap.set(e,t),this.configMap.set(e,$(E.CSS3DOBJECT,{element:e})),this.structureMap.set(e,e),this}HTMLSpanElementHandler(e,t){return this.resourceMap.set(e,t),this.configMap.set(e,$(E.CSS3DSPRITE,{element:e})),this.structureMap.set(e,e),this}mappingResource(e){const t=this.structureMap,r=this.configMap,i=this.resourceMap,s=this.mappingHandler,o=(l,u,h)=>Object.getPrototypeOf(h)?s.has(Object.getPrototypeOf(h).constructor)?(s.get(Object.getPrototypeOf(h).constructor).call(this,l,u),!0):o(l,u,Object.getPrototypeOf(h)):!1,a=$.autoInject;$.autoInject=!1;const c={};return e.forEach((l,u)=>{o(u,l,l)?c[u]=this.getResourceConfig(u):(i.set(u,l),t.set(u,u),console.warn("resource manager can not support this resource to generate config",l))}),$.autoInject=a,this.dispatchEvent({type:"mapped",structureMap:t,configMap:r,resourceMap:i,resourceConfig:c}),this}getResourceConfig(e){if(this.structureMap.has(e))if(this.structureMap.get(e)===e){const t=this.configMap.get(e);return t?{[this.configModuleMap[t.type]]:{[t.vid]:gi(t)}}:{}}else{const t={},r=this.configMap,i=this.configModuleMap,s=this.structureMap.get(e),o=a=>{let c=r.get(a.url),l=i[c.type];if(t[l]||(t[l]={}),t[l][c.vid]=gi(c),a.geometry&&(c=r.get(a.geometry),l=i[c.type],t[l]||(t[l]={}),t[l][c.vid]=gi(c)),a.material&&(c=r.get(a.material),l=i[c.type],t[l]||(t[l]={}),t[l][c.vid]=gi(c)),a.children&&a.children.length)for(const u of a.children)o(u)};return o(s),t}else return console.warn(`resource manager can not found this url resource: ${e}`),{}}hasResource(e){return this.resourceMap.has(e)}remove(e){if(this.structureMap.has(e))if(this.structureMap.get(e)===e){this.structureMap.delete(e),this.configMap.delete(e);const t=this.resourceMap.get(e);return(t==null?void 0:t.dispose)&&t.dispose(),this.resourceMap.delete(e),this}else{const t=this.configMap,r=this.resourceMap,i=this.structureMap.get(e),s=o=>{if(t.delete(o.url),r.delete(o.url),o.geometry&&(t.delete(o.geometry),r.delete(o.geometry)),o.material&&(t.delete(o.material),r.delete(o.material)),o.children&&o.children.length)for(const a of o.children)s(a)};return s(i),this}else return console.warn(`resource manager can not found this url resource: ${e}`),this}dispose(){this.resourceMap.forEach((e,t)=>{e.dispose&&e.dispose()}),this.resourceMap.clear(),this.configMap.clear(),this.structureMap.clear()}}const Ef=function(n){if(this.resourceManager)return console.warn("engine has installed resourceManager plugin."),!1;const e=new bf(n.resources);return this.resourceManager=e,this.loaderManager&&this.loaderManager.addEventListener("loaded",t=>{this.resourceManager.mappingResource(t.resourceMap)}),this.registerResources=t=>{const r=new Map;return Object.keys(t).forEach(i=>{r.set(i,t[i])}),this.resourceManager.mappingResource(r),this},this.addEventListener("dispose",()=>{this.resourceManager.dispose()}),!0};function yi(n,e){return n in e}const pt=class extends dt{constructor(n){super();f(this,"ignoreAttribute"),this.ignoreAttribute=n||{}}static proxyGetter(n,e,t){return Reflect.get(n,e,t)}static proxySetter(n,e,t,r,i,s){if(typeof e=="symbol")return Reflect.set(n,e,t,r);let o;if(n[e]===void 0){if(typeof t=="object"&&t!==null&&!pt.proxyWeakSet.has(t)&&!i.ignoreAttribute[e]){const a=s.concat([e]);t=i.proxyExtends(t,a)}o=Reflect.set(n,e,t),i.broadcast({operate:"add",path:s.concat([]),key:e,value:t})}else{if(typeof t=="object"&&t!==null&&!pt.proxyWeakSet.has(t)&&!i.ignoreAttribute[e]){const a=s.concat([e]);t=i.proxyExtends(t,a)}if(o=Reflect.set(n,e,t),Array.isArray(n)&&e==="length"){const a=n[Symbol.for(pt.arraySymobl)],c=a.length-n.length;if(c>0){let l=0,u=0;for(const h of a)if(!n.includes(h)&&(i.broadcast({operate:"delete",path:s.concat([]),key:u.toString(),value:h}),l+=1,u+=1,l===c))break}return n[Symbol.for(this.arraySymobl)]=n.concat([]),o}i.broadcast({operate:"set",path:s.concat([]),key:e,value:t})}return o}static proxyDeleter(n,e,t,r){const i=n[e],s=Reflect.deleteProperty(n,e);return Array.isArray(n)||typeof e=="symbol"||t.broadcast({operate:"delete",path:r.concat([]),key:e,value:i}),s}proxyExtends(n,e=[]){if(pt.proxyWeakSet.has(n)||typeof n!="object")return n;const t={get:pt.proxyGetter,set:(i,s,o,a)=>pt.proxySetter(i,s,o,a,this,e),deleteProperty:(i,s)=>pt.proxyDeleter(i,s,this,e)};if(typeof n=="object"&&n!==null)for(const i in n){const s=e.concat([i]);let o=this.ignoreAttribute,a=!1;for(const c of s.slice(1)){if(o[c]===!0){a=!0;break}o[c]&&(o=o[c])}a||yi(i,n)&&typeof n[i]=="object"&&n[i]!==null&&(Array.isArray(n[i])&&(n[i][Symbol.for(pt.arraySymobl)]=n[i].concat([])),n[i]=this.proxyExtends(n[i],s))}const r=new Proxy(n,t);return pt.proxyWeakSet.add(r),r}broadcast({operate:n,path:e,key:t,value:r}){return{__poto__:!0,length:!0}[t]?this:(this.dispatchEvent({type:"broadcast",notice:{operate:n,path:e,key:t,value:r}}),this)}};let Js=pt;f(Js,"proxyWeakSet",new WeakSet);f(Js,"arraySymobl","vis.array");class Mf{constructor(){f(this,"rule"),f(this,"memberSet"),this.rule=function(){},this.memberSet=new Set}apply(e){return this.memberSet.add(e),this}cancel(e){return this.memberSet.delete(e),this}setRule(e){return this.rule=e,this}translate(e){const t=this.rule;return this.memberSet.forEach(r=>{t(e,r)}),this}}class ft{constructor(e,t,r){f(this,"data"),f(this,"broadcast"),f(this,"translater"),this.translater=new Mf().setRule(e),this.broadcast=new Js(r),this.data=this.broadcast.proxyExtends(t),this.broadcast.addEventListener("broadcast",i=>{this.translater.translate(i.notice)})}getData(){return this.data}setData(e){return this.data=e,this}proxyData(e){return this.data=this.broadcast.proxyExtends(e),this.data}existSymbol(e){return Boolean(this.data[e])}addConfig(e){return this.data[e.vid]=e,this}getConfig(e){return this.data[e]}removeConfig(e){const t=this.data;t[e]!==void 0&&delete t[e]}addCompiler(e){return e.setTarget(this.data),e.compileAll(),this.translater.apply(e),this}toJSON(e=!0){return e?JSON.stringify(this.exportConfig(),dr):JSON.stringify(this.data,dr)}exportConfig(e=!0){if(e){const t=this.data,r={},i={},s=(o,a,c={})=>{for(const l in o){if(["vid","type"].includes(l)){c[l]=o[l];continue}if(typeof o[l]=="object"&&o[l]!==null){if(Array.isArray(o[l])){if(!o[l].length)continue;c[l]=o[l].map(u=>typeof u=="object"&&u!==null?JSON.parse(JSON.stringify(u)):u);continue}c[l]={},a[l]?(s(o[l],a[l],c[l]),Object.keys(c[l]).length===0&&delete c[l]):c[l]=JSON.parse(JSON.stringify(o[l]))}else a[l]!==o[l]&&(c[l]=o[l])}};for(const o of Object.values(t)){if(!i[o.type]){if(!On[o.type]){console.error(`can not font some config with: ${o.type}`);continue}i[o.type]=On[o.type]()}r[o.vid]={},s(o,i[o.type],r[o.vid])}return r}else return JSON.parse(JSON.stringify(this.data,dr),dl)}load(e){const t=this.data,r={},i=(s,o)=>{for(const a in o)typeof s[a]=="object"&&s[a]!==null&&typeof o[a]=="object"&&o[a]!==null?i(s[a],o[a]):s[a]===void 0&&(s[a]=o[a])};for(const s in e){const o=e[s];if(!r[o.type]){if(!On[o.type]){console.error(`can not font some config with: ${o.type}`);continue}r[o.type]=On[o.type]()}i(o,r[o.type]),t[s]=o}return this}remove(e){const t=this.data;for(const r in e)t[r]!==void 0&&delete t[r];return this}getModule(){return this.MODULE}}const Cf=function(n,e){const{operate:t,key:r,path:i,value:s}=n;if(t==="add"){J(r)&&e.add(r,s);return}if(t==="set"){const o=i.concat([]),a=o.shift()||r;a&&J(a)?e.set(a,o,r,s):console.warn(`texture rule vid is illeage: '${a}'`);return}if(t==="delete"){const o=i[0]||r;J(o)?e.remove(o):console.warn(`texture rule vid is illeage: '${o}'`);return}};class Sf extends ft{constructor(e,t){!e&&(e={});super(Cf,e,t);f(this,"MODULE",A.TEXTURE)}}const wf=function(n,e){const{operate:t,key:r,path:i,value:s}=n;if(t==="add"){J(r)&&e.add(r,s);return}if(t==="set"){if(J(r)&&!i.length&&typeof s=="object"){e.cover(r,s);return}const o=i.concat([]),a=o.shift();a&&J(a)?e.set(a,o,r,s):console.warn(`material rule vid is illeage: '${a}'`);return}if(t==="delete"){const o=i[0]||r;J(o)?e.remove(o):console.warn(`texture rule vid is illeage: '${o}'`);return}};class _f extends ft{constructor(e,t){!e&&(e={});super(wf,e,t);f(this,"MODULE",A.MATERIAL)}}class pr extends ft{constructor(e,t,r){!t&&(t=Object.create(Object.prototype));super(e,t,r);f(this,"MODULE",A.GROUP)}}const vi={[E.WEBGLRENDERER]:!0,[E.CSS3DRENDERER]:!0,[E.SCENE]:!0},_t=function(n,e){const{operate:t,key:r,path:i,value:s}=n;if(r==="parent")return;const o=i.concat([]);let a=r,c=r;if(o.length&&(a=o.shift(),o.length&&(c=o[0])),c==="children"){if(t==="add"){e.addChildren(a,s);return}if(t==="delete"){e.removeChildren(a,s);return}}if(c.toLocaleUpperCase()in cr){const l=Number(o.length>2?o[1]:r);if(t==="add"){if(Number.isInteger(Number(r))&&o.length===1){e.addEvent(a,c,s);return}if(!Number.isInteger(l)){console.error(`${e.MODULE} rule: event analysis error.`,n);return}e.updateEvent(a,c,l);return}if(t==="set"){if(!Number.isInteger(l)){console.error(`${e.MODULE} rule: event analysis error.`,n);return}e.updateEvent(a,c,l);return}if(t==="delete"){if(!Number.isInteger(l)){console.error(`${e.MODULE} rule: event analysis error.`,n);return}e.removeEvent(a,c,s);return}}if(t==="add"&&(J(r)||vi[r])){e.add(r,s);return}if(t==="set"){if((a&&J(r)||vi[a])&&!i.length&&typeof s=="object"){e.cover(a,s);return}a&&J(a)||vi[a]?e.set(a,o,r,s):console.warn(`${e.MODULE} rule vid is illeage: '${a}'`);return}if(t==="delete"){(J(r)||vi[r])&&e.remove(r,s);return}},xf=function(n,e){_t(n,e)};class Of extends pr{constructor(e,t){!e&&(e={});super(xf,e,t);f(this,"MODULE",A.LIGHT)}}const Tf=function(n,e){const{operate:t,key:r,path:i,value:s}=n,o=i.length?i[0]:r,a=i.length>=2?i[1]:r,c=i.length?i.concat([]).slice(1):[];if(t==="add"){if(J(o)){if(a==="groups")if(Number.isInteger(Number(r))){e.addGroup(o,s);return}else{console.warn(`geometry rule illeage groups index: ${r}`);return}c.length>0?e.set(o,c,s):e.add(o,s)}else console.warn(`geometry rule vid is illeage: '${r}'`);return}if(t==="set"){if(o&&J(o)){if(a==="groups"){const l=Number(i[2]||r);if(!Number.isInteger(l)){console.warn(`geometry rule illeage groups index: ${l}`);return}e.updateGroup(o,l);return}e.set(o,c,s)}else console.warn(`geometry rule vid is illeage: '${o}'`);return}if(t==="delete"){if(J(o)){if(a==="groups"){const l=Number(i[2]||r);if(!Number.isInteger(l)){console.warn(`geometry rule illeage groups index: ${l}`);return}e.removeGroup(o,l)}e.remove(o)}else console.warn(`geometry rule vid is illeage: '${o}'`);return}};class Rf extends ft{constructor(e,t){!e&&(e={});super(Tf,e,t);f(this,"MODULE",A.GEOMETRY)}}const Af=function(n,e){_t(n,e)};class Pf extends pr{constructor(e,t){!e&&(e={});super(Af,e,t);f(this,"MODULE",A.CAMERA)}}const Lf=function(n,e){const{operate:t,key:r,value:i}=n,s=n.path.concat([]);if(t==="add"){e.add(i);return}if(t==="set"){if(J(r)||r===E.WEBGLRENDERER){e.add(i);return}let o=r;s.length&&(o=s.shift()),J(o)||o===E.WEBGLRENDERER?e.assembly(o,a=>{a.process({path:s.concat([]),key:r,value:i})}):console.warn(`renderer rule can not support this vid: ${o}`);return}};class If extends ft{constructor(e,t){!e&&(e={});super(Lf,e,t);f(this,"MODULE",A.RENDERER)}}const Df=function(n,e){_t(n,e)};class jf extends pr{constructor(e,t){!e&&(e={});super(Df,e,t);f(this,"MODULE",A.SCENE)}}const Nf=function(n,e){const{operate:t,key:r,path:i,value:s}=n;if(t==="set"){const o=i.concat([]),a=o.shift();a?e.set(a,o,r,s):r?e.setAll(r):console.warn(`controls rule can not found controls type in set operate: ${a}`)}};class zf extends ft{constructor(e,t){!e&&(e={});super(Nf,e,t);f(this,"MODULE",A.CONTROLS)}}class bi extends ft{constructor(e,t,r){!t&&(t=Object.create(Object.prototype));super(e,t,r);f(this,"MODULE",A.MESH)}}const kf=function(n,e){n.key!=="geometry"&&_t(n,e)};class $f extends bi{constructor(e,t){!e&&(e={});super(kf,e,t);f(this,"MODULE",A.SPRITE)}}const Bf=function(n,e){_t(n,e)};class Ff extends bi{constructor(e,t){!e&&(e={});super(Bf,e,t);f(this,"MODULE",A.LINE)}}const Hf=function(n,e){_t(n,e)};class Vf extends bi{constructor(e,t){!e&&(e={});super(Hf,e,t);f(this,"MODULE",A.MESH)}}const Gf=function(n,e){_t(n,e)};class Uf extends bi{constructor(e,t){!e&&(e={});super(Gf,e,t);f(this,"MODULE",A.POINTS)}}const Kf=function(n,e){_t(n,e)};class Wf extends pr{constructor(e,t){!e&&(e={});super(Kf,e,t);f(this,"MODULE",A.GROUP)}}const qf=function(n,e){const{operate:t,key:r,path:i,value:s}=n,o=i.concat([]);let a=r;if(o.length&&(a=o.shift()),t==="add"){e.add(s);return}if(t==="set"&&e.set(a,o,r,s),t==="delete"){e.remove(s.vid);return}};class Yf extends ft{constructor(e,t){!e&&(e={});super(qf,e,t);f(this,"MODULE",A.PASS)}}const Xf=function(n,e){const{operate:t,key:r,path:i,value:s}=n;if(t==="add"){J(r)?e.add(r,s):console.warn(`animation rule vid is illeage: '${r}'`);return}if(t==="set"){const a=i.concat([]).shift();a&&J(a)?e.update(a):console.warn(`animation rule vid is illeage: '${a}'`);return}if(t==="delete"){J(r)?e.remove(s):console.warn(`animation rule vid is illeage: '${r}'`);return}};class Zf extends ft{constructor(e,t){!e&&(e={});super(Xf,e,t);f(this,"MODULE",A.ANIMATION)}}const Qf=function(n,e){_t(n,e)};class Jf extends pr{constructor(e,t){!e&&(e={});super(Qf,e,t);f(this,"MODULE",A.CSS3D)}}const eo=class{constructor(n){f(this,"cameraDataSupport",new Pf),f(this,"lightDataSupport",new Of),f(this,"geometryDataSupport",new Rf),f(this,"textureDataSupport",new Sf),f(this,"materialDataSupport",new _f),f(this,"rendererDataSupport",new If),f(this,"sceneDataSupport",new jf),f(this,"controlsDataSupport",new zf),f(this,"spriteDataSupport",new $f),f(this,"lineDataSupport",new Ff),f(this,"meshDataSupport",new Vf),f(this,"pointsDataSupport",new Uf),f(this,"groupDataSupport",new Wf),f(this,"css3DDataSupport",new Jf),f(this,"passDataSupport",new Yf),f(this,"animationDataSupport",new Zf),f(this,"dataSupportMap"),n&&Object.keys(n).forEach(t=>{this[t]!==void 0&&(this[t]=n[t])});const e=new Map;Object.keys(this).forEach(t=>{const r=this[t];r instanceof ft&&e.set(r.MODULE,r)}),this.dataSupportMap=e}getDataSupport(n){return this.dataSupportMap.has(n)?this.dataSupportMap.get(n):(console.warn(`can not found this type in dataSupportManager: ${n}`),null)}getSupportData(n){return this.dataSupportMap.has(n)?this.dataSupportMap.get(n).getData():(console.warn(`can not found this type in dataSupportManager: ${n}`),null)}setSupportData(n,e){return this.dataSupportMap.has(n)?this.dataSupportMap.get(n).setData(e):console.warn(`can not found this type in dataSupportManager: ${n}`),this}getConfigBySymbol(n){const e=this.dataSupportMap.values();for(const t of e){const r=t.getConfig(n);if(r)return r}return null}removeConfigBySymbol(...n){const e=this.dataSupportMap.values();for(const t of n)for(const r of e)if(r.existSymbol(t)){r.removeConfig(t);break}return this}getModuleBySymbol(n){const e=this.dataSupportMap.values();for(const t of e)if(t.existSymbol(n))return t.MODULE;return null}applyConfig(...n){for(const e of n){const t=eo.configModuleMap[e.type];t?this.dataSupportMap.get(t).addConfig(e):console.warn(`dataSupportManager can not found this config module: ${e.type}`)}return this}reactiveConfig(n){const e=eo.configModuleMap[n.type];return e?this.dataSupportMap.get(e).addConfig(n).getConfig(n.vid):(console.warn(`dataSupportManager can not found this config module: ${n.type}`),n)}load(n){return this.dataSupportMap.forEach((t,r)=>{n[r]&&t.load(n[r])}),this}remove(n){return this.dataSupportMap.forEach((t,r)=>{n[r]&&t.remove(n[r])}),this}toJSON(n={},e=!0){return JSON.stringify(this.exportConfig(n,e),dr)}exportConfig(n={},e=!0){return this.dataSupportMap.forEach((r,i)=>{n[i]=r.exportConfig(e)}),n}};let fl=eo;f(fl,"configModuleMap",mi);const em=function(n){if(this.dataSupportManager)return console.warn("engine has installed dataSupportManager plugin."),!1;const e=new fl(n);return this.dataSupportManager=e,this.applyConfig=function(...t){return this.dataSupportManager.applyConfig(...t),this},this.reactiveConfig=function(t){return this.dataSupportManager.reactiveConfig(t)},this.getConfigBySymbol=function(t){return this.dataSupportManager.getConfigBySymbol(t)},this.removeConfigBySymbol=function(...t){return this.dataSupportManager.removeConfigBySymbol(...t),this},this.toJSON=function(){if(this.loaderManager){const t={assets:JSON.parse(this.loaderManager.toJSON())};return this.dataSupportManager.toJSON(t)}return this.dataSupportManager.toJSON()},this.exportConfig=function(){let t={};return this.loaderManager&&(t={assets:this.loaderManager.exportConfig()}),this.dataSupportManager.exportConfig(t)},this.completeSet.add(()=>{const t=this.dataSupportManager.getDataSupport(A.RENDERER).getData();t.WebGLRenderer||(t.WebGLRenderer=$(E.WEBGLRENDERER));const r=this.dataSupportManager.getDataSupport(A.CONTROLS).getData();this.transformControls&&(r[E.TRNASFORMCONTROLS]||(r[E.TRNASFORMCONTROLS]=$(E.TRNASFORMCONTROLS))),this.orbitControls&&(r[E.ORBITCONTROLS]||(r[E.ORBITCONTROLS]=$(E.ORBITCONTROLS)))}),!0};class ke{static applyConfig(e,t,r={},i){const s=Object.assign({vid:!0,type:!0},r),o=(a,c)=>{for(const l in a)if(!s[l]){if(typeof a[l]=="object"&&typeof a[l]!==null&&yi(l,c)){o(a[l],c[l]);continue}yi(l,c)&&(c[l]=a[l])}};o(e,t),i&&i()}constructor(){}}const tm={name:"linearTime",multiply:1},nm=function(n,e,t,r){return e[t]===void 0?(console.error(`object not exist attribute: ${t}`,e),i=>{}):typeof e[t]!="number"?(console.error("object attribute is not typeof number.",e,t),i=>{}):i=>{e[t]+=i.delta*r.multiply}},xt=class{static generateConfig(n,e){if(!xt.configLibrary.has(n))return console.warn(`event library can not found config by name: ${n}`),{name:""};const t=(i,s)=>{for(const o in s)i[o]!==void 0&&(typeof s[o]=="object"&&s[o]!==null&&!Array.isArray(s[o])?t(i[o],s[o]):i[o]=s[o])},r=JSON.parse(JSON.stringify(xt.configLibrary.get(n)));return t(r,e),r}static generateScript(n,e,t,r){return xt.generatorLibrary.has(r.name)?xt.generatorLibrary.get(r.name)(n,e,t,r):(console.error(`event library can not found generator by name: ${r.name}`),()=>{})}static has(n){return xt.configLibrary.has(n)}};let nn=xt;f(nn,"configLibrary",new Map);f(nn,"generatorLibrary",new Map);f(nn,"register",function(n,e){xt.configLibrary.has(n.name)&&console.warn(`EventLibrary has already exist this event generator: ${n.name}, that will be cover.`),xt.configLibrary.set(n.name,JSON.parse(JSON.stringify(n))),xt.generatorLibrary.set(n.name,e)});nn.register(tm,nm);class rm extends ke{constructor(){super();f(this,"MODULE",A.ANIMATION),f(this,"target",{}),f(this,"engine"),f(this,"objectMapSet",new Set),f(this,"scriptAniSymbol","vis.scriptAni")}linkObjectMap(...e){for(const t of e)this.objectMapSet.has(t)||this.objectMapSet.add(t);return this}linkTextureMap(e){return this.objectMapSet.add(e),this}linkMaterialMap(e){return this.objectMapSet.add(e),this}getObject(e){for(const t of this.objectMapSet)if(t.has(e))return t.get(e);return console.error(`animation compiler can not found object which vid: ${e}`),{}}add(e,t){const r=this.engine.renderManager;let i=this.getObject(t.target);const s=t.attribute.split(".");s.shift();const o=s.pop();for(const a of s){if(i[a]===void 0){console.error(`animaton compiler: target object can not found key: ${a}`,i);break}i=i[a]}if(t.type===E.SCRIPTANIMATION){const a=nn.generateScript(this.engine,i,o,t.script);t[Symbol.for(this.scriptAniSymbol)]=a,r.addEventListener("render",a)}else console.warn(`animation compiler can not support this type config: ${t.type}`);return this}update(e){return this.remove(this.target[e]).add(e,this.target[e])}remove(e){return e.type===E.SCRIPTANIMATION&&this.engine.renderManager.removeEventListener("render",e[Symbol.for(this.scriptAniSymbol)]),this}setTarget(e){return this.target=e,this}useEngine(e){return this.engine=e,this}compileAll(){for(const e of Object.values(this.target))this.add(e.vid,e);return this}dispose(e){for(const t of Object.values(this.target))this.remove(t);return this}getObjectSymbol(e){return null}getObjectBySymbol(e){return null}}const im={name:"openWindow",params:{url:""}},sm=function(n,e){return()=>{window.open(e.params.url)}},om={name:"visibleObject",params:{target:"",visible:!0,delay:0}},am=function(n,e){const t=e.params,r=n.getObjectBySymbol(t.target);return r?()=>{setTimeout(()=>{r.visible=t.visible},t.delay)}:(console.warn(`basic event visibleObject: can not found vid object: ${t.target}`),()=>{})},lm={name:"addClass",params:{target:"",className:"",delay:0}},cm=function(n,e){const t=e.params,r=[];if(t.target==="all")n.scene.traverse(i=>{i instanceof li&&r.push(i)});else if(Array.isArray(t.target))t.target.forEach(i=>{const s=n.getObjectBySymbol(i);s?r.push(s):console.warn(`basic event AddClass: can not found vid object: ${t.target}`)});else{const i=n.getObjectBySymbol(t.target);if(!i)return console.warn(`basic event AddClass: can not found vid object: ${t.target}`),()=>{};if(!(i instanceof li))return console.warn("basic event AddClass: object is not a CSS3DObject."),()=>{};r.push(i)}return r.length?()=>{setTimeout(()=>{r.forEach(i=>{i.element.classList.add(t.className)})},t.delay)}:(console.warn(`basic event AddClass: can not found vid object: ${t.target}`),()=>{})};var Ie={Linear:{None:function(n){return n}},Quadratic:{In:function(n){return n*n},Out:function(n){return n*(2-n)},InOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)}},Cubic:{In:function(n){return n*n*n},Out:function(n){return--n*n*n+1},InOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)}},Quartic:{In:function(n){return n*n*n*n},Out:function(n){return 1- --n*n*n*n},InOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)}},Quintic:{In:function(n){return n*n*n*n*n},Out:function(n){return--n*n*n*n*n+1},InOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)}},Sinusoidal:{In:function(n){return 1-Math.cos(n*Math.PI/2)},Out:function(n){return Math.sin(n*Math.PI/2)},InOut:function(n){return .5*(1-Math.cos(Math.PI*n))}},Exponential:{In:function(n){return n===0?0:Math.pow(1024,n-1)},Out:function(n){return n===1?1:1-Math.pow(2,-10*n)},InOut:function(n){return n===0?0:n===1?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(-Math.pow(2,-10*(n-1))+2)}},Circular:{In:function(n){return 1-Math.sqrt(1-n*n)},Out:function(n){return Math.sqrt(1- --n*n)},InOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)}},Elastic:{In:function(n){return n===0?0:n===1?1:-Math.pow(2,10*(n-1))*Math.sin((n-1.1)*5*Math.PI)},Out:function(n){return n===0?0:n===1?1:Math.pow(2,-10*n)*Math.sin((n-.1)*5*Math.PI)+1},InOut:function(n){return n===0?0:n===1?1:(n*=2,n<1?-.5*Math.pow(2,10*(n-1))*Math.sin((n-1.1)*5*Math.PI):.5*Math.pow(2,-10*(n-1))*Math.sin((n-1.1)*5*Math.PI)+1)}},Back:{In:function(n){var e=1.70158;return n*n*((e+1)*n-e)},Out:function(n){var e=1.70158;return--n*n*((e+1)*n+e)+1},InOut:function(n){var e=1.70158*1.525;return(n*=2)<1?.5*(n*n*((e+1)*n-e)):.5*((n-=2)*n*((e+1)*n+e)+2)}},Bounce:{In:function(n){return 1-Ie.Bounce.Out(1-n)},Out:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},InOut:function(n){return n<.5?Ie.Bounce.In(n*2)*.5:Ie.Bounce.Out(n*2-1)*.5+.5}}},fr;typeof self=="undefined"&&typeof process!="undefined"&&process.hrtime?fr=function(){var n=process.hrtime();return n[0]*1e3+n[1]/1e6}:typeof self!="undefined"&&self.performance!==void 0&&self.performance.now!==void 0?fr=self.performance.now.bind(self.performance):Date.now!==void 0?fr=Date.now:fr=function(){return new Date().getTime()};var Tn=fr,um=function(){function n(){this._tweens={},this._tweensAddedDuringUpdate={}}return n.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(t){return e._tweens[t]})},n.prototype.removeAll=function(){this._tweens={}},n.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},n.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},n.prototype.update=function(e,t){e===void 0&&(e=Tn()),t===void 0&&(t=!1);var r=Object.keys(this._tweens);if(r.length===0)return!1;for(;r.length>0;){this._tweensAddedDuringUpdate={};for(var i=0;i<r.length;i++){var s=this._tweens[r[i]],o=!t;s&&s.update(e,o)===!1&&!t&&delete this._tweens[r[i]]}r=Object.keys(this._tweensAddedDuringUpdate)}return!0},n}(),mr={Linear:function(n,e){var t=n.length-1,r=t*e,i=Math.floor(r),s=mr.Utils.Linear;return e<0?s(n[0],n[1],r):e>1?s(n[t],n[t-1],t-r):s(n[i],n[i+1>t?t:i+1],r-i)},Bezier:function(n,e){for(var t=0,r=n.length-1,i=Math.pow,s=mr.Utils.Bernstein,o=0;o<=r;o++)t+=i(1-e,r-o)*i(e,o)*n[o]*s(r,o);return t},CatmullRom:function(n,e){var t=n.length-1,r=t*e,i=Math.floor(r),s=mr.Utils.CatmullRom;return n[0]===n[t]?(e<0&&(i=Math.floor(r=t*(1+e))),s(n[(i-1+t)%t],n[i],n[(i+1)%t],n[(i+2)%t],r-i)):e<0?n[0]-(s(n[0],n[0],n[1],n[1],-r)-n[0]):e>1?n[t]-(s(n[t],n[t],n[t-1],n[t-1],r-t)-n[t]):s(n[i?i-1:0],n[i],n[t<i+1?t:i+1],n[t<i+2?t:i+2],r-i)},Utils:{Linear:function(n,e,t){return(e-n)*t+n},Bernstein:function(n,e){var t=mr.Utils.Factorial;return t(n)/t(e)/t(n-e)},Factorial:function(){var n=[1];return function(e){var t=1;if(n[e])return n[e];for(var r=e;r>1;r--)t*=r;return n[e]=t,t}}(),CatmullRom:function(n,e,t,r,i){var s=(t-n)*.5,o=(r-e)*.5,a=i*i,c=i*a;return(2*e-2*t+s+o)*c+(-3*e+3*t-2*s-o)*a+s*i+e}}},hm=function(){function n(){}return n.nextId=function(){return n._nextId++},n._nextId=0,n}(),ml=new um,Ee=function(){function n(e,t){t===void 0&&(t=ml),this._object=e,this._group=t,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=Ie.Linear.None,this._interpolationFunction=mr.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=hm.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return n.prototype.getId=function(){return this._id},n.prototype.isPlaying=function(){return this._isPlaying},n.prototype.isPaused=function(){return this._isPaused},n.prototype.to=function(e,t){return this._valuesEnd=Object.create(e),t!==void 0&&(this._duration=t),this},n.prototype.duration=function(e){return this._duration=e,this},n.prototype.start=function(e){if(this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var t in this._valuesStartRepeat)this._swapEndStartRepeatValues(t),this._valuesStart[t]=this._valuesStartRepeat[t]}return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e!==void 0?typeof e=="string"?Tn()+parseFloat(e):e:Tn(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},n.prototype._setupProperties=function(e,t,r,i){for(var s in r){var o=e[s],a=Array.isArray(o),c=a?"array":typeof o,l=!a&&Array.isArray(r[s]);if(!(c==="undefined"||c==="function")){if(l){var u=r[s];if(u.length===0)continue;u=u.map(this._handleRelativeValue.bind(this,o)),r[s]=[o].concat(u)}if((c==="object"||a)&&o&&!l){t[s]=a?[]:{};for(var h in o)t[s][h]=o[h];i[s]=a?[]:{},this._setupProperties(o,t[s],r[s],i[s])}else typeof t[s]=="undefined"&&(t[s]=o),a||(t[s]*=1),l?i[s]=r[s].slice().reverse():i[s]=t[s]||0}}},n.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},n.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},n.prototype.pause=function(e){return e===void 0&&(e=Tn()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=e,this._group&&this._group.remove(this),this)},n.prototype.resume=function(e){return e===void 0&&(e=Tn()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this)},n.prototype.stopChainedTweens=function(){for(var e=0,t=this._chainedTweens.length;e<t;e++)this._chainedTweens[e].stop();return this},n.prototype.group=function(e){return this._group=e,this},n.prototype.delay=function(e){return this._delayTime=e,this},n.prototype.repeat=function(e){return this._initialRepeat=e,this._repeat=e,this},n.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},n.prototype.yoyo=function(e){return this._yoyo=e,this},n.prototype.easing=function(e){return this._easingFunction=e,this},n.prototype.interpolation=function(e){return this._interpolationFunction=e,this},n.prototype.chain=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._chainedTweens=e,this},n.prototype.onStart=function(e){return this._onStartCallback=e,this},n.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},n.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},n.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},n.prototype.onStop=function(e){return this._onStopCallback=e,this},n.prototype.update=function(e,t){if(e===void 0&&(e=Tn()),t===void 0&&(t=!0),this._isPaused)return!0;var r,i,s=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(e>s)return!1;t&&this.start(e)}if(this._goToEnd=!1,e<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),i=(e-this._startTime)/this._duration,i=this._duration===0||i>1?1:i;var o=this._easingFunction(i);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,o),this._onUpdateCallback&&this._onUpdateCallback(this._object,i),i===1)if(this._repeat>0){isFinite(this._repeat)&&this._repeat--;for(r in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[r]=="string"&&(this._valuesStartRepeat[r]=this._valuesStartRepeat[r]+parseFloat(this._valuesEnd[r])),this._yoyo&&this._swapEndStartRepeatValues(r),this._valuesStart[r]=this._valuesStartRepeat[r];return this._yoyo&&(this._reversed=!this._reversed),this._repeatDelayTime!==void 0?this._startTime=e+this._repeatDelayTime:this._startTime=e+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var a=0,c=this._chainedTweens.length;a<c;a++)this._chainedTweens[a].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},n.prototype._updateProperties=function(e,t,r,i){for(var s in r)if(t[s]!==void 0){var o=t[s]||0,a=r[s],c=Array.isArray(e[s]),l=Array.isArray(a),u=!c&&l;u?e[s]=this._interpolationFunction(a,i):typeof a=="object"&&a?this._updateProperties(e[s],o,a,i):(a=this._handleRelativeValue(o,a),typeof a=="number"&&(e[s]=o+(a-o)*i))}},n.prototype._handleRelativeValue=function(e,t){return typeof t!="string"?t:t.charAt(0)==="+"||t.charAt(0)==="-"?e+parseFloat(t):parseFloat(t)},n.prototype._swapEndStartRepeatValues=function(e){var t=this._valuesStartRepeat[e],r=this._valuesEnd[e];typeof r=="string"?this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(r):this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=t},n}(),mt=ml;mt.getAll.bind(mt);mt.removeAll.bind(mt);mt.add.bind(mt);mt.remove.bind(mt);mt.update.bind(mt);var gt;(function(n){n.ELN="ELN",n.EQI="EQI",n.EQO="EQO",n.EASING_LINEAR_NONE="EASING_LINEAR_NONE",n.EASING_QUARTIC_IN="EASING_QUARTIC_IN",n.EASING_QUARTIC_OUT="EASING_QUARTIC_OUT",n.EASING_QUARTIC_INOUT="EASING_QUARTIC_INOUT",n.EASING_QUADRATIC_IN="EASING_QUADRATIC_IN",n.EASING_QUADRATIC_OUT="EASING_QUADRATIC_OUT",n.EASING_QUADRATIC_INOUT="EASING_QUADRATIC_INOUT"})(gt||(gt={}));const Me={ELN:Ie.Linear.None,EQI:Ie.Quartic.In,EQO:Ie.Quartic.Out,EASING_LINEAR_NONE:Ie.Linear.None,EASING_QUARTIC_IN:Ie.Quartic.In,EASING_QUARTIC_OUT:Ie.Quartic.Out,EASING_QUARTIC_INOUT:Ie.Quartic.InOut,EASING_QUADRATIC_IN:Ie.Quadratic.In,EASING_QUADRATIC_OUT:Ie.Quadratic.Out,EASING_QUADRATIC_INOUT:Ie.Quadratic.InOut},dm={name:"moveTo",params:{target:"",position:{x:0,y:0,z:0},delay:0,duration:1e3,timingFunction:gt.EASING_QUADRATIC_INOUT}},pm=function(n,e){const t=e.params,i=n.compilerManager.getObjectBySymbol(t.target);if(!i)return console.warn(`real time animation moveTO: can not found vid object: ${t.target}`),()=>{};const s=n.renderManager,o=n.dataSupportManager.getConfigBySymbol(t.target);return o?()=>{const a=new Ee(i.position).to(t.position).duration(t.duration).delay(t.delay).easing(Me[t.timingFunction]).start(),c=l=>{a.update()};s.addEventListener("render",c),a.onComplete(()=>{s.removeEventListener("render",c),o.position.x=t.position.x,o.position.y=t.position.y,o.position.z=t.position.z})}:(console.warn(`can not found object config: ${t.target}`),()=>{})},fm={name:"moveFromTo",params:{target:"",from:{x:0,y:0,z:0},to:{x:10,y:10,z:10},delay:0,duration:1e3,timingFunction:gt.EASING_QUADRATIC_INOUT}},mm=function(n,e){const t=e.params,i=n.compilerManager.getObjectBySymbol(t.target);if(!i)return console.warn(`real time animation moveTO: can not found vid object: ${t.target}`),()=>{};const s=n.renderManager,o=n.dataSupportManager.getConfigBySymbol(t.target);return o?()=>{i.position.set(t.from.x,t.from.y,t.from.z),i.updateMatrix(),i.updateMatrixWorld();const a=new Ee(i.position).to(t.to).duration(t.duration).delay(t.delay).easing(Me[t.timingFunction]).start(),c=l=>{a.update()};s.addEventListener("render",c),a.onComplete(()=>{s.removeEventListener("render",c),o.position.x=t.to.x,o.position.y=t.to.y,o.position.z=t.to.z})}:(console.warn(`can not found object config: ${t.target}`),()=>{})},gm={name:"moveSpacing",params:{target:"",spacing:{x:10,y:10,z:10},delay:0,duration:1e3,timingFunction:gt.EASING_QUADRATIC_INOUT}},ym=function(n,e){const t=e.params,r=n.getObjectBySymbol(t.target);if(!r)return console.warn(`can not found vid object: ${t.target}`),()=>{};if(!(r instanceof Cn))return console.warn(`object is not instanceof Object3D: ${t.target}`),()=>{};const i=n.renderManager,s=n.getConfigBySymbol(t.target);return()=>{const o={x:r.position.x+t.spacing.x,y:r.position.y+t.spacing.y,z:r.position.z+t.spacing.z},a=new Ee(r.position).to(o).duration(t.duration).delay(t.delay).easing(Me[t.timingFunction]).start(),c=l=>{a.update()};i.addEventListener("render",c),a.onComplete(()=>{i.removeEventListener("render",c),s.position.x=o.x,s.position.y=o.y,s.position.z=o.z})}},vm={name:"moveToObject",params:{target:"",to:"",offset:{x:0,y:0,z:0},delay:0,duration:1e3,timingFunction:gt.EASING_QUADRATIC_INOUT}},bm=function(n,e){const t=e.params,r=n.compilerManager,i=r.getObjectBySymbol(t.target),s=r.getObjectBySymbol(t.to);if(!i)return console.warn(`real time animation MoveToObject: can not found vid object: ${t.target}`),()=>{};if(!s)return console.warn(`real time animation MoveToObject: can not found vid object: ${t.target}`),()=>{};const o=n.renderManager,a=n.dataSupportManager.getConfigBySymbol(t.target);return a?()=>{const c={x:s.position.x+t.offset.x,y:s.position.y+t.offset.y,z:s.position.z+t.offset.z},l=new Ee(i.position).to(c).duration(t.duration).delay(t.delay).easing(Me[t.timingFunction]).start(),u=h=>{l.update()};o.addEventListener("render",u),l.onComplete(()=>{o.removeEventListener("render",u),a.position.x=c.x,a.position.y=c.y,a.position.z=c.z})}:(console.warn(`can not found object config: ${t.target}`),()=>{})},Em={name:"vector3To",params:{target:"",attribute:".position",props:{x:"x",y:"y",z:"z"},delay:0,duration:500,to:{},timingFunction:gt.EASING_QUADRATIC_INOUT}},Mm=function(n,e){var t,r,i;const s=e.params,o=n.compilerManager.getObjectBySymbol(s.target);if(!o)return console.warn(`real time animation vector3To: can not found vid object: ${s.target}`),()=>{};const a=n.renderManager;let c=n.dataSupportManager.getConfigBySymbol(s.target);if(!c)return console.warn(`real time animation vector3To: can not found object config: ${s.target}`),()=>{};const l=s.attribute.split(".");l.shift();let u=o;for(const p of l){if(u[p]===void 0)return console.error(`real time animation vector3To: object can not support key: ${p}`,o),()=>{};u=u[p],c=c[p]}const h=s.props;if(!(h.x in u)||!(h.y in u)||!(h.z in u))return console.error("real time animation vector3To: object can not support props:",u,h),()=>{};if(!(h.x in c)||!(h.y in c)||!(h.z in c))return console.error("real time animation vector3To: config can not support props:",c,h),()=>{};const d={x:(t=s.to.x)!=null?t:u[h.x],y:(r=s.to.y)!=null?r:u[h.y],z:(i=s.to.z)!=null?i:u[h.z]};return()=>{const p=new Ee(u).to(d).duration(s.duration).delay(s.delay).easing(Me[s.timingFunction]).start(),v=M=>{p.update()};a.addEventListener("render",v),p.onComplete(()=>{a.removeEventListener("render",v),c[h.x]=d.x,c[h.y]=d.y,c[h.z]=d.z})}},Cm={name:"focusObject",params:{target:"",space:"world",offset:{x:0,y:0,z:20},delay:0,duration:1e3,timingFunction:gt.EASING_QUADRATIC_INOUT,back:!0}},Sm=function(n,e){const t=e.params,r=n.getObjectBySymbol(t.target),i=n.camera,s=n.getObjectConfig(i),o=n.orbitControls&&n.orbitControls.object===i,a=n.orbitControls.target;return r?r instanceof Cn?(s||console.warn("engine current camera can not found config."),()=>{const c=n.renderManager;let l={x:r.position.x+t.offset.x,y:r.position.y+t.offset.y,z:r.position.z+t.offset.z};const u={x:i.position.x,y:i.position.y,z:i.position.z};if(t.space==="local"){const m=new K(t.offset.x,t.offset.y,t.offset.z).applyEuler(r.rotation);l={x:r.position.x+m.x,y:r.position.y+m.y,z:r.position.z+m.z}}const h=new Ee(i.position).to(l).duration(t.duration).delay(t.delay).easing(Me[t.timingFunction]).start();let d;const p={x:i.up.x,y:i.up.y,z:i.up.z};if(t.space==="local"){const m=new K(0,1,0).applyEuler(r.rotation);d=new Ee(i.up).to({x:m.x,y:m.y,z:m.z}).duration(t.duration).delay(t.delay).easing(Me[t.timingFunction]).start()}let v;const M={x:a.x,y:a.y,z:a.z};o&&(v=new Ee(a).to(r.position).duration(t.duration).delay(t.delay).easing(Me[t.timingFunction]).start());let _;o&&t.space==="local"?_=m=>{h.update(),d.update(),v.update()}:o?_=m=>{h.update(),v.update()}:t.space==="local"?_=m=>{h.update(),d.update()}:_=m=>{h.update()},c.addEventListener("render",_),h.onComplete(()=>{if(c.removeEventListener("render",_),s&&(s.position.x=l.x,s.position.y=l.y,s.position.z=l.z),t.back){const m=()=>{const w=new Ee(i.position).to(u).duration(t.duration).delay(t.delay).easing(Me[t.timingFunction]).start();let g;t.space==="local"&&(g=new Ee(i.up).to(p).duration(t.duration).delay(t.delay).easing(Me[t.timingFunction]).start());let y;o&&(y=new Ee(a).to(M).duration(t.duration).delay(t.delay).easing(Me[t.timingFunction]).start());const b=C=>{w.update(),g&&g.update(),y&&y.update()};w.onComplete(()=>{c.removeEventListener("render",b)}),c.addEventListener("render",b),document.removeEventListener("dblclick",m)};document.addEventListener("dblclick",m)}})}):(console.warn(`real time animation focusObject: vid object is not a class of THREE.Object3D: ${t.target}`),()=>{}):(console.warn(`real time animation focusObject: can not found vid object: ${t.target}`),()=>{})},wm={name:"fadeObject",params:{target:"",direction:"out",delay:0,duration:1e3,timingFunction:gt.EASING_QUADRATIC_INOUT,visible:!0}},_m=function(n,e){const t=e.params,r=n.getObjectBySymbol(t.target);if(!r)return console.warn(`real time animation fadeObject: can not found vid object: ${t.target}`),()=>{};const i=n.getObjectConfig(r);if(!i.material)return console.warn(`real time animation fadeObject: target can not support fade: ${t.target}`),()=>{};const s=[],o=[],a=Array.isArray(i.material)?[].concat(i.material):[i.material];for(const c of a){const l=n.getObjectBySymbol(c),u=n.getConfigBySymbol(c);if(!(l instanceof si)){console.error(`real time animation fadeObject: object config material is not instanceof Material: ${c}`);continue}if(!u){console.error(`real time animation fadeObject: object config material can not found config: ${c}`);continue}s.push(l),o.push(u)}return()=>{const c=n.renderManager;i.visible=!0,s.forEach((l,u,h)=>{l.transparent=!0,l.opacity=t.direction==="in"?0:1,l.needsUpdate=!0;const d=new Ee(l).to({opacity:t.direction==="in"?1:0}).duration(t.duration).delay(t.delay).easing(Me[t.timingFunction]).start(),p=v=>{d.update()};c.addEventListener("render",p),d.onComplete(()=>{c.removeEventListener("render",p),t.direction==="out"&&t.visible?o[u].visible=!1:t.direction==="in"&&t.visible&&(o[u].visible=!0),o[u].opacity=t.direction==="in"?1:0})})}},xm={name:"showToCamera",params:{target:"",offset:{x:0,y:0,z:-30},delay:0,duration:1e3,timingFunction:gt.EASING_QUADRATIC_INOUT,back:!0}},Om=function(n,e){const t=e.params,r=n.getObjectBySymbol(t.target),i=n.getConfigBySymbol(t.target),s=n.camera;if(!r)return console.warn(`real time animation showToCamera: can not found vid object: ${t.target}`),()=>{};if(!r)return console.warn(`real time animation showToCamera: can not found vid config: ${t.target}`),()=>{};if(!(r instanceof Cn))return console.warn(`real time animation showToCamera: vid object is not a class of THREE.Object3D: ${t.target}`),()=>{};const o=new Ua,a=new Ga,c=new K;return()=>{const l=n.renderManager;c.set(t.offset.x,t.offset.y,t.offset.z).applyEuler(s.rotation),c.set(s.position.x+c.x,s.position.y+c.y,s.position.z+c.z),o.lookAt(s.position,c,s.up),a.setFromRotationMatrix(o);const u={x:r.position.x,y:r.position.y,z:r.position.z},h={x:r.rotation.x,y:r.rotation.y,z:r.rotation.z},d=new Ee(r.position).to({x:c.x,y:c.y,z:c.z}).duration(t.duration).delay(t.delay).easing(Me[t.timingFunction]).start(),p=new Ee(r.rotation).to({x:a.x,y:a.y,z:a.z}).duration(t.duration).delay(t.delay).easing(Me[t.timingFunction]).start(),v=M=>{d.update(),p.update()};l.addEventListener("render",v),d.onComplete(()=>{if(l.removeEventListener("render",v),i.position.x=c.x,i.position.y=c.y,i.position.z=c.z,i.rotation.x=a.x,i.rotation.y=a.y,i.rotation.z=a.z,t.back){const M=()=>{const _=new Ee(r.position).to(u).duration(t.duration).delay(t.delay).easing(Me[t.timingFunction]).start(),m=new Ee(r.rotation).to(h).duration(t.duration).delay(t.delay).easing(Me[t.timingFunction]).start(),w=g=>{_.update(),m.update()};_.onComplete(()=>{l.removeEventListener("render",w),i.position.x=u.x,i.position.y=u.y,i.position.z=u.z,i.rotation.x=h.x,i.rotation.y=h.y,i.rotation.z=h.z}),l.addEventListener("render",w),document.removeEventListener("dblclick",M)};document.addEventListener("dblclick",M)}})}},Ot=class{static generateConfig(n,e){if(!Ot.configLibrary.has(n))return console.warn(`event library can not found config by name: ${n}`),{name:""};const t=(i,s)=>{for(const o in s)typeof s[o]=="object"&&s[o]!==null&&!Array.isArray(s[o])?t(i[o],s[o]):i[o]=s[o]},r=JSON.parse(JSON.stringify(Ot.configLibrary.get(n)));return t(r,e),r}static generateEvent(n,e){return Ot.generatorLibrary.has(n.name)?Ot.generatorLibrary.get(n.name)(e,n):(console.error(`event library can not found generator by name: ${n.name}`),()=>{})}static has(n){return Ot.configLibrary.has(n)}};let fe=Ot;f(fe,"configLibrary",new Map);f(fe,"generatorLibrary",new Map);f(fe,"register",function(n,e){Ot.configLibrary.has(n.name)&&console.warn(`EventLibrary has already exist this event generator: ${n.name}, that will be cover.`),Ot.configLibrary.set(n.name,JSON.parse(JSON.stringify(n))),Ot.generatorLibrary.set(n.name,e)});fe.register(im,sm);fe.register(om,am);fe.register(lm,cm);fe.register(dm,pm);fe.register(fm,mm);fe.register(gm,ym);fe.register(vm,bm);fe.register(Em,Mm);fe.register(Cm,Sm);fe.register(wm,_m);fe.register(xm,Om);const gr=class extends ke{constructor(){super();f(this,"IS_OBJECTCOMPILER",!0),f(this,"target"),f(this,"map"),f(this,"weakMap"),f(this,"objectCacheMap"),f(this,"objectMapSet"),f(this,"filterAttribute",{lookAt:!0,parent:!0,children:!0,pointerdown:!0,pointermove:!0,pointerup:!0,pointerenter:!0,pointerleave:!0,click:!0,dblclick:!0,contextmenu:!0}),f(this,"engine"),this.map=new Map,this.weakMap=new WeakMap,this.objectMapSet=new Set,this.objectCacheMap=new WeakMap}getObject(n){for(const e of this.objectMapSet)if(e.has(n))return e.get(n);return null}mergeFilterAttribute(n){const e=(t,r)=>{for(const i in r){if(t[i]===void 0){t[i]=r[i];continue}typeof r[i]=="object"?e(t[i],r[i]):t[i]=r[i]}};return e(this.filterAttribute,n),this}setLookAt(n,e){if(n===e)return console.error("can not set object lookAt itself."),this;if(!this.map.has(n))return console.error(`${this.MODULE}Compiler: can not found object which vid: ${n}.`),this;const t=this.map.get(n);let r=this.objectCacheMap.get(t);if(r||(r={lookAtTarget:null,updateMatrixWorldFun:null},this.objectCacheMap.set(t,r)),!e)return r.updateMatrixWorldFun?(t.updateMatrixWorld=r.updateMatrixWorldFun,r.lookAtTarget=null,r.updateMatrixWorldFun=null,this):this;const i=this.getObject(e);if(!i)return console.warn(`${this.MODULE}Compiler: can not found this vid mapping object: '${n}'`),this;const s=t.updateMatrixWorld;return r.updateMatrixWorldFun=s,r.lookAtTarget=i.position,t.updateMatrixWorld=o=>{s.bind(t)(o),t.lookAt(r.lookAtTarget)},this}addEvent(n,e,t){if(!this.map.has(n))return console.warn(`${this.MODULE} compiler : No matching vid found: ${n}`),this;if(!fe.has(t.name))return console.warn(`${this.MODULE} compiler: can not support this event: ${t.name}`),this;const r=this.map.get(n),i=fe.generateEvent(t,this.engine),s=Symbol.for(gr.eventSymbol);return t[s]=i,r.addEventListener(e,i),this}removeEvent(n,e,t){if(!this.map.has(n))return console.warn(`${this.MODULE} compiler: No matching vid found: ${n}`),this;const r=this.map.get(n),i=t[Symbol.for(gr.eventSymbol)];return i?(r.removeEventListener(e,i),delete t[Symbol.for(gr.eventSymbol)],this):(console.warn(`${this.MODULE} compiler: event remove can not fun found event in config`,t),this)}updateEvent(n,e,t){if(!this.map.has(n))return console.warn(`${this.MODULE} compiler: No matching vid found: ${n}`),this;const r=this.map.get(n),i=Symbol.for(gr.eventSymbol),s=this.target[n][e][t],o=s[i];if(!o)return console.warn(`${this.MODULE} compiler: can not fun found event: ${n}, ${e}, ${t}`),this;r.removeEventListener(e,o);const a=fe.generateEvent(s,this.engine);return s[i]=a,r.addEventListener(e,a),this}addChildren(n,e){if(!this.map.has(n))return console.warn(`${this.MODULE} compiler: can not found this vid in compiler: ${n}.`),this;const t=this.engine.getConfigBySymbol(e);if(!t)return console.warn(`${this.MODULE} compiler: can not foud object config: ${e}`),this;if(t.parent&&t.parent!==n){const s=this.engine.getConfigBySymbol(t.parent);if(!s)return console.warn(`${this.MODULE} compiler: can not foud object config: ${e}`),this;s.children.splice(s.children.indexOf(e),1)}t.parent=n;const r=this.map.get(n),i=this.getObject(e);return i?(r.add(i),this):(console.warn(`${this.MODULE} compiler: can not found this vid in compiler: ${e}.`),this)}removeChildren(n,e){if(!this.map.has(n))return console.warn(`${this.MODULE} compiler: can not found this vid in compiler: ${n}.`),this;const t=this.map.get(n),r=this.getObject(e);if(!r)return console.warn(`${this.MODULE} compiler: can not found this vid in compiler: ${e}.`),this;t.remove(r);const i=this.engine.getConfigBySymbol(e);return i?(i.parent="",this):(console.warn(`${this.MODULE} compiler: remove children function can not foud object config: ${e}`),this)}linkObjectMap(...n){for(const e of n)this.objectMapSet.has(e)||this.objectMapSet.add(e);return this}useEngine(n){return this.engine=n,this}setTarget(n){return this.target=n,this}getMap(){return this.map}getObjectSymbol(n){return this.weakMap.get(n)||null}getObjectBySymbol(n){return this.map.get(n)||null}compileAll(){const n=this.target;for(const e in n)this.add(e,n[e]);return this}add(n,e){const t=this.map.get(n);return t?(Promise.resolve().then(()=>{if(this.setLookAt(n,e.lookAt),e.children.length)for(const i of e.children)this.addChildren(n,i);for(const i of Object.values(cr)){const s=e[i];if(s.length)for(const o of s)this.addEvent(n,i,o)}}),ke.applyConfig(e,t,this.filterAttribute),t.updateMatrix(),t.updateMatrixWorld(),this):(console.error(`${this.MODULE} compiler can not finish add method.`),this)}set(n,e,t,r){if(!this.map.has(n))return console.warn(`${this.MODULE} compiler can not found this vid mapping object: '${n}'`),this;if(t==="lookAt")return this.setLookAt(n,r);let i=this.map.get(n),s=this.filterAttribute;for(const o of e){if(s[o]){if(s[o]===!0)return this;s=s[o]}i=i[o]}return i[t]=r,this}cover(n,e){const t=this.map.get(n);return t?(Promise.resolve().then(()=>{if(this.setLookAt(n,e.lookAt),e.children.length)for(const i of e.children)this.addChildren(n,i);for(const i of Object.values(cr)){t._listeners&&t._listeners[i]&&(t._listeners[i]=[]);const s=e[i];if(s.length)for(const o of s)this.addEvent(n,i,o)}}),ke.applyConfig(e,t,this.filterAttribute),this):(console.error(`${this.MODULE} compiler can not found object: ${n}.`),this)}remove(n,e){if(!this.map.has(n))return console.warn(`${this.MODULE}Compiler: can not found object which vid: ${n}.`),this;if(e.parent){const r=this.engine.getConfigBySymbol(e.parent);r?r.children.includes(n)?r.children.splice(r.children.indexOf(n),1):console.warn(`${this.MODULE} compiler: can not found vid in its parent config: ${n}`):console.warn(`${this.MODULE} compiler: can not found parent object config: ${e.parent}`)}const t=this.map.get(n);return this.weakMap.delete(t),this.objectCacheMap.delete(this.map.get(n)),this.map.delete(n),this}dispose(){return this.map.clear(),this.objectMapSet.clear(),this}};let Ft=gr;f(Ft,"eventSymbol","vis.event");class Tm extends Ft{constructor(){super();f(this,"MODULE",A.CAMERA),f(this,"constructMap"),f(this,"cacheCameraMap");const e=new Map;e.set("PerspectiveCamera",()=>new Te),e.set("OrthographicCamera",()=>new tt(-50,50,50,-50)),this.constructMap=e,this.mergeFilterAttribute({scale:!0,adaptiveWindow:!0}),this.cacheCameraMap=new WeakMap}setAdaptiveWindow(e,t){if(!this.map.has(e))return console.warn(`camera compiler can not found this vid camera: '${e}'`),this;const r=this.map.get(e);let i=this.cacheCameraMap.get(r);if(i||(i={},this.cacheCameraMap.set(r,i)),!t){if(i.setSizeFun&&this.engine.hasEventListener("setSize",i.setSizeFun))return this.engine.removeEventListener("setSize",i.setSizeFun),i.setSizeFun=void 0,this;if(i.setSizeFun&&!this.engine.hasEventListener("setSize",i.setSizeFun))return i.setSizeFun=void 0,this}if(t){if(i.setSizeFun&&this.engine.hasEventListener("setSize",i.setSizeFun))return this;if(i.setSizeFun&&!this.engine.hasEventListener("setSize",i.setSizeFun))return this.engine.addEventListener("setSize",i.setSizeFun),this;let s=a=>{};r instanceof Te?s=a=>{r.aspect=a.width/a.height,r.updateProjectionMatrix()}:r instanceof tt?s=a=>{const c=a.width,l=a.height;r.left=-c/2,r.right=c/2,r.top=l/2,r.bottom=-l/2,r.updateProjectionMatrix()}:console.warn("camera compiler can not support this class camera:",r),this.engine.addEventListener("setSize",s),i.setSizeFun=s;const o=this.engine.dom;s({type:"setSize",width:o.offsetWidth,height:o.offsetHeight})}return this}add(e,t){if(t.type&&this.constructMap.has(t.type)){const r=this.constructMap.get(t.type)();this.map.set(e,r),this.weakMap.set(r,e),this.setLookAt(t.vid,t.lookAt),this.setAdaptiveWindow(t.vid,t.adaptiveWindow),super.add(e,t),(r instanceof Te||r instanceof tt)&&r.updateProjectionMatrix()}else console.warn(`CameraCompiler: can not support this config type: ${t.type}`);return this}cover(e,t){return this.setLookAt(t.vid,t.lookAt),this.setAdaptiveWindow(t.vid,t.adaptiveWindow),super.cover(e,t)}set(e,t,r,i){if(r==="adaptiveWindow")return this.setAdaptiveWindow(e,i);super.set(e,t,r,i);const s=this.map.get(e);return s&&(s instanceof Te||s instanceof tt)&&s.updateProjectionMatrix(),this}dispose(){return super.dispose(),this}}class to{constructor(){f(this,"filterMap",{}),f(this,"assembly",!1),this.filterMap=Object.assign({vid:!0,type:!0},this.filterMap)}mergeAttribute(e,t,r){if(this.filterMap[e.concat([t]).join(".")])return;let i=this.target;if(e.length)for(const s of e)i=i[s];i[t]=r}mergeObject(e){const t=(r,i)=>{for(const s in r)if(!this.filterMap[s]){if(typeof r[s]=="object"&&typeof r[s]!==null){t(r[s],i[s]);continue}i[s]=r[s]}};t(this.config,this.target),e&&e()}processAll(){const e=(t,r)=>{for(const i in t)if(!this.filterMap[r.concat([i]).join(".")]){if(typeof t[i]=="object"&&typeof t[i]!==null){e(t[i],r.concat([i]));continue}this.process({path:r,key:i,value:t[i]})}};return e(this.config,[]),this}}class Rm extends to{constructor(){super();f(this,"config"),f(this,"target"),f(this,"engine")}assemble(e){return this.config=e.config,this.target=e.control,this.engine=e.engine,this.assembly=!0,this}process(e){return this.assembly?e.key==="target"||e.path.length&&e.path[0]==="target"?(this.setTarget(this.config.target),this):(this.mergeAttribute([],e.key,e.value),this):(console.warn("OrbitControls Processor unassembled"),this)}setTarget(e){typeof e=="object"&&e!==null&&(this.target.target=new K(e.x,e.y,e.z))}dispose(){return this.config=void 0,this.target=void 0,this.assembly=!1,this}}class Am extends to{constructor(){super();f(this,"config"),f(this,"target"),f(this,"filterMap",{translationSnap:!0,rotationSnap:!0,scaleSnap:!0})}assemble(e){return this.config=e.config,this.target=e.control,this.assembly=!0,this}process(e){return this.assembly?this.filterMap[e.key]?this:this[e.key]?(this[e.key](e.value),this):(this.mergeAttribute([],e.key,e.value),this):(console.warn("transformControls Processor unassembled"),this)}dispose(){return this.config=void 0,this.target=void 0,this}snapAllow(e){const t=this.config,r=this.target;return e?(r.translationSnap=t.translationSnap,r.rotationSnap=t.rotationSnap,r.scaleSnap=t.scaleSnap):(r.translationSnap=null,r.rotationSnap=null,r.scaleSnap=null),!0}}class Pm extends ke{constructor(){super();f(this,"MODULE",A.CONTROLS),f(this,"target",{}),f(this,"map",new Map),f(this,"weakMap",new Map),f(this,"engine"),f(this,"processorMap",{[E.TRNASFORMCONTROLS]:new Am,[E.ORBITCONTROLS]:new Rm})}getAssembly(e){const t=this.target[e];if(!t)return console.warn(`controls compiler can not found this config: '${e}'`),null;const r=this.processorMap[t.type];if(!r)return console.warn(`controls compiler can not support this controls: '${e}'`),null;const i=this.map.get(t.type);return i?{config:t,processer:r,control:i}:(console.warn(`controls compiler can not found type of control: '${t.type}'`),null)}set(e,t,r,i){const s=this.getAssembly(e);return s?(s.processer.assemble({config:s.config,control:s.control,engine:this.engine}).process({key:r,path:t,value:i}),this):this}setAll(e){const t=this.getAssembly(e);return t?(t.processer.assemble({config:t.config,control:t.control,engine:this.engine}).processAll().dispose(),this):this}setTarget(e){return this.target=e,this}useEngine(e){return e.transformControls&&(this.map.set(E.TRNASFORMCONTROLS,e.transformControls),this.weakMap.set(e.transformControls,E.TRNASFORMCONTROLS)),e.orbitControls&&(this.map.set(E.ORBITCONTROLS,e.orbitControls),this.weakMap.set(e.orbitControls,E.ORBITCONTROLS)),this.engine=e,this}compileAll(){for(const e of Object.keys(this.target)){const t=this.getAssembly(e);!t||t.processer.assemble({config:t.config,control:t.control,engine:this.engine}).processAll().dispose()}return this}dispose(){return this.map.forEach(e=>{e.dispose&&e.dispose()}),this.map.clear(),this}getObjectSymbol(e){return this.weakMap.get(e)||null}getObjectBySymbol(e){return this.map.get(e)||null}}class Lm extends li{constructor(e=document.createElement("div")){const t=document.createElement("div"),r=50,i=50;t.style.width=`${r}px`,t.style.height=`${i}px`,t.appendChild(e);super(t);f(this,"geometry"),f(this,"_width"),f(this,"_height"),f(this,"cacheBox",new rd),this.geometry=new wt(r,i),this.geometry.computeBoundingBox(),this._width=r,this._height=i}get width(){return this._width}set width(e){this.geometry.dispose(),this.geometry=new wt(e,this._height),this.geometry.computeBoundingBox(),this.element.style.width=`${e}px`,this._width=e}get height(){return this._height}set height(e){this.geometry.dispose(),this.geometry=new wt(this._width,e),this.geometry.computeBoundingBox(),this.element.style.height=`${e}px`,this._height=e}}class Im extends Lm{constructor(e=document.createElement("div")){super(e);this.element.classList.add("vis-css3d-plane")}raycast(e,t){const r=this.cacheBox.copy(this.geometry.boundingBox);r.applyMatrix4(this.matrixWorld),e.ray.intersectsBox(r)&&t.push({distance:e.ray.origin.distanceTo(this.position),object:this,point:this.position})}}class Dm extends Ft{constructor(){super();f(this,"MODULE",A.CSS3D),f(this,"resourceMap"),f(this,"constructMap"),this.constructMap=new Map,this.resourceMap=new Map,this.constructMap.set(E.CSS3DOBJECT,e=>new li(this.getElement(e.element))),this.constructMap.set(E.CSS3DPLANE,e=>new Im(this.getElement(e.element))),this.constructMap.set(E.CSS3DSPRITE,e=>new Bd(this.getElement(e.element))),this.mergeFilterAttribute({element:!0,interactive:!0})}getElement(e){if(!this.resourceMap.has(e))return console.warn(`css3D compiler: can not found resource element: ${e}`),document.createElement("div");const t=this.resourceMap.get(e);return t instanceof HTMLElement?t:(console.warn("css3D compiler can not suport render this resource type.",t.constructor,e),document.createElement("div"))}linkRescourceMap(e){return this.resourceMap=e,this}add(e,t){if(t.type&&this.constructMap.has(t.type)){const r=this.constructMap.get(t.type)(t);r.type=t.type,this.map.set(e,r),this.weakMap.set(r,e),super.add(e,t)}else console.warn(`css3D compiler can not support this type: ${t.type}`);return this}set(e,t,r,i){if(!this.map.has(e))return console.warn(`css3D compiler: can not found this vid mapping object: '${e}'`),this;const s=this.map.get(e);return r==="element"?(s.element.innerHTML="",s.element.appendChild(this.getElement(i)),this):(super.set(e,t,r,i),this)}}class jm extends Je{constructor(e){super();f(this,"type","LoadBufferGeometry"),e&&this.copy(e)}}class Ei extends Je{constructor(e,t=36,r=!0){super();f(this,"parameters"),this.type="CurveGeometry",this.parameters={path:e.map(i=>i.clone()),space:r,divisions:t}}}class Nm extends Ei{constructor(e,t=36,r=!0){super(e,t,r);if(this.type="LineCurveGeometry",!e.length){console.warn("LineCurveGeometry path length at least 1.");return}const i=new Gs;for(let o=1;o<e.length;o+=1)i.add(new Rd(e[o-1],e[o]));const s=i.curves.reduce((o,a)=>o+=a.arcLengthDivisions,0);if(t>s){const o=Math.ceil((t-s)/i.curves.length);i.curves.forEach(a=>{a.arcLengthDivisions=a.arcLengthDivisions*(o+1),a.updateArcLengths()})}this.setFromPoints(r?i.getSpacedPoints(t):i.getPoints(t))}}class zm extends Ei{constructor(e,t=36,r=!0){super(e,t,r);if(this.type="SplineCurveGeometry",!e.length){console.warn("SplineCurveGeometry path length at least 1.");return}const i=new Ad(e);this.setFromPoints(r?i.getSpacedPoints(t):i.getPoints(t))}}class km extends Ei{constructor(e,t=36,r=!0){super(e,t,r);this.type="CubicBezierCurveGeometry";const i=new Gs;if(e.length<4){console.warn("CubicBezierCurveGeometry path length at least 4.");return}const s=4+(e.length-4)-(e.length-4)%3;for(let a=2;a<s;a+=3)i.add(new Pd(e[a-2],e[a-1],e[a],e[a+1]));const o=i.curves.reduce((a,c)=>a+=c.arcLengthDivisions,0);if(t>o){const a=Math.ceil((t-o)/i.curves.length);i.curves.forEach(c=>{c.arcLengthDivisions=c.arcLengthDivisions*(a+1),c.updateArcLengths()})}this.setFromPoints(r?i.getSpacedPoints(t):i.getPoints(t))}}class $m extends Ei{constructor(e,t=36,r=!0){super(e,t,r);this.type="QuadraticBezierCurveGeometry";const i=new Gs;if(e.length<3){console.warn("QuadraticBezierCurveGeometry path length at least 3.");return}const s=3+(e.length-3)-(e.length-3)%2;for(let a=1;a<s;a+=2)i.add(new Ld(e[a-1],e[a],e[a+1]));const o=i.curves.reduce((a,c)=>a+=c.arcLengthDivisions,0);if(t>o){const a=Math.ceil((t-o)/i.curves.length);i.curves.forEach(c=>{c.arcLengthDivisions=c.arcLengthDivisions*(a+1),c.updateArcLengths()})}this.setFromPoints(r?i.getSpacedPoints(t):i.getPoints(t))}}const De=class extends ke{constructor(){super();f(this,"MODULE",A.GEOMETRY),f(this,"target",{}),f(this,"map",new Map),f(this,"weakMap",new WeakMap),f(this,"constructMap"),f(this,"resourceMap",new Map),f(this,"replaceGeometry",new or(5,5,5));const n=new Map;n.set(E.BOXGEOMETRY,e=>De.transfromAnchor(new or(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments),e)),n.set(E.SPHEREGEOMETRY,e=>De.transfromAnchor(new Ya(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength),e)),n.set(E.PLANEGEOMETRY,e=>De.transfromAnchor(new wt(e.width,e.height,e.widthSegments,e.heightSegments),e)),n.set(E.LOADGEOMETRY,e=>De.transfromAnchor(new jm(this.getGeometry(e.url)),e)),n.set(E.CUSTOMGEOMETRY,e=>De.transfromAnchor(this.generateGeometry(e.attribute),e)),n.set(E.CIRCLEGEOMETRY,e=>De.transfromAnchor(new _d(e.radius,e.segments,e.thetaStart,e.thetaLength),e)),n.set(E.CONEGEOMETRY,e=>De.transfromAnchor(new xd(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength),e)),n.set(E.CYLINDERGEOMETRY,e=>De.transfromAnchor(new Od(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength),e)),n.set(E.EDGESGEOMETRY,e=>De.transfromAnchor(new en(this.map.get(e.url),e.thresholdAngle),e)),n.set(E.LINECURVEGEOMETRY,e=>De.transfromAnchor(new Nm(e.path.map(t=>new K(t.x,t.y,t.z)),e.divisions,e.space),e)),n.set(E.SPLINECURVEGEOMETRY,e=>De.transfromAnchor(new zm(e.path.map(t=>new K(t.x,t.y,t.z)),e.divisions,e.space),e)),n.set(E.CUBICBEZIERCURVEGEOMETRY,e=>De.transfromAnchor(new km(e.path.map(t=>new K(t.x,t.y,t.z)),e.divisions,e.space),e)),n.set(E.QUADRATICBEZIERCURVEGEOMETRY,e=>De.transfromAnchor(new $m(e.path.map(t=>new K(t.x,t.y,t.z)),e.divisions,e.space),e)),this.constructMap=n}linkRescourceMap(n){return this.resourceMap=n,this}getRescource(n){return this.resourceMap.has(n)?this.resourceMap.has(n)&&this.resourceMap.get(n)instanceof Je?this.resourceMap.get(n).clone():(console.error(`url mapping rescource is not class with BufferGeometry: ${n}`),this.replaceGeometry.clone()):(console.error(`rescoure can not found url: ${n}`),this.replaceGeometry.clone())}getGeometry(n){return this.map.has(n)?this.map.get(n):this.getRescource(n)}generateGeometry(n){const e=new Je;return n.position.length&&e.setAttribute("position",new be(n.position,3)),n.color.length&&e.setAttribute("color",new be(n.color,3)),n.normal.length&&e.setAttribute("normal",new be(n.normal,3)),n.uv.length&&e.setAttribute("uv",new be(n.uv,2)),n.uv2.length&&e.setAttribute("uv2",new be(n.uv2,2)),n.index.length&&e.setIndex(n.index),e}getMap(){return this.map}useEngine(n){return this}setTarget(n){return this.target=n,this}add(n,e){if(e.type&&this.constructMap.has(e.type)){const t=this.constructMap.get(e.type)(e);t.clearGroups();for(const r of e.groups)t.addGroup(r.start,r.count,r.materialIndex);this.map.set(n,t),this.weakMap.set(t,n)}return this}addGroup(n,e){return this.map.has(n)?(this.map.get(n).addGroup(e.start,e.count,e.materialIndex),this):(console.warn(`geometry compiler can not found object with vid: ${n}`),this)}updateGroup(n,e){return this.removeGroup(n,e).addGroup(n,this.target[n].groups[e])}removeGroup(n,e){return this.map.has(n)?(this.map.get(n).groups.splice(e,1),this):(console.warn(`geometry compiler can not found object with vid: ${n}`),this)}set(n,e,t){if(!J(n))return console.warn(`geometry compiler set function vid parameters is illeage: '${n}'`),this;if(!this.map.has(n))return console.warn(`geometry compiler set function can not found vid geometry: '${n}'`),this;const r=this.map.get(n),i=this.target[n],s=this.constructMap.get(i.type)(i);return r.copy(s),r.dispatchEvent({type:"update"}),r.uuid=s.uuid,s.dispose(),this}remove(n){if(!this.map.has(n))return console.warn(`Geometry Compiler: can not found vid in compiler: ${n}`),this;const e=this.map.get(n);return e.dispose(),this.map.delete(n),this.weakMap.delete(e),this}compileAll(){const n=this.target;for(const e in n)this.add(e,n[e]);return this}dispose(){return this.map.forEach((n,e)=>{n.dispose()}),this}getObjectSymbol(n){return this.weakMap.get(n)||null}getObjectBySymbol(n){return this.map.get(n)||null}};let gl=De;f(gl,"transfromAnchor",function(n,e){n.center(),n.computeBoundingBox();const t=n.boundingBox,r=e.position,i=e.rotation,s=e.scale,o=new $s().setFromEuler(new Ga(i.x,i.y,i.z,"XYZ"));return n.applyQuaternion(o),n.scale(s.x,s.y,s.z),n.center(),n.computeBoundingBox(),n.translate((t.max.x-t.min.x)/2*r.x,(t.max.y-t.min.y)/2*r.y,(t.max.z-t.min.z)/2*r.z),n});class Bm extends Ft{constructor(){super();f(this,"MODULE",A.GROUP)}add(e,t){const r=new Fa;return this.map.set(e,r),this.weakMap.set(r,e),super.add(e,t),this}dispose(){return super.dispose(),this}}class Fm extends Ft{constructor(){super();f(this,"MODULE",A.LIGHT),f(this,"constructMap"),this.constructMap=new Map,this.constructMap.set(E.POINTLIGHT,()=>new Wa),this.constructMap.set(E.SPOTLIGHT,()=>new Id),this.constructMap.set(E.AMBIENTLIGHT,()=>new ar),this.constructMap.set(E.DIRECTIONALLIGHT,()=>new el),this.mergeFilterAttribute({color:!0,scale:!0,rotation:!0})}setLookAt(e,t){return this}add(e,t){if(t.type&&this.constructMap.has(t.type)){const r=this.constructMap.get(t.type)();r.color=new le(t.color),this.map.set(e,r),this.weakMap.set(r,e),super.add(e,t)}else console.warn(`LightCompiler: can not support Light type: ${t.type}.`);return this}cover(e,t){const r=this.map.get(e);return r?(r.color=new le(t.color),super.cover(e,t)):(console.warn(`light compiler can not found light: ${e}`),this)}set(e,t,r,i){if(!this.map.has(e))return console.warn(`LightCompiler: can not found this vid mapping object: '${e}'`),this;const s=this.map.get(e);return r==="color"?(s.color=new le(i),this):(super.set(e,t,r,i),this)}dispose(){return super.dispose(),this}}class Mi extends Ft{constructor(){super();f(this,"IS_SOLIDOBJECTCOMPILER",!0),f(this,"geometryMap"),f(this,"materialMap"),this.geometryMap=new Map,this.materialMap=new Map,this.mergeFilterAttribute({geometry:!0,material:!0})}getMaterial(e){return J(e)?this.materialMap.has(e)?this.materialMap.get(e):(console.warn(`${this.MODULE}Compiler: can not found material which vid: ${e}`),this.getReplaceMaterial()):(console.warn(`${this.MODULE}Compiler: material vid parameter is illegal: ${e}`),this.getReplaceMaterial())}getGeometry(e){return J(e)?this.geometryMap.has(e)?this.geometryMap.get(e):(console.warn(`${this.MODULE}Compiler: can not found geometry which vid: ${e}`),this.getReplaceGeometry()):(console.warn(`${this.MODULE}Compiler: geometry vid parameter is illegal: ${e}`),this.getReplaceGeometry())}linkGeometryMap(e){return this.geometryMap=e,this}linkMaterialMap(e){return this.materialMap=e,this}add(e,t){const r=this.map.get(e);if(!r)return console.error(`${this.MODULE} compiler can not finish add method.`),this;if(Array.isArray(r.material))for(const s of r.material)s.dispose();else r.material.dispose();let i;return typeof t.material=="string"?i=this.getMaterial(t.material):i=t.material.map(s=>this.getMaterial(s)),r.material=i,r.isSprite||(r.geometry.dispose(),r.geometry=this.getGeometry(t.geometry)),super.add(e,t),this}set(e,t,r,i){if(!this.map.has(e))return console.warn(`${this.MODULE} compiler can not found this vid mapping object: '${e}'`),this;const s=this.map.get(e);return r==="geometry"&&!s.isSprite?(s.geometry=this.getGeometry(i),this):r==="material"?(s.material=this.getMaterial(i),this):(super.set(e,t,r,i),this)}}class Hm extends Mi{constructor(){super();f(this,"MODULE",A.LINE),f(this,"replaceMaterial",new zt({color:"rgb(150, 150, 150)"})),f(this,"replaceGeometry",new or(10,10,10))}getReplaceMaterial(){return this.replaceMaterial}getReplaceGeometry(){return this.replaceGeometry}add(e,t){const r=new ai;return this.map.set(e,r),this.weakMap.set(r,e),super.add(e,t),this}dispose(){return super.dispose(),this.replaceGeometry.dispose(),this.replaceMaterial.dispose(),this}}class Vm extends ke{constructor(){super();f(this,"MODULE",A.MATERIAL),f(this,"target",{}),f(this,"map",new Map),f(this,"weakMap",new WeakMap),f(this,"constructMap",new Map),f(this,"mapAttribute",{roughnessMap:!0,normalMap:!0,metalnessMap:!0,map:!0,lightMap:!0,envMap:!0,emissiveMap:!0,displacementMap:!0,bumpMap:!0,alphaMap:!0,aoMap:!0,specularMap:!0}),f(this,"colorAttribute",{color:!0,emissive:!0,specular:!0}),f(this,"shaderAttribute",{shader:!0}),f(this,"needsUpdateAttribute",{transparent:!0}),f(this,"texturelMap",new Map),f(this,"resourceMap",new Map),f(this,"cachaColor",new le);const e=new Map;e.set(E.MESHBASICMATERIAL,()=>new Fs),e.set(E.MESHSTANDARDMATERIAL,()=>new qa),e.set(E.MESHPHONGMATERIAL,()=>new ks),e.set(E.SPRITEMATERIAL,()=>new wn),e.set(E.LINEBASICMATERIAL,()=>new zt),e.set(E.POINTSMATERIAL,()=>new ut),e.set(E.SHADERMATERIAL,t=>{const r=xn.getShader(t.shader),i=new Dd;return(r==null?void 0:r.vertexShader)&&(i.vertexShader=r.vertexShader),(r==null?void 0:r.fragmentShader)&&(i.fragmentShader=r.fragmentShader),(r==null?void 0:r.uniforms)&&(i.uniforms=r.uniforms),i}),this.constructMap=e}mergeMaterial(e,t){const r=JSON.parse(JSON.stringify(t)),i={},s=this.colorAttribute;for(const a in s)r[a]&&(e[a]=new le(r[a]),i[a]=!0);const o=this.mapAttribute;for(const a in o)r[a]&&(e[a]=this.getTexture(r[a]),i[a]=!0);return ke.applyConfig(t,e,Object.assign(i,this.shaderAttribute)),e.needsUpdate=!0,this}getTexture(e){if(this.texturelMap.has(e)){const t=this.texturelMap.get(e);return t instanceof ir?t:(console.error(`this object which mapped by vid is not instance of Texture: ${e}`),null)}else return console.error(`texture map can not found this vid: ${e}`),null}linkRescourceMap(e){return this.resourceMap=e,this}linkTextureMap(e){return this.texturelMap=e,this}add(e,t){if(t.type&&this.constructMap.has(t.type)){const r=this.constructMap.get(t.type)(t);this.mergeMaterial(r,t),this.map.set(e,r),this.weakMap.set(r,e)}else console.warn(`material compiler can not support this type: ${t.type}`);return this}set(e,t,r,i){if(!this.map.has(e))return console.warn(`material compiler set function: can not found material which vid is: '${e}'`),this;const s=this.map.get(e);if(this.colorAttribute[r])return s[r]=new le(i),this;if(this.mapAttribute[r])return s[r]=this.getTexture(i),s.needsUpdate=!0,this;let o=s;return t.forEach((a,c,l)=>{o=o[a]}),o[r]=i,this.needsUpdateAttribute[r]&&(s.needsUpdate=!0),this}cover(e,t){return this.map.has(e)?this.mergeMaterial(this.map.get(e),t):(console.warn(`material compiler set function: can not found material which vid is: '${e}'`),this)}remove(e){if(!this.map.has(e))return console.warn(`material compiler set function: can not found material which vid is: '${e}'`),this;const t=this.map.get(e);return t.dispose(),this.map.delete(e),this.weakMap.delete(t),this}getMap(){return this.map}setTarget(e){return this.target=e,this}useEngine(e){return this}compileAll(){const e=this.target;for(const t in e)this.add(t,e[t]);return this}dispose(){return this.map.forEach((e,t)=>{e.dispose()}),this}getObjectSymbol(e){return this.weakMap.get(e)||null}getObjectBySymbol(e){return this.map.get(e)||null}}class Gm extends Mi{constructor(){super();f(this,"MODULE",A.MESH),f(this,"replaceMaterial",new Fs({color:"rgb(150, 150, 150)"})),f(this,"replaceGeometry",new or(10,10,10))}getReplaceMaterial(){return this.replaceMaterial}getReplaceGeometry(){return this.replaceGeometry}add(e,t){const r=new kt;return this.map.set(e,r),this.weakMap.set(r,e),super.add(e,t),this}dispose(){return super.dispose(),this.replaceGeometry.dispose(),this.replaceMaterial.dispose(),this}}class Um extends ke{constructor(){super();f(this,"MODULE",A.PASS),f(this,"target"),f(this,"map"),f(this,"weakMap"),f(this,"constructMap"),f(this,"composer"),f(this,"width",window.innerWidth*window.devicePixelRatio),f(this,"height",window.innerHeight*window.devicePixelRatio),this.map=new Map,this.weakMap=new WeakMap;const e=new Map;e.set(E.SMAAPASS,()=>new Fd(this.width,this.height)),e.set(E.UNREALBLOOMPASS,t=>new Hd(new Re(this.width,this.height),t.strength,t.radius,t.threshold)),this.constructMap=e}setTarget(e){return this.target=e,this}useEngine(e){if(!e.effectComposer)return console.warn("engine need install effectComposer plugin that can use pass compiler."),this;this.composer=e.effectComposer;const t=this.composer.renderer.getPixelRatio();return this.width=Number(this.composer.renderer.domElement.getAttribute("width"))*t,this.height=Number(this.composer.renderer.domElement.getAttribute("height"))*t,this}add(e){if(this.constructMap.has(e.type)){const t=this.constructMap.get(e.type)(e);this.composer.addPass(t),this.map.set(e.vid,t),this.weakMap.set(t,e.vid)}else console.warn(`pass compiler can not support this type pass: ${e.type}.`)}set(e,t,r,i){if(!this.map.has(e))return console.warn(`pass compiler set function: can not found material which vid is: '${e}'`),this;let o=this.map.get(e);return t.forEach((a,c,l)=>{o=o[a]}),o[r]=i,this}remove(e){if(!this.map.has(e))return console.warn(`pass compiler can not found this vid pass: ${e}.`),this;const t=this.map.get(e);return this.composer.removePass(t),this.map.delete(e),this.weakMap.delete(t),this}compileAll(){const e=this.target;for(const t of Object.values(e))this.add(t);return this}dispose(){return this.map.clear(),this}getObjectSymbol(e){return this.weakMap.get(e)||null}getObjectBySymbol(e){return this.map.get(e)||null}}class Km extends Mi{constructor(){super();f(this,"MODULE",A.POINTS),f(this,"replaceMaterial",new ut({color:"rgb(150, 150, 150)"})),f(this,"replaceGeometry",new jd(5))}getReplaceMaterial(){return this.replaceMaterial}getReplaceGeometry(){return this.replaceGeometry}add(e,t){const r=new St;return this.map.set(e,r),this.weakMap.set(r,e),super.add(e,t),this}dispose(){return super.dispose(),this.replaceGeometry.dispose(),this.replaceMaterial.dispose(),this}}class Wm extends to{constructor(){super();f(this,"target"),f(this,"config"),f(this,"engine"),f(this,"rendererCacheData"),this.rendererCacheData={}}assemble(e){return this.target=e.renderer,this.config=e.config,this.engine=e.engine,this.assembly=!0,this}process(e){return this.assembly?this[e.key]?(this[e.key](e.value),this):e.path.length&&this[e.path[0]]?(this[e.path[0]](e.value),this):(this.mergeAttribute(e.path,e.key,e.value),this):(console.warn("webGLRenderer Processor unassembled"),this)}dispose(){return this.target=void 0,this.config=void 0,this.engine=void 0,this.assembly=!1,this}clearColor(e){const t=Number(e.slice(0,-1).split(",").pop().trim());return this.target.setClearColor(e,t),this.target.clear(),this}pixelRatio(e){return this.target.setPixelRatio(e),this.target.clear(),this}size(){const e=this.target,t=this.config.size;if(t)e.setSize(t.x,t.y);else{const r=e.domElement;e.setSize(r.offsetWidth,r.offsetHeight)}return this}viewport(){const e=this.target,t=this.config.viewport;if(t)e.setViewport(t.x,t.y,t.width,t.height);else{const r=e.domElement;e.setViewport(0,0,r.offsetWidth,r.offsetHeight)}return this}scissor(){const e=this.target,t=this.config.scissor;if(t)e.setScissorTest(!0),e.setScissor(t.x,t.y,t.width,t.height);else{e.setScissorTest(!1);const r=e.domElement;e.setScissor(0,0,r.offsetWidth,r.offsetHeight)}return this}adaptiveCamera(e){if(!this.engine)return console.warn("renderer compiler is not set engine."),this;const t=this.target,r=this.engine,i=r.renderManager;if(!e){if(!this.rendererCacheData.adaptiveCameraFun)return this;if(this.rendererCacheData.adaptiveCameraFun)return i.removeEventListener("render",this.rendererCacheData.adaptiveCameraFun),this.rendererCacheData.adaptiveCameraFun=void 0,this}if(e){if(this.rendererCacheData.adaptiveCameraFun)return i.addEventListener("render",this.rendererCacheData.adaptiveCameraFun),this;const s=o=>{const a=r.camera,c=t.domElement.offsetWidth,l=t.domElement.offsetHeight;let u=0,h=0,d=0,p=0,v=0;if(a instanceof Te)v=a.aspect;else if(a instanceof tt)u=a.right-a.left,h=a.top-a.bottom,v=u/h;else{console.warn("renderer compiler can not support this camera",a);return}v>=1?(u=c,h=u/v,p=l/2-h/2):(h=l,u=h*v,d=c/2-u/2),t.setScissor(d,p,u,h),t.setViewport(d,p,u,h),t.setScissorTest(!0)};this.rendererCacheData.adaptiveCameraFun=s,i.addEventListener("render",this.rendererCacheData.adaptiveCameraFun)}return this}}class qm extends ke{constructor(e){super();f(this,"MODULE",A.RENDERER),f(this,"target"),f(this,"engine"),f(this,"processorMap",{[E.WEBGLRENDERER]:new Wm}),f(this,"map",new Map),e?(e.target&&(this.target=e.target),e.engine&&(this.engine=e.engine)):(this.target={},this.engine=new te)}assembly(e,t){const r=this.target[e];if(!r){console.warn(`controls compiler can not found this config: '${e}'`);return}const i=this.processorMap[r.type];if(!i){console.warn(`renderer compiler can not support this renderer: '${e}'`);return}const s=this.map.get(e);if(!s){console.warn(`renderer compiler can not found type of renderer: '${r.type}'`);return}i.dispose().assemble({config:r,renderer:s,processer:i,engine:this.engine}),t(i)}add(e){e.type===E.WEBGLRENDERER&&this.map.set(e.vid,this.engine.webGLRenderer),this.assembly(e.vid,t=>{t.processAll().dispose()})}setTarget(e){return this.target=e,this}useEngine(e){return e.webGLRenderer&&this.map.set(E.WEBGLRENDERER,e.webGLRenderer),this.engine=e,this}compileAll(){const e=this.target;for(const t of Object.values(e))this.add(t);return this}dispose(){return this.map.forEach((e,t)=>{e.dispose&&e.dispose()}),this}getObjectSymbol(e){let t=null;return this.map.forEach((r,i)=>{r===e&&(t=i)}),t}getObjectBySymbol(e){return this.map.get(e)||null}}class Ym extends Ft{constructor(){super();f(this,"MODULE",A.SCENE),f(this,"textureMap"),f(this,"fogCache"),this.textureMap=new Map,this.fogCache=null,this.mergeFilterAttribute({background:!0,environment:!0,fog:!0})}setLookAt(e,t){return this}background(e,t){if(!this.map.has(e)){console.warn(`${this.MODULE} compiler can not found this vid mapping object: '${e}'`);return}const r=this.map.get(e);if(!t){r.background=null;return}J(t)?this.textureMap.has(t)?r.background=this.textureMap.get(t):console.warn(`scene compiler can not found this vid texture : '${t}'`):r.background=new le(t)}environment(e,t){if(!this.map.has(e)){console.warn(`${this.MODULE} compiler can not found this vid mapping object: '${e}'`);return}const r=this.map.get(e);if(!t){r.environment=null;return}J(t)?this.textureMap.has(t)?r.environment=this.textureMap.get(t):console.warn(`scene compiler can not found this vid texture : '${t}'`):console.warn(`this vid is illegal: '${t}'`)}fog(e,t){if(!this.map.has(e)){console.warn(`${this.MODULE} compiler can not found this vid mapping object: '${e}'`);return}const r=this.map.get(e);if(t.type===""){this.fogCache=null,r.fog=null;return}if(t.type==="Fog"){if(this.fogCache instanceof il){const i=this.fogCache;i.color=new le(t.color),i.near=t.near,i.far=t.far}else r.fog=new il(t.color,t.near,t.far),this.fogCache=r.fog;return}if(t.type==="FogExp2"){if(this.fogCache instanceof sl){const i=this.fogCache;i.color=new le(t.color),i.density=t.density}else r.fog=new sl(t.color,t.density),this.fogCache=r.fog;return}console.warn(`scene compiler can not support this type fog:'${t.type}'`)}linkTextureMap(e){return this.textureMap=e,this}add(e,t){const r=new ht;return this.map.set(e,r),this.weakMap.set(r,e),this.background(e,t.background),this.environment(e,t.environment),this.fog(e,t.fog),super.add(e,t),this}cover(e,t){return this.background(e,t.background),this.environment(e,t.environment),this.fog(e,t.fog),super.cover(e,t)}set(e,t,r,i){if(!this.map.has(e))return console.warn(`sceneCompiler: can not found this vid mapping object: '${e}'`),this;const s=t.length?t[0]:r,o={background:()=>this.background(e,i),environment:()=>this.environment(e,i),fog:()=>this.fog(e,this.target[e].fog)};return o[s]?(o[s](),this):(super.set(e,t,r,i),this)}setTarget(e){return this.target=e,this}dispose(){return super.dispose(),this}}class Xm extends Mi{constructor(){super();f(this,"MODULE",A.SPRITE),f(this,"replaceMaterial",new wn({color:"rgb(150, 150, 150)"})),f(this,"replaceGeometry",new wt(1,1)),this.mergeFilterAttribute({geometry:!0})}getReplaceMaterial(){return this.replaceMaterial}getReplaceGeometry(){return console.warn("SpriteCompiler: can not use geometry in SpriteCompiler."),this.replaceGeometry}setLookAt(e,t){return this}getMaterial(e){const t=super.getMaterial(e);return t instanceof wn?t:(console.warn(`SpriteCompiler: sprite object can not support this type material: ${t.type}, vid: ${e}.`),this.getReplaceMaterial())}add(e,t){const r=new Sn;return this.map.set(e,r),this.weakMap.set(r,e),super.add(e,t),this}dispose(){return this.map.forEach((e,t)=>{e.geometry.dispose()}),super.dispose(),this.replaceGeometry.dispose(),this.replaceMaterial.dispose(),this}}class Zm extends ir{constructor(e,t,r,i,s,o,a,c,l,u){super(e,t,r,i,s,o,a,c,l,u)}}class Qm extends ir{constructor(e,t,r,i,s,o,a,c,l){super(e,t,r,i,s,o,a,c,l);f(this,"isVideoTexture",!0),this.format=a!==void 0?a:id,this.minFilter=o!==void 0?o:oi,this.magFilter=s!==void 0?s:oi,this.generateMipmaps=!1}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image,t="requestVideoFrameCallback"in e;t?this.needsUpdate=!0:t===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class yr{constructor(e){f(this,"canvas"),this.canvas=document.createElement("canvas");const t=window.devicePixelRatio;this.canvas.width=((e==null?void 0:e.width)||512)*t,this.canvas.height=((e==null?void 0:e.height)||512)*t,this.canvas.style.backgroundColor=(e==null?void 0:e.bgColor)||"rgb(255, 255, 255)";const r=this.canvas.getContext("2d");r&&r.scale(window.devicePixelRatio,window.devicePixelRatio)}get(){return this.canvas}getDom(){return this.canvas}clear(e=0,t=0,r,i){!r&&(r=this.canvas.width),!i&&(i=this.canvas.height);const s=this.canvas.getContext("2d");return s?(s.clearRect(e,t,r,i),this):(console.warn("you browser can not support canvas 2d"),this)}draw(e){const t=this.canvas.getContext("2d");return t?(e(t),this):(console.warn("you browser can not support canvas 2d"),this)}preview(e){const t=this.canvas;return t.style.position="fixed",t.style.top=(e==null?void 0:e.top)||"5%",t.style.left=(e==null?void 0:e.left)||"5%",t.style.right=(e==null?void 0:e.right)||"unset",t.style.bottom=(e==null?void 0:e.bottom)||"unset",(e==null?void 0:e.scale)&&(t.style.transform=`scale(${e.scale})`),document.body.appendChild(this.canvas),this}}const Ci=class extends ke{constructor(){super();f(this,"MODULE",A.TEXTURE),f(this,"target",{}),f(this,"map"),f(this,"weakMap"),f(this,"constructMap"),f(this,"resourceMap"),this.map=new Map,this.weakMap=new WeakMap,this.resourceMap=new Map;const n=new Map;n.set(E.IMAGETEXTURE,()=>new Zm),n.set(E.CUBETEXTURE,()=>new Td),n.set(E.CANVASTEXTURE,()=>new sr(document.createElement("canvas"))),n.set(E.VIDEOTEXTURE,()=>new Qm(document.createElement("video"))),this.constructMap=n}getResource(n){if(!n)return Ci.replaceImage;const e=this.resourceMap;if(e.has(n)){const t=e.get(n);return t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement?t:(console.error(`this url mapping resource is not a texture image class: ${n}`),Ci.replaceImage)}else return console.warn(`resource can not font url: ${n}`),Ci.replaceImage}linkRescourceMap(n){return this.resourceMap=n,this}add(n,e){if(J(n))if(e.type&&this.constructMap.has(e.type)){const t=this.constructMap.get(e.type)(),r=JSON.parse(JSON.stringify(e));if(delete r.type,delete r.vid,[E.IMAGETEXTURE,E.CANVASTEXTURE,E.VIDEOTEXTURE].includes(e.type))t.image=this.getResource(r.url),delete r.url;else if(e.type===E.CUBETEXTURE){const i=e.cube,s=[this.getResource(i.px),this.getResource(i.nx),this.getResource(i.py),this.getResource(i.ny),this.getResource(i.pz),this.getResource(i.nz)];t.image=s,delete r.cube}ke.applyConfig(r,t),t.needsUpdate=!0,this.map.set(n,t),this.weakMap.set(t,n)}else console.warn(`texture compiler can not support this type: ${e.type}`);else console.error(`texture vid parameter is illegal: ${n}`);return this}set(n,e,t,r){if(!J(n))return console.warn(`texture compiler set function: vid is illeage: '${n}'`),this;if(!this.map.has(n))return console.warn(`texture compiler set function: can not found texture which vid is: '${n}'`),this;const i=this.map.get(n);if(!e.length&&t==="url"){const o=this.target[n];return[E.IMAGETEXTURE,E.CANVASTEXTURE,E.VIDEOTEXTURE].includes(o.type)?i.image=this.getResource(r):console.warn(`texture compiler can not support this type config set url: ${o.type}`),this}if(t==="needsUpdate"){if(r){i.needsUpdate=!0;const o=this.target[n];o.needsUpdate=!1}return this}let s=i;for(const o of e){if(s[o]===void 0)return console.warn(`texture compiler set function: can not found key:${o} in object.`),this;s=s[o]}return s[t]=r,i.needsUpdate=!0,this}remove(n){if(!this.map.has(n))return console.warn(`texture compiler can not found vid match object: ${n}`),this;const e=this.map.get(n);return e.dispose(),this.map.delete(n),this.weakMap.delete(e),this}getMap(){return this.map}setTarget(n){return this.target=n,this}useEngine(n){return this}compileAll(){const n=this.target;for(const e in n)this.add(e,n[e]);return this}dispose(){return this.map.forEach((n,e)=>{n.dispose()}),this.map.clear(),this}getObjectSymbol(n){return this.weakMap.get(n)||null}getObjectBySymbol(n){return this.map.get(n)||null}};let yl=Ci;f(yl,"replaceImage",new yr({width:512,height:512}).draw(n=>{n.translate(256,256),n.font="52px",n.fillStyle="white",n.fillText("\u6682\u65E0\u56FE\u7247",0,0)}).get());class Jm{constructor(e){f(this,"cameraCompiler",new Tm),f(this,"lightCompiler",new Fm),f(this,"geometryCompiler",new gl),f(this,"textureCompiler",new yl),f(this,"materialCompiler",new Vm),f(this,"rendererCompiler",new qm),f(this,"sceneCompiler",new Ym),f(this,"controlsCompiler",new Pm),f(this,"spriteCompiler",new Xm),f(this,"lineCompiler",new Hm),f(this,"meshCompiler",new Gm),f(this,"pointsCompiler",new Km),f(this,"groupCompiler",new Bm),f(this,"css3DCompiler",new Dm),f(this,"passCompiler",new Um),f(this,"animationCompiler",new rm),f(this,"compilerMap"),e&&Object.keys(e).forEach(c=>{this[c]=e[c]});const t=this.textureCompiler.getMap();this.sceneCompiler.linkTextureMap(t),this.materialCompiler.linkTextureMap(t),this.animationCompiler.linkTextureMap(t);const r=this.geometryCompiler.getMap(),i=this.materialCompiler.getMap(),s=Object.values(this).filter(c=>c instanceof Ft),o=s.map(c=>c.getMap());for(const c of s)yi("IS_SOLIDOBJECTCOMPILER",c)&&c.linkGeometryMap(r).linkMaterialMap(i),c.linkObjectMap(...o);this.animationCompiler.linkObjectMap(...o).linkMaterialMap(i);const a=new Map;Object.keys(this).forEach(c=>{const l=this[c];l instanceof ke&&a.set(l.MODULE,l)}),this.compilerMap=a}support(e){if(this.compilerMap.forEach(r=>{r.useEngine(e)}),e.resourceManager){const r=e.resourceManager.resourceMap;this.textureCompiler.linkRescourceMap(r),this.geometryCompiler.linkRescourceMap(r),this.css3DCompiler.linkRescourceMap(r)}const t=e.dataSupportManager;return t.textureDataSupport.addCompiler(this.textureCompiler),t.materialDataSupport.addCompiler(this.materialCompiler),t.geometryDataSupport.addCompiler(this.geometryCompiler),t.rendererDataSupport.addCompiler(this.rendererCompiler),t.controlsDataSupport.addCompiler(this.controlsCompiler),t.passDataSupport.addCompiler(this.passCompiler),t.cameraDataSupport.addCompiler(this.cameraCompiler),t.lightDataSupport.addCompiler(this.lightCompiler),t.spriteDataSupport.addCompiler(this.spriteCompiler),t.lineDataSupport.addCompiler(this.lineCompiler),t.meshDataSupport.addCompiler(this.meshCompiler),t.pointsDataSupport.addCompiler(this.pointsCompiler),t.css3DDataSupport.addCompiler(this.css3DCompiler),t.groupDataSupport.addCompiler(this.groupCompiler),t.sceneDataSupport.addCompiler(this.sceneCompiler),t.animationDataSupport.addCompiler(this.animationCompiler),this}getObjectSymbol(e){for(const t of this.compilerMap.values()){const r=t.getObjectSymbol(e);if(r)return r}return null}getObjectBySymbol(e){for(const t of this.compilerMap.values()){const r=t.getObjectBySymbol(e);if(r)return r}return null}dispose(){for(const e of this.compilerMap.values())e.dispose({});return this.compilerMap.clear(),this}}const eg=function(n){if(this.compilerManager)return console.warn("engine has installed compilerManager plugin."),!1;if(!this.dataSupportManager)return console.warn("must install dataSupportManager before compilerManager plugin."),!1;if(!this.renderManager)return console.warn("must install renderManager before compilerManager plugin."),!1;const e=new Jm;return this.compilerManager=e,this.getObjectSymbol=function(t){return this.compilerManager.getObjectSymbol(t)},this.getObjectBySymbol=function(t){return this.compilerManager.getObjectBySymbol(t)},this.addEventListener("dispose",()=>{this.compilerManager.dispose()}),this.completeSet.add(()=>{this.compilerManager.support(this)}),!0};var no=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},vl={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(no,function(){function t(m){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(w){return typeof w}:t=function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},t(m)}function r(m,w){if(!(m instanceof w))throw new TypeError("Cannot call a class as a function")}function i(m,w){for(var g=0;g<w.length;g++){var y=w[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(m,y.key,y)}}function s(m,w,g){return w&&i(m.prototype,w),g&&i(m,g),m}function o(m){return a(m)||c(m)||l(m)||h()}function a(m){if(Array.isArray(m))return u(m)}function c(m){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(m))return Array.from(m)}function l(m,w){if(!!m){if(typeof m=="string")return u(m,w);var g=Object.prototype.toString.call(m).slice(8,-1);if(g==="Object"&&m.constructor&&(g=m.constructor.name),g==="Map"||g==="Set")return Array.from(m);if(g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return u(m,w)}}function u(m,w){(w==null||w>m.length)&&(w=m.length);for(var g=0,y=new Array(w);g<w;g++)y[g]=m[g];return y}function h(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var d=function(){function m(w){r(this,m),this.sourceStr=w,this.subCombos=m.parseComboStr(w),this.keyNames=this.subCombos.reduce(function(g,y){return g.concat(y)},[])}return s(m,[{key:"check",value:function(g){for(var y=0,b=0;b<this.subCombos.length;b+=1)if(y=this._checkSubCombo(this.subCombos[b],y,g),y===-1)return!1;return!0}},{key:"isEqual",value:function(g){if(!g||typeof g!="string"&&t(g)!=="object"||(typeof g=="string"&&(g=new m(g)),this.subCombos.length!==g.subCombos.length))return!1;for(var y=0;y<this.subCombos.length;y+=1)if(this.subCombos[y].length!==g.subCombos[y].length)return!1;for(var b=0;b<this.subCombos.length;b+=1){for(var C=this.subCombos[b],S=g.subCombos[b].slice(0),x=0;x<C.length;x+=1){var R=C[x],I=S.indexOf(R);I>-1&&S.splice(I,1)}if(S.length!==0)return!1}return!0}},{key:"_checkSubCombo",value:function(g,y,b){g=g.slice(0),b=b.slice(y);for(var C=y,S=0;S<g.length;S+=1){var x=g[S];if(x[0]==="\\"){var R=x.slice(1);(R===m.comboDeliminator||R===m.keyDeliminator)&&(x=R)}var I=b.indexOf(x);if(I>-1&&(g.splice(S,1),S-=1,I>C&&(C=I),g.length===0))return C}return-1}}]),m}();d.comboDeliminator=">",d.keyDeliminator="+",d.parseComboStr=function(m){for(var w=d._splitStr(m,d.comboDeliminator),g=[],y=0;y<w.length;y+=1)g.push(d._splitStr(w[y],d.keyDeliminator));return g},d._splitStr=function(m,w){for(var g=m,y=w,b="",C=[],S=0;S<g.length;S+=1)S>0&&g[S]===y&&g[S-1]!=="\\"&&(C.push(b.trim()),b="",S+=1),b+=g[S];return b&&C.push(b.trim()),C};var p=function(){function m(w){r(this,m),this.localeName=w,this.activeTargetKeys=[],this.pressedKeys=[],this._appliedMacros=[],this._keyMap={},this._killKeyCodes=[],this._macros=[]}return s(m,[{key:"bindKeyCode",value:function(g,y){typeof y=="string"&&(y=[y]),this._keyMap[g]=y}},{key:"bindMacro",value:function(g,y){typeof y=="string"&&(y=[y]);var b=null;typeof y=="function"&&(b=y,y=null);var C={keyCombo:new d(g),keyNames:y,handler:b};this._macros.push(C)}},{key:"getKeyCodes",value:function(g){var y=[];for(var b in this._keyMap){var C=this._keyMap[b].indexOf(g);C>-1&&y.push(b|0)}return y}},{key:"getKeyNames",value:function(g){return this._keyMap[g]||[]}},{key:"setKillKey",value:function(g){if(typeof g=="string"){for(var y=this.getKeyCodes(g),b=0;b<y.length;b+=1)this.setKillKey(y[b]);return}this._killKeyCodes.push(g)}},{key:"pressKey",value:function(g){if(typeof g=="string"){for(var y=this.getKeyCodes(g),b=0;b<y.length;b+=1)this.pressKey(y[b]);return}this.activeTargetKeys.length=0;for(var C=this.getKeyNames(g),S=0;S<C.length;S+=1)this.activeTargetKeys.push(C[S]),this.pressedKeys.indexOf(C[S])===-1&&this.pressedKeys.push(C[S]);this._applyMacros()}},{key:"releaseKey",value:function(g){if(typeof g=="string")for(var y=this.getKeyCodes(g),b=0;b<y.length;b+=1)this.releaseKey(y[b]);else{var C=this.getKeyNames(g),S=this._killKeyCodes.indexOf(g);if(S!==-1)this.pressedKeys.length=0;else for(var x=0;x<C.length;x+=1){var R=this.pressedKeys.indexOf(C[x]);R>-1&&this.pressedKeys.splice(R,1)}this.activeTargetKeys.length=0,this._clearMacros()}}},{key:"_applyMacros",value:function(){for(var g=this._macros.slice(0),y=0;y<g.length;y+=1){var b=g[y];if(b.keyCombo.check(this.pressedKeys)){b.handler&&(b.keyNames=b.handler(this.pressedKeys));for(var C=0;C<b.keyNames.length;C+=1)this.pressedKeys.indexOf(b.keyNames[C])===-1&&this.pressedKeys.push(b.keyNames[C]);this._appliedMacros.push(b)}}}},{key:"_clearMacros",value:function(){for(var g=0;g<this._appliedMacros.length;g+=1){var y=this._appliedMacros[g];if(!y.keyCombo.check(this.pressedKeys)){for(var b=0;b<y.keyNames.length;b+=1){var C=this.pressedKeys.indexOf(y.keyNames[b]);C>-1&&this.pressedKeys.splice(C,1)}y.handler&&(y.keyNames=null),this._appliedMacros.splice(g,1),g-=1}}}}]),m}(),v=function(){function m(w,g,y,b){r(this,m),this._locale=null,this._currentContext="",this._contexts={},this._listeners=[],this._appliedListeners=[],this._locales={},this._targetElement=null,this._targetWindow=null,this._targetPlatform="",this._targetUserAgent="",this._isModernBrowser=!1,this._targetKeyDownBinding=null,this._targetKeyUpBinding=null,this._targetResetBinding=null,this._paused=!1,this._contexts.global={listeners:this._listeners,targetWindow:w,targetElement:g,targetPlatform:y,targetUserAgent:b},this.setContext("global")}return s(m,[{key:"setLocale",value:function(g,y){var b=null;return typeof g=="string"?y?(b=new p(g),y(b,this._targetPlatform,this._targetUserAgent)):b=this._locales[g]||null:(b=g,g=b._localeName),this._locale=b,this._locales[g]=b,b&&(this._locale.pressedKeys=b.pressedKeys),this}},{key:"getLocale",value:function(g){return g||(g=this._locale.localeName),this._locales[g]||null}},{key:"bind",value:function(g,y,b,C){if((g===null||typeof g=="function")&&(C=b,b=y,y=g,g=null),g&&t(g)==="object"&&typeof g.length=="number"){for(var S=0;S<g.length;S+=1)this.bind(g[S],y,b);return this}return this._listeners.push({keyCombo:g?new d(g):null,pressHandler:y||null,releaseHandler:b||null,preventRepeat:C||!1,preventRepeatByDefault:C||!1,executingHandler:!1}),this}},{key:"addListener",value:function(g,y,b,C){return this.bind(g,y,b,C)}},{key:"on",value:function(g,y,b,C){return this.bind(g,y,b,C)}},{key:"bindPress",value:function(g,y,b){return this.bind(g,y,null,b)}},{key:"bindRelease",value:function(g,y){return this.bind(g,null,y,preventRepeatByDefault)}},{key:"unbind",value:function(g,y,b){if((g===null||typeof g=="function")&&(b=y,y=g,g=null),g&&t(g)==="object"&&typeof g.length=="number"){for(var C=0;C<g.length;C+=1)this.unbind(g[C],y,b);return this}for(var S=0;S<this._listeners.length;S+=1){var x=this._listeners[S],R=!g&&!x.keyCombo||x.keyCombo&&x.keyCombo.isEqual(g),I=!y&&!b||!y&&!x.pressHandler||y===x.pressHandler,k=!y&&!b||!b&&!x.releaseHandler||b===x.releaseHandler;R&&I&&k&&(this._listeners.splice(S,1),S-=1)}return this}},{key:"removeListener",value:function(g,y,b){return this.unbind(g,y,b)}},{key:"off",value:function(g,y,b){return this.unbind(g,y,b)}},{key:"setContext",value:function(g){if(this._locale&&this.releaseAllKeys(),!this._contexts[g]){var y=this._contexts.global;this._contexts[g]={listeners:[],targetWindow:y.targetWindow,targetElement:y.targetElement,targetPlatform:y.targetPlatform,targetUserAgent:y.targetUserAgent}}var b=this._contexts[g];return this._currentContext=g,this._listeners=b.listeners,this.stop(),this.watch(b.targetWindow,b.targetElement,b.targetPlatform,b.targetUserAgent),this}},{key:"getContext",value:function(){return this._currentContext}},{key:"withContext",value:function(g,y){var b=this.getContext();return this.setContext(g),y(),this.setContext(b),this}},{key:"watch",value:function(g,y,b,C){var S=this;this.stop();var x=typeof globalThis!="undefined"?globalThis:typeof no!="undefined"?no:typeof window!="undefined"?window:{};if(!g){if(!x.addEventListener&&!x.attachEvent)throw new Error("Cannot find window functions addEventListener or attachEvent.");g=x}if(typeof g.nodeType=="number"&&(C=b,b=y,y=g,g=x),!g.addEventListener&&!g.attachEvent)throw new Error("Cannot find addEventListener or attachEvent methods on targetWindow.");this._isModernBrowser=!!g.addEventListener;var R=g.navigator&&g.navigator.userAgent||"",I=g.navigator&&g.navigator.platform||"";y&&y!==null||(y=g.document),b&&b!==null||(b=I),C&&C!==null||(C=R),this._targetKeyDownBinding=function(B){S.pressKey(B.keyCode,B),S._handleCommandBug(B,I)},this._targetKeyUpBinding=function(B){S.releaseKey(B.keyCode,B)},this._targetResetBinding=function(B){S.releaseAllKeys(B)},this._bindEvent(y,"keydown",this._targetKeyDownBinding),this._bindEvent(y,"keyup",this._targetKeyUpBinding),this._bindEvent(g,"focus",this._targetResetBinding),this._bindEvent(g,"blur",this._targetResetBinding),this._targetElement=y,this._targetWindow=g,this._targetPlatform=b,this._targetUserAgent=C;var k=this._contexts[this._currentContext];return k.targetWindow=this._targetWindow,k.targetElement=this._targetElement,k.targetPlatform=this._targetPlatform,k.targetUserAgent=this._targetUserAgent,this}},{key:"stop",value:function(){if(!(!this._targetElement||!this._targetWindow))return this._unbindEvent(this._targetElement,"keydown",this._targetKeyDownBinding),this._unbindEvent(this._targetElement,"keyup",this._targetKeyUpBinding),this._unbindEvent(this._targetWindow,"focus",this._targetResetBinding),this._unbindEvent(this._targetWindow,"blur",this._targetResetBinding),this._targetWindow=null,this._targetElement=null,this}},{key:"pressKey",value:function(g,y){if(this._paused)return this;if(!this._locale)throw new Error("Locale not set");return this._locale.pressKey(g),this._applyBindings(y),this}},{key:"releaseKey",value:function(g,y){if(this._paused)return this;if(!this._locale)throw new Error("Locale not set");return this._locale.releaseKey(g),this._clearBindings(y),this}},{key:"releaseAllKeys",value:function(g){if(this._paused)return this;if(!this._locale)throw new Error("Locale not set");return this._locale.pressedKeys.length=0,this._clearBindings(g),this}},{key:"pause",value:function(){return this._paused?this:(this._locale&&this.releaseAllKeys(),this._paused=!0,this)}},{key:"resume",value:function(){return this._paused=!1,this}},{key:"reset",value:function(){return this.releaseAllKeys(),this._listeners.length=0,this}},{key:"_bindEvent",value:function(g,y,b){return this._isModernBrowser?g.addEventListener(y,b,!1):g.attachEvent("on"+y,b)}},{key:"_unbindEvent",value:function(g,y,b){return this._isModernBrowser?g.removeEventListener(y,b,!1):g.detachEvent("on"+y,b)}},{key:"_getGroupedListeners",value:function(){var g=[],y=[],b=this._listeners;return this._currentContext!=="global"&&(b=[].concat(o(b),o(this._contexts.global.listeners))),b.sort(function(C,S){return(S.keyCombo?S.keyCombo.keyNames.length:0)-(C.keyCombo?C.keyCombo.keyNames.length:0)}).forEach(function(C){for(var S=-1,x=0;x<y.length;x+=1)(y[x]===null&&C.keyCombo===null||y[x]!==null&&y[x].isEqual(C.keyCombo))&&(S=x);S===-1&&(S=y.length,y.push(C.keyCombo)),g[S]||(g[S]=[]),g[S].push(C)}),g}},{key:"_applyBindings",value:function(g){var y=this,b=!1;g||(g={}),g.preventRepeat=function(){b=!0},g.pressedKeys=this._locale.pressedKeys.slice(0);for(var C=this._locale.activeTargetKeys,S=this._locale.pressedKeys.slice(0),x=this._getGroupedListeners(),R=function(B){var q=x[B],X=q[0].keyCombo;if(X===null||X.check(S)&&C.some(function(Ve){return X.keyNames.includes(Ve)})){for(var ge=0;ge<q.length;ge+=1){var ie=q[ge];!ie.executingHandler&&ie.pressHandler&&!ie.preventRepeat&&(ie.executingHandler=!0,ie.pressHandler.call(y,g),ie.executingHandler=!1,(b||ie.preventRepeatByDefault)&&(ie.preventRepeat=!0,b=!1)),y._appliedListeners.indexOf(ie)===-1&&y._appliedListeners.push(ie)}if(X)for(var ye=0;ye<X.keyNames.length;ye+=1){var Oe=S.indexOf(X.keyNames[ye]);Oe!==-1&&(S.splice(Oe,1),ye-=1)}}},I=0;I<x.length;I+=1)R(I)}},{key:"_clearBindings",value:function(g){g||(g={}),g.pressedKeys=this._locale.pressedKeys.slice(0);for(var y=0;y<this._appliedListeners.length;y+=1){var b=this._appliedListeners[y],C=b.keyCombo;(C===null||!C.check(this._locale.pressedKeys))&&(b.preventRepeat=!1,(C!==null||g.pressedKeys.length===0)&&(this._appliedListeners.splice(y,1),y-=1),!b.executingHandler&&b.releaseHandler&&(b.executingHandler=!0,b.releaseHandler.call(this,g),b.executingHandler=!1))}}},{key:"_handleCommandBug",value:function(g,y){var b=["shift","ctrl","alt","capslock","tab","command"];y.match("Mac")&&this._locale.pressedKeys.includes("command")&&!b.includes(this._locale.getKeyNames(g.keyCode)[0])&&this._targetKeyUpBinding(g)}}]),m}();function M(m,w,g){m.bindKeyCode(3,["cancel"]),m.bindKeyCode(8,["backspace"]),m.bindKeyCode(9,["tab"]),m.bindKeyCode(12,["clear"]),m.bindKeyCode(13,["enter"]),m.bindKeyCode(16,["shift"]),m.bindKeyCode(17,["ctrl"]),m.bindKeyCode(18,["alt","menu"]),m.bindKeyCode(19,["pause","break"]),m.bindKeyCode(20,["capslock"]),m.bindKeyCode(27,["escape","esc"]),m.bindKeyCode(32,["space","spacebar"]),m.bindKeyCode(33,["pageup"]),m.bindKeyCode(34,["pagedown"]),m.bindKeyCode(35,["end"]),m.bindKeyCode(36,["home"]),m.bindKeyCode(37,["left"]),m.bindKeyCode(38,["up"]),m.bindKeyCode(39,["right"]),m.bindKeyCode(40,["down"]),m.bindKeyCode(41,["select"]),m.bindKeyCode(42,["printscreen"]),m.bindKeyCode(43,["execute"]),m.bindKeyCode(44,["snapshot"]),m.bindKeyCode(45,["insert","ins"]),m.bindKeyCode(46,["delete","del"]),m.bindKeyCode(47,["help"]),m.bindKeyCode(145,["scrolllock","scroll"]),m.bindKeyCode(188,["comma",","]),m.bindKeyCode(190,["period","."]),m.bindKeyCode(191,["slash","forwardslash","/"]),m.bindKeyCode(192,["graveaccent","`"]),m.bindKeyCode(219,["openbracket","["]),m.bindKeyCode(220,["backslash","\\"]),m.bindKeyCode(221,["closebracket","]"]),m.bindKeyCode(222,["apostrophe","'"]),m.bindKeyCode(48,["zero","0"]),m.bindKeyCode(49,["one","1"]),m.bindKeyCode(50,["two","2"]),m.bindKeyCode(51,["three","3"]),m.bindKeyCode(52,["four","4"]),m.bindKeyCode(53,["five","5"]),m.bindKeyCode(54,["six","6"]),m.bindKeyCode(55,["seven","7"]),m.bindKeyCode(56,["eight","8"]),m.bindKeyCode(57,["nine","9"]),m.bindKeyCode(96,["numzero","num0"]),m.bindKeyCode(97,["numone","num1"]),m.bindKeyCode(98,["numtwo","num2"]),m.bindKeyCode(99,["numthree","num3"]),m.bindKeyCode(100,["numfour","num4"]),m.bindKeyCode(101,["numfive","num5"]),m.bindKeyCode(102,["numsix","num6"]),m.bindKeyCode(103,["numseven","num7"]),m.bindKeyCode(104,["numeight","num8"]),m.bindKeyCode(105,["numnine","num9"]),m.bindKeyCode(106,["nummultiply","num*"]),m.bindKeyCode(107,["numadd","num+"]),m.bindKeyCode(108,["numenter"]),m.bindKeyCode(109,["numsubtract","num-"]),m.bindKeyCode(110,["numdecimal","num."]),m.bindKeyCode(111,["numdivide","num/"]),m.bindKeyCode(144,["numlock","num"]),m.bindKeyCode(112,["f1"]),m.bindKeyCode(113,["f2"]),m.bindKeyCode(114,["f3"]),m.bindKeyCode(115,["f4"]),m.bindKeyCode(116,["f5"]),m.bindKeyCode(117,["f6"]),m.bindKeyCode(118,["f7"]),m.bindKeyCode(119,["f8"]),m.bindKeyCode(120,["f9"]),m.bindKeyCode(121,["f10"]),m.bindKeyCode(122,["f11"]),m.bindKeyCode(123,["f12"]),m.bindKeyCode(124,["f13"]),m.bindKeyCode(125,["f14"]),m.bindKeyCode(126,["f15"]),m.bindKeyCode(127,["f16"]),m.bindKeyCode(128,["f17"]),m.bindKeyCode(129,["f18"]),m.bindKeyCode(130,["f19"]),m.bindKeyCode(131,["f20"]),m.bindKeyCode(132,["f21"]),m.bindKeyCode(133,["f22"]),m.bindKeyCode(134,["f23"]),m.bindKeyCode(135,["f24"]),m.bindMacro("shift + `",["tilde","~"]),m.bindMacro("shift + 1",["exclamation","exclamationpoint","!"]),m.bindMacro("shift + 2",["at","@"]),m.bindMacro("shift + 3",["number","#"]),m.bindMacro("shift + 4",["dollar","dollars","dollarsign","$"]),m.bindMacro("shift + 5",["percent","%"]),m.bindMacro("shift + 6",["caret","^"]),m.bindMacro("shift + 7",["ampersand","and","&"]),m.bindMacro("shift + 8",["asterisk","*"]),m.bindMacro("shift + 9",["openparen","("]),m.bindMacro("shift + 0",["closeparen",")"]),m.bindMacro("shift + -",["underscore","_"]),m.bindMacro("shift + =",["plus","+"]),m.bindMacro("shift + [",["opencurlybrace","opencurlybracket","{"]),m.bindMacro("shift + ]",["closecurlybrace","closecurlybracket","}"]),m.bindMacro("shift + \\",["verticalbar","|"]),m.bindMacro("shift + ;",["colon",":"]),m.bindMacro("shift + '",["quotationmark","'"]),m.bindMacro("shift + !,",["openanglebracket","<"]),m.bindMacro("shift + .",["closeanglebracket",">"]),m.bindMacro("shift + /",["questionmark","?"]),w.match("Mac")?m.bindMacro("command",["mod","modifier"]):m.bindMacro("ctrl",["mod","modifier"]);for(var y=65;y<=90;y+=1){var b=String.fromCharCode(y+32),C=String.fromCharCode(y);m.bindKeyCode(y,b),m.bindMacro("shift + "+b,C),m.bindMacro("capslock + "+b,C)}var S=g.match("Firefox")?59:186,x=g.match("Firefox")?173:189,R=g.match("Firefox")?61:187,I,k;w.match("Mac")&&(g.match("Safari")||g.match("Chrome"))?(I=91,k=93):w.match("Mac")&&g.match("Opera")?(I=17,k=17):w.match("Mac")&&g.match("Firefox")&&(I=224,k=224),m.bindKeyCode(S,["semicolon",";"]),m.bindKeyCode(x,["dash","-"]),m.bindKeyCode(R,["equal","equalsign","="]),m.bindKeyCode(I,["command","windows","win","super","leftcommand","leftwindows","leftwin","leftsuper"]),m.bindKeyCode(k,["command","windows","win","super","rightcommand","rightwindows","rightwin","rightsuper"]),m.setKillKey("command")}var _=new v;return _.setLocale("us",M),_.Keyboard=v,_.Locale=p,_.KeyCombo=d,_})})(vl);var bl=vl.exports;class tg extends dt{constructor(){super();f(this,"map",new Map)}generateSymbol(e){return Array.isArray(e)?e.join(" + "):e.shortcutKey.join(" + ")}register(e){const t=this.generateSymbol(e);return this.map.has(t)?(console.warn(`KeyboardManager: shortcutKey already exist: ${t}. desp: ${this.map.get(t).desp}`),this):(bl.bind(t,e.keydown||null,e.keyup),this.map.set(t,e),this)}update(e){const t=this.generateSymbol(e);return this.map.has(t)?(this.cancel(e.shortcutKey),this.register(e),this):(console.warn("KeyboardManager: shortcutKey unregister then exec register function"),this.register(e),this)}cancel(e){const t=this.generateSymbol(e);if(this.map.has(t)){const r=this.map.get(t);bl.unbind(t,r.keydown||null,r.keyup),this.map.delete(t)}return this}checkRepeat(e){const t=this.generateSymbol(e);return this.map.has(t)}}const ng=function(n){if(this.keyboardManager)return console.warn("engine has installed keyboardManager plugin."),!1;const e=new tg;return this.keyboardManager=e,this.completeSet.add(()=>{if(this.transformControls)if(this.IS_ENGINESUPPORT){const t=this.dataSupportManager.controlsDataSupport.getData()[E.TRNASFORMCONTROLS];e.register({shortcutKey:["r"],desp:"tranformControls rotate mode",keyup:r=>{r==null||r.preventDefault(),t.mode="rotate"}}).register({shortcutKey:["t"],desp:"tranformControls translate mode",keyup:r=>{r==null||r.preventDefault(),t.mode="translate"}}).register({shortcutKey:["e"],desp:"tranformControls scale mode",keyup:r=>{r==null||r.preventDefault(),t.mode="scale"}}).register({shortcutKey:["x"],desp:"tranformControls switch x axis",keyup:r=>{r==null||r.preventDefault(),t.showX=!t.showX}}).register({shortcutKey:["y"],desp:"tranformControls switch y axis",keyup:r=>{r==null||r.preventDefault(),!(r==null?void 0:r.ctrlKey)&&(t.showY=!t.showY)}}).register({shortcutKey:["z"],desp:"tranformControls switch z axis",keyup:r=>{r==null||r.preventDefault(),!(r==null?void 0:r.ctrlKey)&&(t.showZ=!t.showZ)}}).register({shortcutKey:["space"],desp:"tranformControls switch coordinate space",keyup:r=>{r==null||r.preventDefault(),t.space=t.space==="local"?"world":"local"}}).register({shortcutKey:["shift"],desp:"tranformControls switch tranform numeric value",keyup:r=>{r==null||r.preventDefault(),t.snapAllow=!1},keydown:r=>{r==null||r.preventDefault(),r==null||r.preventRepeat(),t.snapAllow=!0}})}else{const t=this.transformControls;e.register({shortcutKey:["r"],desp:"tranformControls rotate mode",keyup:r=>{r==null||r.preventDefault(),t.mode="rotate"}}).register({shortcutKey:["t"],desp:"tranformControls translate mode",keyup:r=>{r==null||r.preventDefault(),t.mode="translate"}}).register({shortcutKey:["e"],desp:"tranformControls scale mode",keyup:r=>{r==null||r.preventDefault(),t.mode="scale"}}).register({shortcutKey:["x"],desp:"tranformControls switch x axis",keyup:r=>{r==null||r.preventDefault(),t.showX=!t.showX}}).register({shortcutKey:["y"],desp:"tranformControls switch y axis",keyup:r=>{r==null||r.preventDefault(),!(r==null?void 0:r.ctrlKey)&&(t.showY=!t.showY)}}).register({shortcutKey:["z"],desp:"tranformControls switch z axis",keyup:r=>{r==null||r.preventDefault(),!(r==null?void 0:r.ctrlKey)&&(t.showZ=!t.showZ)}}).register({shortcutKey:["space"],desp:"tranformControls switch coordinate space",keyup:r=>{r==null||r.preventDefault(),t.space=t.space==="local"?"world":"local"}}).register({shortcutKey:["shift"],desp:"tranformControls switch tranform numeric value",keyup:r=>{r==null||r.preventDefault(),t.translationSnap=null,t.rotationSnap=null,t.scaleSnap=null},keydown:r=>{r==null||r.preventDefault(),r==null||r.preventRepeat(),t.translationSnap=5,t.rotationSnap=Math.PI/180*10,t.scaleSnap=.1}})}}),!0},rg=function(n={}){if(!this.scene)return console.error("must install some scene plugin before BasicViewpoint plugin."),!1;const e=new vd(n.length||500);return e.matrixAutoUpdate=!1,e.raycast=()=>{},this.scene.add(e),this.setAxesHelper=function(t){return t.show?this.scene.add(e):this.scene.remove(e),this},this.addEventListener("setScene",t=>{t.scene.add(e)}),!0},ig=function(n={}){if(!this.scene)return console.error("must install some scene before BasicViewpoint plugin."),!1;const e=new bd(n.range||500,n.spacing||50,n.axesColor||"rgb(130, 130, 130)",n.cellColor||"rgb(70, 70, 70)");if(n.opacity!==1){const t=e.material;t.transparent=!0,t.opacity=n.opacity||.5,t.needsUpdate=!0}return e.matrixAutoUpdate=!1,e.raycast=()=>{},this.scene.add(e),this.setGridHelper=function(t){return t.show?this.scene.add(e):this.scene.remove(e),this},this.addEventListener("setScene",t=>{t.scene.add(e)}),this.completeSet.add(()=>{this.setViewpoint&&this.addEventListener("setViewpoint",t=>{const r=t.viewpoint;r===ee.DEFAULT||r===ee.TOP||r===ee.BOTTOM?e.rotation.set(0,0,0):r===ee.RIGHT||r===ee.LEFT?e.rotation.set(0,0,Math.PI/2):(r===ee.FRONT||r===ee.BACK)&&e.rotation.set(Math.PI/2,0,0),e.updateMatrix(),e.updateMatrixWorld()})}),!0};var je;(function(n){n.GEOMETRY="geometry",n.MATERIAL="material",n.LIGHT="light",n.ENV="env"})(je||(je={}));const sg=function(n={}){if(!this.webGLRenderer)return console.error("must install some renderer before DisplayModel plugin."),!1;if(!this.scene)return console.error("must install some scene before DisplayModel plugin."),!1;!n.overrideColor&&(n.overrideColor="rgb(250, 250, 250)"),!n.defaultAmbientLightSetting&&(n.defaultAmbientLightSetting={}),!n.defaultAmbientLightSetting.color&&(n.defaultAmbientLightSetting.color="rgb(255, 255, 255)"),!n.defaultAmbientLightSetting.intensity&&(n.defaultAmbientLightSetting.intensity=.5);const e=new ar(n.defaultAmbientLightSetting.color,n.defaultAmbientLightSetting.intensity);e.matrixAutoUpdate=!1,!n.defaultDirectionalLightSetting&&(n.defaultDirectionalLightSetting={}),!n.defaultDirectionalLightSetting.color&&(n.defaultDirectionalLightSetting.color="rgb(255, 255, 255)"),!n.defaultDirectionalLightSetting.intensity&&(n.defaultDirectionalLightSetting.intensity=.5),!n.defaultDirectionalLightSetting.position&&(n.defaultDirectionalLightSetting.position={x:-100,y:100,z:100});const t=new el(n.defaultDirectionalLightSetting.color,n.defaultDirectionalLightSetting.intensity);t.castShadow=!1,t.position.set(n.defaultDirectionalLightSetting.position.x,n.defaultDirectionalLightSetting.position.y,n.defaultDirectionalLightSetting.position.z),t.updateMatrix(),t.updateMatrixWorld(),t.matrixAutoUpdate=!1,!n.mode&&(n.mode=je.ENV),this.displayMode=n.mode;const r=new Ed({color:n.overrideColor}),i=new zt({color:n.overrideColor}),s=new ut({color:n.overrideColor,size:5,sizeAttenuation:!1}),o=new wn({color:n.overrideColor}),a=new WeakMap,c=new Set,l=new Set,u=new Set,h=new Set,d=new Set;let p,v;const M={Object3D:!0,Group:!0};this.scene.addEventListener("afterAdd",C=>{const S=this.displayMode,x=C.objects;for(const R of x)if(!M[R.type])if(R instanceof kt&&R.type==="Mesh")l.add(R),S===je.GEOMETRY&&(a.set(R,R.material),R.material=r);else if(R instanceof ai&&R.type.includes("Line"))u.add(R),S===je.GEOMETRY&&(a.set(R,R.material),R.material=i);else if(R instanceof tl&&R.type.includes("Light")){if(R===e||R===t)continue;c.has(R)||c.add(R),S!==je.ENV&&S!==je.LIGHT&&this.scene.remove(R)}else R instanceof St&&R.type==="Points"?(h.add(R),S===je.GEOMETRY&&(a.set(R,R.material),R.material=s)):R instanceof Sn&&R.type==="Sprite"&&(d.add(R),S===je.GEOMETRY&&(a.set(R,R.material),R.material=o))}),this.scene.addEventListener("afterRemove",C=>{const S=C.objects;for(const x of S)if(!M[x.type])if(x instanceof kt&&x.type==="Mesh")l.delete(x),a.has(x)&&a.delete(x);else if(x instanceof ai&&x.type.includes("Line"))u.delete(x),a.has(x)&&a.delete(x);else if(x instanceof tl&&x.type.includes("Light")){if(x===e||x===t)continue;c.delete(x)}else x instanceof St&&x.type==="Points"?(h.delete(x),a.has(x)&&a.delete(x)):x instanceof Sn&&x.type==="Sprite"&&(d.delete(x),a.has(x)&&a.delete(x))});const _=()=>{for(const C of l)C.material!==r&&(a.set(C,C.material),C.material=r);for(const C of u)C.material!==i&&(a.set(C,C.material),C.material=i);for(const C of h)C.material!==s&&(a.set(C,C.material),C.material=s);for(const C of d)C.material!==o&&(a.set(C,C.material),C.material=o)},m=()=>{l.forEach(C=>{a.has(C)&&(C.material=a.get(C),a.delete(C))}),u.forEach(C=>{a.has(C)&&(C.material=a.get(C),a.delete(C))}),h.forEach(C=>{a.has(C)&&(C.material=a.get(C),a.delete(C))}),d.forEach(C=>{a.has(C)&&(C.material=a.get(C),a.delete(C))})},w=()=>{c.forEach(C=>{C.visible=!1}),this.scene.add(e),this.scene.add(t)},g=()=>{c.forEach(C=>{C.visible=!0}),this.scene.remove(e),this.scene.remove(t)},y=()=>{this.scene.background instanceof ir&&(p=this.scene.background,this.scene.background=null),this.scene.environment instanceof ir&&(v=this.scene.environment,this.scene.environment=null)},b=()=>{p&&(this.scene.background=p,p=void 0),v&&(this.scene.environment=v,v=void 0)};return this.setDisplayMode=function(C){return this.displayMode=C||je.ENV,C===je.GEOMETRY?(_(),y(),w()):C===je.MATERIAL?(m(),y(),w()):C===je.LIGHT?(m(),y(),g()):C===je.ENV?(m(),b(),g()):console.warn(`displayMode plugin can not set this mode: ${C}`),this},this.completeSet.add(()=>{this.objectHelperManager&&this.objectHelperManager.addFilteredObject(t)}),!0},Ht=()=>new zt({color:"rgb(255, 255, 255)"});class El extends et{constructor(e){super();f(this,"shape"),f(this,"target"),f(this,"type","CameraHelper"),f(this,"cachaData");const t=new Je,r=[0,0,0,-1,1,-1,0,0,0,-1,1,1,0,0,0,-1,-1,-1,0,0,0,-1,-1,1,-1,-1,1,-1,-1,-1,-1,-1,-1,-1,1,-1,-1,1,-1,-1,1,1,-1,1,1,-1,-1,1,0,0,0,0,1,1,0,0,0,0,1,-1,0,0,0,0,-1,-1,0,0,0,0,-1,1,0,1,1,0,1,-1,0,1,-1,0,-1,-1,0,-1,-1,0,-1,1,0,-1,1,0,1,1,0,-1,1,2,-1,1,0,1,-1,2,1,-1,0,-1,-1,2,-1,-1,0,1,1,2,1,1,2,1,1,2,-1,1,2,-1,1,2,-1,-1,2,-1,-1,2,1,-1,2,1,-1,2,1,1];t.setAttribute("position",new be(r,3)),t.rotateY(-90*Math.PI/180),t.computeBoundingBox();const i=new sd(e);i.matrix=new Ua,i.matrixAutoUpdate=!0,i.raycast=()=>{},this.add(i),this.shape=i,this.geometry=t,this.material=Ht(),this.target=e,this.matrixAutoUpdate=!1,this.matrix=e.matrix,e instanceof Te?this.cachaData={fov:e.fov,aspect:e.aspect,near:e.near,far:e.far}:e instanceof tt?this.cachaData={left:e.left,right:e.right,top:e.top,bottom:e.bottom,near:e.near,far:e.far}:this.cachaData={},this.onBeforeRender=()=>{let s=!1;const o=this.cachaData;Object.keys(o).forEach(a=>{o[a]!==e[a]&&(o[a]=e[a],s=!0)}),s&&this.shape.update()}}raycast(e,t){const r=this.matrixWorld,i=this.geometry.boundingBox.clone();if(i.applyMatrix4(r),e.ray.intersectsBox(i)){const s=this.target;t.push({distance:e.ray.origin.distanceTo(s.position),object:s,point:s.position})}}}class og extends et{constructor(e){super();f(this,"sphere"),f(this,"target"),f(this,"shape"),f(this,"type","VisDirectionalLightHelper"),f(this,"cacheColor"),f(this,"cacheVector3"),this.geometry=new Je;const t=[-1,0,0,1,0,0,0,-1,0,0,1,0,0,0,-1,0,0,1,-.707,-.707,0,.707,.707,0,.707,-.707,0,-.707,.707,0,0,-.707,-.707,0,.707,.707,0,.707,-.707,0,-.707,.707,-.707,0,-.707,.707,0,.707,.707,0,-.707,-.707,0,.707];this.geometry.setAttribute("position",new be(t,3)),this.material=Ht(),this.geometry.boundingSphere;const r=new le().copy(e.color).multiplyScalar(e.intensity),i=new wt(20,20);i.dispose();const s=new et(new en(i),new zt({color:r}));s.raycast=()=>{},this.shape=s,this.target=e,this.sphere=new Bs(new K(0,0,0),1),this.cacheColor=e.color.getHex(),this.cacheVector3=new K,this.add(this.shape),this.matrixAutoUpdate=!1,this.matrix=e.matrix,this.matrixWorldNeedsUpdate=!1,this.matrixWorld=e.matrixWorld,this.onBeforeRender=()=>{const o=this.target,a=this.shape;o.color.getHex()!==this.cacheColor&&(a.material.color.copy(o.color).multiplyScalar(o.intensity),this.cacheColor=o.color.getHex()),a.lookAt(o.target.position)}}raycast(e,t){const r=this.target,i=r.matrixWorld,s=this.sphere;s.set(this.cacheVector3.set(0,0,0),1),s.applyMatrix4(i),e.ray.intersectsSphere(s)&&t.push({distance:e.ray.origin.distanceTo(r.position),object:r,point:r.position})}}class ag extends et{constructor(e){super();f(this,"sphere"),f(this,"target"),f(this,"shape"),f(this,"type","VisPointLightHelper"),f(this,"cacheColor"),f(this,"cacheDistance"),f(this,"cacheVector3"),this.geometry=new Je;const t=[-1,0,0,1,0,0,0,-1,0,0,1,0,0,0,-1,0,0,1,-.707,-.707,0,.707,.707,0,.707,-.707,0,-.707,.707,0,0,-.707,-.707,0,.707,.707,0,.707,-.707,0,-.707,.707,-.707,0,-.707,.707,0,.707,.707,0,-.707,-.707,0,.707];this.geometry.setAttribute("position",new be(t,3)),this.material=Ht(),this.geometry.boundingSphere;const r=new le().copy(e.color).multiplyScalar(e.intensity),i=new kt(new Ka(e.distance,0),new Fs({color:r,wireframe:!0}));i.raycast=()=>{},i.matrixAutoUpdate=!1,this.shape=i,this.target=e,this.sphere=new Bs(new K(0,0,0),1),this.cacheColor=e.color.getHex(),this.cacheDistance=e.distance,this.cacheVector3=new K,this.add(this.shape),this.matrixAutoUpdate=!1,this.matrix=e.matrix,this.matrixWorldNeedsUpdate=!1,this.matrixWorld=e.matrixWorld,this.onBeforeRender=()=>{const s=this.target,o=this.shape;s.distance!==this.cacheDistance&&(o.geometry.dispose(),o.geometry=new Ka(s.distance,0),this.cacheDistance=s.distance),s.color.getHex()!==this.cacheColor&&(o.material.color.copy(s.color).multiplyScalar(s.intensity),this.cacheColor=s.color.getHex())}}raycast(e,t){const r=this.target,i=r.matrixWorld,s=this.sphere;s.set(this.cacheVector3.set(0,0,0),1),s.applyMatrix4(i),e.ray.intersectsSphere(s)&&t.push({distance:e.ray.origin.distanceTo(r.position),object:r,point:r.position})}}class lg extends et{constructor(e){super();f(this,"sphere"),f(this,"target"),f(this,"shape"),f(this,"type","VisSpotLightHelper"),f(this,"cacheVector3"),f(this,"cacheColor"),f(this,"cacheAngle"),f(this,"cacheDistance"),this.geometry=new Je;const t=[-1,0,0,1,0,0,0,-1,0,0,1,0,0,0,-1,0,0,1,-.707,-.707,0,.707,.707,0,.707,-.707,0,-.707,.707,0,0,-.707,-.707,0,.707,.707,0,.707,-.707,0,-.707,.707,-.707,0,-.707,.707,0,.707,.707,0,-.707,-.707,0,.707];this.geometry.setAttribute("position",new be(t,3)),this.material=Ht(),this.geometry.boundingSphere;const r=new Je,i=[0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let l=0,u=1,h=32;l<h;l++,u++){const d=l/h*Math.PI*2,p=u/h*Math.PI*2;i.push(Math.cos(d),Math.sin(d),1,Math.cos(p),Math.sin(p),1)}r.setAttribute("position",new be(i,3));const s=Ht(),o=new et(r,s);o.material.color.copy(e.color).multiplyScalar(e.intensity);const a=e.distance?e.distance:1e3,c=a*Math.tan(e.angle);o.scale.set(c,c,a),o.raycast=()=>{},this.add(o),this.matrixAutoUpdate=!1,this.matrix=e.matrix,this.matrixWorldNeedsUpdate=!1,this.matrixWorld=e.matrixWorld,this.target=e,this.shape=o,this.sphere=new Bs(new K(0,0,0),1),this.cacheColor=e.color.getHex(),this.cacheDistance=e.distance,this.cacheAngle=e.angle,this.cacheVector3=new K,this.onBeforeRender=()=>{const l=this.target,u=this.shape;let h=!1;if(l.distance!==this.cacheDistance&&(this.cacheDistance=l.distance,u.scale.z=l.distance,h=!0),l.angle!==this.cacheAngle&&(this.cacheAngle=l.angle,h=!0),h){const d=l.distance*Math.tan(l.angle);u.scale.set(d,d,l.distance)}l.color.getHex()!==this.cacheColor&&(u.material.color.copy(l.color).multiplyScalar(l.intensity),this.cacheColor=l.color.getHex()),u.lookAt(l.target.position)}}raycast(e,t){const r=this.target,i=r.matrixWorld,s=this.sphere;s.set(this.cacheVector3.set(0,0,0),1),s.applyMatrix4(i),e.ray.intersectsSphere(s)&&t.push({distance:e.ray.origin.distanceTo(r.position),object:r,point:r.position})}}class cg extends et{constructor(e){super();f(this,"target"),f(this,"type","VisCSS3DHelper");const r=e.element.getBoundingClientRect(),i=r.width,s=r.height;this.geometry=new en(new wt(i,s)),this.geometry.computeBoundingBox(),this.material=Ht(),this.matrixAutoUpdate=!1,this.matrix=e.matrix,this.matrixWorldNeedsUpdate=!1,this.matrixWorld=e.matrixWorld,this.target=e}raycast(e,t){const r=this.target,i=r.matrixWorld,s=this.geometry.boundingBox.clone();s.applyMatrix4(i),e.ray.intersectsBox(s)&&t.push({distance:e.ray.origin.distanceTo(r.position),object:r,point:r.position})}}class ug extends et{constructor(e){super();f(this,"target"),f(this,"type","VisCSS3DPlaneHelper"),f(this,"observer"),this.geometry=new en(new wt(e.width,e.height)),this.geometry.computeBoundingBox(),this.material=Ht(),this.matrixAutoUpdate=!1,this.matrix=e.matrix,this.matrixWorldNeedsUpdate=!1,this.matrixWorld=e.matrixWorld,this.target=e;const t=new MutationObserver(()=>{this.geometry.dispose(),this.geometry=new en(new wt(e.width,e.height)),this.geometry.computeBoundingBox()});t.observe(e.element,{attributeFilter:["style"]}),this.observer=t}dispose(){this.observer.disconnect()}}const Ml=class extends Sn{constructor(n){super();f(this,"target"),f(this,"type","VisGroupHelper"),this.target=n,this.geometry.computeBoundingBox(),this.material=new wn({map:Ml.colorTexture}),this.material.depthTest=!1,this.material.depthWrite=!1,this.scale.set(5,5,5);const e=this.updateMatrixWorld.bind(this);this.updateMatrixWorld=t=>{const r=this.position,i=this.target.position;r.x=i.x,r.y=i.y,r.z=i.z,e(t)}}raycast(n,e){const t=this.matrixWorld,r=this.geometry.boundingBox.clone();if(r.applyMatrix4(t),n.ray.intersectsBox(r)){const i=this.target;e.push({distance:n.ray.origin.distanceTo(i.position),object:i,point:i.position})}}};let Cl=Ml;f(Cl,"colorTexture",new sr(new yr({width:512,height:512}).draw(n=>{n.beginPath(),n.fillStyle="rgba(0, 0, 0, 0)",n.fillRect(0,0,512,512),n.closePath(),n.translate(256,200),n.beginPath(),n.fillStyle="yellow",n.fillRect(-200,0,400,200),n.closePath(),n.beginPath(),n.fillStyle="yellow",n.fillRect(-200,-70,200,70),n.closePath()}).get()));const Sl=class extends St{constructor(n){super();f(this,"target"),f(this,"type","VisLineHelper"),this.target=n,this.geometry.dispose(),this.geometry.copy(n.geometry),this.material=new ut({color:"rgb(255, 255, 255)",alphaMap:Sl.alphaTexture,transparent:!0,size:5,sizeAttenuation:!1}),this.matrixAutoUpdate=!1,this.matrixWorldNeedsUpdate=!1,this.matrix=n.matrix,this.matrixWorld=n.matrixWorld,this.renderOrder=-1,this.raycast=()=>{}}};let wl=Sl;f(wl,"alphaTexture",new sr(new yr({width:512,height:512,bgColor:"rgb(0, 0, 0)"}).draw(n=>{n.beginPath(),n.fillStyle="rgb(255, 255, 255)",n.arc(256,256,200,0,Math.PI*2),n.fill(),n.closePath()}).get()));class hg extends et{constructor(e){super();f(this,"target"),f(this,"type","VisMeshHelper"),f(this,"cachaGeometryUUid");const t=1;this.target=e,this.geometry=new en(e.geometry,t),this.cachaGeometryUUid=e.geometry.uuid,this.material=Ht(),this.raycast=()=>{},this.matrixAutoUpdate=!1,this.matrixWorldNeedsUpdate=!1,this.matrix=e.matrix,this.matrixWorld=e.matrixWorld,this.onBeforeRender=()=>{const r=this.target;r.geometry.uuid!==this.cachaGeometryUUid&&(this.geometry.dispose(),this.geometry=new en(r.geometry,t),this.cachaGeometryUUid=r.geometry.uuid)}}}const _l=class extends St{constructor(n){super();f(this,"target"),f(this,"type","VisPointsHelper"),this.target=n,this.geometry.dispose(),this.geometry.copy(n.geometry),this.material.dispose(),this.material=new ut({color:"rgb(255, 255, 255)",alphaMap:_l.alphaTexture,transparent:!0});const e=Array.isArray(n.material)?n.material[0]:n.material;e instanceof ut&&(this.material.size=e.size,this.material.sizeAttenuation=e.sizeAttenuation),this.matrixAutoUpdate=!1,this.matrixWorldNeedsUpdate=!1,this.matrix=n.matrix,this.matrixWorld=n.matrixWorld,this.raycast=()=>{}}};let xl=_l;f(xl,"alphaTexture",new sr(new yr({width:512,height:512,bgColor:"rgb(0, 0, 0)"}).draw(n=>{n.beginPath(),n.strokeStyle="rgb(255, 255, 255)",n.lineWidth=4,n.strokeRect(0,0,512,512),n.closePath()}).get()));const Ol=class extends Sn{constructor(n){super();f(this,"target"),f(this,"type","VisSpriteHelper"),this.target=n,this.material.dispose(),this.material=new wn({color:"rgb(255, 255, 255)",alphaMap:Ol.alphaTexture,transparent:!0,depthWrite:!1}),this.matrixAutoUpdate=!1,this.matrixWorldNeedsUpdate=!1,this.matrix=n.matrix,this.matrixWorld=n.matrixWorld,this.raycast=()=>{}}};let Tl=Ol;f(Tl,"alphaTexture",new sr(new yr({width:512,height:512,bgColor:"rgb(0, 0, 0)"}).draw(n=>{n.beginPath(),n.strokeStyle="rgb(255, 255, 255)",n.lineWidth=4,n.strokeRect(0,0,512,512),n.closePath()}).get()));class dg extends dt{constructor(e={}){super();f(this,"helperGenerator",{[E.POINTLIGHT]:ag,[E.SPOTLIGHT]:lg,[E.DIRECTIONALLIGHT]:og,[E.PERSPECTIVECAMERA]:El,[E.ORTHOGRAPHICCAMERA]:El,[E.MESH]:hg,[E.GROUP]:Cl,[E.SPRITE]:Tl,[E.POINTS]:xl,[E.LINE]:wl,[E.CSS3DOBJECT]:cg,[E.CSS3DPLANE]:ug}),f(this,"helperFilter",{AmbientLight:!0,Object3D:!0,TransformControls:!0,Scene:!0}),f(this,"objectFilter",new Set),f(this,"helperMap",new Map),e.helperGenerator&&(this.helperGenerator=Object.assign(this.helperGenerator,e.helperGenerator)),e.helperFilter&&(this.helperFilter=Object.assign(this.helperFilter,e.helperFilter)),e.objectFilter&&(this.objectFilter=new Set(e.objectFilter.concat(Array.from(this.objectFilter))))}addFilteredObject(...e){for(const t of e)this.objectFilter.add(t);return this}addObjectHelper(e){if(this.objectFilter.has(e)||this.helperMap.has(e)||this.helperFilter[e.type]||e.type.toLocaleLowerCase().includes("helper"))return null;if(!this.helperGenerator[e.type])return console.warn(`object helper can not support this type object: '${e.type}'`),null;const t=new this.helperGenerator[e.type](e);return this.helperMap.set(e,t),t}disposeObjectHelper(e){if(this.objectFilter.has(e)||this.helperFilter[e.type]||e.type.toLocaleLowerCase().includes("helper"))return null;if(!this.helperMap.has(e))return console.warn("object helper manager can not found this object`s helper: ",e),null;const t=this.helperMap.get(e);return t.geometry&&t.geometry.dispose(),t.material&&(t.material instanceof si?t.material.dispose():t.material.forEach(r=>{r.dispose()})),this.helperMap.delete(e),t}}const pg=function(n={}){if(!this.scene)return console.error("must install some scene plugin before ObjectHelper plugin."),!1;n.interact===void 0&&(n.interact=!0),n.interact&&(this.eventManager||(console.warn("must install eventManager plugin that can use interact function."),n.interact=!1));const e=new dg,t=new Map,r=new Map,i=new Map,s=e.helperMap;this.objectHelperManager=e,!n.activeColor&&(n.activeColor="rgb(230, 20, 240)"),!n.hoverColor&&(n.hoverColor="rgb(255, 158, 240)"),!n.defaultColor&&(n.defaultColor="rgb(255, 255, 255)"),!n.selectedColor&&(n.selectedColor=n.activeColor);const o=new le(n.defaultColor).getHex(),a=new le(n.activeColor).getHex(),c=new le(n.hoverColor).getHex(),l=new le(n.selectedColor).getHex(),u=new WeakSet,h=M=>{const _=M.objects;for(const m of _){const w=e.addObjectHelper(m);if(!!w&&(w.material.color.setHex(o),this.scene.add(w),n.interact)){const g=()=>{var C;((C=this.transformControls)==null?void 0:C.dragging)||this.selectionBox&&this.selectionBox.has(m)||w.material.color.setHex(c)},y=()=>{var C;((C=this.transformControls)==null?void 0:C.dragging)||this.selectionBox&&this.selectionBox.has(m)||w.material.color.setHex(o)},b=()=>{var C;((C=this.transformControls)==null?void 0:C.dragging)||this.selectionBox&&this.selectionBox.has(m)||w.material.color.setHex(a)};m.addEventListener("pointerenter",g),m.addEventListener("pointerleave",y),m.addEventListener("click",b),t.set(m,g),r.set(m,y),i.set(m,b)}}},d=M=>{const _=M.objects;for(const m of _){const w=e.disposeObjectHelper(m);!w||(this.scene.remove(w),n.interact&&(m.removeEventListener("pointerenter",t.get(m)),m.removeEventListener("pointerleave",r.get(m)),m.removeEventListener("click",i.get(m)),t.delete(m),r.delete(m),i.delete(m)))}},p=M=>{u.has(M)||(M.traverse(_=>{const m=e.addObjectHelper(_);m&&M.add(m)}),u.add(M))};this.scene.addEventListener("afterAdd",h),this.scene.addEventListener("afterRemove",d),this.setObjectHelper=function(M){return M.show?s.forEach(_=>{this.scene.add(_)}):s.forEach(_=>{this.scene.remove(_)}),this},this.addEventListener("setScene",M=>{const _=M.scene;!u.has(_)&&p(_),_.hasEventListener("afterAdd",h)||_.addEventListener("afterAdd",h),_.hasEventListener("afterRemove",d)||_.addEventListener("afterRemove",d)});const v=new Set;return this.completeSet.add(()=>{this.selectionBox&&this.addEventListener("selected",M=>{v.forEach(_=>{_.material.color.setHex(o)}),v.clear();for(const _ of M.objects)if(s.has(_)){const m=s.get(_);m.material.color.setHex(l),v.add(m)}})}),!0},fg=function(n={}){if(this.selectionBox)return console.warn("engine has installed selection plugin."),!1;if(!this.eventManager)return console.warn("must install eventManager plugin before Selection plugin."),!1;this.selectionBox=new Set;const e=()=>{const t=[];this.IS_ENGINESUPPORT&&this.selectionBox.forEach(r=>{const i=this.compilerManager.getObjectSymbol(r);i?t.push(i):console.warn("selection plugin can not font vid in compilerManager.",r)}),this.dispatchEvent({type:"selected",objects:[...this.selectionBox],objectSymbols:t})};return this.setSelectionBox=function(t){this.selectionBox.clear();for(const r of t.objects)this.selectionBox.add(r);return e(),this},this.eventManager.addEventListener("click",t=>{var r,i,s;if(this.transing){this.transing=!1;return}const o=t.intersections;if(t.ctrlKey||this.selectionBox.clear(),this.eventManager.penetrate)for(const a of o){if(t.ctrlKey&&((r=this.selectionBox)==null?void 0:r.has(a.object))){this.selectionBox.delete(a.object);continue}this.selectionBox.add(a.object)}else if(o.length){const a=o[0].object;if(t.ctrlKey&&((i=this.selectionBox)==null?void 0:i.has(a))){this.selectionBox.delete(a);return}(s=this.selectionBox)==null||s.add(a)}e()}),!0},mg=function(n={}){if(this.css3DRenderer)return console.warn("this has installed css3DRenderer plugin."),!1;this.css3DRenderer=new kd;const e=this.css3DRenderer.domElement;if(e.classList.add("vis-css3D"),e.style.position="absolute",e.style.top="0",e.style.left="0",this.addEventListener("setDom",t=>{t.dom.appendChild(this.css3DRenderer.domElement)}),this.addEventListener("setSize",t=>{this.css3DRenderer.setSize(t.width,t.height)}),this.renderManager)this.renderManager.removeEventListener("render",this.render),this.renderManager.addEventListener("render",t=>{this.css3DRenderer.render(this.scene,this.camera)});else if(this.webGLRenderer){const t=this.render.bind(this);this.render=function(){return t(),this.webGLRenderer.render(this.scene,this.camera),this}}else this.render=function(){return this.webGLRenderer.render(this.scene,this.camera),this};return!0};var U;(function(n){n.WEBGLRENDERER="WebGLRenderer",n.CSS3DRENDERER="CSS3DRenderer",n.SCENE="Scene",n.MODELINGSCENE="ModelingScene",n.RENDERMANAGER="RenderManager",n.ORBITCONTROLS="OrbitControls",n.STATS="Stats",n.EFFECTCOMPOSER="EffectComposer",n.POINTERMANAGER="PointerManager",n.EVENTMANAGER="EventManager",n.TRANSFORMCONTROLS="TransformControls",n.LOADERMANAGER="LoaderManager",n.RESOURCEMANAGER="ResourceManager",n.DATASUPPORTMANAGER="DataSupportManager",n.COMPILERMANAGER="CompilerManager",n.KEYBOARDMANAGER="KeyboardManager",n.AXESHELPER="AxesHelper",n.GRIDHELPER="GridHelper",n.VIEWPOINT="Viewpoint",n.DISPLAYMODE="DisplayMode",n.OBJECTHELPER="ObjectHelper",n.SELECTION="Selection"})(U||(U={}));const rn=class extends dt{constructor(){super();f(this,"completeSet"),f(this,"camera",new Te),f(this,"scene",new ht),f(this,"IS_ENGINESUPPORT",!1),f(this,"dom"),f(this,"webGLRenderer"),f(this,"css3DRenderer"),f(this,"orbitControls"),f(this,"transformControls"),f(this,"effectComposer"),f(this,"renderManager"),f(this,"pointerManager"),f(this,"eventManager"),f(this,"loaderManager"),f(this,"resourceManager"),f(this,"dataSupportManager"),f(this,"compilerManager"),f(this,"keyboardManager"),f(this,"objectHelperManager"),f(this,"transing"),f(this,"stats"),f(this,"displayMode"),f(this,"selectionBox"),f(this,"getScreenshot"),f(this,"setStats"),f(this,"setTransformControls"),f(this,"setViewpoint"),f(this,"setDisplayMode"),f(this,"setAxesHelper"),f(this,"setGridHelper"),f(this,"setObjectHelper"),f(this,"setSelectionBox"),f(this,"loadResources"),f(this,"loadResourcesAsync"),f(this,"registerResources"),f(this,"toJSON"),f(this,"exportConfig"),f(this,"applyConfig"),f(this,"reactiveConfig"),f(this,"getConfigBySymbol"),f(this,"removeConfigBySymbol"),f(this,"getObjectSymbol"),f(this,"getObjectBySymbol"),f(this,"play"),f(this,"stop"),f(this,"render"),this.completeSet=new Set,this.render=function(){return console.warn("can not install some plugin"),this},this.camera.position.set(50,50,50),this.addEventListener("setSize",n=>{this.camera.aspect=n.width/n.height,this.camera.updateProjectionMatrix()})}optimizeMemory(){Object.keys(this).forEach(n=>{this[n]===void 0&&delete this[n]})}install(n,e){return rn.pluginHandler.has(n)?rn.pluginHandler.get(n).call(this,e):console.error(`engine can not support ${n} plugin.`),this}complete(){return this.completeSet.forEach(n=>{n(this)}),this.completeSet.clear(),this}dispose(){return this.dispatchEvent({type:"dispose"}),this}setDom(n){return this.dom=n,this.dispatchEvent({type:"setDom",dom:n}),this}setSize(n,e){var t,r;return n&&n<=0||e&&e<=0?(console.warn(`you must be input width and height bigger then zero, width: ${n}, height: ${e}`),this):(!n&&(n=((t=this.dom)==null?void 0:t.offsetWidth)||window.innerWidth),!e&&(e=((r=this.dom)==null?void 0:r.offsetHeight)||window.innerHeight),this.dispatchEvent({type:"setSize",width:n,height:e}),this)}setCamera(n){if(typeof n=="object"&&n instanceof Md)this.camera=n,this.dispatchEvent({type:"setCamera",camera:n});else if(this.IS_ENGINESUPPORT){const e=this.compilerManager.getObjectBySymbol(n);e?(this.camera=e,this.dispatchEvent({type:"setCamera",camera:e})):console.warn(`can not found camera in compilerManager: ${n}`)}else console.warn("engine is not a Engine support but use symbol to found camera.");return this}setScene(n){if(typeof n=="object"&&n instanceof ht)this.scene=n,this.dispatchEvent({type:"setScene",scene:n});else if(this.IS_ENGINESUPPORT){const e=this.compilerManager.getObjectBySymbol(n);e?(this.scene=e,this.dispatchEvent({type:"setScene",scene:e})):console.warn(`can not found camera in compilerManager: ${n}`)}else console.warn("engine is not a Engine support but use symbol to found camera.");return this}};let te=rn;f(te,"pluginHandler",new Map);f(te,"register",function(n,e){return rn.pluginHandler&&rn.pluginHandler.set(n,e),rn});f(te,"dispose",function(){rn.pluginHandler=void 0});te.register(U.WEBGLRENDERER,ap);te.register(U.CSS3DRENDERER,mg);te.register(U.EFFECTCOMPOSER,ep);te.register(U.RENDERMANAGER,qd);te.register(U.POINTERMANAGER,np);te.register(U.EVENTMANAGER,ip);te.register(U.LOADERMANAGER,yp);te.register(U.RESOURCEMANAGER,Ef);te.register(U.DATASUPPORTMANAGER,em);te.register(U.COMPILERMANAGER,eg);te.register(U.KEYBOARDMANAGER,ng);te.register(U.ORBITCONTROLS,Zd);te.register(U.TRANSFORMCONTROLS,op);te.register(U.AXESHELPER,rg);te.register(U.GRIDHELPER,ig);te.register(U.OBJECTHELPER,pg);te.register(U.DISPLAYMODE,sg);te.register(U.VIEWPOINT,Xd);te.register(U.STATS,Jd);te.register(U.SELECTION,fg);const Rl=class{constructor(){f(this,"supportData"),f(this,"supportDataType")}create(n){return n?(this.supportData={},this.supportDataType=n,this):(console.warn("you must give a module type in create params"),this)}add(n){return!this.supportData||!this.supportDataType?(console.warn("you must call 'create' method before the 'add' method"),this):n.type?Rl.configModelMap[n.type]!==this.supportDataType?(console.warn(`current generator create config which module is in: ${this.supportDataType}, but you provide type is '${n.type}'`),this):(this.supportData[n.vid]=$(n.type,n),this):(console.warn("config can not found attribute 'type'"),this)}get(){return this.supportDataType=void 0,this.supportData?this.supportData:{}}};let gg=Rl;f(gg,"configModelMap",mi);const ro=new Wa("rgb(255, 255, 255)",.5,200,1);ro.position.set(-30,5,20);ro.castShadow=!0;const Si=new kt(new or(80,2,80),new qa({color:"rgb(255, 255, 255)"}));Si.position.set(0,-11,0);Si.receiveShadow=!0;Si.castShadow=!0;const Tt=class{constructor(n){f(this,"material"),f(this,"dom"),f(this,"renderer"),f(this,"scene"),f(this,"camera"),f(this,"object");const e=new Vs({antialias:!0,preserveDrawingBuffer:!0});e.setPixelRatio(window.devicePixelRatio),e.setClearColor("rgb(150, 150, 150)"),e.shadowMap.enabled=!0,e.shadowMap.type=nl;const t=new ht,r=new Te(45,window.innerWidth/window.innerHeight,1,500);r.position.set(0,0,35),r.up.x=0,r.up.y=1,r.up.z=0,r.lookAt(new K(0,0,0)),t.add(Tt.ambientLight),t.add(Tt.pointLight),t.add(Tt.plane),this.scene=t,this.renderer=e,this.camera=r,this.object=new Cn,(n==null?void 0:n.material)&&this.setMaterial(n.material),(n==null?void 0:n.dom)&&this.setDom(n.dom)}setMaterial(n){if(this.scene.remove(this.object),this.material=n,n.type.includes("Mesh"))this.object=new kt(Tt.geometry,n);else if(n.type.includes("Line"))this.object=new ai(Tt.geometry,n);else if(n.type.includes("Ponits"))this.object=new St(Tt.geometry,n);else if(n.type.includes("Sprite"))this.object=new Sn(n);else return console.warn(`material displayer can not support this type material: '${n.type}'`),this;return this.object.castShadow=!0,this.object.receiveShadow=!0,this.scene.add(this.object),this}setDom(n){return this.dom=n,this.setSize(),n.appendChild(this.renderer.domElement),this}setSize(n,e){if(n&&e)this.camera.aspect=n/e,this.camera.updateProjectionMatrix(),this.renderer.setSize(n,e,!0);else{if(!this.dom)return console.warn("material displayer must set dom before setSize with empty parameters"),this;const t=this.dom;this.camera.aspect=t.offsetWidth/t.offsetHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(t.offsetWidth,t.offsetHeight,!0)}return this}render(){this.renderer.render(this.scene,this.camera)}dispose(){this.renderer.dispose()}};let vr=Tt;f(vr,"ambientLight",new ar("rgb(255, 255, 255)",.7));f(vr,"pointLight",ro);f(vr,"geometry",new Ya(10,12,12));f(vr,"plane",Si);f(vr,"dispose",()=>{Tt.geometry.dispose(),Tt.plane.geometry.dispose()});const Al=class{constructor(n){f(this,"dom"),f(this,"texture"),f(this,"renderer"),f(this,"scene"),f(this,"camera");const e=new Vs({antialias:!0,preserveDrawingBuffer:!0});e.setPixelRatio(window.devicePixelRatio),e.setClearColor("rgb(150, 150, 150)"),e.shadowMap.enabled=!0,e.shadowMap.type=nl;const t=new ht,r=new Te(45,window.innerWidth/window.innerHeight,1,500);r.position.set(0,0,35),r.up.x=0,r.up.y=1,r.up.z=0,r.lookAt(new K(0,0,0)),t.add(Al.ambientLight),this.scene=t,this.renderer=e,this.camera=r,(n==null?void 0:n.texture)&&this.setTexture(n.texture),(n==null?void 0:n.dom)&&this.setDom(n.dom)}setTexture(n){return this.scene.background=n,this}setDom(n){return this.dom=n,this.setSize(),n.appendChild(this.renderer.domElement),this}setSize(n,e){if(n&&e)this.camera.aspect=n/e,this.camera.updateProjectionMatrix(),this.renderer.setSize(n,e,!0);else{if(!this.dom)return console.warn("texture displayer must set dom before setSize with empty parameters"),this;const t=this.dom;this.camera.aspect=t.offsetWidth/t.offsetHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(t.offsetWidth,t.offsetHeight,!0)}return this}render(){this.renderer.render(this.scene,this.camera)}dispose(){this.renderer.dispose()}};let yg=Al;f(yg,"ambientLight",new ar("rgb(255, 255, 255)",1));class vg extends te{constructor(e={},t={}){super();f(this,"IS_ENGINESUPPORT",!0),this.install(U.LOADERMANAGER).install(U.RESOURCEMANAGER,{resources:t}).install(U.POINTERMANAGER).install(U.EVENTMANAGER).install(U.RENDERMANAGER).install(U.DATASUPPORTMANAGER,e).install(U.COMPILERMANAGER)}loadLifeCycle(e){const t=this.dataSupportManager;e.texture&&t.load({texture:e.texture}),e.material&&t.load({material:e.material}),delete e.texture,delete e.material,t.load(e)}removeLifeCycle(e){const t=this.dataSupportManager,r=e[A.TEXTURE]||{},i=e[A.MATERIAL]||{},s=e.assets||[];delete e.texture,delete e.material,delete e.assets,t.remove(e),t.remove({[A.MATERIAL]:i}),t.remove({[A.TEXTURE]:r});const o=this.resourceManager,a=this.loaderManager;s.forEach(c=>{o.remove(c),a.remove(c)})}loadConfig(e,t){const r=this.renderManager.hasRendering();if(r&&this.renderManager.stop(),e.assets&&e.assets.length){const i=s=>{delete e.assets,this.loadLifeCycle(e),this.resourceManager.removeEventListener("mapped",i),t&&t(s),r?this.renderManager.play():this.renderManager.render()};this.resourceManager.addEventListener("mapped",i),this.loaderManager.reset().load(e.assets)}else this.loadLifeCycle(e),t&&t(),r?this.renderManager.play():this.renderManager.render();return this}loadConfigAsync(e){return new Promise((t,r)=>{const i=this.renderManager.hasRendering();if(i&&this.renderManager.stop(),e.assets&&e.assets.length){const s=o=>{delete e.assets,this.loadLifeCycle(e),this.resourceManager.removeEventListener("mapped",s),i?this.renderManager.play():this.renderManager.render(),t(o)};this.resourceManager.addEventListener("mapped",s),this.loaderManager.reset().load(e.assets)}else this.loadLifeCycle(e),i?this.renderManager.play():this.renderManager.render(),t(void 0)})}removeConfig(e){this.removeLifeCycle(e)}getObjectConfig(e){const t=this.getObjectSymbol(e);return t?this.getConfigBySymbol(t):null}}class bg extends vg{constructor(e){super(e);this.install(U.WEBGLRENDERER,{antialias:!0,alpha:!0}).install(U.EFFECTCOMPOSER,{WebGLMultisampleRenderTarget:!0}).install(U.ORBITCONTROLS).complete()}}const Eg=[];for(let n=0;n<256;n++)Eg[n]=(n<16?"0":"")+n.toString(16);function Pl(n,e,t){return Math.max(e,Math.min(t,n))}class Mg{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerp(e,t,r,i){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),r.slerpQuaternions(e,t,i)}static slerpFlat(e,t,r,i,s,o,a){let c=r[i+0],l=r[i+1],u=r[i+2],h=r[i+3];const d=s[o+0],p=s[o+1],v=s[o+2],M=s[o+3];if(a===0){e[t+0]=c,e[t+1]=l,e[t+2]=u,e[t+3]=h;return}if(a===1){e[t+0]=d,e[t+1]=p,e[t+2]=v,e[t+3]=M;return}if(h!==M||c!==d||l!==p||u!==v){let _=1-a;const m=c*d+l*p+u*v+h*M,w=m>=0?1:-1,g=1-m*m;if(g>Number.EPSILON){const b=Math.sqrt(g),C=Math.atan2(b,m*w);_=Math.sin(_*C)/b,a=Math.sin(a*C)/b}const y=a*w;if(c=c*_+d*y,l=l*_+p*y,u=u*_+v*y,h=h*_+M*y,_===1-a){const b=1/Math.sqrt(c*c+l*l+u*u+h*h);c*=b,l*=b,u*=b,h*=b}}e[t]=c,e[t+1]=l,e[t+2]=u,e[t+3]=h}static multiplyQuaternionsFlat(e,t,r,i,s,o){const a=r[i],c=r[i+1],l=r[i+2],u=r[i+3],h=s[o],d=s[o+1],p=s[o+2],v=s[o+3];return e[t]=a*v+u*h+c*p-l*d,e[t+1]=c*v+u*d+l*h-a*p,e[t+2]=l*v+u*p+a*d-c*h,e[t+3]=u*v-a*h-c*d-l*p,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,c=Math.sin,l=a(r/2),u=a(i/2),h=a(s/2),d=c(r/2),p=c(i/2),v=c(s/2);switch(o){case"XYZ":this._x=d*u*h+l*p*v,this._y=l*p*h-d*u*v,this._z=l*u*v+d*p*h,this._w=l*u*h-d*p*v;break;case"YXZ":this._x=d*u*h+l*p*v,this._y=l*p*h-d*u*v,this._z=l*u*v-d*p*h,this._w=l*u*h+d*p*v;break;case"ZXY":this._x=d*u*h-l*p*v,this._y=l*p*h+d*u*v,this._z=l*u*v+d*p*h,this._w=l*u*h-d*p*v;break;case"ZYX":this._x=d*u*h-l*p*v,this._y=l*p*h+d*u*v,this._z=l*u*v-d*p*h,this._w=l*u*h+d*p*v;break;case"YZX":this._x=d*u*h+l*p*v,this._y=l*p*h+d*u*v,this._z=l*u*v-d*p*h,this._w=l*u*h-d*p*v;break;case"XZY":this._x=d*u*h-l*p*v,this._y=l*p*h-d*u*v,this._z=l*u*v+d*p*h,this._w=l*u*h+d*p*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],s=t[8],o=t[1],a=t[5],c=t[9],l=t[2],u=t[6],h=t[10],d=r+a+h;if(d>0){const p=.5/Math.sqrt(d+1);this._w=.25/p,this._x=(u-c)*p,this._y=(s-l)*p,this._z=(o-i)*p}else if(r>a&&r>h){const p=2*Math.sqrt(1+r-a-h);this._w=(u-c)/p,this._x=.25*p,this._y=(i+o)/p,this._z=(s+l)/p}else if(a>h){const p=2*Math.sqrt(1+a-r-h);this._w=(s-l)/p,this._x=(i+o)/p,this._y=.25*p,this._z=(c+u)/p}else{const p=2*Math.sqrt(1+h-r-a);this._w=(o-i)/p,this._x=(s+l)/p,this._y=(c+u)/p,this._z=.25*p}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Pl(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,t){return t!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,s=e._z,o=e._w,a=t._x,c=t._y,l=t._z,u=t._w;return this._x=r*u+o*a+i*l-s*c,this._y=i*u+o*c+s*a-r*l,this._z=s*u+o*l+r*c-i*a,this._w=o*u-r*a-i*c-s*l,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const c=1-a*a;if(c<=Number.EPSILON){const p=1-t;return this._w=p*o+t*this._w,this._x=p*r+t*this._x,this._y=p*i+t*this._y,this._z=p*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const l=Math.sqrt(c),u=Math.atan2(l,a),h=Math.sin((1-t)*u)/l,d=Math.sin(t*u)/l;return this._w=o*h+this._w*d,this._x=r*h+this._x*d,this._y=i*h+this._y*d,this._z=s*h+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(s),r*Math.cos(s),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class H{constructor(e=0,t=0,r=0){this.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(Ll.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(Ll.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6]*i,this.y=s[1]*t+s[4]*r+s[7]*i,this.z=s[2]*t+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*t+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*t+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*t+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,c=e.w,l=c*t+o*i-a*r,u=c*r+a*t-s*i,h=c*i+s*r-o*t,d=-s*t-o*r-a*i;return this.x=l*c+d*-s+u*-a-h*-o,this.y=u*c+d*-o+h*-s-l*-a,this.z=h*c+d*-a+l*-o-u*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i,this.y=s[1]*t+s[5]*r+s[9]*i,this.z=s[2]*t+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e,t){return t!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,s=e.z,o=t.x,a=t.y,c=t.z;return this.x=i*c-s*a,this.y=s*o-r*c,this.z=r*a-i*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return io.copy(this).projectOnVector(e),this.sub(io)}reflect(e){return this.sub(io.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Pl(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t,r){return r!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const io=new H,Ll=new Mg;class br{constructor(){this.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,t,r,i,s,o,a,c,l,u,h,d,p,v,M,_){const m=this.elements;return m[0]=e,m[4]=t,m[8]=r,m[12]=i,m[1]=s,m[5]=o,m[9]=a,m[13]=c,m[2]=l,m[6]=u,m[10]=h,m[14]=d,m[3]=p,m[7]=v,m[11]=M,m[15]=_,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new br().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/Rn.setFromMatrixColumn(e,0).length(),s=1/Rn.setFromMatrixColumn(e,1).length(),o=1/Rn.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const t=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),c=Math.cos(i),l=Math.sin(i),u=Math.cos(s),h=Math.sin(s);if(e.order==="XYZ"){const d=o*u,p=o*h,v=a*u,M=a*h;t[0]=c*u,t[4]=-c*h,t[8]=l,t[1]=p+v*l,t[5]=d-M*l,t[9]=-a*c,t[2]=M-d*l,t[6]=v+p*l,t[10]=o*c}else if(e.order==="YXZ"){const d=c*u,p=c*h,v=l*u,M=l*h;t[0]=d+M*a,t[4]=v*a-p,t[8]=o*l,t[1]=o*h,t[5]=o*u,t[9]=-a,t[2]=p*a-v,t[6]=M+d*a,t[10]=o*c}else if(e.order==="ZXY"){const d=c*u,p=c*h,v=l*u,M=l*h;t[0]=d-M*a,t[4]=-o*h,t[8]=v+p*a,t[1]=p+v*a,t[5]=o*u,t[9]=M-d*a,t[2]=-o*l,t[6]=a,t[10]=o*c}else if(e.order==="ZYX"){const d=o*u,p=o*h,v=a*u,M=a*h;t[0]=c*u,t[4]=v*l-p,t[8]=d*l+M,t[1]=c*h,t[5]=M*l+d,t[9]=p*l-v,t[2]=-l,t[6]=a*c,t[10]=o*c}else if(e.order==="YZX"){const d=o*c,p=o*l,v=a*c,M=a*l;t[0]=c*u,t[4]=M-d*h,t[8]=v*h+p,t[1]=h,t[5]=o*u,t[9]=-a*u,t[2]=-l*u,t[6]=p*h+v,t[10]=d-M*h}else if(e.order==="XZY"){const d=o*c,p=o*l,v=a*c,M=a*l;t[0]=c*u,t[4]=-h,t[8]=l*u,t[1]=d*h+M,t[5]=o*u,t[9]=p*h-v,t[2]=v*h-p,t[6]=a*u,t[10]=M*h+d}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Cg,e,Sg)}lookAt(e,t,r){const i=this.elements;return $e.subVectors(e,t),$e.lengthSq()===0&&($e.z=1),$e.normalize(),Vt.crossVectors(r,$e),Vt.lengthSq()===0&&(Math.abs(r.z)===1?$e.x+=1e-4:$e.z+=1e-4,$e.normalize(),Vt.crossVectors(r,$e)),Vt.normalize(),wi.crossVectors($e,Vt),i[0]=Vt.x,i[4]=wi.x,i[8]=$e.x,i[1]=Vt.y,i[5]=wi.y,i[9]=$e.y,i[2]=Vt.z,i[6]=wi.z,i[10]=$e.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[4],c=r[8],l=r[12],u=r[1],h=r[5],d=r[9],p=r[13],v=r[2],M=r[6],_=r[10],m=r[14],w=r[3],g=r[7],y=r[11],b=r[15],C=i[0],S=i[4],x=i[8],R=i[12],I=i[1],k=i[5],B=i[9],q=i[13],X=i[2],ge=i[6],ie=i[10],ye=i[14],Oe=i[3],Ve=i[7],ct=i[11],Qe=i[15];return s[0]=o*C+a*I+c*X+l*Oe,s[4]=o*S+a*k+c*ge+l*Ve,s[8]=o*x+a*B+c*ie+l*ct,s[12]=o*R+a*q+c*ye+l*Qe,s[1]=u*C+h*I+d*X+p*Oe,s[5]=u*S+h*k+d*ge+p*Ve,s[9]=u*x+h*B+d*ie+p*ct,s[13]=u*R+h*q+d*ye+p*Qe,s[2]=v*C+M*I+_*X+m*Oe,s[6]=v*S+M*k+_*ge+m*Ve,s[10]=v*x+M*B+_*ie+m*ct,s[14]=v*R+M*q+_*ye+m*Qe,s[3]=w*C+g*I+y*X+b*Oe,s[7]=w*S+g*k+y*ge+b*Ve,s[11]=w*x+g*B+y*ie+b*ct,s[15]=w*R+g*q+y*ye+b*Qe,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],c=e[9],l=e[13],u=e[2],h=e[6],d=e[10],p=e[14],v=e[3],M=e[7],_=e[11],m=e[15];return v*(+s*c*h-i*l*h-s*a*d+r*l*d+i*a*p-r*c*p)+M*(+t*c*p-t*l*d+s*o*d-i*o*p+i*l*u-s*c*u)+_*(+t*l*h-t*a*p-s*o*h+r*o*p+s*a*u-r*l*u)+m*(-i*a*u-t*c*h+t*a*d+i*o*h-r*o*d+r*c*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],c=e[6],l=e[7],u=e[8],h=e[9],d=e[10],p=e[11],v=e[12],M=e[13],_=e[14],m=e[15],w=h*_*l-M*d*l+M*c*p-a*_*p-h*c*m+a*d*m,g=v*d*l-u*_*l-v*c*p+o*_*p+u*c*m-o*d*m,y=u*M*l-v*h*l+v*a*p-o*M*p-u*a*m+o*h*m,b=v*h*c-u*M*c-v*a*d+o*M*d+u*a*_-o*h*_,C=t*w+r*g+i*y+s*b;if(C===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const S=1/C;return e[0]=w*S,e[1]=(M*d*s-h*_*s-M*i*p+r*_*p+h*i*m-r*d*m)*S,e[2]=(a*_*s-M*c*s+M*i*l-r*_*l-a*i*m+r*c*m)*S,e[3]=(h*c*s-a*d*s-h*i*l+r*d*l+a*i*p-r*c*p)*S,e[4]=g*S,e[5]=(u*_*s-v*d*s+v*i*p-t*_*p-u*i*m+t*d*m)*S,e[6]=(v*c*s-o*_*s-v*i*l+t*_*l+o*i*m-t*c*m)*S,e[7]=(o*d*s-u*c*s+u*i*l-t*d*l-o*i*p+t*c*p)*S,e[8]=y*S,e[9]=(v*h*s-u*M*s-v*r*p+t*M*p+u*r*m-t*h*m)*S,e[10]=(o*M*s-v*a*s+v*r*l-t*M*l-o*r*m+t*a*m)*S,e[11]=(u*a*s-o*h*s-u*r*l+t*h*l+o*r*p-t*a*p)*S,e[12]=b*S,e[13]=(u*M*i-v*h*i+v*r*d-t*M*d-u*r*_+t*h*_)*S,e[14]=(v*a*i-o*M*i-v*r*c+t*M*c+o*r*_-t*a*_)*S,e[15]=(o*h*i-u*a*i+u*r*c-t*h*c-o*r*d+t*a*d)*S,this}scale(e){const t=this.elements,r=e.x,i=e.y,s=e.z;return t[0]*=r,t[4]*=i,t[8]*=s,t[1]*=r,t[5]*=i,t[9]*=s,t[2]*=r,t[6]*=i,t[10]*=s,t[3]*=r,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),s=1-r,o=e.x,a=e.y,c=e.z,l=s*o,u=s*a;return this.set(l*o+r,l*a-i*c,l*c+i*a,0,l*a+i*c,u*a+r,u*c-i*o,0,l*c-i*a,u*c+i*o,s*c*c+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,s=t._x,o=t._y,a=t._z,c=t._w,l=s+s,u=o+o,h=a+a,d=s*l,p=s*u,v=s*h,M=o*u,_=o*h,m=a*h,w=c*l,g=c*u,y=c*h,b=r.x,C=r.y,S=r.z;return i[0]=(1-(M+m))*b,i[1]=(p+y)*b,i[2]=(v-g)*b,i[3]=0,i[4]=(p-y)*C,i[5]=(1-(d+m))*C,i[6]=(_+w)*C,i[7]=0,i[8]=(v+g)*S,i[9]=(_-w)*S,i[10]=(1-(d+M))*S,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let s=Rn.set(i[0],i[1],i[2]).length();const o=Rn.set(i[4],i[5],i[6]).length(),a=Rn.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],rt.copy(this);const l=1/s,u=1/o,h=1/a;return rt.elements[0]*=l,rt.elements[1]*=l,rt.elements[2]*=l,rt.elements[4]*=u,rt.elements[5]*=u,rt.elements[6]*=u,rt.elements[8]*=h,rt.elements[9]*=h,rt.elements[10]*=h,t.setFromRotationMatrix(rt),r.x=s,r.y=o,r.z=a,this}makePerspective(e,t,r,i,s,o){o===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const a=this.elements,c=2*s/(t-e),l=2*s/(r-i),u=(t+e)/(t-e),h=(r+i)/(r-i),d=-(o+s)/(o-s),p=-2*o*s/(o-s);return a[0]=c,a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=l,a[9]=h,a[13]=0,a[2]=0,a[6]=0,a[10]=d,a[14]=p,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,r,i,s,o){const a=this.elements,c=1/(t-e),l=1/(r-i),u=1/(o-s),h=(t+e)*c,d=(r+i)*l,p=(o+s)*u;return a[0]=2*c,a[4]=0,a[8]=0,a[12]=-h,a[1]=0,a[5]=2*l,a[9]=0,a[13]=-d,a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-p,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const Rn=new H,rt=new br,Cg=new H(0,0,0),Sg=new H(1,1,1),Vt=new H,wi=new H,$e=new H;class Il{constructor(e=0,t=0){this.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t,r){return r!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class wg{constructor(e=0,t=0,r=0,i=1){this.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*t+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*t+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*t+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,s;const o=.01,a=.1,c=e.elements,l=c[0],u=c[4],h=c[8],d=c[1],p=c[5],v=c[9],M=c[2],_=c[6],m=c[10];if(Math.abs(u-d)<o&&Math.abs(h-M)<o&&Math.abs(v-_)<o){if(Math.abs(u+d)<a&&Math.abs(h+M)<a&&Math.abs(v+_)<a&&Math.abs(l+p+m-3)<a)return this.set(1,0,0,0),this;t=Math.PI;const g=(l+1)/2,y=(p+1)/2,b=(m+1)/2,C=(u+d)/4,S=(h+M)/4,x=(v+_)/4;return g>y&&g>b?g<o?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(g),i=C/r,s=S/r):y>b?y<o?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(y),r=C/i,s=x/i):b<o?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(b),r=S/s,i=x/s),this.set(r,i,s,t),this}let w=Math.sqrt((_-v)*(_-v)+(h-M)*(h-M)+(d-u)*(d-u));return Math.abs(w)<.001&&(w=1),this.x=(_-v)/w,this.y=(h-M)/w,this.z=(d-u)/w,this.w=Math.acos((l+p+m-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t,r){return r!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Dl{constructor(e=new H(1/0,1/0,1/0),t=new H(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let c=0,l=e.length;c<l;c+=3){const u=e[c],h=e[c+1],d=e[c+2];u<t&&(t=u),h<r&&(r=h),d<i&&(i=d),u>s&&(s=u),h>o&&(o=h),d>a&&(a=d)}return this.min.set(t,r,i),this.max.set(s,o,a),this}setFromBufferAttribute(e){let t=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let c=0,l=e.count;c<l;c++){const u=e.getX(c),h=e.getY(c),d=e.getZ(c);u<t&&(t=u),h<r&&(r=h),d<i&&(i=d),u>s&&(s=u),h>o&&(o=h),d>a&&(a=d)}return this.min.set(t,r,i),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=sn.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0)if(t&&r.attributes!=null&&r.attributes.position!==void 0){const s=r.attributes.position;for(let o=0,a=s.count;o<a;o++)sn.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(sn)}else r.boundingBox===null&&r.computeBoundingBox(),so.copy(r.boundingBox),so.applyMatrix4(e.matrixWorld),this.union(so);const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,sn),sn.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Er),_i.subVectors(this.max,Er),An.subVectors(e.a,Er),Pn.subVectors(e.b,Er),Ln.subVectors(e.c,Er),Gt.subVectors(Pn,An),Ut.subVectors(Ln,Pn),on.subVectors(An,Ln);let t=[0,-Gt.z,Gt.y,0,-Ut.z,Ut.y,0,-on.z,on.y,Gt.z,0,-Gt.x,Ut.z,0,-Ut.x,on.z,0,-on.x,-Gt.y,Gt.x,0,-Ut.y,Ut.x,0,-on.y,on.x,0];return!oo(t,An,Pn,Ln,_i)||(t=[1,0,0,0,1,0,0,0,1],!oo(t,An,Pn,Ln,_i))?!1:(xi.crossVectors(Gt,Ut),t=[xi.x,xi.y,xi.z],oo(t,An,Pn,Ln,_i))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return sn.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(sn).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Rt[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Rt[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Rt[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Rt[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Rt[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Rt[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Rt[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Rt[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Rt),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Rt=[new H,new H,new H,new H,new H,new H,new H,new H],sn=new H,so=new Dl,An=new H,Pn=new H,Ln=new H,Gt=new H,Ut=new H,on=new H,Er=new H,_i=new H,xi=new H,an=new H;function oo(n,e,t,r,i){for(let s=0,o=n.length-3;s<=o;s+=3){an.fromArray(n,s);const a=i.x*Math.abs(an.x)+i.y*Math.abs(an.y)+i.z*Math.abs(an.z),c=e.dot(an),l=t.dot(an),u=r.dot(an);if(Math.max(-Math.max(c,l,u),Math.min(c,l,u))>a)return!1}return!0}const _g=new Dl,jl=new H,Oi=new H,ao=new H;class xg{constructor(e=new H,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):_g.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){ao.subVectors(e,this.center);const t=ao.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.add(ao.multiplyScalar(i/r)),this.radius+=i}return this}union(e){return this.center.equals(e.center)===!0?Oi.set(0,0,1).multiplyScalar(e.radius):Oi.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(jl.copy(e.center).add(Oi)),this.expandByPoint(jl.copy(e.center).sub(Oi)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}class Og{constructor(){this.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,t,r,i,s,o,a,c,l){const u=this.elements;return u[0]=e,u[1]=i,u[2]=a,u[3]=t,u[4]=s,u[5]=c,u[6]=r,u[7]=o,u[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[3],c=r[6],l=r[1],u=r[4],h=r[7],d=r[2],p=r[5],v=r[8],M=i[0],_=i[3],m=i[6],w=i[1],g=i[4],y=i[7],b=i[2],C=i[5],S=i[8];return s[0]=o*M+a*w+c*b,s[3]=o*_+a*g+c*C,s[6]=o*m+a*y+c*S,s[1]=l*M+u*w+h*b,s[4]=l*_+u*g+h*C,s[7]=l*m+u*y+h*S,s[2]=d*M+p*w+v*b,s[5]=d*_+p*g+v*C,s[8]=d*m+p*y+v*S,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],c=e[6],l=e[7],u=e[8];return t*o*u-t*a*l-r*s*u+r*a*c+i*s*l-i*o*c}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],c=e[6],l=e[7],u=e[8],h=u*o-a*l,d=a*c-u*s,p=l*s-o*c,v=t*h+r*d+i*p;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const M=1/v;return e[0]=h*M,e[1]=(i*l-u*r)*M,e[2]=(a*r-i*o)*M,e[3]=d*M,e[4]=(u*t-i*c)*M,e[5]=(i*s-a*t)*M,e[6]=p*M,e[7]=(r*c-l*t)*M,e[8]=(o*t-r*s)*M,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,s,o,a){const c=Math.cos(s),l=Math.sin(s);return this.set(r*c,r*l,-r*(c*o+l*a)+o+e,-i*l,i*c,-i*(-l*o+c*a)+a+t,0,0,1),this}scale(e,t){const r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=t,r[4]*=t,r[7]*=t,this}rotate(e){const t=Math.cos(e),r=Math.sin(e),i=this.elements,s=i[0],o=i[3],a=i[6],c=i[1],l=i[4],u=i[7];return i[0]=t*s+r*c,i[3]=t*o+r*l,i[6]=t*a+r*u,i[1]=-r*s+t*c,i[4]=-r*o+t*l,i[7]=-r*a+t*u,this}translate(e,t){const r=this.elements;return r[0]+=e*r[2],r[3]+=e*r[5],r[6]+=e*r[8],r[1]+=t*r[2],r[4]+=t*r[5],r[7]+=t*r[8],this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const lo=new H,Tg=new H,Rg=new Og;class In{constructor(e=new H(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=lo.subVectors(r,t).cross(Tg.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const r=e.delta(lo),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(r).multiplyScalar(s).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||Rg.getNormalMatrix(e),i=this.coplanarPoint(lo).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Dn=new xg,Ti=new H;class Ag{constructor(e=new In,t=new In,r=new In,i=new In,s=new In,o=new In){this.planes=[e,t,r,i,s,o]}set(e,t,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){const t=this.planes,r=e.elements,i=r[0],s=r[1],o=r[2],a=r[3],c=r[4],l=r[5],u=r[6],h=r[7],d=r[8],p=r[9],v=r[10],M=r[11],_=r[12],m=r[13],w=r[14],g=r[15];return t[0].setComponents(a-i,h-c,M-d,g-_).normalize(),t[1].setComponents(a+i,h+c,M+d,g+_).normalize(),t[2].setComponents(a+s,h+l,M+p,g+m).normalize(),t[3].setComponents(a-s,h-l,M-p,g-m).normalize(),t[4].setComponents(a-o,h-u,M-v,g-w).normalize(),t[5].setComponents(a+o,h+u,M+v,g+w).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),Dn.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Dn)}intersectsSprite(e){return Dn.center.set(0,0,0),Dn.radius=.7071067811865476,Dn.applyMatrix4(e.matrixWorld),this.intersectsSphere(Dn)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(Ti.x=i.normal.x>0?e.max.x:e.min.x,Ti.y=i.normal.y>0?e.max.y:e.min.y,Ti.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Ti)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const Nl=new br,zl=new H,kl=new H;class Pg{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Il(512,512),this.map=null,this.mapPass=null,this.matrix=new br,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Ag,this._frameExtents=new Il(1,1),this._viewportCount=1,this._viewports=[new wg(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;zl.setFromMatrixPosition(e.matrixWorld),t.position.copy(zl),kl.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(kl),t.updateMatrixWorld(),Nl.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Nl),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(t.projectionMatrix),r.multiply(t.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}const Lg="0.1.3-3";window.__THREE__||console.error("vis-three dependent on three.js module, pleace run 'npm i three' first.");window.__VIS__?console.warn("Duplicate vis-three frames are introduced"):window.__VIS__=Lg;ht.prototype.add=function(...n){if(!arguments.length)return this;if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}const e=n[0];if(e===this)return console.error("THREE.Object3D.add: object can't be added as a child of itself.",n),this;if(e&&e.isObject3D){if(e.parent!==null){const t=this.children.indexOf(e);t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent({type:"removed"}))}e.parent=this,this.children.push(e),e.dispatchEvent({type:"added"})}else console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",n);return this};const Ig=ht.prototype.add,Dg=ht.prototype.remove;ht.prototype.add=function(...n){return Ig.call(this,...n),this.dispatchEvent({type:"afterAdd",objects:n}),this};ht.prototype.remove=function(...n){return Dg.call(this,...n),this.dispatchEvent({type:"afterRemove",objects:n}),this};const co=new Pg(new tt(-256,256,256,-256));co.autoUpdate=!1;co.needsUpdate=!1;ar.prototype.shadow=co;var Kt={},re={exports:{}};(function(n){function e(t){return t&&t.__esModule?t:{default:t}}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(re);var Z={exports:{}},$l={};function uo(n){throw n}function Bl(n){}function ne(n,e,t,r){const i=n,s=new SyntaxError(String(i));return s.code=n,s.loc=e,s}const jn=Symbol(""),Nn=Symbol(""),Ri=Symbol(""),Mr=Symbol(""),ho=Symbol(""),Wt=Symbol(""),po=Symbol(""),fo=Symbol(""),Ai=Symbol(""),Pi=Symbol(""),zn=Symbol(""),Li=Symbol(""),mo=Symbol(""),Ii=Symbol(""),Cr=Symbol(""),Di=Symbol(""),ji=Symbol(""),Ni=Symbol(""),zi=Symbol(""),go=Symbol(""),yo=Symbol(""),Sr=Symbol(""),wr=Symbol(""),ki=Symbol(""),$i=Symbol(""),kn=Symbol(""),$n=Symbol(""),Bi=Symbol(""),Fi=Symbol(""),Fl=Symbol(""),Hi=Symbol(""),_r=Symbol(""),Hl=Symbol(""),Vl=Symbol(""),Vi=Symbol(""),Gl=Symbol(""),Ul=Symbol(""),Gi=Symbol(""),vo=Symbol(""),At={[jn]:"Fragment",[Nn]:"Teleport",[Ri]:"Suspense",[Mr]:"KeepAlive",[ho]:"BaseTransition",[Wt]:"openBlock",[po]:"createBlock",[fo]:"createElementBlock",[Ai]:"createVNode",[Pi]:"createElementVNode",[zn]:"createCommentVNode",[Li]:"createTextVNode",[mo]:"createStaticVNode",[Ii]:"resolveComponent",[Cr]:"resolveDynamicComponent",[Di]:"resolveDirective",[ji]:"resolveFilter",[Ni]:"withDirectives",[zi]:"renderList",[go]:"renderSlot",[yo]:"createSlots",[Sr]:"toDisplayString",[wr]:"mergeProps",[ki]:"normalizeClass",[$i]:"normalizeStyle",[kn]:"normalizeProps",[$n]:"guardReactiveProps",[Bi]:"toHandlers",[Fi]:"camelize",[Fl]:"capitalize",[Hi]:"toHandlerKey",[_r]:"setBlockTracking",[Hl]:"pushScopeId",[Vl]:"popScopeId",[Vi]:"withCtx",[Gl]:"unref",[Ul]:"isRef",[Gi]:"withMemo",[vo]:"isMemoSame"};function Kl(n){Object.getOwnPropertySymbols(n).forEach(e=>{At[e]=n[e]})}const ce={source:"",start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0}};function Wl(n,e=ce){return{type:0,children:n,helpers:[],components:[],directives:[],hoists:[],imports:[],cached:0,temps:0,codegenNode:void 0,loc:e}}function Bn(n,e,t,r,i,s,o,a=!1,c=!1,l=!1,u=ce){return n&&(a?(n.helper(Wt),n.helper(hn(n.inSSR,l))):n.helper(un(n.inSSR,l)),o&&n.helper(Ni)),{type:13,tag:e,props:t,children:r,patchFlag:i,dynamicProps:s,directives:o,isBlock:a,disableTracking:c,isComponent:l,loc:u}}function Fn(n,e=ce){return{type:17,loc:e,elements:n}}function Be(n,e=ce){return{type:15,loc:e,properties:n}}function se(n,e){return{type:16,loc:ce,key:he(n)?V(n,!0):n,value:e}}function V(n,e=!1,t=ce,r=0){return{type:4,loc:t,content:n,isStatic:e,constType:e?3:r}}function jg(n,e){return{type:5,loc:e,content:he(n)?V(n,!1,e):n}}function it(n,e=ce){return{type:8,loc:e,children:n}}function oe(n,e=[],t=ce){return{type:14,loc:t,callee:n,arguments:e}}function ln(n,e=void 0,t=!1,r=!1,i=ce){return{type:18,params:n,returns:e,newline:t,isSlot:r,loc:i}}function Ui(n,e,t,r=!0){return{type:19,test:n,consequent:e,alternate:t,newline:r,loc:ce}}function ql(n,e,t=!1){return{type:20,index:n,value:e,isVNode:t,loc:ce}}function Yl(n){return{type:21,body:n,loc:ce}}function Ng(n){return{type:22,elements:n,loc:ce}}function zg(n,e,t){return{type:23,test:n,consequent:e,alternate:t,loc:ce}}function kg(n,e){return{type:24,left:n,right:e,loc:ce}}function $g(n){return{type:25,expressions:n,loc:ce}}function Bg(n){return{type:26,returns:n,loc:ce}}const Pe=n=>n.type===4&&n.isStatic,cn=(n,e)=>n===e||n===Ah(e);function bo(n){if(cn(n,"Teleport"))return Nn;if(cn(n,"Suspense"))return Ri;if(cn(n,"KeepAlive"))return Mr;if(cn(n,"BaseTransition"))return ho}const Fg=/^\d|[^\$\w]/,xr=n=>!Fg.test(n),Hg=/[A-Za-z_$\xA0-\uFFFF]/,Vg=/[\.\?\w$\xA0-\uFFFF]/,Gg=/\s+[.[]\s*|\s*[.[]\s+/g,Xl=n=>{n=n.trim().replace(Gg,o=>o.trim());let e=0,t=[],r=0,i=0,s=null;for(let o=0;o<n.length;o++){const a=n.charAt(o);switch(e){case 0:if(a==="[")t.push(e),e=1,r++;else if(a==="(")t.push(e),e=2,i++;else if(!(o===0?Hg:Vg).test(a))return!1;break;case 1:a==="'"||a==='"'||a==="`"?(t.push(e),e=3,s=a):a==="["?r++:a==="]"&&(--r||(e=t.pop()));break;case 2:if(a==="'"||a==='"'||a==="`")t.push(e),e=3,s=a;else if(a==="(")i++;else if(a===")"){if(o===n.length-1)return!1;--i||(e=t.pop())}break;case 3:a===s&&(e=t.pop(),s=null);break}}return!r&&!i},Ug=Is,Eo=Xl;function Mo(n,e,t){const i={source:n.source.slice(e,e+t),start:Or(n.start,n.source,e),end:n.end};return t!=null&&(i.end=Or(n.start,n.source,e+t)),i}function Or(n,e,t=e.length){return Tr(Ct({},n),e,t)}function Tr(n,e,t=e.length){let r=0,i=-1;for(let s=0;s<t;s++)e.charCodeAt(s)===10&&(r++,i=s);return n.offset+=t,n.line+=r,n.column=i===-1?n.column+t:t-i,n}function Kg(n,e){if(!n)throw new Error(e||"unexpected compiler condition")}function Ne(n,e,t=!1){for(let r=0;r<n.props.length;r++){const i=n.props[r];if(i.type===7&&(t||i.exp)&&(he(e)?i.name===e:e.test(i.name)))return i}}function Hn(n,e,t=!1,r=!1){for(let i=0;i<n.props.length;i++){const s=n.props[i];if(s.type===6){if(t)continue;if(s.name===e&&(s.value||r))return s}else if(s.name==="bind"&&(s.exp||r)&&Rr(s.arg,e))return s}}function Rr(n,e){return!!(n&&Pe(n)&&n.content===e)}function Zl(n){return n.props.some(e=>e.type===7&&e.name==="bind"&&(!e.arg||e.arg.type!==4||!e.arg.isStatic))}function Ki(n){return n.type===5||n.type===2}function Co(n){return n.type===7&&n.name==="slot"}function Vn(n){return n.type===1&&n.tagType===3}function Ar(n){return n.type===1&&n.tagType===2}function un(n,e){return n||e?Ai:Pi}function hn(n,e){return n||e?po:fo}const Wg=new Set([kn,$n]);function Ql(n,e=[]){if(n&&!he(n)&&n.type===14){const t=n.callee;if(!he(t)&&Wg.has(t))return Ql(n.arguments[0],e.concat(n))}return[n,e]}function Pr(n,e,t){let r,s=n.type===13?n.props:n.arguments[2],o=[],a;if(s&&!he(s)&&s.type===14){const c=Ql(s);s=c[0],o=c[1],a=o[o.length-1]}if(s==null||he(s))r=Be([e]);else if(s.type===14){const c=s.arguments[0];!he(c)&&c.type===15?c.properties.unshift(e):s.callee===Bi?r=oe(t.helper(wr),[Be([e]),s]):s.arguments.unshift(Be([e])),!r&&(r=s)}else if(s.type===15){let c=!1;if(e.key.type===4){const l=e.key.content;c=s.properties.some(u=>u.key.type===4&&u.key.content===l)}c||s.properties.unshift(e),r=s}else r=oe(t.helper(wr),[Be([e]),s]),a&&a.callee===$n&&(a=o[o.length-2]);n.type===13?a?a.arguments[0]=r:n.props=r:a?a.arguments[0]=r:n.arguments[2]=r}function Gn(n,e){return`_${e}_${n.replace(/[^\w]/g,(t,r)=>t==="-"?"_":n.charCodeAt(r).toString())}`}function st(n,e){if(!n||Object.keys(e).length===0)return!1;switch(n.type){case 1:for(let t=0;t<n.props.length;t++){const r=n.props[t];if(r.type===7&&(st(r.arg,e)||st(r.exp,e)))return!0}return n.children.some(t=>st(t,e));case 11:return st(n.source,e)?!0:n.children.some(t=>st(t,e));case 9:return n.branches.some(t=>st(t,e));case 10:return st(n.condition,e)?!0:n.children.some(t=>st(t,e));case 4:return!n.isStatic&&xr(n.content)&&!!e[n.content];case 8:return n.children.some(t=>La(t)&&st(t,e));case 5:case 12:return st(n.content,e);case 2:case 3:return!1;default:return!1}}function Jl(n){return n.type===14&&n.callee===Gi?n.arguments[1].returns:n}function Wi(n,{helper:e,removeHelper:t,inSSR:r}){n.isBlock||(n.isBlock=!0,t(un(r,n.isComponent)),e(Wt),e(hn(r,n.isComponent)))}const qg={COMPILER_IS_ON_ELEMENT:{message:'Platform-native elements with "is" prop will no longer be treated as components in Vue 3 unless the "is" value is explicitly prefixed with "vue:".',link:"https://v3.vuejs.org/guide/migration/custom-elements-interop.html"},COMPILER_V_BIND_SYNC:{message:n=>`.sync modifier for v-bind has been removed. Use v-model with argument instead. \`v-bind:${n}.sync\` should be changed to \`v-model:${n}\`.`,link:"https://v3.vuejs.org/guide/migration/v-model.html"},COMPILER_V_BIND_PROP:{message:".prop modifier for v-bind has been removed and no longer necessary. Vue 3 will automatically set a binding as DOM property when appropriate."},COMPILER_V_BIND_OBJECT_ORDER:{message:'v-bind="obj" usage is now order sensitive and behaves like JavaScript object spread: it will now overwrite an existing non-mergeable attribute that appears before v-bind in the case of conflict. To retain 2.x behavior, move v-bind to make it the first attribute. You can also suppress this warning if the usage is intended.',link:"https://v3.vuejs.org/guide/migration/v-bind.html"},COMPILER_V_ON_NATIVE:{message:".native modifier for v-on has been removed as is no longer necessary.",link:"https://v3.vuejs.org/guide/migration/v-on-native-modifier-removed.html"},COMPILER_V_IF_V_FOR_PRECEDENCE:{message:"v-if / v-for precedence when used on the same element has changed in Vue 3: v-if now takes higher precedence and will no longer have access to v-for scope variables. It is best to avoid the ambiguity with <template> tags or use a computed property that filters v-for data source.",link:"https://v3.vuejs.org/guide/migration/v-if-v-for.html"},COMPILER_V_FOR_REF:{message:"Ref usage on v-for no longer creates array ref values in Vue 3. Consider using function refs or refactor to avoid ref usage altogether.",link:"https://v3.vuejs.org/guide/migration/array-refs.html"},COMPILER_NATIVE_TEMPLATE:{message:"<template> with no special directives will render as a native template element instead of its inner content in Vue 3."},COMPILER_INLINE_TEMPLATE:{message:'"inline-template" has been removed in Vue 3.',link:"https://v3.vuejs.org/guide/migration/inline-template-attribute.html"},COMPILER_FILTER:{message:'filters have been removed in Vue 3. The "|" symbol will be treated as native JavaScript bitwise OR operator. Use method calls or computed properties instead.',link:"https://v3.vuejs.org/guide/migration/filters.html"}};function So(n,e){const t=e.options?e.options.compatConfig:e.compatConfig,r=t&&t[n];return n==="MODE"?r||3:r}function dn(n,e){const t=So("MODE",e),r=So(n,e);return t===3?r===!0:r!==!1}function pn(n,e,t,...r){return dn(n,e)}function Yg(n,e,t,...r){if(So(n,e)==="suppress-warning")return;const{message:s,link:o}=qg[n],a=`(deprecation ${n}) ${typeof s=="function"?s(...r):s}${o?`
  Details: ${o}`:""}`,c=new SyntaxError(a);c.code=n,t&&(c.loc=t),e.onWarn(c)}const Xg=/&(gt|lt|amp|apos|quot);/g,Zg={gt:">",lt:"<",amp:"&",apos:"'",quot:'"'},ec={delimiters:["{{","}}"],getNamespace:()=>0,getTextMode:()=>0,isVoidTag:Ns,isPreTag:Ns,isCustomElement:Ns,decodeEntities:n=>n.replace(Xg,(e,t)=>Zg[t]),onError:uo,onWarn:Bl,comments:!1};function wo(n,e={}){const t=Qg(n,e),r=Fe(t);return Wl(_o(t,0,[]),Ue(t,r))}function Qg(n,e){const t=Ct({},ec);let r;for(r in e)t[r]=e[r]===void 0?ec[r]:e[r];return{options:t,column:1,line:1,offset:0,originalSource:n,source:n,inPre:!1,inVPre:!1,onWarn:t.onWarn}}function _o(n,e,t){const r=qi(t),i=r?r.ns:0,s=[];for(;!ay(n,e,t);){const a=n.source;let c;if(e===0||e===1){if(!n.inVPre&&Ce(a,n.options.delimiters[0]))c=sy(n,e);else if(e===0&&a[0]==="<")if(a.length===1)Y(n,5,1);else if(a[1]==="!")Ce(a,"<!--")?c=ey(n):Ce(a,"<!DOCTYPE")?c=Lr(n):Ce(a,"<![CDATA[")?i!==0?c=Jg(n,t):(Y(n,1),c=Lr(n)):(Y(n,11),c=Lr(n));else if(a[1]==="/")if(a.length===2)Y(n,5,2);else if(a[2]===">"){Y(n,14,2),ue(n,3);continue}else if(/[a-z]/i.test(a[2])){Y(n,23),xo(n,1,r);continue}else Y(n,12,2),c=Lr(n);else/[a-z]/i.test(a[1])?(c=ty(n,t),dn("COMPILER_NATIVE_TEMPLATE",n)&&c&&c.tag==="template"&&!c.props.some(l=>l.type===7&&nc(l.name))&&(c=c.children)):a[1]==="?"?(Y(n,21,1),c=Lr(n)):Y(n,12,1)}if(c||(c=oy(n,e)),vn(c))for(let l=0;l<c.length;l++)tc(s,c[l]);else tc(s,c)}let o=!1;if(e!==2&&e!==1){const a=n.options.whitespace!=="preserve";for(let c=0;c<s.length;c++){const l=s[c];if(!n.inPre&&l.type===2)if(/[^\t\r\n\f ]/.test(l.content))a&&(l.content=l.content.replace(/[\t\r\n\f ]+/g," "));else{const u=s[c-1],h=s[c+1];!u||!h||a&&(u.type===3||h.type===3||u.type===1&&h.type===1&&/[\r\n]/.test(l.content))?(o=!0,s[c]=null):l.content=" "}else l.type===3&&!n.options.comments&&(o=!0,s[c]=null)}if(n.inPre&&r&&n.options.isPreTag(r.tag)){const c=s[0];c&&c.type===2&&(c.content=c.content.replace(/^\r?\n/,""))}}return o?s.filter(Boolean):s}function tc(n,e){if(e.type===2){const t=qi(n);if(t&&t.type===2&&t.loc.end.offset===e.loc.start.offset){t.content+=e.content,t.loc.end=e.loc.end,t.loc.source+=e.loc.source;return}}n.push(e)}function Jg(n,e){ue(n,9);const t=_o(n,3,e);return n.source.length===0?Y(n,6):ue(n,3),t}function ey(n){const e=Fe(n);let t;const r=/--(\!)?>/.exec(n.source);if(!r)t=n.source.slice(4),ue(n,n.source.length),Y(n,7);else{r.index<=3&&Y(n,0),r[1]&&Y(n,10),t=n.source.slice(4,r.index);const i=n.source.slice(0,r.index);let s=1,o=0;for(;(o=i.indexOf("<!--",s))!==-1;)ue(n,o-s+1),o+4<i.length&&Y(n,16),s=o+1;ue(n,r.index+r[0].length-s+1)}return{type:3,content:t,loc:Ue(n,e)}}function Lr(n){const e=Fe(n),t=n.source[1]==="?"?1:2;let r;const i=n.source.indexOf(">");return i===-1?(r=n.source.slice(t),ue(n,n.source.length)):(r=n.source.slice(t,i),ue(n,i+1)),{type:3,content:r,loc:Ue(n,e)}}function ty(n,e){const t=n.inPre,r=n.inVPre,i=qi(e),s=xo(n,0,i),o=n.inPre&&!t,a=n.inVPre&&!r;if(s.isSelfClosing||n.options.isVoidTag(s.tag))return o&&(n.inPre=!1),a&&(n.inVPre=!1),s;e.push(s);const c=n.options.getTextMode(s,i),l=_o(n,c,e);e.pop();{const u=s.props.find(h=>h.type===6&&h.name==="inline-template");if(u&&pn("COMPILER_INLINE_TEMPLATE",n,u.loc)){const h=Ue(n,s.loc.end);u.value={type:2,content:h.source,loc:h}}}if(s.children=l,Oo(n.source,s.tag))xo(n,1,i);else if(Y(n,24,0,s.loc.start),n.source.length===0&&s.tag.toLowerCase()==="script"){const u=l[0];u&&Ce(u.loc.source,"<!--")&&Y(n,8)}return s.loc=Ue(n,s.loc.start),o&&(n.inPre=!1),a&&(n.inVPre=!1),s}const nc=bn("if,else,else-if,for,slot");function xo(n,e,t){const r=Fe(n),i=/^<\/?([a-z][^\t\r\n\f />]*)/i.exec(n.source),s=i[1],o=n.options.getNamespace(s,t);ue(n,i[0].length),Dr(n);const a=Fe(n),c=n.source;n.options.isPreTag(s)&&(n.inPre=!0);let l=rc(n,e);e===0&&!n.inVPre&&l.some(d=>d.type===7&&d.name==="pre")&&(n.inVPre=!0,Ct(n,a),n.source=c,l=rc(n,e).filter(d=>d.name!=="v-pre"));let u=!1;if(n.source.length===0?Y(n,9):(u=Ce(n.source,"/>"),e===1&&u&&Y(n,4),ue(n,u?2:1)),e===1)return;let h=0;return n.inVPre||(s==="slot"?h=2:s==="template"?l.some(d=>d.type===7&&nc(d.name))&&(h=3):ny(s,l,n)&&(h=1)),{type:1,ns:o,tag:s,tagType:h,props:l,isSelfClosing:u,children:[],loc:Ue(n,r),codegenNode:void 0}}function ny(n,e,t){const r=t.options;if(r.isCustomElement(n))return!1;if(n==="component"||/^[A-Z]/.test(n)||bo(n)||r.isBuiltInComponent&&r.isBuiltInComponent(n)||r.isNativeTag&&!r.isNativeTag(n))return!0;for(let i=0;i<e.length;i++){const s=e[i];if(s.type===6){if(s.name==="is"&&s.value){if(s.value.content.startsWith("vue:"))return!0;if(pn("COMPILER_IS_ON_ELEMENT",t,s.loc))return!0}}else{if(s.name==="is")return!0;if(s.name==="bind"&&Rr(s.arg,"is")&&!0&&pn("COMPILER_IS_ON_ELEMENT",t,s.loc))return!0}}}function rc(n,e){const t=[],r=new Set;for(;n.source.length>0&&!Ce(n.source,">")&&!Ce(n.source,"/>");){if(Ce(n.source,"/")){Y(n,22),ue(n,1),Dr(n);continue}e===1&&Y(n,3);const i=ry(n,r);i.type===6&&i.value&&i.name==="class"&&(i.value.content=i.value.content.replace(/\s+/g," ").trim()),e===0&&t.push(i),/^[^\t\r\n\f />]/.test(n.source)&&Y(n,15),Dr(n)}return t}function ry(n,e){const t=Fe(n),i=/^[^\t\r\n\f />][^\t\r\n\f />=]*/.exec(n.source)[0];e.has(i)&&Y(n,2),e.add(i),i[0]==="="&&Y(n,19);{const a=/["'<]/g;let c;for(;c=a.exec(i);)Y(n,17,c.index)}ue(n,i.length);let s;/^[\t\r\n\f ]*=/.test(n.source)&&(Dr(n),ue(n,1),Dr(n),s=iy(n),s||Y(n,13));const o=Ue(n,t);if(!n.inVPre&&/^(v-[A-Za-z0-9-]|:|\.|@|#)/.test(i)){const a=/(?:^v-([a-z0-9-]+))?(?:(?::|^\.|^@|^#)(\[[^\]]+\]|[^\.]+))?(.+)?$/i.exec(i);let c=Ce(i,"."),l=a[1]||(c||Ce(i,":")?"bind":Ce(i,"@")?"on":"slot"),u;if(a[2]){const d=l==="slot",p=i.lastIndexOf(a[2]),v=Ue(n,ic(n,t,p),ic(n,t,p+a[2].length+(d&&a[3]||"").length));let M=a[2],_=!0;M.startsWith("[")?(_=!1,M.endsWith("]")?M=M.slice(1,M.length-1):(Y(n,27),M=M.slice(1))):d&&(M+=a[3]||""),u={type:4,content:M,isStatic:_,constType:_?3:0,loc:v}}if(s&&s.isQuoted){const d=s.loc;d.start.offset++,d.start.column++,d.end=Or(d.start,s.content),d.source=d.source.slice(1,-1)}const h=a[3]?a[3].slice(1).split("."):[];return c&&h.push("prop"),l==="bind"&&u&&h.includes("sync")&&pn("COMPILER_V_BIND_SYNC",n,o,u.loc.source)&&(l="model",h.splice(h.indexOf("sync"),1)),{type:7,name:l,exp:s&&{type:4,content:s.content,isStatic:!1,constType:0,loc:s.loc},arg:u,modifiers:h,loc:o}}return!n.inVPre&&Ce(i,"v-")&&Y(n,26),{type:6,name:i,value:s&&{type:2,content:s.content,loc:s.loc},loc:o}}function iy(n){const e=Fe(n);let t;const r=n.source[0],i=r==='"'||r==="'";if(i){ue(n,1);const s=n.source.indexOf(r);s===-1?t=Ir(n,n.source.length,4):(t=Ir(n,s,4),ue(n,1))}else{const s=/^[^\t\r\n\f >]+/.exec(n.source);if(!s)return;const o=/["'<=`]/g;let a;for(;a=o.exec(s[0]);)Y(n,18,a.index);t=Ir(n,s[0].length,4)}return{content:t,isQuoted:i,loc:Ue(n,e)}}function sy(n,e){const[t,r]=n.options.delimiters,i=n.source.indexOf(r,t.length);if(i===-1){Y(n,25);return}const s=Fe(n);ue(n,t.length);const o=Fe(n),a=Fe(n),c=i-t.length,l=n.source.slice(0,c),u=Ir(n,c,e),h=u.trim(),d=u.indexOf(h);d>0&&Tr(o,l,d);const p=c-(u.length-h.length-d);return Tr(a,l,p),ue(n,r.length),{type:5,content:{type:4,isStatic:!1,constType:0,content:h,loc:Ue(n,o,a)},loc:Ue(n,s)}}function oy(n,e){const t=e===3?["]]>"]:["<",n.options.delimiters[0]];let r=n.source.length;for(let o=0;o<t.length;o++){const a=n.source.indexOf(t[o],1);a!==-1&&r>a&&(r=a)}const i=Fe(n),s=Ir(n,r,e);return{type:2,content:s,loc:Ue(n,i)}}function Ir(n,e,t){const r=n.source.slice(0,e);return ue(n,e),t===2||t===3||r.indexOf("&")===-1?r:n.options.decodeEntities(r,t===4)}function Fe(n){const{column:e,line:t,offset:r}=n;return{column:e,line:t,offset:r}}function Ue(n,e,t){return t=t||Fe(n),{start:e,end:t,source:n.originalSource.slice(e.offset,t.offset)}}function qi(n){return n[n.length-1]}function Ce(n,e){return n.startsWith(e)}function ue(n,e){const{source:t}=n;Tr(n,t,e),n.source=t.slice(e)}function Dr(n){const e=/^[\t\r\n\f ]+/.exec(n.source);e&&ue(n,e[0].length)}function ic(n,e,t){return Or(e,n.originalSource.slice(e.offset,t),t)}function Y(n,e,t,r=Fe(n)){t&&(r.offset+=t,r.column+=t),n.options.onError(ne(e,{start:r,end:r,source:""}))}function ay(n,e,t){const r=n.source;switch(e){case 0:if(Ce(r,"</")){for(let i=t.length-1;i>=0;--i)if(Oo(r,t[i].tag))return!0}break;case 1:case 2:{const i=qi(t);if(i&&Oo(r,i.tag))return!0;break}case 3:if(Ce(r,"]]>"))return!0;break}return!r}function Oo(n,e){return Ce(n,"</")&&n.slice(2,2+e.length).toLowerCase()===e.toLowerCase()&&/[\t\r\n\f />]/.test(n[2+e.length]||">")}function ly(n,e){Yi(n,e,sc(n,n.children[0]))}function sc(n,e){const{children:t}=n;return t.length===1&&e.type===1&&!Ar(e)}function Yi(n,e,t=!1){let r=!0;const{children:i}=n,s=i.length;let o=0;for(let a=0;a<i.length;a++){const c=i[a];if(c.type===1&&c.tagType===0){const l=t?0:Ke(c,e);if(l>0){if(l<3&&(r=!1),l>=2){c.codegenNode.patchFlag=-1+"",c.codegenNode=e.hoist(c.codegenNode),o++;continue}}else{const u=c.codegenNode;if(u.type===13){const h=cc(u);if((!h||h===512||h===1)&&ac(c,e)>=2){const d=lc(c);d&&(u.props=e.hoist(d))}u.dynamicProps&&(u.dynamicProps=e.hoist(u.dynamicProps))}}}else if(c.type===12){const l=Ke(c.content,e);l>0&&(l<3&&(r=!1),l>=2&&(c.codegenNode=e.hoist(c.codegenNode),o++))}if(c.type===1){const l=c.tagType===1;l&&e.scopes.vSlot++,Yi(c,e),l&&e.scopes.vSlot--}else if(c.type===11)Yi(c,e,c.children.length===1);else if(c.type===9)for(let l=0;l<c.branches.length;l++)Yi(c.branches[l],e,c.branches[l].children.length===1)}r&&o&&e.transformHoist&&e.transformHoist(i,e,n),o&&o===s&&n.type===1&&n.tagType===0&&n.codegenNode&&n.codegenNode.type===13&&vn(n.codegenNode.children)&&(n.codegenNode.children=e.hoist(Fn(n.codegenNode.children)))}function Ke(n,e){const{constantCache:t}=e;switch(n.type){case 1:if(n.tagType!==0)return 0;const r=t.get(n);if(r!==void 0)return r;const i=n.codegenNode;if(i.type!==13)return 0;if(cc(i))return t.set(n,0),0;{let a=3;const c=ac(n,e);if(c===0)return t.set(n,0),0;c<a&&(a=c);for(let l=0;l<n.children.length;l++){const u=Ke(n.children[l],e);if(u===0)return t.set(n,0),0;u<a&&(a=u)}if(a>1)for(let l=0;l<n.props.length;l++){const u=n.props[l];if(u.type===7&&u.name==="bind"&&u.exp){const h=Ke(u.exp,e);if(h===0)return t.set(n,0),0;h<a&&(a=h)}}return i.isBlock&&(e.removeHelper(Wt),e.removeHelper(hn(e.inSSR,i.isComponent)),i.isBlock=!1,e.helper(un(e.inSSR,i.isComponent))),t.set(n,a),a}case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return Ke(n.content,e);case 4:return n.constType;case 8:let o=3;for(let a=0;a<n.children.length;a++){const c=n.children[a];if(he(c)||js(c))continue;const l=Ke(c,e);if(l===0)return 0;l<o&&(o=l)}return o;default:return 0}}const cy=new Set([ki,$i,kn,$n]);function oc(n,e){if(n.type===14&&!he(n.callee)&&cy.has(n.callee)){const t=n.arguments[0];if(t.type===4)return Ke(t,e);if(t.type===14)return oc(t,e)}return 0}function ac(n,e){let t=3;const r=lc(n);if(r&&r.type===15){const{properties:i}=r;for(let s=0;s<i.length;s++){const{key:o,value:a}=i[s],c=Ke(o,e);if(c===0)return c;c<t&&(t=c);let l;if(a.type===4?l=Ke(a,e):a.type===14?l=oc(a,e):l=0,l===0)return l;l<t&&(t=l)}}return t}function lc(n){const e=n.codegenNode;if(e.type===13)return e.props}function cc(n){const e=n.patchFlag;return e?parseInt(e,10):void 0}function uc(n,{filename:e="",prefixIdentifiers:t=!1,hoistStatic:r=!1,cacheHandlers:i=!1,nodeTransforms:s=[],directiveTransforms:o={},transformHoist:a=null,isBuiltInComponent:c=Is,isCustomElement:l=Is,expressionPlugins:u=[],scopeId:h=null,slotted:d=!0,ssr:p=!1,inSSR:v=!1,ssrCssVars:M="",bindingMetadata:_=Ph,inline:m=!1,isTS:w=!1,onError:g=uo,onWarn:y=Bl,compatConfig:b}){const C=e.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),S={selfName:C&&Ia(Ds(C[1])),prefixIdentifiers:t,hoistStatic:r,cacheHandlers:i,nodeTransforms:s,directiveTransforms:o,transformHoist:a,isBuiltInComponent:c,isCustomElement:l,expressionPlugins:u,scopeId:h,slotted:d,ssr:p,inSSR:v,ssrCssVars:M,bindingMetadata:_,inline:m,isTS:w,onError:g,onWarn:y,compatConfig:b,root:n,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],constantCache:new Map,temps:0,cached:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,currentNode:n,childIndex:0,inVOnce:!1,helper(x){const R=S.helpers.get(x)||0;return S.helpers.set(x,R+1),x},removeHelper(x){const R=S.helpers.get(x);if(R){const I=R-1;I?S.helpers.set(x,I):S.helpers.delete(x)}},helperString(x){return`_${At[S.helper(x)]}`},replaceNode(x){S.parent.children[S.childIndex]=S.currentNode=x},removeNode(x){const R=S.parent.children,I=x?R.indexOf(x):S.currentNode?S.childIndex:-1;!x||x===S.currentNode?(S.currentNode=null,S.onNodeRemoved()):S.childIndex>I&&(S.childIndex--,S.onNodeRemoved()),S.parent.children.splice(I,1)},onNodeRemoved:()=>{},addIdentifiers(x){},removeIdentifiers(x){},hoist(x){he(x)&&(x=V(x)),S.hoists.push(x);const R=V(`_hoisted_${S.hoists.length}`,!1,x.loc,2);return R.hoisted=x,R},cache(x,R=!1){return ql(S.cached++,x,R)}};return S.filters=new Set,S}function hc(n,e){const t=uc(n,e);jr(n,t),e.hoistStatic&&ly(n,t),e.ssr||uy(n,t),n.helpers=[...t.helpers.keys()],n.components=[...t.components],n.directives=[...t.directives],n.imports=t.imports,n.hoists=t.hoists,n.temps=t.temps,n.cached=t.cached,n.filters=[...t.filters]}function uy(n,e){const{helper:t}=e,{children:r}=n;if(r.length===1){const i=r[0];if(sc(n,i)&&i.codegenNode){const s=i.codegenNode;s.type===13&&Wi(s,e),n.codegenNode=s}else n.codegenNode=i}else if(r.length>1){let i=64;Da[64],n.codegenNode=Bn(e,t(jn),void 0,n.children,i+"",void 0,void 0,!0,void 0,!1)}}function hy(n,e){let t=0;const r=()=>{t--};for(;t<n.children.length;t++){const i=n.children[t];he(i)||(e.parent=n,e.childIndex=t,e.onNodeRemoved=r,jr(i,e))}}function jr(n,e){e.currentNode=n;const{nodeTransforms:t}=e,r=[];for(let s=0;s<t.length;s++){const o=t[s](n,e);if(o&&(vn(o)?r.push(...o):r.push(o)),e.currentNode)n=e.currentNode;else return}switch(n.type){case 3:e.ssr||e.helper(zn);break;case 5:e.ssr||e.helper(Sr);break;case 9:for(let s=0;s<n.branches.length;s++)jr(n.branches[s],e);break;case 10:case 11:case 1:case 0:hy(n,e);break}e.currentNode=n;let i=r.length;for(;i--;)r[i]()}function To(n,e){const t=he(n)?r=>r===n:r=>n.test(r);return(r,i)=>{if(r.type===1){const{props:s}=r;if(r.tagType===3&&s.some(Co))return;const o=[];for(let a=0;a<s.length;a++){const c=s[a];if(c.type===7&&t(c.name)){s.splice(a,1),a--;const l=e(r,c,i);l&&o.push(l)}}return o}}}const Xi="/*#__PURE__*/";function dy(n,{mode:e="function",prefixIdentifiers:t=e==="module",sourceMap:r=!1,filename:i="template.vue.html",scopeId:s=null,optimizeImports:o=!1,runtimeGlobalName:a="Vue",runtimeModuleName:c="vue",ssrRuntimeModuleName:l="vue/server-renderer",ssr:u=!1,isTS:h=!1,inSSR:d=!1}){const p={mode:e,prefixIdentifiers:t,sourceMap:r,filename:i,scopeId:s,optimizeImports:o,runtimeGlobalName:a,runtimeModuleName:c,ssrRuntimeModuleName:l,ssr:u,isTS:h,inSSR:d,source:n.loc.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(M){return`_${At[M]}`},push(M,_){p.code+=M},indent(){v(++p.indentLevel)},deindent(M=!1){M?--p.indentLevel:v(--p.indentLevel)},newline(){v(p.indentLevel)}};function v(M){p.push(`
`+"  ".repeat(M))}return p}function dc(n,e={}){const t=dy(n,e);e.onContextCreated&&e.onContextCreated(t);const{mode:r,push:i,prefixIdentifiers:s,indent:o,deindent:a,newline:c,scopeId:l,ssr:u}=t,h=n.helpers.length>0,d=!s&&r!=="module";py(n,t);const v=u?"ssrRender":"render",_=(u?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(i(`function ${v}(${_}) {`),o(),d&&(i("with (_ctx) {"),o(),h&&(i(`const { ${n.helpers.map(m=>`${At[m]}: _${At[m]}`).join(", ")} } = _Vue`),i(`
`),c())),n.components.length&&(Ro(n.components,"component",t),(n.directives.length||n.temps>0)&&c()),n.directives.length&&(Ro(n.directives,"directive",t),n.temps>0&&c()),n.filters&&n.filters.length&&(c(),Ro(n.filters,"filter",t),c()),n.temps>0){i("let ");for(let m=0;m<n.temps;m++)i(`${m>0?", ":""}_temp${m}`)}return(n.components.length||n.directives.length||n.temps)&&(i(`
`),c()),u||i("return "),n.codegenNode?Se(n.codegenNode,t):i("null"),d&&(a(),i("}")),a(),i("}"),{ast:n,code:t.code,preamble:"",map:t.map?t.map.toJSON():void 0}}function py(n,e){const{ssr:t,prefixIdentifiers:r,push:i,newline:s,runtimeModuleName:o,runtimeGlobalName:a,ssrRuntimeModuleName:c}=e,l=a,u=h=>`${At[h]}: _${At[h]}`;if(n.helpers.length>0&&(i(`const _Vue = ${l}
`),n.hoists.length)){const h=[Ai,Pi,zn,Li,mo].filter(d=>n.helpers.includes(d)).map(u).join(", ");i(`const { ${h} } = _Vue
`)}fy(n.hoists,e),s(),i("return ")}function Ro(n,e,{helper:t,push:r,newline:i,isTS:s}){const o=t(e==="filter"?ji:e==="component"?Ii:Di);for(let a=0;a<n.length;a++){let c=n[a];const l=c.endsWith("__self");l&&(c=c.slice(0,-6)),r(`const ${Gn(c,e)} = ${o}(${JSON.stringify(c)}${l?", true":""})${s?"!":""}`),a<n.length-1&&i()}}function fy(n,e){if(!n.length)return;e.pure=!0;const{push:t,newline:r,helper:i,scopeId:s,mode:o}=e;r();for(let a=0;a<n.length;a++){const c=n[a];c&&(t(`const _hoisted_${a+1} = `),Se(c,e),r())}e.pure=!1}function Ao(n,e){const t=n.length>3||!1;e.push("["),t&&e.indent(),Nr(n,e,t),t&&e.deindent(),e.push("]")}function Nr(n,e,t=!1,r=!0){const{push:i,newline:s}=e;for(let o=0;o<n.length;o++){const a=n[o];he(a)?i(a):vn(a)?Ao(a,e):Se(a,e),o<n.length-1&&(t?(r&&i(","),s()):r&&i(", "))}}function Se(n,e){if(he(n)){e.push(n);return}if(js(n)){e.push(e.helper(n));return}switch(n.type){case 1:case 9:case 11:Se(n.codegenNode,e);break;case 2:my(n,e);break;case 4:pc(n,e);break;case 5:gy(n,e);break;case 12:Se(n.codegenNode,e);break;case 8:fc(n,e);break;case 3:vy(n,e);break;case 13:by(n,e);break;case 14:My(n,e);break;case 15:Cy(n,e);break;case 17:Sy(n,e);break;case 18:wy(n,e);break;case 19:_y(n,e);break;case 20:xy(n,e);break;case 21:Nr(n.body,e,!0,!1);break}}function my(n,e){e.push(JSON.stringify(n.content),n)}function pc(n,e){const{content:t,isStatic:r}=n;e.push(r?JSON.stringify(t):t,n)}function gy(n,e){const{push:t,helper:r,pure:i}=e;i&&t(Xi),t(`${r(Sr)}(`),Se(n.content,e),t(")")}function fc(n,e){for(let t=0;t<n.children.length;t++){const r=n.children[t];he(r)?e.push(r):Se(r,e)}}function yy(n,e){const{push:t}=e;if(n.type===8)t("["),fc(n,e),t("]");else if(n.isStatic){const r=xr(n.content)?n.content:JSON.stringify(n.content);t(r,n)}else t(`[${n.content}]`,n)}function vy(n,e){const{push:t,helper:r,pure:i}=e;i&&t(Xi),t(`${r(zn)}(${JSON.stringify(n.content)})`,n)}function by(n,e){const{push:t,helper:r,pure:i}=e,{tag:s,props:o,children:a,patchFlag:c,dynamicProps:l,directives:u,isBlock:h,disableTracking:d,isComponent:p}=n;u&&t(r(Ni)+"("),h&&t(`(${r(Wt)}(${d?"true":""}), `),i&&t(Xi);const v=h?hn(e.inSSR,p):un(e.inSSR,p);t(r(v)+"(",n),Nr(Ey([s,o,a,c,l]),e),t(")"),h&&t(")"),u&&(t(", "),Se(u,e),t(")"))}function Ey(n){let e=n.length;for(;e--&&n[e]==null;);return n.slice(0,e+1).map(t=>t||"null")}function My(n,e){const{push:t,helper:r,pure:i}=e,s=he(n.callee)?n.callee:r(n.callee);i&&t(Xi),t(s+"(",n),Nr(n.arguments,e),t(")")}function Cy(n,e){const{push:t,indent:r,deindent:i,newline:s}=e,{properties:o}=n;if(!o.length){t("{}",n);return}const a=o.length>1||!1;t(a?"{":"{ "),a&&r();for(let c=0;c<o.length;c++){const{key:l,value:u}=o[c];yy(l,e),t(": "),Se(u,e),c<o.length-1&&(t(","),s())}a&&i(),t(a?"}":" }")}function Sy(n,e){Ao(n.elements,e)}function wy(n,e){const{push:t,indent:r,deindent:i}=e,{params:s,returns:o,body:a,newline:c,isSlot:l}=n;l&&t(`_${At[Vi]}(`),t("(",n),vn(s)?Nr(s,e):s&&Se(s,e),t(") => "),(c||a)&&(t("{"),r()),o?(c&&t("return "),vn(o)?Ao(o,e):Se(o,e)):a&&Se(a,e),(c||a)&&(i(),t("}")),l&&(n.isNonScopedSlot&&t(", undefined, true"),t(")"))}function _y(n,e){const{test:t,consequent:r,alternate:i,newline:s}=n,{push:o,indent:a,deindent:c,newline:l}=e;if(t.type===4){const h=!xr(t.content);h&&o("("),pc(t,e),h&&o(")")}else o("("),Se(t,e),o(")");s&&a(),e.indentLevel++,s||o(" "),o("? "),Se(r,e),e.indentLevel--,s&&l(),s||o(" "),o(": ");const u=i.type===19;u||e.indentLevel++,Se(i,e),u||e.indentLevel--,s&&c(!0)}function xy(n,e){const{push:t,helper:r,indent:i,deindent:s,newline:o}=e;t(`_cache[${n.index}] || (`),n.isVNode&&(i(),t(`${r(_r)}(-1),`),o()),t(`_cache[${n.index}] = `),Se(n.value,e),n.isVNode&&(t(","),o(),t(`${r(_r)}(1),`),o(),t(`_cache[${n.index}]`),s()),t(")")}function Oy(n,e,t=!1,r=[],i=Object.create(null)){}function Ty(n,e,t){return!1}function Ry(n,e){if(n&&(n.type==="ObjectProperty"||n.type==="ArrayPattern")){let t=e.length;for(;t--;){const r=e[t];if(r.type==="AssignmentExpression")return!0;if(r.type!=="ObjectProperty"&&!r.type.endsWith("Pattern"))break}}return!1}function Ay(n,e){for(const t of n.params)for(const r of qt(t))e(r)}function Py(n,e){for(const t of n.body)if(t.type==="VariableDeclaration"){if(t.declare)continue;for(const r of t.declarations)for(const i of qt(r.id))e(i)}else if(t.type==="FunctionDeclaration"||t.type==="ClassDeclaration"){if(t.declare||!t.id)continue;e(t.id)}}function qt(n,e=[]){switch(n.type){case"Identifier":e.push(n);break;case"MemberExpression":let t=n;for(;t.type==="MemberExpression";)t=t.object;e.push(t);break;case"ObjectPattern":for(const r of n.properties)r.type==="RestElement"?qt(r.argument,e):qt(r.value,e);break;case"ArrayPattern":n.elements.forEach(r=>{r&&qt(r,e)});break;case"RestElement":qt(n.argument,e);break;case"AssignmentPattern":qt(n.left,e);break}return e}const Ly=n=>/Function(?:Expression|Declaration)$|Method$/.test(n.type),mc=n=>n&&(n.type==="ObjectProperty"||n.type==="ObjectMethod")&&!n.computed,Iy=(n,e)=>mc(e)&&e.key===n;new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments,typeof,void".split(",").join("\\b|\\b")+"\\b");const Dy=(n,e)=>{if(n.type===5)n.content=Zi(n.content,e);else if(n.type===1)for(let t=0;t<n.props.length;t++){const r=n.props[t];if(r.type===7&&r.name!=="for"){const i=r.exp,s=r.arg;i&&i.type===4&&!(r.name==="on"&&s)&&(r.exp=Zi(i,e,r.name==="slot")),s&&s.type===4&&!s.isStatic&&(r.arg=Zi(s,e))}}};function Zi(n,e,t=!1,r=!1,i=Object.create(e.identifiers)){return n}const jy=To(/^(if|else|else-if)$/,(n,e,t)=>gc(n,e,t,(r,i,s)=>{const o=t.parent.children;let a=o.indexOf(r),c=0;for(;a-->=0;){const l=o[a];l&&l.type===9&&(c+=l.branches.length)}return()=>{if(s)r.codegenNode=vc(i,c,t);else{const l=Ny(r.codegenNode);l.alternate=vc(i,c+r.branches.length-1,t)}}}));function gc(n,e,t,r){if(e.name!=="else"&&(!e.exp||!e.exp.content.trim())){const i=e.exp?e.exp.loc:n.loc;t.onError(ne(28,e.loc)),e.exp=V("true",!1,i)}if(e.name==="if"){const i=yc(n,e),s={type:9,loc:n.loc,branches:[i]};if(t.replaceNode(s),r)return r(s,i,!0)}else{const i=t.parent.children;let s=i.indexOf(n);for(;s-->=-1;){const o=i[s];if(o&&o.type===2&&!o.content.trim().length){t.removeNode(o);continue}if(o&&o.type===9){e.name==="else-if"&&o.branches[o.branches.length-1].condition===void 0&&t.onError(ne(30,n.loc)),t.removeNode();const a=yc(n,e);o.branches.push(a);const c=r&&r(o,a,!1);jr(a,t),c&&c(),t.currentNode=null}else t.onError(ne(30,n.loc));break}}}function yc(n,e){return{type:10,loc:n.loc,condition:e.name==="else"?void 0:e.exp,children:n.tagType===3&&!Ne(n,"for")?n.children:[n],userKey:Hn(n,"key")}}function vc(n,e,t){return n.condition?Ui(n.condition,bc(n,e,t),oe(t.helper(zn),['""',"true"])):bc(n,e,t)}function bc(n,e,t){const{helper:r}=t,i=se("key",V(`${e}`,!1,ce,2)),{children:s}=n,o=s[0];if(s.length!==1||o.type!==1)if(s.length===1&&o.type===11){const c=o.codegenNode;return Pr(c,i,t),c}else{let c=64;return Da[64],Bn(t,r(jn),Be([i]),s,c+"",void 0,void 0,!0,!1,!1,n.loc)}else{const c=o.codegenNode,l=Jl(c);return l.type===13&&Wi(l,t),Pr(l,i,t),c}}function Ny(n){for(;;)if(n.type===19)if(n.alternate.type===19)n=n.alternate;else return n;else n.type===20&&(n=n.value)}const zy=To("for",(n,e,t)=>{const{helper:r,removeHelper:i}=t;return Ec(n,e,t,s=>{const o=oe(r(zi),[s.source]),a=Ne(n,"memo"),c=Hn(n,"key"),l=c&&(c.type===6?V(c.value.content,!0):c.exp),u=c?se("key",l):null,h=s.source.type===4&&s.source.constType>0,d=h?64:c?128:256;return s.codegenNode=Bn(t,r(jn),void 0,o,d+"",void 0,void 0,!0,!h,!1,n.loc),()=>{let p;const v=Vn(n),{children:M}=s,_=M.length!==1||M[0].type!==1,m=Ar(n)?n:v&&n.children.length===1&&Ar(n.children[0])?n.children[0]:null;if(m?(p=m.codegenNode,v&&u&&Pr(p,u,t)):_?p=Bn(t,r(jn),u?Be([u]):void 0,n.children,64+"",void 0,void 0,!0,void 0,!1):(p=M[0].codegenNode,v&&u&&Pr(p,u,t),p.isBlock!==!h&&(p.isBlock?(i(Wt),i(hn(t.inSSR,p.isComponent))):i(un(t.inSSR,p.isComponent))),p.isBlock=!h,p.isBlock?(r(Wt),r(hn(t.inSSR,p.isComponent))):r(un(t.inSSR,p.isComponent))),a){const w=ln(Ji(s.parseResult,[V("_cached")]));w.body=Yl([it(["const _memo = (",a.exp,")"]),it(["if (_cached",...l?[" && _cached.key === ",l]:[],` && ${t.helperString(vo)}(_cached, _memo)) return _cached`]),it(["const _item = ",p]),V("_item.memo = _memo"),V("return _item")]),o.arguments.push(w,V("_cache"),V(String(t.cached++)))}else o.arguments.push(ln(Ji(s.parseResult),p,!0))}})});function Ec(n,e,t,r){if(!e.exp){t.onError(ne(31,e.loc));return}const i=Po(e.exp);if(!i){t.onError(ne(32,e.loc));return}const{addIdentifiers:s,removeIdentifiers:o,scopes:a}=t,{source:c,value:l,key:u,index:h}=i,d={type:11,loc:e.loc,source:c,valueAlias:l,keyAlias:u,objectIndexAlias:h,parseResult:i,children:Vn(n)?n.children:[n]};t.replaceNode(d),a.vFor++;const p=r&&r(d);return()=>{a.vFor--,p&&p()}}const ky=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,Mc=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,$y=/^\(|\)$/g;function Po(n,e){const t=n.loc,r=n.content,i=r.match(ky);if(!i)return;const[,s,o]=i,a={source:Qi(t,o.trim(),r.indexOf(o,s.length)),value:void 0,key:void 0,index:void 0};let c=s.trim().replace($y,"").trim();const l=s.indexOf(c),u=c.match(Mc);if(u){c=c.replace(Mc,"").trim();const h=u[1].trim();let d;if(h&&(d=r.indexOf(h,l+c.length),a.key=Qi(t,h,d)),u[2]){const p=u[2].trim();p&&(a.index=Qi(t,p,r.indexOf(p,a.key?d+h.length:l+c.length)))}}return c&&(a.value=Qi(t,c,l)),a}function Qi(n,e,t){return V(e,!1,Mo(n,t,e.length))}function Ji({value:n,key:e,index:t},r=[]){return By([n,e,t,...r])}function By(n){let e=n.length;for(;e--&&!n[e];);return n.slice(0,e+1).map((t,r)=>t||V("_".repeat(r+1),!1))}const Cc=V("undefined",!1),Sc=(n,e)=>{if(n.type===1&&(n.tagType===1||n.tagType===3)){const t=Ne(n,"slot");if(t)return t.exp,e.scopes.vSlot++,()=>{e.scopes.vSlot--}}},Fy=(n,e)=>{let t;if(Vn(n)&&n.props.some(Co)&&(t=Ne(n,"for"))){const r=t.parseResult=Po(t.exp);if(r){const{value:i,key:s,index:o}=r,{addIdentifiers:a,removeIdentifiers:c}=e;return i&&a(i),s&&a(s),o&&a(o),()=>{i&&c(i),s&&c(s),o&&c(o)}}}},Hy=(n,e,t)=>ln(n,e,!1,!0,e.length?e[0].loc:t);function wc(n,e,t=Hy){e.helper(Vi);const{children:r,loc:i}=n,s=[],o=[];let a=e.scopes.vSlot>0||e.scopes.vFor>0;const c=Ne(n,"slot",!0);if(c){const{arg:M,exp:_}=c;M&&!Pe(M)&&(a=!0),s.push(se(M||V("default",!0),t(_,r,i)))}let l=!1,u=!1;const h=[],d=new Set;for(let M=0;M<r.length;M++){const _=r[M];let m;if(!Vn(_)||!(m=Ne(_,"slot",!0))){_.type!==3&&h.push(_);continue}if(c){e.onError(ne(37,m.loc));break}l=!0;const{children:w,loc:g}=_,{arg:y=V("default",!0),exp:b,loc:C}=m;let S;Pe(y)?S=y?y.content:"default":a=!0;const x=t(b,w,g);let R,I,k;if(R=Ne(_,"if"))a=!0,o.push(Ui(R.exp,es(y,x),Cc));else if(I=Ne(_,/^else(-if)?$/,!0)){let B=M,q;for(;B--&&(q=r[B],q.type===3););if(q&&Vn(q)&&Ne(q,"if")){r.splice(M,1),M--;let X=o[o.length-1];for(;X.alternate.type===19;)X=X.alternate;X.alternate=I.exp?Ui(I.exp,es(y,x),Cc):es(y,x)}else e.onError(ne(30,I.loc))}else if(k=Ne(_,"for")){a=!0;const B=k.parseResult||Po(k.exp);B?o.push(oe(e.helper(zi),[B.source,ln(Ji(B),es(y,x),!0)])):e.onError(ne(32,k.loc))}else{if(S){if(d.has(S)){e.onError(ne(38,C));continue}d.add(S),S==="default"&&(u=!0)}s.push(se(y,x))}}if(!c){const M=(_,m)=>{const w=t(_,m,i);return e.compatConfig&&(w.isNonScopedSlot=!0),se("default",w)};l?h.length&&h.some(_=>_c(_))&&(u?e.onError(ne(39,h[0].loc)):s.push(M(void 0,h))):s.push(M(void 0,r))}const p=a?2:ts(n.children)?3:1;let v=Be(s.concat(se("_",V(p+"",!1))),i);return o.length&&(v=oe(e.helper(yo),[v,Fn(o)])),{slots:v,hasDynamicSlots:a}}function es(n,e){return Be([se("name",n),se("fn",e)])}function ts(n){for(let e=0;e<n.length;e++){const t=n[e];switch(t.type){case 1:if(t.tagType===2||ts(t.children))return!0;break;case 9:if(ts(t.branches))return!0;break;case 10:case 11:if(ts(t.children))return!0;break}}return!1}function _c(n){return n.type!==2&&n.type!==12?!0:n.type===2?!!n.content.trim():_c(n.content)}const xc=new WeakMap,Oc=(n,e)=>function(){if(n=e.currentNode,!(n.type===1&&(n.tagType===0||n.tagType===1)))return;const{tag:r,props:i}=n,s=n.tagType===1;let o=s?Tc(n,e):`"${r}"`;const a=La(o)&&o.callee===Cr;let c,l,u,h=0,d,p,v,M=a||o===Nn||o===Ri||!s&&(r==="svg"||r==="foreignObject"||Hn(n,"key",!0));if(i.length>0){const _=Lo(n,e);c=_.props,h=_.patchFlag,p=_.dynamicPropNames;const m=_.directives;v=m&&m.length?Fn(m.map(w=>Gy(w,e))):void 0}if(n.children.length>0)if(o===Mr&&(M=!0,h|=1024),s&&o!==Nn&&o!==Mr){const{slots:m,hasDynamicSlots:w}=wc(n,e);l=m,w&&(h|=1024)}else if(n.children.length===1&&o!==Nn){const m=n.children[0],w=m.type,g=w===5||w===8;g&&Ke(m,e)===0&&(h|=1),g||w===2?l=m:l=n.children}else l=n.children;h!==0&&(u=String(h),p&&p.length&&(d=Uy(p))),n.codegenNode=Bn(e,o,c,l,u,d,v,!!M,!1,s,n.loc)};function Tc(n,e,t=!1){let{tag:r}=n;const i=Do(r),s=Hn(n,"is");if(s)if(i||dn("COMPILER_IS_ON_ELEMENT",e)){const c=s.type===6?s.value&&V(s.value.content,!0):s.exp;if(c)return oe(e.helper(Cr),[c])}else s.type===6&&s.value.content.startsWith("vue:")&&(r=s.value.content.slice(4));const o=!i&&Ne(n,"is");if(o&&o.exp)return oe(e.helper(Cr),[o.exp]);const a=bo(r)||e.isBuiltInComponent(r);return a?(t||e.helper(a),a):(e.helper(Ii),e.components.add(r),Gn(r,"component"))}function Lo(n,e,t=n.props,r=!1){const{tag:i,loc:s}=n,o=n.tagType===1;let a=[];const c=[],l=[];let u=0,h=!1,d=!1,p=!1,v=!1,M=!1,_=!1;const m=[],w=({key:y,value:b})=>{if(Pe(y)){const C=y.content,S=ja(C);if(!o&&S&&C.toLowerCase()!=="onclick"&&C!=="onUpdate:modelValue"&&!Na(C)&&(v=!0),S&&Na(C)&&(_=!0),b.type===20||(b.type===4||b.type===8)&&Ke(b,e)>0)return;C==="ref"?h=!0:C==="class"?d=!0:C==="style"?p=!0:C!=="key"&&!m.includes(C)&&m.push(C),o&&(C==="class"||C==="style")&&!m.includes(C)&&m.push(C)}else M=!0};for(let y=0;y<t.length;y++){const b=t[y];if(b.type===6){const{loc:C,name:S,value:x}=b;let R=V(x?x.content:"",!0,x?x.loc:C);if(S==="ref"&&(h=!0),S==="is"&&(Do(i)||x&&x.content.startsWith("vue:")||dn("COMPILER_IS_ON_ELEMENT",e)))continue;a.push(se(V(S,!0,Mo(C,0,S.length)),R))}else{const{name:C,arg:S,exp:x,loc:R}=b,I=C==="bind",k=C==="on";if(C==="slot"){o||e.onError(ne(40,R));continue}if(C==="once"||C==="memo"||C==="is"||I&&Rr(S,"is")&&(Do(i)||dn("COMPILER_IS_ON_ELEMENT",e))||k&&r)continue;if(!S&&(I||k)){if(M=!0,x)if(a.length&&(c.push(Be(Io(a),s)),a=[]),I){if(dn("COMPILER_V_BIND_OBJECT_ORDER",e)){c.unshift(x);continue}c.push(x)}else c.push({type:14,loc:R,callee:e.helper(Bi),arguments:[x]});else e.onError(ne(I?34:35,R));continue}const B=e.directiveTransforms[C];if(B){const{props:q,needRuntime:X}=B(b,n,e);!r&&q.forEach(w),a.push(...q),X&&(l.push(b),js(X)&&xc.set(b,X))}else l.push(b)}b.type===6&&b.name==="ref"&&e.scopes.vFor>0&&pn("COMPILER_V_FOR_REF",e,b.loc)&&a.push(se(V("refInFor",!0),V("true",!1)))}let g;if(c.length?(a.length&&c.push(Be(Io(a),s)),c.length>1?g=oe(e.helper(wr),c,s):g=c[0]):a.length&&(g=Be(Io(a),s)),M?u|=16:(d&&!o&&(u|=2),p&&!o&&(u|=4),m.length&&(u|=8),v&&(u|=32)),(u===0||u===32)&&(h||_||l.length>0)&&(u|=512),!e.inSSR&&g)switch(g.type){case 15:let y=-1,b=-1,C=!1;for(let R=0;R<g.properties.length;R++){const I=g.properties[R].key;Pe(I)?I.content==="class"?y=R:I.content==="style"&&(b=R):I.isHandlerKey||(C=!0)}const S=g.properties[y],x=g.properties[b];C?g=oe(e.helper(kn),[g]):(S&&!Pe(S.value)&&(S.value=oe(e.helper(ki),[S.value])),x&&!Pe(x.value)&&(p||x.value.type===17)&&(x.value=oe(e.helper($i),[x.value])));break;case 14:break;default:g=oe(e.helper(kn),[oe(e.helper($n),[g])]);break}return{props:g,directives:l,patchFlag:u,dynamicPropNames:m}}function Io(n){const e=new Map,t=[];for(let r=0;r<n.length;r++){const i=n[r];if(i.key.type===8||!i.key.isStatic){t.push(i);continue}const s=i.key.content,o=e.get(s);o?(s==="style"||s==="class"||ja(s))&&Vy(o,i):(e.set(s,i),t.push(i))}return t}function Vy(n,e){n.value.type===17?n.value.elements.push(e.value):n.value=Fn([n.value,e.value],n.loc)}function Gy(n,e){const t=[],r=xc.get(n);r?t.push(e.helperString(r)):(e.helper(Di),e.directives.add(n.name),t.push(Gn(n.name,"directive")));const{loc:i}=n;if(n.exp&&t.push(n.exp),n.arg&&(n.exp||t.push("void 0"),t.push(n.arg)),Object.keys(n.modifiers).length){n.arg||(n.exp||t.push("void 0"),t.push("void 0"));const s=V("true",!1,i);t.push(Be(n.modifiers.map(o=>se(o,s)),i))}return Fn(t,n.loc)}function Uy(n){let e="[";for(let t=0,r=n.length;t<r;t++)e+=JSON.stringify(n[t]),t<r-1&&(e+=", ");return e+"]"}function Do(n){return n[0].toLowerCase()+n.slice(1)==="component"}const Ky=n=>{const e=Object.create(null);return t=>e[t]||(e[t]=n(t))},Wy=/-(\w)/g,Rc=Ky(n=>n.replace(Wy,(e,t)=>t?t.toUpperCase():"")),qy=(n,e)=>{if(Ar(n)){const{children:t,loc:r}=n,{slotName:i,slotProps:s}=Ac(n,e),o=[e.prefixIdentifiers?"_ctx.$slots":"$slots",i,"{}","undefined","true"];let a=2;s&&(o[2]=s,a=3),t.length&&(o[3]=ln([],t,!1,!1,r),a=4),e.scopeId&&!e.slotted&&(a=5),o.splice(a),n.codegenNode=oe(e.helper(go),o,r)}};function Ac(n,e){let t='"default"',r;const i=[];for(let s=0;s<n.props.length;s++){const o=n.props[s];o.type===6?o.value&&(o.name==="name"?t=JSON.stringify(o.value.content):(o.name=Rc(o.name),i.push(o))):o.name==="bind"&&Rr(o.arg,"name")?o.exp&&(t=o.exp):(o.name==="bind"&&o.arg&&Pe(o.arg)&&(o.arg.content=Rc(o.arg.content)),i.push(o))}if(i.length>0){const{props:s,directives:o}=Lo(n,e,i);r=s,o.length&&e.onError(ne(36,o[0].loc))}return{slotName:t,slotProps:r}}const Yy=/^\s*([\w$_]+|(async\s*)?\([^)]*?\))\s*=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,jo=(n,e,t,r)=>{const{loc:i,modifiers:s,arg:o}=n;!n.exp&&!s.length&&t.onError(ne(35,i));let a;if(o.type===4)if(o.isStatic){const h=o.content;a=V(Lh(Ds(h)),!0,o.loc)}else a=it([`${t.helperString(Hi)}(`,o,")"]);else a=o,a.children.unshift(`${t.helperString(Hi)}(`),a.children.push(")");let c=n.exp;c&&!c.content.trim()&&(c=void 0);let l=t.cacheHandlers&&!c&&!t.inVOnce;if(c){const h=Eo(c.content),d=!(h||Yy.test(c.content)),p=c.content.includes(";");(d||l&&h)&&(c=it([`${d?"$event":"(...args)"} => ${p?"{":"("}`,c,p?"}":")"]))}let u={props:[se(a,c||V("() => {}",!1,i))]};return r&&(u=r(u)),l&&(u.props[0].value=t.cache(u.props[0].value)),u.props.forEach(h=>h.key.isHandlerKey=!0),u},Pc=(n,e,t)=>{const{exp:r,modifiers:i,loc:s}=n,o=n.arg;return o.type!==4?(o.children.unshift("("),o.children.push(') || ""')):o.isStatic||(o.content=`${o.content} || ""`),i.includes("camel")&&(o.type===4?o.isStatic?o.content=Ds(o.content):o.content=`${t.helperString(Fi)}(${o.content})`:(o.children.unshift(`${t.helperString(Fi)}(`),o.children.push(")"))),t.inSSR||(i.includes("prop")&&Lc(o,"."),i.includes("attr")&&Lc(o,"^")),!r||r.type===4&&!r.content.trim()?(t.onError(ne(34,s)),{props:[se(o,V("",!0,s))]}):{props:[se(o,r)]}},Lc=(n,e)=>{n.type===4?n.isStatic?n.content=e+n.content:n.content=`\`${e}\${${n.content}}\``:(n.children.unshift(`'${e}' + (`),n.children.push(")"))},Xy=(n,e)=>{if(n.type===0||n.type===1||n.type===11||n.type===10)return()=>{const t=n.children;let r,i=!1;for(let s=0;s<t.length;s++){const o=t[s];if(Ki(o)){i=!0;for(let a=s+1;a<t.length;a++){const c=t[a];if(Ki(c))r||(r=t[s]={type:8,loc:o.loc,children:[o]}),r.children.push(" + ",c),t.splice(a,1),a--;else{r=void 0;break}}}}if(!(!i||t.length===1&&(n.type===0||n.type===1&&n.tagType===0&&!n.props.find(s=>s.type===7&&!e.directiveTransforms[s.name])&&n.tag!=="template")))for(let s=0;s<t.length;s++){const o=t[s];if(Ki(o)||o.type===8){const a=[];(o.type!==2||o.content!==" ")&&a.push(o),!e.ssr&&Ke(o,e)===0&&a.push(1+""),t[s]={type:12,content:o,loc:o.loc,codegenNode:oe(e.helper(Li),a)}}}}},Ic=new WeakSet,Zy=(n,e)=>{if(n.type===1&&Ne(n,"once",!0))return Ic.has(n)||e.inVOnce?void 0:(Ic.add(n),e.inVOnce=!0,e.helper(_r),()=>{e.inVOnce=!1;const t=e.currentNode;t.codegenNode&&(t.codegenNode=e.cache(t.codegenNode,!0))})},No=(n,e,t)=>{const{exp:r,arg:i}=n;if(!r)return t.onError(ne(41,n.loc)),zo();const s=r.loc.source,o=r.type===4?r.content:s;t.bindingMetadata[s];const a=!1;if(!o.trim()||!Eo(o)&&!a)return t.onError(ne(42,r.loc)),zo();const c=i||V("modelValue",!0),l=i?Pe(i)?`onUpdate:${i.content}`:it(['"onUpdate:" + ',i]):"onUpdate:modelValue";let u;const h=t.isTS?"($event: any)":"$event";u=it([`${h} => ((`,r,") = $event)"]);const d=[se(c,n.exp),se(l,u)];if(n.modifiers.length&&e.tagType===1){const p=n.modifiers.map(M=>(xr(M)?M:JSON.stringify(M))+": true").join(", "),v=i?Pe(i)?`${i.content}Modifiers`:it([i,' + "Modifiers"']):"modelModifiers";d.push(se(v,V(`{ ${p} }`,!1,n.loc,2)))}return zo(d)};function zo(n=[]){return{props:n}}const Qy=/[\w).+\-_$\]]/,Jy=(n,e)=>{!dn("COMPILER_FILTER",e)||(n.type===5&&ns(n.content,e),n.type===1&&n.props.forEach(t=>{t.type===7&&t.name!=="for"&&t.exp&&ns(t.exp,e)}))};function ns(n,e){if(n.type===4)Dc(n,e);else for(let t=0;t<n.children.length;t++){const r=n.children[t];typeof r=="object"&&(r.type===4?Dc(r,e):r.type===8?ns(n,e):r.type===5&&ns(r.content,e))}}function Dc(n,e){const t=n.content;let r=!1,i=!1,s=!1,o=!1,a=0,c=0,l=0,u=0,h,d,p,v,M=[];for(p=0;p<t.length;p++)if(d=h,h=t.charCodeAt(p),r)h===39&&d!==92&&(r=!1);else if(i)h===34&&d!==92&&(i=!1);else if(s)h===96&&d!==92&&(s=!1);else if(o)h===47&&d!==92&&(o=!1);else if(h===124&&t.charCodeAt(p+1)!==124&&t.charCodeAt(p-1)!==124&&!a&&!c&&!l)v===void 0?(u=p+1,v=t.slice(0,p).trim()):_();else{switch(h){case 34:i=!0;break;case 39:r=!0;break;case 96:s=!0;break;case 40:l++;break;case 41:l--;break;case 91:c++;break;case 93:c--;break;case 123:a++;break;case 125:a--;break}if(h===47){let m=p-1,w;for(;m>=0&&(w=t.charAt(m),w===" ");m--);(!w||!Qy.test(w))&&(o=!0)}}v===void 0?v=t.slice(0,p).trim():u!==0&&_();function _(){M.push(t.slice(u,p).trim()),u=p+1}if(M.length){for(p=0;p<M.length;p++)v=ev(v,M[p],e);n.content=v}}function ev(n,e,t){t.helper(ji);const r=e.indexOf("(");if(r<0)return t.filters.add(e),`${Gn(e,"filter")}(${n})`;{const i=e.slice(0,r),s=e.slice(r+1);return t.filters.add(i),`${Gn(i,"filter")}(${n}${s!==")"?","+s:s}`}}const jc=new WeakSet,tv=(n,e)=>{if(n.type===1){const t=Ne(n,"memo");return!t||jc.has(n)?void 0:(jc.add(n),()=>{const r=n.codegenNode||e.currentNode.codegenNode;r&&r.type===13&&(n.tagType!==1&&Wi(r,e),n.codegenNode=oe(e.helper(Gi),[t.exp,ln(void 0,r),"_cache",String(e.cached++)]))})}};function Nc(n){return[[Zy,jy,tv,zy,Jy,qy,Oc,Sc,Xy],{on:jo,bind:Pc,model:No}]}function zc(n,e={}){const t=e.onError||uo,r=e.mode==="module";e.prefixIdentifiers===!0?t(ne(46)):r&&t(ne(47));const i=!1;e.cacheHandlers&&t(ne(48)),e.scopeId&&!r&&t(ne(49));const s=he(n)?wo(n,e):n,[o,a]=Nc();return hc(s,Ct({},e,{prefixIdentifiers:i,nodeTransforms:[...o,...e.nodeTransforms||[]],directiveTransforms:Ct({},a,e.directiveTransforms||{})})),dc(s,Ct({},e,{prefixIdentifiers:i}))}const kc=()=>({props:[]}),ko=Symbol(""),$o=Symbol(""),Bo=Symbol(""),Fo=Symbol(""),rs=Symbol(""),Ho=Symbol(""),Vo=Symbol(""),Go=Symbol(""),Uo=Symbol(""),Ko=Symbol("");Kl({[ko]:"vModelRadio",[$o]:"vModelCheckbox",[Bo]:"vModelText",[Fo]:"vModelSelect",[rs]:"vModelDynamic",[Ho]:"withModifiers",[Vo]:"withKeys",[Go]:"vShow",[Uo]:"Transition",[Ko]:"TransitionGroup"});let Un;function nv(n,e=!1){return Un||(Un=document.createElement("div")),e?(Un.innerHTML=`<div foo="${n.replace(/"/g,"&quot;")}">`,Un.children[0].getAttribute("foo")):(Un.innerHTML=n,Un.textContent)}const rv=bn("style,iframe,script,noscript",!0),Wo={isVoidTag:Ih,isNativeTag:n=>Dh(n)||jh(n),isPreTag:n=>n==="pre",decodeEntities:nv,isBuiltInComponent:n=>{if(cn(n,"Transition"))return Uo;if(cn(n,"TransitionGroup"))return Ko},getNamespace(n,e){let t=e?e.ns:0;if(e&&t===2)if(e.tag==="annotation-xml"){if(n==="svg")return 1;e.props.some(r=>r.type===6&&r.name==="encoding"&&r.value!=null&&(r.value.content==="text/html"||r.value.content==="application/xhtml+xml"))&&(t=0)}else/^m(?:[ions]|text)$/.test(e.tag)&&n!=="mglyph"&&n!=="malignmark"&&(t=0);else e&&t===1&&(e.tag==="foreignObject"||e.tag==="desc"||e.tag==="title")&&(t=0);if(t===0){if(n==="svg")return 1;if(n==="math")return 2}return t},getTextMode({tag:n,ns:e}){if(e===0){if(n==="textarea"||n==="title")return 1;if(rv(n))return 2}return 0}},$c=n=>{n.type===1&&n.props.forEach((e,t)=>{e.type===6&&e.name==="style"&&e.value&&(n.props[t]={type:7,name:"bind",arg:V("style",!0,e.loc),exp:iv(e.value.content,e.loc),modifiers:[],loc:e.loc})})},iv=(n,e)=>{const t=Nh(n);return V(JSON.stringify(t),!1,e,3)};function yt(n,e){return ne(n,e)}const sv=(n,e,t)=>{const{exp:r,loc:i}=n;return r||t.onError(yt(50,i)),e.children.length&&(t.onError(yt(51,i)),e.children.length=0),{props:[se(V("innerHTML",!0,i),r||V("",!0))]}},ov=(n,e,t)=>{const{exp:r,loc:i}=n;return r||t.onError(yt(52,i)),e.children.length&&(t.onError(yt(53,i)),e.children.length=0),{props:[se(V("textContent",!0),r?oe(t.helperString(Sr),[r],i):V("",!0))]}},av=(n,e,t)=>{const r=No(n,e,t);if(!r.props.length||e.tagType===1)return r;n.arg&&t.onError(yt(55,n.arg.loc));const{tag:i}=e,s=t.isCustomElement(i);if(i==="input"||i==="textarea"||i==="select"||s){let o=Bo,a=!1;if(i==="input"||s){const c=Hn(e,"type");if(c){if(c.type===7)o=rs;else if(c.value)switch(c.value.content){case"radio":o=ko;break;case"checkbox":o=$o;break;case"file":a=!0,t.onError(yt(56,n.loc));break}}else Zl(e)&&(o=rs)}else i==="select"&&(o=Fo);a||(r.needRuntime=t.helper(o))}else t.onError(yt(54,n.loc));return r.props=r.props.filter(o=>!(o.key.type===4&&o.key.content==="modelValue")),r},lv=bn("passive,once,capture"),cv=bn("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),uv=bn("left,right"),Bc=bn("onkeyup,onkeydown,onkeypress",!0),hv=(n,e,t,r)=>{const i=[],s=[],o=[];for(let a=0;a<e.length;a++){const c=e[a];c==="native"&&pn("COMPILER_V_ON_NATIVE",t)||lv(c)?o.push(c):uv(c)?Pe(n)?Bc(n.content)?i.push(c):s.push(c):(i.push(c),s.push(c)):cv(c)?s.push(c):i.push(c)}return{keyModifiers:i,nonKeyModifiers:s,eventOptionModifiers:o}},Fc=(n,e)=>Pe(n)&&n.content.toLowerCase()==="onclick"?V(e,!0):n.type!==4?it(["(",n,`) === "onClick" ? "${e}" : (`,n,")"]):n,dv=(n,e,t)=>jo(n,e,t,r=>{const{modifiers:i}=n;if(!i.length)return r;let{key:s,value:o}=r.props[0];const{keyModifiers:a,nonKeyModifiers:c,eventOptionModifiers:l}=hv(s,i,t,n.loc);if(c.includes("right")&&(s=Fc(s,"onContextmenu")),c.includes("middle")&&(s=Fc(s,"onMouseup")),c.length&&(o=oe(t.helper(Ho),[o,JSON.stringify(c)])),a.length&&(!Pe(s)||Bc(s.content))&&(o=oe(t.helper(Vo),[o,JSON.stringify(a)])),l.length){const u=l.map(Ia).join("");s=Pe(s)?V(`${s.content}${u}`,!0):it(["(",s,`) + "${u}"`])}return{props:[se(s,o)]}}),pv=(n,e,t)=>{const{exp:r,loc:i}=n;return r||t.onError(yt(58,i)),{props:[],needRuntime:t.helper(Go)}},fv=(n,e)=>{n.type===1&&n.tagType===0&&(n.tag==="script"||n.tag==="style")&&(e.onError(yt(60,n.loc)),e.removeNode())},Hc=[$c],Vc={cloak:kc,html:sv,text:ov,model:av,on:dv,show:pv};function mv(n,e={}){return zc(n,Ct({},Wo,e,{nodeTransforms:[fv,...Hc,...e.nodeTransforms||[]],directiveTransforms:Ct({},Vc,e.directiveTransforms||{}),transformHoist:null}))}function gv(n,e={}){return wo(n,Ct({},Wo,e))}var yv=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",DOMDirectiveTransforms:Vc,DOMNodeTransforms:Hc,TRANSITION:Uo,TRANSITION_GROUP:Ko,V_MODEL_CHECKBOX:$o,V_MODEL_DYNAMIC:rs,V_MODEL_RADIO:ko,V_MODEL_SELECT:Fo,V_MODEL_TEXT:Bo,V_ON_WITH_KEYS:Vo,V_ON_WITH_MODIFIERS:Ho,V_SHOW:Go,compile:mv,createDOMCompilerError:yt,parse:gv,parserOptions:Wo,transformStyle:$c,generateCodeFrame:zh,BASE_TRANSITION:ho,CAMELIZE:Fi,CAPITALIZE:Fl,CREATE_BLOCK:po,CREATE_COMMENT:zn,CREATE_ELEMENT_BLOCK:fo,CREATE_ELEMENT_VNODE:Pi,CREATE_SLOTS:yo,CREATE_STATIC:mo,CREATE_TEXT:Li,CREATE_VNODE:Ai,FRAGMENT:jn,GUARD_REACTIVE_PROPS:$n,IS_MEMO_SAME:vo,IS_REF:Ul,KEEP_ALIVE:Mr,MERGE_PROPS:wr,NORMALIZE_CLASS:ki,NORMALIZE_PROPS:kn,NORMALIZE_STYLE:$i,OPEN_BLOCK:Wt,POP_SCOPE_ID:Vl,PUSH_SCOPE_ID:Hl,RENDER_LIST:zi,RENDER_SLOT:go,RESOLVE_COMPONENT:Ii,RESOLVE_DIRECTIVE:Di,RESOLVE_DYNAMIC_COMPONENT:Cr,RESOLVE_FILTER:ji,SET_BLOCK_TRACKING:_r,SUSPENSE:Ri,TELEPORT:Nn,TO_DISPLAY_STRING:Sr,TO_HANDLERS:Bi,TO_HANDLER_KEY:Hi,UNREF:Gl,WITH_CTX:Vi,WITH_DIRECTIVES:Ni,WITH_MEMO:Gi,advancePositionWithClone:Or,advancePositionWithMutation:Tr,assert:Kg,baseCompile:zc,baseParse:wo,buildProps:Lo,buildSlots:wc,checkCompatEnabled:pn,createArrayExpression:Fn,createAssignmentExpression:kg,createBlockStatement:Yl,createCacheExpression:ql,createCallExpression:oe,createCompilerError:ne,createCompoundExpression:it,createConditionalExpression:Ui,createForLoopParams:Ji,createFunctionExpression:ln,createIfStatement:zg,createInterpolation:jg,createObjectExpression:Be,createObjectProperty:se,createReturnStatement:Bg,createRoot:Wl,createSequenceExpression:$g,createSimpleExpression:V,createStructuralDirectiveTransform:To,createTemplateLiteral:Ng,createTransformContext:uc,createVNodeCall:Bn,extractIdentifiers:qt,findDir:Ne,findProp:Hn,generate:dc,getBaseTransformPreset:Nc,getInnerRange:Mo,getMemoedVNodeCall:Jl,getVNodeBlockHelper:hn,getVNodeHelper:un,hasDynamicKeyVBind:Zl,hasScopeRef:st,helperNameMap:At,injectProp:Pr,isBindKey:Rr,isBuiltInType:cn,isCoreComponent:bo,isFunctionType:Ly,isInDestructureAssignment:Ry,isMemberExpression:Eo,isMemberExpressionBrowser:Xl,isMemberExpressionNode:Ug,isReferencedIdentifier:Ty,isSimpleIdentifier:xr,isSlotOutlet:Ar,isStaticExp:Pe,isStaticProperty:mc,isStaticPropertyKey:Iy,isTemplateNode:Vn,isText:Ki,isVSlot:Co,locStub:ce,makeBlock:Wi,noopDirectiveTransform:kc,processExpression:Zi,processFor:Ec,processIf:gc,processSlotOutlet:Ac,registerRuntimeHelpers:Kl,resolveComponentType:Tc,toValidAssetId:Gn,trackSlotScopes:Sc,trackVForSlotScopes:Fy,transform:hc,transformBind:Pc,transformElement:Oc,transformExpression:Dy,transformModel:No,transformOn:jo,traverseNode:jr,walkBlockDeclarations:Py,walkFunctionParams:Ay,walkIdentifiers:Oy,warnDeprecation:Yg}),vv=En(yv),bv=En(kh),Ev=En($h);(function(n){Object.defineProperty(n,"__esModule",{value:!0});var e=vv,t=bv,r=Ev;function i(c){if(c&&c.__esModule)return c;var l=Object.create(null);return c&&Object.keys(c).forEach(function(u){l[u]=c[u]}),l.default=c,Object.freeze(l)}var s=i(t);const o=Object.create(null);function a(c,l){if(!r.isString(c))if(c.nodeType)c=c.innerHTML;else return r.NOOP;const u=c,h=o[u];if(h)return h;if(c[0]==="#"){const v=document.querySelector(c);c=v?v.innerHTML:""}const{code:d}=e.compile(c,r.extend({hoistStatic:!0,onError:void 0,onWarn:r.NOOP},l)),p=new Function("Vue",d)(s);return p._rc=!0,o[u]=p}t.registerRuntimeCompiler(a),Object.keys(t).forEach(function(c){c!=="default"&&(n[c]=t[c])}),n.compile=a})($l);Z.exports=$l;var We={exports:{}};(function(n){function e(){return n.exports=e=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},n.exports.__esModule=!0,n.exports.default=n.exports,e.apply(this,arguments)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(We);var fn={exports:{}};(function(n){function e(t,r,i){return r in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(fn);var zr={},is={},ss={exports:{}};(function(n){var e=fn.exports;function t(i,s){var o=Object.keys(i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);s&&(a=a.filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable})),o.push.apply(o,a)}return o}function r(i){for(var s=1;s<arguments.length;s++){var o=arguments[s]!=null?arguments[s]:{};s%2?t(Object(o),!0).forEach(function(a){e(i,a,o[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach(function(a){Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(o,a))})}return i}n.exports=r,n.exports.__esModule=!0,n.exports.default=n.exports})(ss);var de={},vt={};Object.defineProperty(vt,"__esModule",{value:!0});vt.withInstall=vt.tupleNum=vt.tuple=void 0;var Mv=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t};vt.tuple=Mv;var Cv=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t};vt.tupleNum=Cv;var Sv=function(e){var t=e;return t.install=function(r){r.component(t.displayName||t.name,e)},e};vt.withInstall=Sv;var wv=re.exports;Object.defineProperty(de,"__esModule",{value:!0});de.getTransitionProps=de.getTransitionName=de.getTransitionGroupProps=de.getTransitionDirection=de.default=de.collapseMotion=de.TransitionGroup=de.Transition=void 0;var qo=Z.exports,os=wv(We.exports),_v=vt;(0,_v.tuple)("bottomLeft","bottomRight","topLeft","topRight");var xv=function(e){return e!==void 0&&(e==="topLeft"||e==="topRight")?"slide-down":"slide-up"};de.getTransitionDirection=xv;var Ov=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e?(0,os.default)({name:e,appear:!0,enterFromClass:"".concat(e,"-enter ").concat(e,"-enter-prepare"),enterActiveClass:"".concat(e,"-enter ").concat(e,"-enter-prepare"),enterToClass:"".concat(e,"-enter ").concat(e,"-enter-active"),leaveFromClass:" ".concat(e,"-leave"),leaveActiveClass:"".concat(e,"-leave"),leaveToClass:"".concat(e,"-leave ").concat(e,"-leave-active")},t):(0,os.default)({css:!1},t);return r};de.getTransitionProps=Ov;var Tv=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e?(0,os.default)({name:e,appear:!0,appearActiveClass:"".concat(e),appearToClass:"".concat(e,"-appear ").concat(e,"-appear-active"),enterFromClass:"".concat(e,"-appear ").concat(e,"-enter ").concat(e,"-appear-prepare ").concat(e,"-enter-prepare"),enterActiveClass:"".concat(e),enterToClass:"".concat(e,"-enter ").concat(e,"-appear ").concat(e,"-appear-active ").concat(e,"-enter-active"),leaveActiveClass:"".concat(e," ").concat(e,"-leave"),leaveToClass:"".concat(e,"-leave-active")},t):(0,os.default)({css:!1},t);return r};de.getTransitionGroupProps=Tv;var Gc=qo.Transition;de.Transition=Gc;var Rv=qo.TransitionGroup;de.TransitionGroup=Rv;var Uc=function(){return{height:0,opacity:0}},Av=function(e){return{height:"".concat(e.scrollHeight,"px"),opacity:1}},Pv=function(e){return{height:"".concat(e.offsetHeight,"px")}},Lv=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ant-motion-collapse",t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;return{name:e,appear:!0,css:!0,onBeforeEnter:function(s){r.value=e,t.value=Uc()},onEnter:function(s){(0,qo.nextTick)(function(){t.value=Av(s)})},onAfterEnter:function(){r.value="",t.value={}},onBeforeLeave:function(s){r.value=e,t.value=Pv(s)},onLeave:function(s){setTimeout(function(){t.value=Uc()})},onAfterLeave:function(){r.value="",t.value={}}}};de.collapseMotion=Lv;var Iv=function(e,t,r){return r!==void 0?r:"".concat(e,"-").concat(t)};de.getTransitionName=Iv;var Dv=Gc;de.default=Dv;var as={},Yo={exports:{}},Kc={exports:{}};(function(n){function e(t){if(Array.isArray(t))return t}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(Kc);var Wc={exports:{}};(function(n){function e(t,r){var i=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var s=[],o=!0,a=!1,c,l;try{for(i=i.call(t);!(o=(c=i.next()).done)&&(s.push(c.value),!(r&&s.length===r));o=!0);}catch(u){a=!0,l=u}finally{try{!o&&i.return!=null&&i.return()}finally{if(a)throw l}}return s}}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(Wc);var Xo={exports:{}},Zo={exports:{}};(function(n){function e(t,r){(r==null||r>t.length)&&(r=t.length);for(var i=0,s=new Array(r);i<r;i++)s[i]=t[i];return s}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(Zo);(function(n){var e=Zo.exports;function t(r,i){if(!!r){if(typeof r=="string")return e(r,i);var s=Object.prototype.toString.call(r).slice(8,-1);if(s==="Object"&&r.constructor&&(s=r.constructor.name),s==="Map"||s==="Set")return Array.from(r);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return e(r,i)}}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports})(Xo);var qc={exports:{}};(function(n){function e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(qc);(function(n){var e=Kc.exports,t=Wc.exports,r=Xo.exports,i=qc.exports;function s(o,a){return e(o)||t(o,a)||r(o,a)||i()}n.exports=s,n.exports.__esModule=!0,n.exports.default=n.exports})(Yo);var Yt={},W={},jv=re.exports;Object.defineProperty(W,"__esModule",{value:!0});W.controlDefaultValue=W.capitalize=W.camelize=W.cacheStringFunction=void 0;W.getDataAndAriaProps=Xv;W.isSymbol=W.isString=W.isOn=W.isObject=W.isFunction=W.isArray=W.hyphenate=void 0;W.renderHelper=Qv;W.resolvePropValue=Yv;W.toPx=Zv;var Yc=jv(Mn.exports),Xc=function(e){return typeof e=="function"};W.isFunction=Xc;var Nv=Symbol("controlDefaultValue");W.controlDefaultValue=Nv;var zv=Array.isArray;W.isArray=zv;var kv=function(e){return typeof e=="string"};W.isString=kv;var $v=function(e){return(0,Yc.default)(e)==="symbol"};W.isSymbol=$v;var Bv=function(e){return e!==null&&(0,Yc.default)(e)==="object"};W.isObject=Bv;var Fv=/^on[^a-z]/,Hv=function(e){return Fv.test(e)};W.isOn=Hv;var ls=function(e){var t=Object.create(null);return function(r){var i=t[r];return i||(t[r]=e(r))}};W.cacheStringFunction=ls;var Vv=/-(\w)/g,Gv=ls(function(n){return n.replace(Vv,function(e,t){return t?t.toUpperCase():""})});W.camelize=Gv;var Uv=/\B([A-Z])/g,Kv=ls(function(n){return n.replace(Uv,"-$1").toLowerCase()});W.hyphenate=Kv;var Wv=ls(function(n){return n.charAt(0).toUpperCase()+n.slice(1)});W.capitalize=Wv;var qv=Object.prototype.hasOwnProperty,Zc=function(e,t){return qv.call(e,t)};function Yv(n,e,t,r){var i=n[t];if(i!=null){var s=Zc(i,"default");if(s&&r===void 0){var o=i.default;r=i.type!==Function&&Xc(o)?o():o}i.type===Boolean&&(!Zc(e,t)&&!s?r=!1:r===""&&(r=!0))}return r}function Xv(n){return Object.keys(n).reduce(function(e,t){return(t.substr(0,5)==="data-"||t.substr(0,5)==="aria-")&&(e[t]=n[t]),e},{})}function Zv(n){return typeof n=="number"?"".concat(n,"px"):n}function Qv(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2?arguments[2]:void 0;return typeof n=="function"?n(e):n!=null?n:t}Object.defineProperty(Yt,"__esModule",{value:!0});Yt.default=void 0;var Qo=W;function Qc(){for(var n=[],e=0;e<arguments.length;e++){var t=e<0||arguments.length<=e?void 0:arguments[e];if(!!t){if((0,Qo.isString)(t))n.push(t);else if((0,Qo.isArray)(t))for(var r=0;r<t.length;r++){var i=Qc(t[r]);i&&n.push(i)}else if((0,Qo.isObject)(t))for(var s in t)t[s]&&n.push(s)}}return n.join(" ")}var Jv=Qc;Yt.default=Jv;var cs=re.exports;Object.defineProperty(as,"__esModule",{value:!0});as.default=void 0;var ot=Z.exports,e0=cs(ss.exports),t0=cs(fn.exports),Jc=cs(Yo.exports),n0=cs(Yt),r0=(0,ot.defineComponent)({name:"Notice",inheritAttrs:!1,props:["prefixCls","duration","updateMark","noticeKey","closeIcon","closable","props","onClick","onClose","holder","visible"],setup:function(e,t){var r=t.attrs,i=t.slots,s,o=(0,ot.computed)(function(){return e.duration===void 0?1.5:e.duration}),a=function(){o.value&&(s=setTimeout(function(){l()},o.value*1e3))},c=function(){s&&(clearTimeout(s),s=null)},l=function(d){d&&d.stopPropagation(),c();var p=e.onClose,v=e.noticeKey;p&&p(v)},u=function(){c(),a()};return(0,ot.onMounted)(function(){a()}),(0,ot.onUnmounted)(function(){c()}),(0,ot.watch)([o,function(){return e.updateMark},function(){return e.visible}],function(h,d){var p=(0,Jc.default)(h,3),v=p[0],M=p[1],_=p[2],m=(0,Jc.default)(d,3),w=m[0],g=m[1],y=m[2];(v!==w||M!==g||_!==y&&y)&&u()},{flush:"post"}),function(){var h,d,p=e.prefixCls,v=e.closable,M=e.closeIcon,_=M===void 0?(h=i.closeIcon)===null||h===void 0?void 0:h.call(i):M,m=e.onClick,w=e.holder,g=r.class,y=r.style,b="".concat(p,"-notice"),C=Object.keys(r).reduce(function(x,R){return(R.substr(0,5)==="data-"||R.substr(0,5)==="aria-"||R==="role")&&(x[R]=r[R]),x},{}),S=(0,ot.createVNode)("div",(0,e0.default)({class:(0,n0.default)(b,g,(0,t0.default)({},"".concat(b,"-closable"),v)),style:y,onMouseenter:c,onMouseleave:a,onClick:m},C),[(0,ot.createVNode)("div",{class:"".concat(b,"-content")},[(d=i.default)===null||d===void 0?void 0:d.call(i)]),v?(0,ot.createVNode)("a",{tabindex:0,onClick:l,class:"".concat(b,"-close")},[_||(0,ot.createVNode)("span",{class:"".concat(b,"-close-x")},null)]):null]);return w?(0,ot.createVNode)(ot.Teleport,{to:w},{default:function(){return S}}):S}}});as.default=r0;var ze={},us={},hs={},Kn={},ds={},kr={},ps={};Object.defineProperty(ps,"__esModule",{value:!0});ps.default=void 0;var i0={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages"};ps.default=i0;var $r={},fs={};Object.defineProperty(fs,"__esModule",{value:!0});fs.default=void 0;var s0={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},o0=s0;fs.default=o0;var Br={};Object.defineProperty(Br,"__esModule",{value:!0});Br.default=void 0;var a0={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},l0=a0;Br.default=l0;var Jo=re.exports;Object.defineProperty($r,"__esModule",{value:!0});$r.default=void 0;var eu=Jo(We.exports),c0=Jo(fs),u0=Jo(Br),h0={lang:(0,eu.default)({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},c0.default),timePickerLocale:(0,eu.default)({},u0.default)},d0=h0;$r.default=d0;var ms={},p0=re.exports;Object.defineProperty(ms,"__esModule",{value:!0});ms.default=void 0;var f0=p0($r),m0=f0.default;ms.default=m0;var gs=re.exports;Object.defineProperty(kr,"__esModule",{value:!0});kr.default=void 0;var g0=gs(ps),y0=gs($r),v0=gs(Br),b0=gs(ms),He="${label} is not a valid ${type}",E0={locale:"en",Pagination:g0.default,DatePicker:y0.default,TimePicker:v0.default,Calendar:b0.default,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No Data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:He,method:He,array:He,object:He,number:He,date:He,boolean:He,integer:He,float:He,regexp:He,email:He,url:He,hex:He},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"}},M0=E0;kr.default=M0;var C0=re.exports;Object.defineProperty(ds,"__esModule",{value:!0});ds.default=void 0;var S0=C0(kr),w0=S0.default;ds.default=w0;var tu=re.exports;Object.defineProperty(Kn,"__esModule",{value:!0});Kn.default=void 0;Kn.useLocaleReceiver=x0;var Fr=tu(We.exports),Xt=Z.exports,ea=tu(ds),_0=(0,Xt.defineComponent)({name:"LocaleReceiver",props:{componentName:String,defaultLocale:{type:[Object,Function]},children:{type:Function}},setup:function(e,t){var r=t.slots,i=(0,Xt.inject)("localeData",{}),s=(0,Xt.computed)(function(){var a=e.componentName,c=a===void 0?"global":a,l=e.defaultLocale,u=l||ea.default[c||"global"],h=i.antLocale,d=c&&h?h[c]:{};return(0,Fr.default)((0,Fr.default)({},typeof u=="function"?u():u),d||{})}),o=(0,Xt.computed)(function(){var a=i.antLocale,c=a&&a.locale;return a&&a.exist&&!c?ea.default.locale:c});return function(){var a=e.children||r.default,c=i.antLocale;return a==null?void 0:a(s.value,o.value,c)}}});Kn.default=_0;function x0(n,e,t){var r=(0,Xt.inject)("localeData",{}),i=(0,Xt.computed)(function(){var s=r.antLocale,o=(0,Xt.unref)(e)||ea.default[n||"global"],a=n&&s?s[n]:{};return(0,Fr.default)((0,Fr.default)((0,Fr.default)({},typeof o=="function"?o():o),a||{}),(0,Xt.unref)(t)||{})});return[i]}var ys={},mn={};Object.defineProperty(mn,"__esModule",{value:!0});mn.default=void 0;var we=Z.exports,O0=ze,T0=function(e,t){var r=(0,we.inject)("configProvider",O0.defaultConfigProvider),i=(0,we.computed)(function(){return r.getPrefixCls(e,t.prefixCls)}),s=(0,we.computed)(function(){var g;return(g=t.direction)!==null&&g!==void 0?g:r.direction}),o=(0,we.computed)(function(){return r.getPrefixCls()}),a=(0,we.computed)(function(){return r.autoInsertSpaceInButton}),c=(0,we.computed)(function(){return r.renderEmpty}),l=(0,we.computed)(function(){return r.space}),u=(0,we.computed)(function(){return r.pageHeader}),h=(0,we.computed)(function(){return r.form}),d=(0,we.computed)(function(){return t.getTargetContainer||r.getTargetContainer}),p=(0,we.computed)(function(){return t.getPopupContainer||r.getPopupContainer}),v=(0,we.computed)(function(){var g;return(g=t.dropdownMatchSelectWidth)!==null&&g!==void 0?g:r.dropdownMatchSelectWidth}),M=(0,we.computed)(function(){return(t.virtual===void 0?r.virtual!==!1:t.virtual!==!1)&&v.value!==!1}),_=(0,we.computed)(function(){return t.size||r.componentSize}),m=(0,we.computed)(function(){var g;return t.autocomplete||((g=r.input)===null||g===void 0?void 0:g.autocomplete)}),w=(0,we.computed)(function(){return r.csp});return{configProvider:r,prefixCls:i,direction:s,size:_,getTargetContainer:d,getPopupContainer:p,space:l,pageHeader:u,form:h,autoInsertSpaceInButton:a,renderEmpty:c,virtual:M,dropdownMatchSelectWidth:v,rootPrefixCls:o,getPrefixCls:r.getPrefixCls,autocomplete:m,csp:w}};mn.default=T0;var R0=re.exports;Object.defineProperty(ys,"__esModule",{value:!0});ys.default=void 0;var qe=Z.exports,A0=R0(mn),nu=function(){var e=(0,A0.default)("empty",{}),t=e.getPrefixCls,r=t("empty-img-default");return(0,qe.createVNode)("svg",{class:r,width:"184",height:"152",viewBox:"0 0 184 152"},[(0,qe.createVNode)("g",{fill:"none","fill-rule":"evenodd"},[(0,qe.createVNode)("g",{transform:"translate(24 31.67)"},[(0,qe.createVNode)("ellipse",{class:"".concat(r,"-ellipse"),cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"},null),(0,qe.createVNode)("path",{class:"".concat(r,"-path-1"),d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z"},null),(0,qe.createVNode)("path",{class:"".concat(r,"-path-2"),d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",transform:"translate(13.56)"},null),(0,qe.createVNode)("path",{class:"".concat(r,"-path-3"),d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z"},null),(0,qe.createVNode)("path",{class:"".concat(r,"-path-4"),d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z"},null)]),(0,qe.createVNode)("path",{class:"".concat(r,"-path-5"),d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z"},null),(0,qe.createVNode)("g",{class:"".concat(r,"-g"),transform:"translate(149.65 15.383)"},[(0,qe.createVNode)("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"},null),(0,qe.createVNode)("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"},null)])])])};nu.PRESENTED_IMAGE_DEFAULT=!0;var P0=nu;ys.default=P0;var vs={},L0=re.exports;Object.defineProperty(vs,"__esModule",{value:!0});vs.default=void 0;var Wn=Z.exports,I0=L0(mn),ru=function(){var e=(0,I0.default)("empty",{}),t=e.getPrefixCls,r=t("empty-img-simple");return(0,Wn.createVNode)("svg",{class:r,width:"64",height:"41",viewBox:"0 0 64 41"},[(0,Wn.createVNode)("g",{transform:"translate(0 1)",fill:"none","fill-rule":"evenodd"},[(0,Wn.createVNode)("ellipse",{class:"".concat(r,"-ellipse"),fill:"#F5F5F5",cx:"32",cy:"33",rx:"32",ry:"7"},null),(0,Wn.createVNode)("g",{class:"".concat(r,"-g"),"fill-rule":"nonzero",stroke:"#D9D9D9"},[(0,Wn.createVNode)("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"},null),(0,Wn.createVNode)("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:"#FAFAFA",class:"".concat(r,"-path")},null)])])])};ru.PRESENTED_IMAGE_SIMPLE=!0;var D0=ru;vs.default=D0;var iu={},su={exports:{}},ou={exports:{}};(function(n){var e=Zo.exports;function t(r){if(Array.isArray(r))return e(r)}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports})(ou);var au={exports:{}};(function(n){function e(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(au);var lu={exports:{}};(function(n){function e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(lu);(function(n){var e=ou.exports,t=au.exports,r=Xo.exports,i=lu.exports;function s(o){return e(o)||t(o)||r(o)||i()}n.exports=s,n.exports.__esModule=!0,n.exports.default=n.exports})(su);var j0=typeof ri=="object"&&ri&&ri.Object===Object&&ri,N0=j0,z0=N0,k0=typeof self=="object"&&self&&self.Object===Object&&self,$0=z0||k0||Function("return this")(),B0=$0,F0=B0,H0=F0.Symbol,cu=H0,uu=cu,hu=Object.prototype,V0=hu.hasOwnProperty,G0=hu.toString,Hr=uu?uu.toStringTag:void 0;function U0(n){var e=V0.call(n,Hr),t=n[Hr];try{n[Hr]=void 0;var r=!0}catch{}var i=G0.call(n);return r&&(e?n[Hr]=t:delete n[Hr]),i}var K0=U0,W0=Object.prototype,q0=W0.toString;function Y0(n){return q0.call(n)}var X0=Y0,du=cu,Z0=K0,Q0=X0,J0="[object Null]",eb="[object Undefined]",pu=du?du.toStringTag:void 0;function tb(n){return n==null?n===void 0?eb:J0:pu&&pu in Object(n)?Z0(n):Q0(n)}var nb=tb;function rb(n,e){return function(t){return n(e(t))}}var ib=rb,sb=ib,ob=sb(Object.getPrototypeOf,Object),ab=ob;function lb(n){return n!=null&&typeof n=="object"}var cb=lb,ub=nb,hb=ab,db=cb,pb="[object Object]",fb=Function.prototype,mb=Object.prototype,fu=fb.toString,gb=mb.hasOwnProperty,yb=fu.call(Object);function vb(n){if(!db(n)||ub(n)!=pb)return!1;var e=hb(n);if(e===null)return!0;var t=gb.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&fu.call(t)==yb}var bb=vb,bs={};Object.defineProperty(bs,"__esModule",{value:!0});bs.default=void 0;var Eb=function(e){return e!=null&&e!==""},Mb=Eb;bs.default=Mb;var Es={},Cb=re.exports;Object.defineProperty(Es,"__esModule",{value:!0});Es.default=void 0;var Sb=Cb(We.exports),wb=function(e,t){var r=(0,Sb.default)({},e);return Object.keys(t).forEach(function(i){var s=r[i];if(s)s.type||s.default?s.default=t[i]:s.def?s.def(t[i]):r[i]={type:s,default:t[i]};else throw new Error("not have ".concat(i," prop"))}),r},_b=wb;Es.default=_b;(function(n){var e=re.exports;Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"camelize",{enumerable:!0,get:function(){return l.camelize}}),n.default=void 0,n.filterEmpty=er,n.filterEmptyWithUndefined=ei,n.getAttrs=n.getAllProps=n.getAllChildren=n.flattenChildren=n.findDOMNode=void 0,n.getClass=ct,n.getComponentFromProp=n.getComponent=void 0,n.getComponentName=Jn,n.getDataEvents=Oe,n.getEvent=ye,n.getEvents=ie,n.getKey=void 0,n.getListeners=Ve,n.getPropsData=n.getOptionProps=void 0,n.getPropsSlot=Ps,n.getSlots=n.getSlotOptions=n.getSlot=void 0,n.getStyle=Qe,n.hasProp=n.getValueByProp=n.getTextFromElement=void 0,Object.defineProperty(n,"initDefaultProps",{enumerable:!0,get:function(){return h.default}}),n.isEmptyContent=Qr,n.isEmptyElement=Dt,n.isEmptySlot=As,n.isFragment=yn,n.isStringElement=Jr,n.isValidElement=ni,n.mergeProps=ti,n.splitAttrs=n.slotHasProp=n.parseStyleText=void 0;var t=e(Yo.exports),r=e(su.exports),i=e(We.exports),s=e(Mn.exports),o=e(bb),a=e(Yt),c=Z.exports,l=W,u=e(bs),h=e(Es),d=void 0,p=function(T){for(var P=Object.keys(T),N={},z={},D={},G=0,F=P.length;G<F;G++){var Q=P[G];(0,l.isOn)(Q)?(N[Q[2].toLowerCase()+Q.slice(3)]=T[Q],z[Q]=T[Q]):D[Q]=T[Q]}return{onEvents:z,events:N,extraAttrs:D}};n.splitAttrs=p;var v=function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",P=arguments.length>1?arguments[1]:void 0,N={},z=/;(?![^(]*\))/g,D=/:(.+)/;return(0,s.default)(T)==="object"?T:(T.split(z).forEach(function(G){if(G){var F=G.split(D);if(F.length>1){var Q=P?(0,l.camelize)(F[0].trim()):F[0].trim();N[Q]=F[1].trim()}}}),N)};n.parseStyleText=v;var M=function(T,P){return T[P]!==void 0};n.hasProp=M;var _=function(T,P){return M(T,P)};n.slotHasProp=_;var m=function(T){return T.data&&T.data.scopedSlots||{}},w=function(T){var P=T.componentOptions||{};T.$vnode&&(P=T.$vnode.componentOptions||{});var N=T.children||P.children||[],z={};return N.forEach(function(D){if(!Dt(D)){var G=D.data&&D.data.slot||"default";z[G]=z[G]||[],z[G].push(D)}}),(0,i.default)((0,i.default)({},z),m(T))};n.getSlots=w;var g=function L(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,N=Array.isArray(T)?T:[T],z=[];return N.forEach(function(D){Array.isArray(D)?z.push.apply(z,(0,r.default)(L(D,P))):D&&D.type===c.Fragment?z.push.apply(z,(0,r.default)(L(D.children,P))):D&&(0,c.isVNode)(D)?P&&!Dt(D)?z.push(D):P||z.push(D):(0,u.default)(D)&&z.push(D)}),z};n.flattenChildren=g;var y=function(T){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"default",N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if((0,c.isVNode)(T))return T.type===c.Fragment?P==="default"?g(T.children):[]:T.children&&T.children[P]?g(T.children[P](N)):[];var z=T.$slots[P]&&T.$slots[P](N);return g(z)};n.getSlot=y;var b=function(T){var P=T.componentOptions||{};return T.$vnode&&(P=T.$vnode.componentOptions||{}),T.children||P.children||[]};n.getAllChildren=b;var C=function(){throw Error("\u4F7F\u7528 .type \u76F4\u63A5\u53D6\u503C")};n.getSlotOptions=C;var S=function(T){for(var P,N=((P=T==null?void 0:T.vnode)===null||P===void 0?void 0:P.el)||T&&(T.$el||T);N&&!N.tagName;)N=N.nextSibling;return N};n.findDOMNode=S;var x=function(T){var P={};if(T.$&&T.$.vnode){var N=T.$.vnode.props||{};Object.keys(T.$props).forEach(function(F){var Q=T.$props[F],O=(0,l.hyphenate)(F);(Q!==void 0||O in N)&&(P[F]=Q)})}else if((0,c.isVNode)(T)&&(0,s.default)(T.type)==="object"){var z=T.props||{},D={};Object.keys(z).forEach(function(F){D[(0,l.camelize)(F)]=z[F]});var G=T.type.props||{};Object.keys(G).forEach(function(F){var Q=(0,l.resolvePropValue)(G,D,F,D[F]);(Q!==void 0||F in D)&&(P[F]=Q)})}return P};n.getOptionProps=x;var R=function(T){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"default",N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:T,z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,D=void 0;if(T.$){var G=T[P];if(G!==void 0)return typeof G=="function"&&z?G(N):G;D=T.$slots[P],D=z&&D?D(N):D}else if((0,c.isVNode)(T)){var F=T.props&&T.props[P];if(F!==void 0&&T.props!==null)return typeof F=="function"&&z?F(N):F;T.type===c.Fragment?D=T.children:T.children&&T.children[P]&&(D=T.children[P],D=z&&D?D(N):D)}return Array.isArray(D)&&(D=g(D),D=D.length===1?D[0]:D,D=D.length===0?void 0:D),D};n.getComponent=R;var I=function(T,P){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:T,z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;if(T.$createElement){var D=T[P];return D!==void 0?typeof D=="function"&&z?D(c.h,N):D:T.$scopedSlots[P]&&z&&T.$scopedSlots[P](N)||T.$scopedSlots[P]||T.$slots[P]||void 0}else{var G=B(T)[P];if(G!==void 0)return typeof G=="function"&&z?G(c.h,N):G;var F=m(T)[P];if(F!==void 0)return typeof F=="function"&&z?F(c.h,N):F;var Q=[],O=T.componentOptions||{};return(O.children||[]).forEach(function(j){j.data&&j.data.slot===P&&(j.data.attrs&&delete j.data.attrs.slot,j.tag==="template"?Q.push(j.children):Q.push(j))}),Q.length?Q:void 0}};n.getComponentFromProp=I;var k=function(T){var P=x(T);return T.$?P=(0,i.default)((0,i.default)({},P),d.$attrs):P=(0,i.default)((0,i.default)({},T.props),P),P};n.getAllProps=k;var B=function(T){var P=T.$?T.$:T,N={},z=P.props||{},D={};Object.keys(z).forEach(function(F){D[(0,l.camelize)(F)]=z[F]});var G=(0,o.default)(P.type)?P.type.props:{};return G&&Object.keys(G).forEach(function(F){var Q=(0,l.resolvePropValue)(G,D,F,D[F]);F in D&&(N[F]=Q)}),(0,i.default)((0,i.default)({},D),N)};n.getPropsData=B;var q=function(T,P){return B(T)[P]};n.getValueByProp=q;var X=function(T){var P=T.data;return T.$vnode&&(P=T.$vnode.data),P?P.attrs||{}:{}};n.getAttrs=X;var ge=function(T){var P=T.key;return P};n.getKey=ge;function ie(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,P={};return L.$?P=(0,i.default)((0,i.default)({},P),L.$attrs):P=(0,i.default)((0,i.default)({},P),L.props),p(P)[T?"onEvents":"events"]}function ye(L,T){return L.props&&L.props[T]}function Oe(L){var T={};return L.data&&L.data.on&&(T=L.data.on),(0,i.default)({},T)}function Ve(L){return(L.$vnode?L.$vnode.componentOptions.listeners:L.$listeners)||{}}function ct(L){var T=((0,c.isVNode)(L)?L.props:L.$attrs)||{},P=T.class||{},N={};return typeof P=="string"?P.split(" ").forEach(function(z){N[z.trim()]=!0}):Array.isArray(P)?(0,a.default)(P).split(" ").forEach(function(z){N[z.trim()]=!0}):N=(0,i.default)((0,i.default)({},N),P),N}function Qe(L,T){var P=((0,c.isVNode)(L)?L.props:L.$attrs)||{},N=P.style||{};if(typeof N=="string")N=v(N,T);else if(T&&N){var z={};return Object.keys(N).forEach(function(D){return z[(0,l.camelize)(D)]=N[D]}),z}return N}function Jn(L){return L&&(L.Ctor.options.name||L.tag)}function yn(L){return L.length===1&&L[0].type===c.Fragment}function Qr(L){return L==null||L===""||Array.isArray(L)&&L.length===0}function Dt(L){return L&&(L.type===c.Comment||L.type===c.Fragment&&L.children.length===0||L.type===c.Text&&L.children.trim()==="")}function As(L){return!L||L().every(Dt)}function Jr(L){return L&&L.type===c.Text}function er(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],T=[];return L.forEach(function(P){Array.isArray(P)?T.push.apply(T,(0,r.default)(P)):P.type===c.Fragment?T.push.apply(T,(0,r.default)(P.children)):T.push(P)}),T.filter(function(P){return!Dt(P)})}function ei(L){if(L){var T=er(L);return T.length?T:void 0}else return L}function ti(){var L=[].slice.call(arguments,0),T={};return L.forEach(function(){for(var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},N=0,z=Object.entries(P);N<z.length;N++){var D=(0,t.default)(z[N],2),G=D[0],F=D[1];T[G]=T[G]||{},(0,o.default)(F)?(0,i.default)(T[G],F):T[G]=F}}),T}function ni(L){return Array.isArray(L)&&L.length===1&&(L=L[0]),L&&L.__v_isVNode&&(0,s.default)(L.type)!=="symbol"}function Ps(L,T){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"default",N,z;return(N=T[P])!==null&&N!==void 0?N:(z=L[P])===null||z===void 0?void 0:z.call(L)}var tr=function(T){return ni(T)&&Jr(T[0])?T[0].children:T};n.getTextFromElement=tr;var Ls=M;n.default=Ls})(iu);var Vr={},xb=En(Bh);Object.defineProperty(Vr,"__esModule",{value:!0});Vr.default=void 0;Vr.withUndefined=Tb;var Ob=xb,mu=(0,Ob.createTypes)({func:void 0,bool:void 0,string:void 0,number:void 0,array:void 0,object:void 0,integer:void 0});mu.extend([{name:"looseBool",getter:!0,type:Boolean,default:void 0},{name:"style",getter:!0,type:[String,Object],default:void 0},{name:"VueNode",getter:!0,type:null}]);function Tb(n){return n.default=void 0,n}var Rb=mu;Vr.default=Rb;var Pt=re.exports;Object.defineProperty(hs,"__esModule",{value:!0});hs.default=void 0;var Zt=Z.exports,Ab=Pt(ss.exports),gu=Pt(fn.exports),yu=Pt(We.exports),Pb=Pt(Yt),Lb=Pt(Kn),Ib=Pt(ys),Db=Pt(vs),jb=iu,vu=Pt(Vr),Nb=vt,zb=Pt(mn),kb=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},bu=(0,Zt.createVNode)(Ib.default,null,null),Eu=(0,Zt.createVNode)(Db.default,null,null),qn=function(e,t){var r=t.slots,i=r===void 0?{}:r,s=t.attrs,o,a=(0,zb.default)("empty",e),c=a.direction,l=a.prefixCls,u=l.value,h=(0,yu.default)((0,yu.default)({},e),s),d=h.image,p=d===void 0?bu:d,v=h.description,M=v===void 0?((o=i.description)===null||o===void 0?void 0:o.call(i))||void 0:v,_=h.imageStyle,m=h.class,w=m===void 0?"":m,g=kb(h,["image","description","imageStyle","class"]);return(0,Zt.createVNode)(Lb.default,{componentName:"Empty",children:function(b){var C,S=typeof M!="undefined"?M:b.description,x=typeof S=="string"?S:"empty",R=null;return typeof p=="string"?R=(0,Zt.createVNode)("img",{alt:x,src:p},null):R=p,(0,Zt.createVNode)("div",(0,Ab.default)({class:(0,Pb.default)(u,w,(C={},(0,gu.default)(C,"".concat(u,"-normal"),p===Eu),(0,gu.default)(C,"".concat(u,"-rtl"),c.value==="rtl"),C))},g),[(0,Zt.createVNode)("div",{class:"".concat(u,"-image"),style:_},[R]),S&&(0,Zt.createVNode)("p",{class:"".concat(u,"-description")},[S]),i.default&&(0,Zt.createVNode)("div",{class:"".concat(u,"-footer")},[(0,jb.filterEmpty)(i.default())])])}},null)};qn.displayName="AEmpty";qn.PRESENTED_IMAGE_DEFAULT=bu;qn.PRESENTED_IMAGE_SIMPLE=Eu;qn.inheritAttrs=!1;qn.props={prefixCls:String,image:vu.default.any,description:vu.default.any,imageStyle:{type:Object,default:void 0}};var $b=(0,Nb.withInstall)(qn);hs.default=$b;var Mu=re.exports;Object.defineProperty(us,"__esModule",{value:!0});us.default=void 0;var Ms=Z.exports,Gr=Mu(hs),Bb=Mu(mn),Fb=function(e){var t=(0,Bb.default)("empty",e),r=t.prefixCls,i=function(o){switch(o){case"Table":case"List":return(0,Ms.createVNode)(Gr.default,{image:Gr.default.PRESENTED_IMAGE_SIMPLE},null);case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return(0,Ms.createVNode)(Gr.default,{image:Gr.default.PRESENTED_IMAGE_SIMPLE,class:"".concat(r.value,"-small")},null);default:return(0,Ms.createVNode)(Gr.default,null,null)}};return i(e.componentName)};function Hb(n){return(0,Ms.createVNode)(Fb,{componentName:n},null)}var Vb=Hb;us.default=Vb;var Yn={},Cu={},at={};Object.defineProperty(at,"__esModule",{value:!0});at.call=na;at.default=void 0;at.note=wu;at.noteOnce=Ub;at.resetWarned=Gb;at.warning=Su;at.warningOnce=_u;var ta={};function Su(n,e){}function wu(n,e){}function Gb(){ta={}}function na(n,e,t){!e&&!ta[t]&&(n(!1,t),ta[t]=!0)}function _u(n,e){na(Su,n,e)}function Ub(n,e){na(wu,n,e)}var Kb=_u;at.default=Kb;(function(n){var e=Mn.exports;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,Object.defineProperty(n,"resetWarned",{enumerable:!0,get:function(){return t.resetWarned}});var t=i(at);function r(o){if(typeof WeakMap!="function")return null;var a=new WeakMap,c=new WeakMap;return(r=function(u){return u?c:a})(o)}function i(o,a){if(!a&&o&&o.__esModule)return o;if(o===null||e(o)!=="object"&&typeof o!="function")return{default:o};var c=r(a);if(c&&c.has(o))return c.get(o);var l={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in o)if(h!=="default"&&Object.prototype.hasOwnProperty.call(o,h)){var d=u?Object.getOwnPropertyDescriptor(o,h):null;d&&(d.get||d.set)?Object.defineProperty(l,h,d):l[h]=o[h]}return l.default=o,c&&c.set(o,l),l}var s=function(a,c){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";(0,t.default)(a,"[antdv: ".concat(c,"] ").concat(l))};n.default=s})(Cu);var xu=re.exports;Object.defineProperty(Yn,"__esModule",{value:!0});Yn.default=Yn.ANT_MARK=void 0;var Cs=xu(We.exports),Ss=Z.exports,Wb=xu(Cu),qb=vt,ra="internalMark";Yn.ANT_MARK=ra;var ws=(0,Ss.defineComponent)({name:"ALocaleProvider",props:{locale:{type:Object},ANT_MARK__:String},setup:function(e,t){var r=t.slots;(0,Wb.default)(e.ANT_MARK__===ra,"LocaleProvider","`LocaleProvider` is deprecated. Please use `locale` with `ConfigProvider` instead");var i=(0,Ss.reactive)({antLocale:(0,Cs.default)((0,Cs.default)({},e.locale),{exist:!0}),ANT_MARK__:ra});return(0,Ss.provide)("localeData",i),(0,Ss.watch)(function(){return e.locale},function(){i.antLocale=(0,Cs.default)((0,Cs.default)({},e.locale),{exist:!0})},{immediate:!0}),function(){var s;return(s=r.default)===null||s===void 0?void 0:s.call(r)}}});ws.install=function(n){return n.component(ws.name,ws),n};var Yb=(0,qb.withInstall)(ws);Yn.default=Yb;var Xn={},Ou={},ia={};Object.defineProperty(ia,"__esModule",{value:!0});var Xb={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"};ia.default=Xb;var lt={},sa={},me={},Tu=En(Fh),Ru={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=[],t=[],r="insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).";function i(){var a=document.createElement("style");return a.setAttribute("type","text/css"),a}function s(a,c){if(c=c||{},a===void 0)throw new Error(r);var l=c.prepend===!0?"prepend":"append",u=c.container!==void 0?c.container:document.querySelector("head"),h=e.indexOf(u);h===-1&&(h=e.push(u)-1,t[h]={});var d;return t[h]!==void 0&&t[h][l]!==void 0?d=t[h][l]:(d=t[h][l]=i(),l==="prepend"?u.insertBefore(d,u.childNodes[0]):u.appendChild(d)),a.charCodeAt(0)===65279&&(a=a.substr(1,a.length)),d.styleSheet?d.styleSheet.cssText+=a:d.textContent+=a,d}var o=s;n.default=o})(Ru);Object.defineProperty(me,"__esModule",{value:!0});me.warn=tE;me.warning=nE;me.isIconDefinition=rE;me.normalizeAttrs=iE;me.generate=aa;me.getSecondaryColor=sE;me.normalizeTwoToneColors=oE;me.useInsertStyles=me.iconStyles=me.svgBaseProps=void 0;var oa=Z.exports,Zb=Tu,Qb=Jb(Ru);function Jb(n){return n&&n.__esModule?n:{default:n}}function Au(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),r.forEach(function(i){eE(n,i,t[i])})}return n}function eE(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function tE(n,e){}function nE(n,e){}function rE(n){return typeof n=="object"&&typeof n.name=="string"&&typeof n.theme=="string"&&(typeof n.icon=="object"||typeof n.icon=="function")}function iE(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(n).reduce(function(e,t){var r=n[t];switch(t){case"class":e.className=r,delete e.class;break;default:e[t]=r}return e},{})}function aa(n,e,t){return t?(0,oa.h)(n.tag,Au({key:e},t,n.attrs),(n.children||[]).map(function(r,i){return aa(r,"".concat(e,"-").concat(n.tag,"-").concat(i))})):(0,oa.h)(n.tag,Au({key:e},n.attrs),(n.children||[]).map(function(r,i){return aa(r,"".concat(e,"-").concat(n.tag,"-").concat(i))}))}function sE(n){return(0,Zb.generate)(n)[0]}function oE(n){return n?Array.isArray(n)?n:[n]:[]}var aE={width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",focusable:"false"};me.svgBaseProps=aE;var Pu=`
.anticon {
  display: inline-block;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`;me.iconStyles=Pu;var Lu=!1,lE=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Pu;(0,oa.nextTick)(function(){Lu||(typeof window!="undefined"&&window.document&&window.document.documentElement&&(0,Qb.default)(e,{prepend:!0}),Lu=!0)})};me.useInsertStyles=lE;(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=me,t=["icon","primaryColor","secondaryColor"];function r(d,p){if(d==null)return{};var v=i(d,p),M,_;if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(d);for(_=0;_<m.length;_++)M=m[_],!(p.indexOf(M)>=0)&&(!Object.prototype.propertyIsEnumerable.call(d,M)||(v[M]=d[M]))}return v}function i(d,p){if(d==null)return{};var v={},M=Object.keys(d),_,m;for(m=0;m<M.length;m++)_=M[m],!(p.indexOf(_)>=0)&&(v[_]=d[_]);return v}function s(d){for(var p=1;p<arguments.length;p++){var v=arguments[p]!=null?Object(arguments[p]):{},M=Object.keys(v);typeof Object.getOwnPropertySymbols=="function"&&(M=M.concat(Object.getOwnPropertySymbols(v).filter(function(_){return Object.getOwnPropertyDescriptor(v,_).enumerable}))),M.forEach(function(_){o(d,_,v[_])})}return d}function o(d,p,v){return p in d?Object.defineProperty(d,p,{value:v,enumerable:!0,configurable:!0,writable:!0}):d[p]=v,d}var a={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function c(d){var p=d.primaryColor,v=d.secondaryColor;a.primaryColor=p,a.secondaryColor=v||(0,e.getSecondaryColor)(p),a.calculated=!!v}function l(){return s({},a)}var u=function(p,v){var M=s({},p,v.attrs),_=M.icon,m=M.primaryColor,w=M.secondaryColor,g=r(M,t),y=a;if(m&&(y={primaryColor:m,secondaryColor:w||(0,e.getSecondaryColor)(m)}),(0,e.useInsertStyles)(),(0,e.warning)((0,e.isIconDefinition)(_),"icon should be icon definiton, but got ".concat(_)),!(0,e.isIconDefinition)(_))return null;var b=_;return b&&typeof b.icon=="function"&&(b=s({},b,{icon:b.icon(y.primaryColor,y.secondaryColor)})),(0,e.generate)(b.icon,"svg-".concat(b.name),s({},g,{"data-icon":b.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"}))};u.props={icon:Object,primaryColor:String,secondaryColor:String,focusable:String},u.inheritAttrs=!1,u.displayName="IconBase",u.getTwoToneColors=l,u.setTwoToneColors=c;var h=u;n.default=h})(sa);var _s={};Object.defineProperty(_s,"__esModule",{value:!0});_s.setTwoToneColor=gE;_s.getTwoToneColor=yE;var Iu=uE(sa),cE=me;function uE(n){return n&&n.__esModule?n:{default:n}}function hE(n,e){return mE(n)||fE(n,e)||pE(n,e)||dE()}function dE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pE(n,e){if(!!n){if(typeof n=="string")return Du(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Du(n,e)}}function Du(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function fE(n,e){var t=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],i=!0,s=!1,o,a;try{for(t=t.call(n);!(i=(o=t.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(c){s=!0,a=c}finally{try{!i&&t.return!=null&&t.return()}finally{if(s)throw a}}return r}}function mE(n){if(Array.isArray(n))return n}function gE(n){var e=(0,cE.normalizeTwoToneColors)(n),t=hE(e,2),r=t[0],i=t[1];return Iu.default.setTwoToneColors({primaryColor:r,secondaryColor:i})}function yE(){var n=Iu.default.getTwoToneColors();return n.calculated?[n.primaryColor,n.secondaryColor]:n.primaryColor}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=Z.exports,t=o(sa),r=_s,i=me,s=["class","icon","spin","rotate","tabindex","twoToneColor","onClick"];function o(g){return g&&g.__esModule?g:{default:g}}function a(g,y){return d(g)||h(g,y)||l(g,y)||c()}function c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l(g,y){if(!!g){if(typeof g=="string")return u(g,y);var b=Object.prototype.toString.call(g).slice(8,-1);if(b==="Object"&&g.constructor&&(b=g.constructor.name),b==="Map"||b==="Set")return Array.from(g);if(b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return u(g,y)}}function u(g,y){(y==null||y>g.length)&&(y=g.length);for(var b=0,C=new Array(y);b<y;b++)C[b]=g[b];return C}function h(g,y){var b=g==null?null:typeof Symbol!="undefined"&&g[Symbol.iterator]||g["@@iterator"];if(b!=null){var C=[],S=!0,x=!1,R,I;try{for(b=b.call(g);!(S=(R=b.next()).done)&&(C.push(R.value),!(y&&C.length===y));S=!0);}catch(k){x=!0,I=k}finally{try{!S&&b.return!=null&&b.return()}finally{if(x)throw I}}return C}}function d(g){if(Array.isArray(g))return g}function p(g){for(var y=1;y<arguments.length;y++){var b=arguments[y]!=null?Object(arguments[y]):{},C=Object.keys(b);typeof Object.getOwnPropertySymbols=="function"&&(C=C.concat(Object.getOwnPropertySymbols(b).filter(function(S){return Object.getOwnPropertyDescriptor(b,S).enumerable}))),C.forEach(function(S){v(g,S,b[S])})}return g}function v(g,y,b){return y in g?Object.defineProperty(g,y,{value:b,enumerable:!0,configurable:!0,writable:!0}):g[y]=b,g}function M(g,y){if(g==null)return{};var b=_(g,y),C,S;if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(g);for(S=0;S<x.length;S++)C=x[S],!(y.indexOf(C)>=0)&&(!Object.prototype.propertyIsEnumerable.call(g,C)||(b[C]=g[C]))}return b}function _(g,y){if(g==null)return{};var b={},C=Object.keys(g),S,x;for(x=0;x<C.length;x++)S=C[x],!(y.indexOf(S)>=0)&&(b[S]=g[S]);return b}(0,r.setTwoToneColor)("#1890ff");var m=function(y,b){var C,S=p({},y,b.attrs),x=S.class,R=S.icon,I=S.spin,k=S.rotate,B=S.tabindex,q=S.twoToneColor,X=S.onClick,ge=M(S,s),ie=(C={anticon:!0},v(C,"anticon-".concat(R.name),Boolean(R.name)),v(C,x,x),C),ye=I===""||!!I||R.name==="loading"?"anticon-spin":"",Oe=B;Oe===void 0&&X&&(Oe=-1,ge.tabindex=Oe);var Ve=k?{msTransform:"rotate(".concat(k,"deg)"),transform:"rotate(".concat(k,"deg)")}:void 0,ct=(0,i.normalizeTwoToneColors)(q),Qe=a(ct,2),Jn=Qe[0],yn=Qe[1];return(0,e.createVNode)("span",p({role:"img","aria-label":R.name},ge,{onClick:X,class:ie}),[(0,e.createVNode)(t.default,{class:ye,icon:R,primaryColor:Jn,secondaryColor:yn,style:Ve},null)])};m.props={spin:Boolean,rotate:Number,icon:Object,twoToneColor:String},m.displayName="AntdIcon",m.inheritAttrs=!1,m.getTwoToneColor=r.getTwoToneColor,m.setTwoToneColor=r.setTwoToneColor;var w=m;n.default=w})(lt);(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=Z.exports,t=i(ia),r=i(lt);function i(l){return l&&l.__esModule?l:{default:l}}function s(l){for(var u=1;u<arguments.length;u++){var h=arguments[u]!=null?Object(arguments[u]):{},d=Object.keys(h);typeof Object.getOwnPropertySymbols=="function"&&(d=d.concat(Object.getOwnPropertySymbols(h).filter(function(p){return Object.getOwnPropertyDescriptor(h,p).enumerable}))),d.forEach(function(p){o(l,p,h[p])})}return l}function o(l,u,h){return u in l?Object.defineProperty(l,u,{value:h,enumerable:!0,configurable:!0,writable:!0}):l[u]=h,l}var a=function(u,h){var d=s({},u,h.attrs);return(0,e.createVNode)(r.default,s({},d,{icon:t.default}),null)};a.displayName="CheckCircleOutlined",a.inheritAttrs=!1;var c=a;n.default=c})(Ou);var ju={},la={};Object.defineProperty(la,"__esModule",{value:!0});var vE={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"};la.default=vE;(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=Z.exports,t=i(la),r=i(lt);function i(l){return l&&l.__esModule?l:{default:l}}function s(l){for(var u=1;u<arguments.length;u++){var h=arguments[u]!=null?Object(arguments[u]):{},d=Object.keys(h);typeof Object.getOwnPropertySymbols=="function"&&(d=d.concat(Object.getOwnPropertySymbols(h).filter(function(p){return Object.getOwnPropertyDescriptor(h,p).enumerable}))),d.forEach(function(p){o(l,p,h[p])})}return l}function o(l,u,h){return u in l?Object.defineProperty(l,u,{value:h,enumerable:!0,configurable:!0,writable:!0}):l[u]=h,l}var a=function(u,h){var d=s({},u,h.attrs);return(0,e.createVNode)(r.default,s({},d,{icon:t.default}),null)};a.displayName="InfoCircleOutlined",a.inheritAttrs=!1;var c=a;n.default=c})(ju);var Nu={},ca={};Object.defineProperty(ca,"__esModule",{value:!0});var bE={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"}},{tag:"path",attrs:{d:"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"close-circle",theme:"outlined"};ca.default=bE;(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=Z.exports,t=i(ca),r=i(lt);function i(l){return l&&l.__esModule?l:{default:l}}function s(l){for(var u=1;u<arguments.length;u++){var h=arguments[u]!=null?Object(arguments[u]):{},d=Object.keys(h);typeof Object.getOwnPropertySymbols=="function"&&(d=d.concat(Object.getOwnPropertySymbols(h).filter(function(p){return Object.getOwnPropertyDescriptor(h,p).enumerable}))),d.forEach(function(p){o(l,p,h[p])})}return l}function o(l,u,h){return u in l?Object.defineProperty(l,u,{value:h,enumerable:!0,configurable:!0,writable:!0}):l[u]=h,l}var a=function(u,h){var d=s({},u,h.attrs);return(0,e.createVNode)(r.default,s({},d,{icon:t.default}),null)};a.displayName="CloseCircleOutlined",a.inheritAttrs=!1;var c=a;n.default=c})(Nu);var zu={},ua={};Object.defineProperty(ua,"__esModule",{value:!0});var EE={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"};ua.default=EE;(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=Z.exports,t=i(ua),r=i(lt);function i(l){return l&&l.__esModule?l:{default:l}}function s(l){for(var u=1;u<arguments.length;u++){var h=arguments[u]!=null?Object(arguments[u]):{},d=Object.keys(h);typeof Object.getOwnPropertySymbols=="function"&&(d=d.concat(Object.getOwnPropertySymbols(h).filter(function(p){return Object.getOwnPropertyDescriptor(h,p).enumerable}))),d.forEach(function(p){o(l,p,h[p])})}return l}function o(l,u,h){return u in l?Object.defineProperty(l,u,{value:h,enumerable:!0,configurable:!0,writable:!0}):l[u]=h,l}var a=function(u,h){var d=s({},u,h.attrs);return(0,e.createVNode)(r.default,s({},d,{icon:t.default}),null)};a.displayName="ExclamationCircleOutlined",a.inheritAttrs=!1;var c=a;n.default=c})(zu);var ku={},ha={};Object.defineProperty(ha,"__esModule",{value:!0});var ME={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"};ha.default=ME;(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=Z.exports,t=i(ha),r=i(lt);function i(l){return l&&l.__esModule?l:{default:l}}function s(l){for(var u=1;u<arguments.length;u++){var h=arguments[u]!=null?Object(arguments[u]):{},d=Object.keys(h);typeof Object.getOwnPropertySymbols=="function"&&(d=d.concat(Object.getOwnPropertySymbols(h).filter(function(p){return Object.getOwnPropertyDescriptor(h,p).enumerable}))),d.forEach(function(p){o(l,p,h[p])})}return l}function o(l,u,h){return u in l?Object.defineProperty(l,u,{value:h,enumerable:!0,configurable:!0,writable:!0}):l[u]=h,l}var a=function(u,h){var d=s({},u,h.attrs);return(0,e.createVNode)(r.default,s({},d,{icon:t.default}),null)};a.displayName="CloseOutlined",a.inheritAttrs=!1;var c=a;n.default=c})(ku);var bt=re.exports;Object.defineProperty(Xn,"__esModule",{value:!0});Xn.getInstance=Xn.default=void 0;var Lt=Z.exports,$u=bt(Hh),Bu=bt(We.exports),CE=bt(fn.exports),SE=bt(zr),wE=bt(Ou),_E=bt(ju),xE=bt(Nu),OE=bt(zu),TE=bt(ku),Ur=W,RE=ze,AE=bt(Yt),PE=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(h){o(h)}}function c(u){try{l(r.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})},gn={},Fu=4.5,Hu="24px",Vu="24px",da="",Gu="topRight",Uu=function(){return document.body},Ku=null,pa=!1,Wu;function LE(n){var e=n.duration,t=n.placement,r=n.bottom,i=n.top,s=n.getContainer,o=n.closeIcon,a=n.prefixCls;a!==void 0&&(da=a),e!==void 0&&(Fu=e),t!==void 0&&(Gu=t),r!==void 0&&(Vu=typeof r=="number"?"".concat(r,"px"):r),i!==void 0&&(Hu=typeof i=="number"?"".concat(i,"px"):i),s!==void 0&&(Uu=s),o!==void 0&&(Ku=o),n.rtl!==void 0&&(pa=n.rtl),n.maxCount!==void 0&&(Wu=n.maxCount)}function IE(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hu,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Vu,r;switch(n){case"topLeft":r={left:"0px",top:e,bottom:"auto"};break;case"topRight":r={right:"0px",top:e,bottom:"auto"};break;case"bottomLeft":r={left:"0px",top:"auto",bottom:t};break;default:r={right:"0px",top:"auto",bottom:t};break}return r}function DE(n,e){var t=n.prefixCls,r=n.placement,i=r===void 0?Gu:r,s=n.getContainer,o=s===void 0?Uu:s,a=n.top,c=n.bottom,l=n.closeIcon,u=l===void 0?Ku:l,h=n.appContext,d=(0,RE.globalConfig)(),p=d.getPrefixCls,v=p("notification",t||da),M="".concat(v,"-").concat(i,"-").concat(pa),_=gn[M];if(_){Promise.resolve(_).then(function(w){e(w)});return}var m=(0,AE.default)("".concat(v,"-").concat(i),(0,CE.default)({},"".concat(v,"-rtl"),pa===!0));SE.default.newInstance({name:"notification",prefixCls:t||da,class:m,style:IE(i,a,c),appContext:h,getContainer:o,closeIcon:function(g){var y=g.prefixCls,b=(0,Lt.createVNode)("span",{class:"".concat(y,"-close-x")},[(0,Ur.renderHelper)(u,{},(0,Lt.createVNode)(TE.default,{class:"".concat(y,"-close-icon")},null))]);return b},maxCount:Wu,hasTransitionName:!0},function(w){gn[M]=w,e(w)})}var jE={success:wE.default,info:_E.default,error:xE.default,warning:OE.default};function NE(n){var e=n.icon,t=n.type,r=n.description,i=n.message,s=n.btn,o=n.duration===void 0?Fu:n.duration;DE(n,function(a){a.notice({content:function(l){var u=l.prefixCls,h="".concat(u,"-notice"),d=null;if(e)d=function(){return(0,Lt.createVNode)("span",{class:"".concat(h,"-icon")},[(0,Ur.renderHelper)(e)])};else if(t){var p=jE[t];d=function(){return(0,Lt.createVNode)(p,{class:"".concat(h,"-icon ").concat(h,"-icon-").concat(t)},null)}}return(0,Lt.createVNode)("div",{class:d?"".concat(h,"-with-icon"):""},[d&&d(),(0,Lt.createVNode)("div",{class:"".concat(h,"-message")},[!r&&d?(0,Lt.createVNode)("span",{class:"".concat(h,"-message-single-line-auto-margin")},null):null,(0,Ur.renderHelper)(i)]),(0,Lt.createVNode)("div",{class:"".concat(h,"-description")},[(0,Ur.renderHelper)(r)]),s?(0,Lt.createVNode)("span",{class:"".concat(h,"-btn")},[(0,Ur.renderHelper)(s)]):null])},duration:o,closable:!0,onClose:n.onClose,onClick:n.onClick,key:n.key,style:n.style||{},class:n.class})})}var Kr={open:NE,close:function(e){Object.keys(gn).forEach(function(t){return Promise.resolve(gn[t]).then(function(r){r.removeNotice(e)})})},config:LE,destroy:function(){Object.keys(gn).forEach(function(e){Promise.resolve(gn[e]).then(function(t){t.destroy()}),delete gn[e]})}},zE=["success","info","warning","error"];zE.forEach(function(n){Kr[n]=function(e){return Kr.open((0,Bu.default)((0,Bu.default)({},e),{type:n}))}});Kr.warn=Kr.warning;var kE=function(e){return PE(void 0,void 0,void 0,$u.default.mark(function t(){return $u.default.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",null);case 1:case"end":return i.stop()}},t)}))};Xn.getInstance=kE;var $E=Kr;Xn.default=$E;var fa={},BE=En(Vh),Wr={},qr={};Object.defineProperty(qr,"__esModule",{value:!0});qr.default=void 0;function FE(){return!!(typeof window!="undefined"&&window.document&&window.document.createElement)}var HE=FE;qr.default=HE;var VE=re.exports;Object.defineProperty(Wr,"__esModule",{value:!0});Wr.injectCSS=ga;Wr.removeCSS=KE;Wr.updateCSS=WE;var GE=VE(qr),UE="vc-util-key";function qu(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=n.mark;return e?e.startsWith("data-")?e:"data-".concat(e):UE}function ma(n){if(n.attachTo)return n.attachTo;var e=document.querySelector("head");return e||document.body}function ga(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t,r;if(!(0,GE.default)())return null;var i=document.createElement("style");((t=e.csp)===null||t===void 0?void 0:t.nonce)&&(i.nonce=(r=e.csp)===null||r===void 0?void 0:r.nonce),i.innerHTML=n;var s=ma(e),o=s.firstChild;return e.prepend&&s.prepend?s.prepend(i):e.prepend&&o?s.insertBefore(i,o):s.appendChild(i),i}var ya=new Map;function Yu(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=ma(e);return Array.from(ya.get(t).children).find(function(r){return r.tagName==="STYLE"&&r.getAttribute(qu(e))===n})}function KE(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t,r=Yu(n,e);(t=r==null?void 0:r.parentNode)===null||t===void 0||t.removeChild(r)}function WE(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r,i,s,o=ma(t);if(!ya.has(o)){var a=ga("",t),c=a.parentNode;ya.set(o,c),c.removeChild(a)}var l=Yu(e,t);if(l)return((r=t.csp)===null||r===void 0?void 0:r.nonce)&&l.nonce!==((i=t.csp)===null||i===void 0?void 0:i.nonce)&&(l.nonce=(s=t.csp)===null||s===void 0?void 0:s.nonce),l.innerHTML!==n&&(l.innerHTML=n),l;var u=ga(n,t);return u.setAttribute(qu(t),e),u}var Xu={};(function(n){var e=Mn.exports;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,Object.defineProperty(n,"resetWarned",{enumerable:!0,get:function(){return t.resetWarned}});var t=i(at);function r(o){if(typeof WeakMap!="function")return null;var a=new WeakMap,c=new WeakMap;return(r=function(u){return u?c:a})(o)}function i(o,a){if(!a&&o&&o.__esModule)return o;if(o===null||e(o)!=="object"&&typeof o!="function")return{default:o};var c=r(a);if(c&&c.has(o))return c.get(o);var l={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in o)if(h!=="default"&&Object.prototype.hasOwnProperty.call(o,h)){var d=u?Object.getOwnPropertyDescriptor(o,h):null;d&&(d.get||d.set)?Object.defineProperty(l,h,d):l[h]=o[h]}return l.default=o,c&&c.set(o,l),l}var s=function(a,c,l){(0,t.default)(a,"[ant-design-vue: ".concat(c,"] ").concat(l))};n.default=s})(Xu);var Zu=re.exports;Object.defineProperty(fa,"__esModule",{value:!0});fa.registerTheme=QE;var va=BE,Qu=Tu,qE=Wr,YE=Zu(qr),XE=Zu(Xu),ZE="-ant-".concat(Date.now(),"-").concat(Math.random());function QE(n,e){var t={},r=function(u,h){var d=u.clone();return d=(h==null?void 0:h(d))||d,d.toRgbString()},i=function(u,h){var d=new va.TinyColor(u),p=(0,Qu.generate)(d.toRgbString());t["".concat(h,"-color")]=r(d),t["".concat(h,"-color-disabled")]=p[1],t["".concat(h,"-color-hover")]=p[4],t["".concat(h,"-color-active")]=p[7],t["".concat(h,"-color-outline")]=d.clone().setAlpha(.2).toRgbString(),t["".concat(h,"-color-deprecated-bg")]=p[1],t["".concat(h,"-color-deprecated-border")]=p[3]};if(e.primaryColor){i(e.primaryColor,"primary");var s=new va.TinyColor(e.primaryColor),o=(0,Qu.generate)(s.toRgbString());o.forEach(function(l,u){t["primary-".concat(u+1)]=l}),t["primary-color-deprecated-l-35"]=r(s,function(l){return l.lighten(35)}),t["primary-color-deprecated-l-20"]=r(s,function(l){return l.lighten(20)}),t["primary-color-deprecated-t-20"]=r(s,function(l){return l.tint(20)}),t["primary-color-deprecated-t-50"]=r(s,function(l){return l.tint(50)}),t["primary-color-deprecated-f-12"]=r(s,function(l){return l.setAlpha(l.getAlpha()*.12)});var a=new va.TinyColor(o[0]);t["primary-color-active-deprecated-f-30"]=r(a,function(l){return l.setAlpha(l.getAlpha()*.3)}),t["primary-color-active-deprecated-d-02"]=r(a,function(l){return l.darken(2)})}e.successColor&&i(e.successColor,"success"),e.warningColor&&i(e.warningColor,"warning"),e.errorColor&&i(e.errorColor,"error"),e.infoColor&&i(e.infoColor,"info");var c=Object.keys(t).map(function(l){return"--".concat(n,"-").concat(l,": ").concat(t[l],";")});(0,YE.default)()?(0,qE.updateCSS)(`
  :root {
    `.concat(c.join(`
`),`
  }
  `),"".concat(ZE,"-dynamic-theme")):(0,XE.default)(!1,"ConfigProvider","SSR do not support dynamic theme with css variables.")}var Ye={};Object.defineProperty(Ye,"__esModule",{value:!0});Ye.useProvideGlobalForm=Ye.useInjectGlobalForm=Ye.configProviderProps=Ye.GlobalFormContextKey=Ye.GlobalConfigContextKey=void 0;var Ju=Z.exports,ba=Symbol("GlobalFormContextKey");Ye.GlobalFormContextKey=ba;var JE=function(e){(0,Ju.provide)(ba,e)};Ye.useProvideGlobalForm=JE;var eM=function(){return(0,Ju.inject)(ba,{})};Ye.useInjectGlobalForm=eM;var tM=Symbol("GlobalConfigContextKey");Ye.GlobalConfigContextKey=tM;var nM=function(){return{getTargetContainer:{type:Function},getPopupContainer:{type:Function},prefixCls:String,getPrefixCls:{type:Function},renderEmpty:{type:Function},transformCellText:{type:Function},csp:{type:Object,default:void 0},input:{type:Object},autoInsertSpaceInButton:{type:Boolean,default:void 0},locale:{type:Object,default:void 0},pageHeader:{type:Object},componentSize:{type:String},direction:{type:String},space:{type:Object},virtual:{type:Boolean,default:void 0},dropdownMatchSelectWidth:{type:[Number,Boolean],default:!0},form:{type:Object,default:void 0},notUpdateGlobalConfig:Boolean}};Ye.configProviderProps=nM;var Zn=re.exports,rM=Mn.exports;Object.defineProperty(ze,"__esModule",{value:!0});ze.globalConfigForApi=ze.globalConfig=ze.defaultPrefixCls=ze.defaultConfigProvider=ze.default=void 0;var _e=Z.exports,Qt=Zn(We.exports),eh=Zn(us),th=cM(Yn),iM=Zn(Kn),sM=Zn(Kt),oM=Zn(Xn),aM=fa,lM=Zn(kr),nh=Ye;function rh(n){if(typeof WeakMap!="function")return null;var e=new WeakMap,t=new WeakMap;return(rh=function(i){return i?t:e})(n)}function cM(n,e){if(!e&&n&&n.__esModule)return n;if(n===null||rM(n)!=="object"&&typeof n!="function")return{default:n};var t=rh(e);if(t&&t.has(n))return t.get(n);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in n)if(s!=="default"&&Object.prototype.hasOwnProperty.call(n,s)){var o=i?Object.getOwnPropertyDescriptor(n,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=n[s]}return r.default=n,t&&t.set(n,r),r}var ih="ant";ze.defaultPrefixCls=ih;function Qn(){return Xe.prefixCls||ih}var Ea=(0,_e.reactive)({}),sh=(0,_e.reactive)({}),Xe=(0,_e.reactive)({});ze.globalConfigForApi=Xe;(0,_e.watchEffect)(function(){(0,Qt.default)(Xe,Ea,sh),Xe.prefixCls=Qn(),Xe.getPrefixCls=function(n,e){return e||(n?"".concat(Xe.prefixCls,"-").concat(n):Xe.prefixCls)},Xe.getRootPrefixCls=function(n,e){return n||(Xe.prefixCls?Xe.prefixCls:e&&e.includes("-")?e.replace(/^(.*)-[^-]*$/,"$1"):Qn())}});var Ma,uM=function(e){Ma&&Ma(),Ma=(0,_e.watchEffect)(function(){(0,Qt.default)(sh,(0,_e.reactive)(e))}),e.theme&&(0,aM.registerTheme)(Qn(),e.theme)},hM=function(){return{getPrefixCls:function(t,r){return r||(t?"".concat(Qn(),"-").concat(t):Qn())},getRootPrefixCls:function(t,r){return t||(Xe.prefixCls?Xe.prefixCls:r&&r.includes("-")?r.replace(/^(.*)-[^-]*$/,"$1"):Qn())}}};ze.globalConfig=hM;var Yr=(0,_e.defineComponent)({name:"AConfigProvider",inheritAttrs:!1,props:(0,nh.configProviderProps)(),setup:function(e,t){var r=t.slots,i=function(h,d){var p=e.prefixCls,v=p===void 0?"ant":p;return d||(h?"".concat(v,"-").concat(h):v)},s=function(h){var d=e.renderEmpty||r.renderEmpty||eh.default;return d(h)},o=function(h,d){var p=e.prefixCls;if(d)return d;var v=p||i("");return h?"".concat(v,"-").concat(h):v},a=(0,_e.reactive)((0,Qt.default)((0,Qt.default)({},e),{getPrefixCls:o,renderEmpty:s}));Object.keys(e).forEach(function(u){(0,_e.watch)(function(){return e[u]},function(){a[u]=e[u]})}),e.notUpdateGlobalConfig||((0,Qt.default)(Ea,a),(0,_e.watch)(a,function(){(0,Qt.default)(Ea,a)}));var c=(0,_e.computed)(function(){var u,h,d={};return e.locale&&(d=((u=e.locale.Form)===null||u===void 0?void 0:u.defaultValidateMessages)||((h=lM.default.Form)===null||h===void 0?void 0:h.defaultValidateMessages)||{}),e.form&&e.form.validateMessages&&(d=(0,Qt.default)((0,Qt.default)({},d),e.form.validateMessages)),d});(0,nh.useProvideGlobalForm)({validateMessages:c}),(0,_e.provide)("configProvider",a);var l=function(h){var d;return(0,_e.createVNode)(th.default,{locale:e.locale||h,ANT_MARK__:th.ANT_MARK},{default:function(){return[(d=r.default)===null||d===void 0?void 0:d.call(r)]}})};return(0,_e.watchEffect)(function(){e.direction&&(sM.default.config({rtl:e.direction==="rtl"}),oM.default.config({rtl:e.direction==="rtl"}))}),function(){return(0,_e.createVNode)(iM.default,{children:function(h,d,p){return l(p)}},null)}}}),dM=(0,_e.reactive)({getPrefixCls:function(e,t){return t||(e?"ant-".concat(e):"ant")},renderEmpty:eh.default,direction:"ltr"});ze.defaultConfigProvider=dM;Yr.config=uM;Yr.install=function(n){n.component(Yr.name,Yr)};var pM=Yr;ze.default=pM;var xs=re.exports,fM=Mn.exports;Object.defineProperty(is,"__esModule",{value:!0});is.default=void 0;var xe=Z.exports,Xr=xs(ss.exports),oh=xs(fn.exports),Zr=xs(We.exports),mM=de,gM=xs(as),ah=yM(ze);function lh(n){if(typeof WeakMap!="function")return null;var e=new WeakMap,t=new WeakMap;return(lh=function(i){return i?t:e})(n)}function yM(n,e){if(!e&&n&&n.__esModule)return n;if(n===null||fM(n)!=="object"&&typeof n!="function")return{default:n};var t=lh(e);if(t&&t.has(n))return t.get(n);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in n)if(s!=="default"&&Object.prototype.hasOwnProperty.call(n,s)){var o=i?Object.getOwnPropertyDescriptor(n,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=n[s]}return r.default=n,t&&t.set(n,r),r}var vM=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},ch=0,bM=Date.now();function uh(){var n=ch;return ch+=1,"rcNotification_".concat(bM,"_").concat(n)}var Ca=(0,xe.defineComponent)({name:"Notification",inheritAttrs:!1,props:["prefixCls","transitionName","animation","maxCount","closeIcon"],setup:function(e,t){var r=t.attrs,i=t.expose,s=t.slots,o=new Map,a=(0,xe.ref)([]),c=(0,xe.computed)(function(){var h=e.prefixCls,d=e.animation,p=d===void 0?"fade":d,v=e.transitionName;return!v&&p&&(v="".concat(h,"-").concat(p)),(0,mM.getTransitionGroupProps)(v)}),l=function(d,p){var v=d.key||uh(),M=(0,Zr.default)((0,Zr.default)({},d),{key:v}),_=e.maxCount,m=a.value.map(function(g){return g.notice.key}).indexOf(v),w=a.value.concat();m!==-1?w.splice(m,1,{notice:M,holderCallback:p}):(_&&a.value.length>=_&&(M.key=w[0].notice.key,M.updateMark=uh(),M.userPassKey=v,w.shift()),w.push({notice:M,holderCallback:p})),a.value=w},u=function(d){a.value=a.value.filter(function(p){var v=p.notice,M=v.key,_=v.userPassKey,m=_||M;return m!==d})};return i({add:l,remove:u,notices:a}),function(){var h,d,p=e.prefixCls,v=e.closeIcon,M=v===void 0?(d=s.closeIcon)===null||d===void 0?void 0:d.call(s,{prefixCls:p}):v,_=a.value.map(function(w,g){var y=w.notice,b=w.holderCallback,C=g===a.value.length-1?y.updateMark:void 0,S=y.key,x=y.userPassKey,R=y.content,I=(0,Zr.default)((0,Zr.default)((0,Zr.default)({prefixCls:p,closeIcon:typeof M=="function"?M({prefixCls:p}):M},y),y.props),{key:S,noticeKey:x||S,updateMark:C,onClose:function(B){var q;u(B),(q=y.onClose)===null||q===void 0||q.call(y)},onClick:y.onClick});return b?(0,xe.createVNode)("div",{key:S,class:"".concat(p,"-hook-holder"),ref:function(B){typeof S!="undefined"&&(B?(o.set(S,B),b(B,I)):o.delete(S))}},null):(0,xe.createVNode)(gM.default,I,{default:function(){return[typeof R=="function"?R({prefixCls:p}):R]}})}),m=(h={},(0,oh.default)(h,p,1),(0,oh.default)(h,r.class,!!r.class),h);return(0,xe.createVNode)("div",{class:m,style:r.style||{top:"65px",left:"50%"}},[(0,xe.createVNode)(xe.TransitionGroup,(0,Xr.default)({tag:"div"},c.value),{default:function(){return[_]}})])}}});Ca.newInstance=function(e,t){var r=e||{},i=r.name,s=i===void 0?"notification":i,o=r.getContainer,a=r.appContext,c=r.prefixCls,l=r.rootPrefixCls,u=r.transitionName,h=r.hasTransitionName,d=vM(r,["name","getContainer","appContext","prefixCls","rootPrefixCls","transitionName","hasTransitionName"]),p=document.createElement("div");if(o){var v=o();v.appendChild(p)}else document.body.appendChild(p);var M=(0,xe.defineComponent)({name:"NotificationWrapper",setup:function(w,g){var y=g.attrs,b=(0,xe.ref)();return(0,xe.onMounted)(function(){t({notice:function(S){var x;(x=b.value)===null||x===void 0||x.add(S)},removeNotice:function(S){var x;(x=b.value)===null||x===void 0||x.remove(S)},destroy:function(){(0,xe.render)(null,p),p.parentNode&&p.parentNode.removeChild(p)},component:b})}),function(){var C=ah.globalConfigForApi,S=C.getPrefixCls(s,c),x=C.getRootPrefixCls(l,S),R=h?u:"".concat(x,"-").concat(u);return(0,xe.createVNode)(ah.default,(0,Xr.default)((0,Xr.default)({},C),{},{notUpdateGlobalConfig:!0,prefixCls:x}),{default:function(){return[(0,xe.createVNode)(Ca,(0,Xr.default)((0,Xr.default)({ref:b},y),{},{prefixCls:S,transitionName:R}),null)]}})}}}),_=(0,xe.createVNode)(M,d);_.appContext=a||_.appContext,(0,xe.render)(_,p)};var EM=Ca;is.default=EM;var MM=re.exports;Object.defineProperty(zr,"__esModule",{value:!0});zr.default=void 0;var CM=MM(is),SM=CM.default;zr.default=SM;var hh={},Sa={};Object.defineProperty(Sa,"__esModule",{value:!0});var wM={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"};Sa.default=wM;(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=Z.exports,t=i(Sa),r=i(lt);function i(l){return l&&l.__esModule?l:{default:l}}function s(l){for(var u=1;u<arguments.length;u++){var h=arguments[u]!=null?Object(arguments[u]):{},d=Object.keys(h);typeof Object.getOwnPropertySymbols=="function"&&(d=d.concat(Object.getOwnPropertySymbols(h).filter(function(p){return Object.getOwnPropertyDescriptor(h,p).enumerable}))),d.forEach(function(p){o(l,p,h[p])})}return l}function o(l,u,h){return u in l?Object.defineProperty(l,u,{value:h,enumerable:!0,configurable:!0,writable:!0}):l[u]=h,l}var a=function(u,h){var d=s({},u,h.attrs);return(0,e.createVNode)(r.default,s({},d,{icon:t.default}),null)};a.displayName="LoadingOutlined",a.inheritAttrs=!1;var c=a;n.default=c})(hh);var dh={},wa={};Object.defineProperty(wa,"__esModule",{value:!0});var _M={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"};wa.default=_M;(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=Z.exports,t=i(wa),r=i(lt);function i(l){return l&&l.__esModule?l:{default:l}}function s(l){for(var u=1;u<arguments.length;u++){var h=arguments[u]!=null?Object(arguments[u]):{},d=Object.keys(h);typeof Object.getOwnPropertySymbols=="function"&&(d=d.concat(Object.getOwnPropertySymbols(h).filter(function(p){return Object.getOwnPropertyDescriptor(h,p).enumerable}))),d.forEach(function(p){o(l,p,h[p])})}return l}function o(l,u,h){return u in l?Object.defineProperty(l,u,{value:h,enumerable:!0,configurable:!0,writable:!0}):l[u]=h,l}var a=function(u,h){var d=s({},u,h.attrs);return(0,e.createVNode)(r.default,s({},d,{icon:t.default}),null)};a.displayName="ExclamationCircleFilled",a.inheritAttrs=!1;var c=a;n.default=c})(dh);var ph={},_a={};Object.defineProperty(_a,"__esModule",{value:!0});var xM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"}}]},name:"close-circle",theme:"filled"};_a.default=xM;(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=Z.exports,t=i(_a),r=i(lt);function i(l){return l&&l.__esModule?l:{default:l}}function s(l){for(var u=1;u<arguments.length;u++){var h=arguments[u]!=null?Object(arguments[u]):{},d=Object.keys(h);typeof Object.getOwnPropertySymbols=="function"&&(d=d.concat(Object.getOwnPropertySymbols(h).filter(function(p){return Object.getOwnPropertyDescriptor(h,p).enumerable}))),d.forEach(function(p){o(l,p,h[p])})}return l}function o(l,u,h){return u in l?Object.defineProperty(l,u,{value:h,enumerable:!0,configurable:!0,writable:!0}):l[u]=h,l}var a=function(u,h){var d=s({},u,h.attrs);return(0,e.createVNode)(r.default,s({},d,{icon:t.default}),null)};a.displayName="CloseCircleFilled",a.inheritAttrs=!1;var c=a;n.default=c})(ph);var fh={},xa={};Object.defineProperty(xa,"__esModule",{value:!0});var OM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};xa.default=OM;(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=Z.exports,t=i(xa),r=i(lt);function i(l){return l&&l.__esModule?l:{default:l}}function s(l){for(var u=1;u<arguments.length;u++){var h=arguments[u]!=null?Object(arguments[u]):{},d=Object.keys(h);typeof Object.getOwnPropertySymbols=="function"&&(d=d.concat(Object.getOwnPropertySymbols(h).filter(function(p){return Object.getOwnPropertyDescriptor(h,p).enumerable}))),d.forEach(function(p){o(l,p,h[p])})}return l}function o(l,u,h){return u in l?Object.defineProperty(l,u,{value:h,enumerable:!0,configurable:!0,writable:!0}):l[u]=h,l}var a=function(u,h){var d=s({},u,h.attrs);return(0,e.createVNode)(r.default,s({},d,{icon:t.default}),null)};a.displayName="CheckCircleFilled",a.inheritAttrs=!1;var c=a;n.default=c})(fh);var mh={},Oa={};Object.defineProperty(Oa,"__esModule",{value:!0});var TM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"};Oa.default=TM;(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=Z.exports,t=i(Oa),r=i(lt);function i(l){return l&&l.__esModule?l:{default:l}}function s(l){for(var u=1;u<arguments.length;u++){var h=arguments[u]!=null?Object(arguments[u]):{},d=Object.keys(h);typeof Object.getOwnPropertySymbols=="function"&&(d=d.concat(Object.getOwnPropertySymbols(h).filter(function(p){return Object.getOwnPropertyDescriptor(h,p).enumerable}))),d.forEach(function(p){o(l,p,h[p])})}return l}function o(l,u,h){return u in l?Object.defineProperty(l,u,{value:h,enumerable:!0,configurable:!0,writable:!0}):l[u]=h,l}var a=function(u,h){var d=s({},u,h.attrs);return(0,e.createVNode)(r.default,s({},d,{icon:t.default}),null)};a.displayName="InfoCircleFilled",a.inheritAttrs=!1;var c=a;n.default=c})(mh);var It=re.exports;Object.defineProperty(Kt,"__esModule",{value:!0});Kt.attachTypeApi=Oh;Kt.getInstance=Th=Kt.default=void 0;Kt.getKeyThenIncreaseKey=xh;var Ta=Z.exports,gh=It(We.exports),yh=It(fn.exports),RM=It(zr),AM=It(hh),PM=It(dh),LM=It(ph),IM=It(fh),DM=It(mh),jM=It(Yt),vh=3,bh,Le,NM=1,Eh="",Mh="move-up",Ch=!1,Sh=function(){return document.body},wh,_h=!1;function xh(){return NM++}function zM(n){n.top!==void 0&&(bh=n.top,Le=null),n.duration!==void 0&&(vh=n.duration),n.prefixCls!==void 0&&(Eh=n.prefixCls),n.getContainer!==void 0&&(Sh=n.getContainer,Le=null),n.transitionName!==void 0&&(Mh=n.transitionName,Le=null,Ch=!0),n.maxCount!==void 0&&(wh=n.maxCount,Le=null),n.rtl!==void 0&&(_h=n.rtl)}function kM(n,e){if(Le){e(Le);return}RM.default.newInstance({appContext:n.appContext,prefixCls:n.prefixCls||Eh,rootPrefixCls:n.rootPrefixCls,transitionName:Mh,hasTransitionName:Ch,style:{top:bh},getContainer:Sh||n.getPopupContainer,maxCount:wh,name:"message"},function(t){if(Le){e(Le);return}Le=t,e(t)})}var $M={info:DM.default,success:IM.default,error:LM.default,warning:PM.default,loading:AM.default};function BM(n){var e=n.duration!==void 0?n.duration:vh,t=n.key||xh(),r=new Promise(function(s){var o=function(){return typeof n.onClose=="function"&&n.onClose(),s(!0)};kM(n,function(a){a.notice({key:t,duration:e,style:n.style||{},class:n.class,content:function(l){var u,h=l.prefixCls,d=$M[n.type],p=d?(0,Ta.createVNode)(d,null,null):"",v=(0,jM.default)("".concat(h,"-custom-content"),(u={},(0,yh.default)(u,"".concat(h,"-").concat(n.type),n.type),(0,yh.default)(u,"".concat(h,"-rtl"),_h===!0),u));return(0,Ta.createVNode)("div",{class:v},[typeof n.icon=="function"?n.icon():n.icon||p,(0,Ta.createVNode)("span",null,[typeof n.content=="function"?n.content():n.content])])},onClose:o,onClick:n.onClick})})}),i=function(){Le&&Le.removeNotice(t)};return i.then=function(s,o){return r.then(s,o)},i.promise=r,i}function FM(n){return Object.prototype.toString.call(n)==="[object Object]"&&!!n.content}var Os={open:BM,config:zM,destroy:function(e){if(Le)if(e){var t=Le,r=t.removeNotice;r(e)}else{var i=Le,s=i.destroy;s(),Le=null}}};function Oh(n,e){n[e]=function(t,r,i){return FM(t)?n.open((0,gh.default)((0,gh.default)({},t),{type:e})):(typeof r=="function"&&(i=r,r=void 0),n.open({content:t,duration:r,type:e,onClose:i}))}}["success","info","warning","error","loading"].forEach(function(n){return Oh(Os,n)});Os.warn=Os.warning;var HM=function(){return null};Kt.getInstance=HM;var VM=Os,Th=Kt.default=VM;const Ze=new bg;Ze.loaderManager.setPath("/vis-three/");const Ts=za("\u6B63\u5728\u52A0\u8F7D3D\u8D44\u6E90\uFF1A0%");let Ra;Ze.loaderManager.addEventListener("beforeLoad",()=>{Ts.value="\u6B63\u5728\u52A0\u8F7D3D\u8D44\u6E90\uFF1A0%",Ra=Th.loading({content:()=>Ts.value,duration:0})});Ze.loaderManager.addEventListener("loading",n=>{Ts.value=`\u6B63\u5728\u52A0\u8F7D3D\u8D44\u6E90\uFF1A${parseInt((n.loadSuccess/n.loadTotal*100).toString())}
    %`});Ze.loaderManager.addEventListener("loaded",n=>{Ra&&Ra(),Ts.value="\u6B63\u5728\u52A0\u8F7D3D\u8D44\u6E90\uFF1A0%"});(async()=>{$.injectEngine=Ze,$.injectScene=!0,$(E.WEBGLRENDERER,{clearColor:"rgba(10, 2, 10, 1)",physicallyCorrectLights:!0,toneMapping:Nd,toneMappingExposure:3}),$(E.ORBITCONTROLS,{autoRotate:!0,autoRotateSpeed:.5,enableDamping:!0,maxDistance:200,minDistance:100,enablePan:!1});const n=$(E.SCENE);Ze.setScene(n.vid);const e=$(E.PERSPECTIVECAMERA,{far:1e4,near:.01,position:{x:90,y:-90,z:100}});Ze.setCamera(e.vid).setSize();const t=await Ze.loadResourcesAsync(["/model/three.obj","/model/vis.obj","/texture/vis/colorMap.png","/skyBox/lightblue/px.png","/skyBox/lightblue/py.png","/skyBox/lightblue/pz.png","/skyBox/lightblue/nx.png","/skyBox/lightblue/ny.png","/skyBox/lightblue/nz.png"]),r=$(E.CUBETEXTURE,{cube:{px:"/skyBox/lightblue/px.png",py:"/skyBox/lightblue/py.png",pz:"/skyBox/lightblue/pz.png",nx:"/skyBox/lightblue/nx.png",ny:"/skyBox/lightblue/ny.png",nz:"/skyBox/lightblue/nz.png"}});n.background=r.vid,n.environment=r.vid,$(E.AMBIENTLIGHT,{intensity:1}),$(E.DIRECTIONALLIGHT,{color:"rgb(255, 255, 255)",position:{x:-10,y:40,z:20},intensity:1e3*4*Math.PI}),$(E.DIRECTIONALLIGHT,{color:"rgb(255, 255, 255)",position:{x:10,y:40,z:-20},intensity:1e3*4*Math.PI});const i=t.resourceConfig,s=$(E.LOADGEOMETRY,Object.assign(Object.values(i["/model/three.obj"].geometry)[0],{rotation:{x:Math.PI/2,y:-(Math.PI/180)*30},position:{x:.13,y:-.14},scale:{x:80,y:80,z:80}})),o=$(E.MESHSTANDARDMATERIAL,{color:"white",metalness:1,roughness:0,envMapIntensity:.8}),a=$(E.MESH,{geometry:s.vid,material:o.vid}),c=$(E.LOADGEOMETRY,Object.assign(Object.values(i["/model/vis.obj"].geometry)[0],{scale:{x:6,y:6,z:6}})),l=$(E.IMAGETEXTURE,{url:"/texture/vis/colorMap.png"}),u=$(E.MESHSTANDARDMATERIAL,{map:l.vid,metalness:1,roughness:0,transparent:!0,opacity:.8}),h=$(E.MESH,{geometry:c.vid,material:u.vid});$(E.SCRIPTANIMATION,{target:a.vid,attribute:".rotation.z",script:nn.generateConfig("linearTime",{multiply:.2})}),$(E.SCRIPTANIMATION,{target:h.vid,attribute:".rotation.y",script:nn.generateConfig("linearTime",{multiply:.7})}),console.log(Ze),Pa.done()})();const GM=Gh({setup(){const n=za(),e=t=>{window.location.href=t};return Uh(()=>{Ze.setDom(n.value).setSize().play(),window.addEventListener("resize",()=>{Ze.setSize()})}),Kh(()=>{Ze.dispose()}),{jump:e,docs:"/vis-three/docs/index.html",demo:"/vis-three/examples.html",github:"https://github.com/Shiotsukikaedesari/vis-three",gitee:"https://gitee.com/Shiotsukikaedesari/vis-three",renderWindow:n}}}),Rs=n=>(qh("data-v-887054fc"),n=n(),Yh(),n),UM={class:"App-container"},KM={class:"ui"},WM=Rs(()=>Jt("div",{class:"title"},"VIS-THREE",-1)),qM=Rs(()=>Jt("div",{class:"intro"},"more convenient development for three.js",-1)),YM=Rs(()=>Jt("div",{class:"split-line"},null,-1)),XM={class:"operation"},ZM=ii(" \u6587\u6863\uFF08docs\uFF09 "),QM=ii(" \u793A\u4F8B\uFF08demo\uFF09 "),JM=ii(" github "),e1=ii("gitee"),t1=Rs(()=>Jt("div",{class:"mask"},null,-1)),n1={ref:"renderWindow",class:"three"};function r1(n,e,t,r,i,s){const o=ka("a-button"),a=ka("github-outlined");return Xh(),Wh("div",UM,[Jt("div",KM,[WM,qM,YM,Jt("div",XM,[nr(o,{type:"link",size:"large",onClick:e[0]||(e[0]=c=>n.jump(n.docs))},{default:rr(()=>[ZM]),_:1}),nr(o,{type:"link",size:"large",onClick:e[1]||(e[1]=c=>n.jump(n.demo))},{default:rr(()=>[QM]),_:1}),nr(o,{type:"link",size:"large",onClick:e[2]||(e[2]=c=>n.jump(n.github))},{icon:rr(()=>[nr(a)]),default:rr(()=>[JM]),_:1}),nr(o,{type:"link",size:"large",onClick:e[3]||(e[3]=c=>n.jump(n.gitee))},{default:rr(()=>[e1]),_:1})])]),t1,Jt("div",n1,null,512)])}var i1=Rh(GM,[["render",r1],["__scopeId","data-v-887054fc"]]);Pa.start();Zh(i1).use(Qh).component($a.displayName,$a).mount("#app");
