## 配置化原理

介绍自定义配置化构建之前先来简单介绍一下配置化原理：

- **响应式配置**：通过`generateConfig`生成的配置，在函数内部会生成配置对象对应的观察者对象，然后将通过`proxy`代理过的对象抛出，这个抛出对象会对所有的对象操作进行拦截。

- **操作拦截与通知**：在对`proxy`对象进行对象属性操作的时候，内部的观察者会将所有相关操作比如：`add`, `set`, `delete`按照一定格式形成通知并抛出。

- **规则翻译与执行**：抛出的所有通知会经过`rule`规则函数，通过`rule`将规则进行处理翻译，比如哪种通知可以忽略，哪种通知是需要执行`compiler`操作。

- **编译器与处理器调用**：编译器`compiler`是一个带有状态和内存空间的对象，一般只指定宏观的操作与调度，但是具体的操作执行`compiler`会交给每个`config`对应的处理器`processor`进行执行。
  ![/image/start/middleware-principle.png](/image/start/middleware-principle.png)
