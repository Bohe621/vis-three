(function(i,t){typeof exports=="object"&&typeof module<"u"?t(exports,require("three"),require("three-csg-ts")):typeof define=="function"&&define.amd?define(["exports","three","three-csg-ts"],t):(i=typeof globalThis<"u"?globalThis:i||self,t((i["vis-three"]=i["vis-three"]||{},i["vis-three"]["library-modifier"]={}),i.three,i.threeCsgTs))})(this,function(i,t,o){"use strict";class s{constructor(e){this.visible=!0,e.visible&&(this.visible=e.visible)}}class r extends s{constructor(e){super(e),this.modifiedGeometry=new t.BufferGeometry,this.timer=0,this.throttling=1e3/15,e.source&&(this.source=e.source),e.target&&(this.target=e.target),this.mode=e.mode||"subtract"}set source(e){this._source=e,this.originalGeometry=this._source.geometry,this.modifiedGeometry.copy(this.originalGeometry),this.source.geometry=this.modifiedGeometry}get source(){return this._source}modify(){if(this._source&&this.target){const e=this._source,m={geometry:this.originalGeometry,matrix:this.source.matrixWorld},c={geometry:this.target.geometry,matrix:this.target.matrixWorld},d=o.CSG.fromMesh(m),n=o.CSG.fromMesh(c),u=o.CSG.toGeometry(d[this.mode](n),e.matrixWorld);this.modifiedGeometry.copy(u)}}render(){this.visible?this.timer||(this.timer=window.setTimeout(()=>{this.modify(),this.timer=0},this.throttling)):this.modifiedGeometry.copy(this.originalGeometry)}apply(){this.originalGeometry.copy(this.modifiedGeometry),this.source.geometry=this.originalGeometry}dispose(){this.source.geometry=this.originalGeometry,this.modifiedGeometry.dispose()}}i.BooleanModifier=r,i.Modifier=s,Object.defineProperty(i,Symbol.toStringTag,{value:"Module"})});
