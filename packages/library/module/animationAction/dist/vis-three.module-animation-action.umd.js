(function(e,n){typeof exports=="object"&&typeof module!="undefined"?n(exports,require("@vis-three/middleware"),require("uuid"),require("three"),require("three/src/animation/AnimationAction")):typeof define=="function"&&define.amd?define(["exports","@vis-three/middleware","uuid","three","three/src/animation/AnimationAction"],n):(e=typeof globalThis!="undefined"?globalThis:e||self,n((e["vis-three"]=e["vis-three"]||{},e["vis-three"]["module-animation-action"]={}),e.middleware,e.uuid,e.three,e.AnimationAction))})(this,function(e,n,p,o,l){"use strict";class a extends n.Compiler{constructor(){super()}}const d=function(i,t,c=p.validate){n.Rule(i,t,c)},s=function(){return Object.assign(n.getSymbolConfig(),{mixer:"",clip:"",clampWhenFinished:!0,enabled:!0,loop:o.LoopRepeat,paused:!1,repetitions:1/0,timeScale:1,weight:1,zeroSlopeAtEnd:!0,zeroSlopeAtStart:!0})},r=new l.AnimationAction(new o.AnimationMixer(new o.Object3D),new o.AnimationClip("empty",1,[]));var A=n.defineProcessor({type:"AnimationAction",config:s,commands:{add:{},set:{},delete:{}},create(i,t){if(!i.mixer)return console.warn("animation action processor must have mixer"),r;if(!i.clip)return console.warn("animation action processor must have clip"),r;const c=t.getObjectBySymbol(i.mixer);if(!c)return console.warn(`animation action processor can not found animation mixer in engine: ${i.mixer}`),r;const m=t.getObjectBySymbol(i.clip);if(!m)return console.warn(`animation action processor can not found animation clip in engine: ${i.clip}`),r;const u=c.clipAction(m);return u.play(),u},dispose(i){const t=i.getMixer();t.uncacheAction(i.getClip()),t.uncacheClip(i.getClip())}}),f={type:"animation-action",object:!0,compiler:a,rule:d,processors:[A],lifeOrder:n.SUPPORT_LIFE_CYCLE.NINE+1};e.AnimationActionCompiler=a,e.default=f,e.getAnimationActionConfig=s,Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
