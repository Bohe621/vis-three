(function(e,t){typeof exports=="object"&&typeof module!="undefined"?t(exports,require("@vis-three/middleware"),require("uuid"),require("three")):typeof define=="function"&&define.amd?define(["exports","@vis-three/middleware","uuid","three"],t):(e=typeof globalThis!="undefined"?globalThis:e||self,t((e["vis-three"]=e["vis-three"]||{},e["vis-three"]["module-curve"]={}),e.middleware,e.uuid,e.three))})(this,function(e,t,i,n){"use strict";var A=Object.defineProperty;var O=(e,t,i)=>t in e?A(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var c=(e,t,i)=>(O(e,typeof t!="symbol"?t+"":t,i),i);class y extends t.Compiler{constructor(){super()}}const C=function(s,o,u=i.validate){t.Rule(s,o,u)},m=function(){return Object.assign(t.getSymbolConfig(),{arcLengthDivisions:200})},x=function(){return Object.assign(m(),{start:{x:0,y:0},vertical:5,clockwise:!1,end:{x:0,y:0}})};class a extends n.EllipseCurve{constructor(u,l,h,V,v,p){super(0,0,1,1,0,Math.PI*2,!1,0);c(this,"start",new n.Vector2);c(this,"end",new n.Vector2);c(this,"vertical",0);c(this,"center",new n.Vector2);c(this,"tempVector",new n.Vector2);this.start.set(u,l),this.end.set(v,p),this.vertical=h;const d=this.tempVector,R=this.start,f=this.end,b=new n.Vector2((v+u)/2,(p+l)/2),r=this.center.copy(this.end).sub(this.start);r.set(-r.y,r.x).negate().normalize().multiplyScalar(h).add(b),this.aX=r.x,this.aY=r.y,this.xRadius=d.copy(f).sub(r).length(),this.yRadius=this.xRadius,this.aStartAngle=d.copy(R).sub(r).angle(),this.aEndAngle=d.copy(f).sub(r).angle(),this.aClockwise=V}}var g=t.defineProcessor({type:"ArcCurve",config:x,commands:{add:{},set:{},delete:{}},create(s,o){return new a(s.start.x,s.start.y,s.vertical,s.clockwise,s.end.x,s.end.y)},dispose(){}}),w={type:"curve",object:!0,compiler:y,rule:C,processors:[g],lifeOrder:t.SUPPORT_LIFE_CYCLE.ZERO-1};e.ArcCurve=a,e.default=w,Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
