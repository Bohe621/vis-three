(function(t,s){typeof exports=="object"&&typeof module<"u"?s(exports,require("@vis-three/tdcm"),require("@vis-three/module-object"),require("@vis-three/module-solid-object"),require("three")):typeof define=="function"&&define.amd?define(["exports","@vis-three/tdcm","@vis-three/module-object","@vis-three/module-solid-object","three"],s):(t=typeof globalThis<"u"?globalThis:t||self,s((t["vis-three"]=t["vis-three"]||{},t["vis-three"]["module-line"]={}),t.tdcm,t.moduleObject,t.moduleSolidObject,t.three))})(this,function(t,s,c,a,d){"use strict";const f=function(){return Object.assign(a.getSolidObjectConfig(),{geometry:"",material:"",dashed:!1})},u=function(){return f()},g=function(){return Object.assign(a.getSolidObjectConfig(),{geometry:"",material:""})},h=function(){return Object.assign(a.getSolidObjectConfig(),{geometry:"",material:""})},M=a.defineSolidObjectModel(E=>({type:"Line",config:f,context({model:e}){return{dashedLineEvent:()=>{e.puppet.computeLineDistances()}}},commands:{set:{dashed({model:e,config:n,target:o,value:i}){var r,L;if(o.material instanceof d.LineDashedMaterial&&i){(r=e.toModel(n.geometry))==null||r.on(s.MODEL_EVENT.COMPILED_UPDATE,e.dashedLineEvent),e.dashedLineEvent();return}i||(L=e.toModel(n.geometry))==null||L.off(s.MODEL_EVENT.COMPILED_UPDATE,e.dashedLineEvent)}}},create({model:e,config:n,engine:o}){var r;const i=new d.Line;return E.create({model:e,target:i,engine:o,config:n,filter:{dashed:!0}}),i.material instanceof d.LineDashedMaterial&&n.dashed&&((r=e.toModel(n.geometry))==null||r.on(s.MODEL_EVENT.COMPILED_UPDATE,e.dashedLineEvent),e.dashedLineEvent()),i},dispose({target:e}){E.dispose({target:e})}})),D=a.defineSolidObjectModel(E=>({type:"LineSegments",config:u,context({model:e}){return{dashedLineEvent:()=>{e.puppet.computeLineDistances()}}},commands:{set:{dashed({model:e,config:n,target:o,value:i}){var r,L;if(o.material instanceof d.LineDashedMaterial&&i){(r=e.toModel(n.geometry))==null||r.on(s.MODEL_EVENT.COMPILED_UPDATE,e.dashedLineEvent),e.dashedLineEvent();return}i||(L=e.toModel(n.geometry))==null||L.off(s.MODEL_EVENT.COMPILED_UPDATE,e.dashedLineEvent)}}},create({model:e,config:n,engine:o}){var r;const i=new d.LineSegments;return E.create({model:e,target:i,engine:o,config:n,filter:{dashed:!0}}),i.material instanceof d.LineDashedMaterial&&n.dashed&&((r=e.toModel(n.geometry))==null||r.on(s.MODEL_EVENT.COMPILED_UPDATE,e.dashedLineEvent),e.dashedLineEvent()),i},dispose({target:e}){E.dispose({target:e})}})),v=s.defineModule({type:"line",object:!0,rule:c.ObjectRule,models:[M,D],lifeOrder:s.SUPPORT_LIFE_CYCLE.THREE});t.default=v,t.getLineConfig=f,t.getLineFatConfig=g,t.getLineSegmentsConfig=u,t.getLineSegmentsFatConfig=h,Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
