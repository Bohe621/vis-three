(function(e,i){typeof exports=="object"&&typeof module!="undefined"?i(exports,require("@vis-three/utils"),require("@vis-three/middleware"),require("@vis-three/plugin-path-support-controls")):typeof define=="function"&&define.amd?define(["exports","@vis-three/utils","@vis-three/middleware","@vis-three/plugin-path-support-controls"],i):(e=typeof globalThis!="undefined"?globalThis:e||self,i((e["vis-three"]=e["vis-three"]||{},e["vis-three"]["strategy-path-support-controls"]={}),e.utils,e.middleware,e.pluginPathSupportControls))})(this,function(e,i,r,l){"use strict";const f="@vis-three/strategy-path-support-controls",c="PathSupportControls",p=function(){return{vid:r.uniqueSymbol(c),name:"",type:c,object:"",config:null,visible:!1}};var S=r.defineProcessor({type:c,config:p,commands:{set:{config({target:o,value:t,engine:n}){if(!t){o.disconnect();return}const s=n.getConfigBySymbol(t);s?o.setConfig(s):console.warn(`pathSupportControls processor can not found config in engine: ${t}`),o.connect()},object({target:o,value:t,engine:n}){if(!t){o.disconnect();return}const s=n.getObjectBySymbol(t);s?o.setObject(s):console.warn(`pathSupportControls processor can not found object in engine: ${t}`),o.connect()},visible({target:o,value:t}){t?o.connect():o.disconnect(),o.visible=t}}},create(o,t){const n=t.pathSupportControls;if(o.config){const s=t.getConfigBySymbol(o.config);s?n.setConfig(s):console.warn(`pathSupportControls processor can not found config in engine: ${o.config}`)}if(o.object){const s=t.getObjectBySymbol(o.object);s?n.setObject(s):console.warn(`pathSupportControls processor can not found object in engine: ${o.object}`)}return o.object&&o.config&&n.connect(),n.visible=o.visible,t.scene.add(n),n},dispose(o){o.removeFromParent(),o.disconnect(),o.dispose()}});const u=i.transPkgName(f),P=function(){return{name:u,condition:[...r.PLUGINS,l.PATH_SUPPORT_CONTROLS_PLUGIN],exec(o){o.compilerManager.getCompiler(r.MODULETYPE.CONTROLS).reigstProcessor(S,n=>{n.map.set(r.uniqueSymbol(r.CONFIGTYPE.PATHSUPPORTCONTROLS),o.pathSupportControls),n.weakMap.set(o.pathSupportControls,r.uniqueSymbol(r.CONFIGTYPE.PATHSUPPORTCONTROLS))})},rollback(o){}}};e.PATH_SUPPORT_CONTROLS_STRATEGY=u,e.PathSupportControlsStrategy=P,e.getPathSupportControlsConfig=p,Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
