(function(t,r){typeof exports=="object"&&typeof module<"u"?r(exports,require("@vis-three/utils"),require("@vis-three/tdcm"),require("@vis-three/plugin-path-support-controls")):typeof define=="function"&&define.amd?define(["exports","@vis-three/utils","@vis-three/tdcm","@vis-three/plugin-path-support-controls"],r):(t=typeof globalThis<"u"?globalThis:t||self,r((t["vis-three"]=t["vis-three"]||{},t["vis-three"]["strategy-path-support-controls"]={}),t.utils,t.tdcm,t.pluginPathSupportControls))})(this,function(t,r,i,u){"use strict";const f="@vis-three/strategy-path-support-controls",S=function(){return Object.assign(i.getBasicConfig(),{})},c="PathSupportControls",p=function(){return Object.assign(S(),{vid:i.uniqueSymbol(c),name:"",type:c,object:"",config:null,visible:!1})},C=i.defineModel({type:c,config:p,commands:{set:{config({target:o,value:e,engine:s}){if(!e){o.disconnect();return}const n=s.getConfigBySymbol(e);n?o.setConfig(n):console.warn(`pathSupportControls processor can not found config in engine: ${e}`),o.connect()},object({target:o,value:e,engine:s}){if(!e){o.disconnect();return}const n=s.getObjectBySymbol(e);n?o.setObject(n):console.warn(`pathSupportControls processor can not found object in engine: ${e}`),o.connect()},visible({target:o,value:e}){e?o.connect():o.disconnect(),o.visible=e}}},create({config:o,engine:e}){const s=e.pathSupportControls;if(o.config){const n=e.getConfigBySymbol(o.config);n?s.setConfig(n):console.warn(`pathSupportControls processor can not found config in engine: ${o.config}`)}if(o.object){const n=e.getObjectBySymbol(o.object);n?s.setObject(n):console.warn(`pathSupportControls processor can not found object in engine: ${o.object}`)}return o.object&&o.config&&s.connect(),s.visible=o.visible,e.scene.add(s),s},dispose({target:o}){o.removeFromParent(),o.disconnect(),o.dispose()}}),l=r.transPkgName(f),a=function(){return{name:l,condition:[...i.PLUGINS,u.PATH_SUPPORT_CONTROLS_PLUGIN],exec(o){o.compilerManager.getCompiler(i.MODULE_TYPE.CONTROLS).useModel(C,s=>{const n=i.generateConfig(i.CONFIG_TYPE.PATHSUPPORTCONTROLS,p());o.applyConfig(n)})},rollback(o){}}};t.PATH_SUPPORT_CONTROLS_STRATEGY=l,t.PathSupportControlsStrategy=a,t.getPathSupportControlsConfig=p,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})});
