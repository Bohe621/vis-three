var E=Object.defineProperty;var w=(o,t,e)=>t in o?E(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e;var d=(o,t,e)=>(w(o,typeof t!="symbol"?t+"":t,e),e);import{t as b}from"./index.4a26448f.js";var S=function(){var o=0,t=document.createElement("div");t.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",t.addEventListener("click",function(a){a.preventDefault(),i(++o%t.children.length)},!1);function e(a){return t.appendChild(a.dom),a}function i(a){for(var s=0;s<t.children.length;s++)t.children[s].style.display=s===a?"block":"none";o=a}var r=(performance||Date).now(),f=r,n=0,u=e(new S.Panel("FPS","#0ff","#002")),v=e(new S.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var P=e(new S.Panel("MB","#f08","#201"));return i(0),{REVISION:16,dom:t,addPanel:e,showPanel:i,begin:function(){r=(performance||Date).now()},end:function(){n++;var a=(performance||Date).now();if(v.update(a-r,200),a>=f+1e3&&(u.update(n*1e3/(a-f),100),f=a,n=0,P)){var s=performance.memory;P.update(s.usedJSHeapSize/1048576,s.jsHeapSizeLimit/1048576)}return a},update:function(){r=this.end()},domElement:t,setMode:i}};S.Panel=function(o,t,e){var i=1/0,r=0,f=Math.round,n=f(window.devicePixelRatio||1),u=80*n,v=48*n,P=3*n,a=2*n,s=3*n,c=15*n,m=74*n,p=30*n,h=document.createElement("canvas");h.width=u,h.height=v,h.style.cssText="width:80px;height:48px";var l=h.getContext("2d");return l.font="bold "+9*n+"px Helvetica,Arial,sans-serif",l.textBaseline="top",l.fillStyle=e,l.fillRect(0,0,u,v),l.fillStyle=t,l.fillText(o,P,a),l.fillRect(s,c,m,p),l.fillStyle=e,l.globalAlpha=.9,l.fillRect(s,c,m,p),{dom:h,update:function(x,y){i=Math.min(i,x),r=Math.max(r,x),l.fillStyle=e,l.globalAlpha=1,l.fillRect(0,0,u,c),l.fillStyle=t,l.fillText(f(x)+" "+o+" ("+f(i)+"-"+f(r)+")",P,a),l.drawImage(h,s+n,c,m-n,p,s,c,m-n,p),l.fillRect(s+m-n,c,n,p),l.fillStyle=e,l.globalAlpha=.9,l.fillRect(s+m-n,c,n,f((1-x/y)*p))}}};class R{constructor(t){d(this,"REVISION");d(this,"dom");d(this,"addPanel");d(this,"showPanel");d(this,"begin");d(this,"end");d(this,"update");d(this,"domElement");d(this,"setMode");const e=S();this.REVISION=e.REVISION,this.dom=e.dom,this.domElement=e.domElement,this.begin=e.begin.bind(e),this.end=e.end.bind(e),this.update=e.update.bind(e),this.addPanel=e.addPanel.bind(e),this.showPanel=e.showPanel.bind(e),this.setMode=e.setMode.bind(e);const i=this.domElement;i.style.position="absolute",i.style.top="0",i.style.left="35px",t&&(i.style.top=`${t.top}px`,i.style.left=`${t.left}px`,i.style.right=`${t.right}px`,i.style.bottom=`${t.bottom}px`)}}const T="@vis-three/stats-plugin",I=b(T),A=function(o){return{name:I,install(t){const e=new R(o);t.stats=e,t.setStats=function(i){if(i)t.dom.appendChild(e.domElement);else try{this.dom.removeChild(e.domElement)}catch{}return this}},dispose(t){delete t.stats,delete t.setStats}}};export{A as S,I as a};
