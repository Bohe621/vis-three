import{d as l,i as o,C as p,D as m,M as a,u as i,e as E}from"./index.7855cb86.js";import{s as c,t as R}from"./index.8b9e7665.js";import"./index.453e5660.js";import"./index.f27dc7ff.js";import"./index.9a3e1c8e.js";import"./index.6ff295ff.js";import{a as d}from"./index.071db2cc.js";const h="@vis-three/webgl-renderer-support-strategy";var n=l({configType:o.WEBGLRENDERER,commands:{set:{size({target:e,config:t}){t.size?e.setSize(t.size.x,t.size.y):e.setSize(e.domElement.offsetWidth,e.domElement.offsetHeight)},clearColor({target:e,value:t}){const s=Number(t.slice(0,-1).split(",").pop().trim());e.setClearColor(t,s),e.clear()},viewport({target:e,config:t}){const s=t.viewport;if(s)e.setViewport(s.x,s.y,s.width,s.height);else{const r=e.domElement;e.setViewport(0,0,r.offsetWidth,r.offsetHeight)}},scissor({target:e,config:t}){const s=t.scissor;if(s)e.setScissorTest(!0),e.setScissor(s.x,s.y,s.width,s.height);else{e.setScissorTest(!1);const r=e.domElement;e.setScissor(0,0,r.offsetWidth,r.offsetHeight)}},pixelRatio({target:e,value:t}){e.setPixelRatio(t),e.clear()}}},create(e,t){let s=t.webGLRenderer;if(e.size&&s.setSize(e.size.x,e.size.y),e.clearColor){const r=Number(e.clearColor.slice(0,-1).split(",").pop().trim());s.setClearColor(e.clearColor,r)}if(e.viewport){const r=e.viewport;s.setViewport(r.x,r.y,r.width,r.height)}if(e.scissor){const r=e.scissor;s.setScissorTest(!0),s.setScissor(r.x,r.y,r.width,r.height)}return e.pixelRatio&&s.setPixelRatio(e.pixelRatio),c(e,s,{size:!0,clearColor:!0,viewport:!0,scissor:!0,pixelRatio:!0}),s},dispose(e){e.clear(),e.dispose()}});const w=R(h),C=function(){return{name:w,condition:[p,m,d],exec(e){const t=e.compilerManager.getCompiler(a.RENDERER);t.map.set(i(o.WEBGLRENDERER),e.webGLRenderer),t.weakMap.set(e.webGLRenderer,i(o.WEBGLRENDERER)),E.processor(n)},rollback(){}}};export{C as W};
