var y=Object.defineProperty;var g=(e,t,s)=>t in e?y(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var i=(e,t,s)=>(g(e,typeof t!="symbol"?t+"":t,s),s);import{M as h,H as b,A as d}from"../Vis.es.0345dbb6.js";import{M as w,g as x,m as j,n as S}from"../three.8f03b6f1.js";import"../vis-three.9866afe7.js";const r=new h().setDom(document.getElementById("app")).setSize().setStats(!0).play(),u=r.scene,l=new w(new x(10,10,10),new j({color:"rgb(255, 105, 100)"}));l.position.x=10;u.add(l);const m=new S("rgb(255, 255, 255)",1,300,0);m.position.y=30;u.add(m);const c=new b(50),E=d.SectionAction,o=class extends E{constructor({objects:t,engine:s}){const f={oldObjects:[].concat(o.cacheSection),newObjects:[].concat(t),engine:s};super(f);o.cacheSection=[].concat(t)}next(){o.status=!0,super.next()}prev(){o.status=!0,super.prev()}};let n=o;i(n,"status",!1),i(n,"cacheSection",[]);r.addEventListener("selected",e=>{if(n.status){n.status=!1;return}c.apply(new n({objects:e.objects,engine:r}))});const p=r.transformControls,L=d.TransformAction;let a="";p.addEventListener("mouseDown",e=>{a=new L({transformControls:p}),a.generate("prev")});p.addEventListener("mouseUp",e=>{a.generate("next"),c.apply(a),a=""});r.keyboardManager.register({shortcutKey:["ctrl","z"],desp:"undo",keyup:e=>{e==null||e.preventDefault(),c.undo()}}).register({shortcutKey:["ctrl","y"],desp:"redo",keyup:e=>{e==null||e.preventDefault(),c.redo()}});
